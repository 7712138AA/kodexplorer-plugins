(function(){function hq(){this.RQ={};this.fl={}}hq.BN=[];hq.vU=function(h){var R=hq.BN;if(R.length!=0){var d=new X(e.E.nb);
for(var L=0;L<R.length;L++)R[L].R(d)}window.requestAnimationFrame(hq.vU)};window.requestAnimationFrame(hq.vU);
hq.prototype.vr=function(h){var R=this.RQ[h];if(R==null)return!1;return R.length>0};hq.prototype.addEventListener=function(h,R){this.A(h,R,null)};
hq.prototype.A=function(h,R,d){if(this.RQ[h]==null){this.RQ[h]=[];this.fl[h]=[]}this.RQ[h].push(R);this.fl[h].push(d);
if(h==e.E.nb){var L=hq.BN;if(L.indexOf(this)==-1)L.push(this)}};hq.prototype.removeEventListener=function(h,R){var d=this.RQ[h];
if(d==null)return;var L=d.indexOf(R);if(L<0)return;var $=this.fl[h];d.splice(L,1);$.splice(L,1);if(h==e.E.nb&&d.length==0){var W=hq.BN;
W.splice(W.indexOf(this),1)}};hq.prototype.R=function(h){h.currentTarget=this;if(h.target==null)h.target=this;
var R=this.RQ[h.type];if(R==null)return;var d=this.fl[h.type];for(var L=0;L<R.length;L++){if(d[L]==null)R[L](h);
else R[L].call(d[L],h)}};function uo(){hq.call(this);this.cr={};this.Lb={};this.zeZ=0;this.zeC={};this.zir=0;
uo.sG=this}uo.prototype=new hq;uo.zIf=function(h,R){var d=0,L=uo.YE;while(d<L.length){if((R>>>d&1)==1)break;
d++}if(R==0||L[d][1]==""){if((R&15)!=0&&uo.lt(h,[33,126])>.7)d=0;else if(R==0)d=0;else{d=0}}return L[d][1]};
uo.BS=120;uo.YF=20;uo.cols=16;uo.S$=function(h){var R=h.name.postScriptName;if(R==null)return null;return R.replace(/ /g,"-")};
uo.la=function(h){var R=h.name,d=R.typoFamilyName?R.typoFamilyName:R.fontFamily,L=R.typoSubfamilyName?R.typoSubfamilyName:R.fontSubfamily,$=uo.zZn,W=d.toLowerCase();
for(var M=0;M<$.length;M++){if($[M]=="roman")continue;if(W.endsWith(" "+$[M])||W.endsWith("-"+$[M])){var x=d.length-$[M].length,t=d.slice(x);
d=d.slice(0,x-1);if(t!=""){if(L=="Regular"||L==d+" Regular")L=t;else L=t+" "+L}break}}var g="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var M=0;M<g.length;M++)if(d.startsWith(g[M])){var t=d.slice(g[M].length);d=g[M];if(t.startsWith(" ")||t.startsWith("-"))t=t.slice(1);
if(t!=""){if(L=="Regular")L=t;else L=t+" "+L}break}var r={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},l=r[uo.S$(h)];
if(l)L=l;return[d,L]};uo.prototype.IO=function(h,R){if(this.cr[h])return this.cr[h];if(this.Lb[h])return null;
var d=null,L=this.QC();if(L[h]!=null)d=L[h][5];if(d==null){var $=uo.zKi[h];if($==null){var W="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),M=h.toLowerCase(),x=0;
if(M.indexOf("sans")!=-1)x=0;else if(M.indexOf("serif")!=-1)x=4;var t=M.indexOf("bold")!=-1||M.indexOf("-black")!=-1,g=M.indexOf("italic")!=-1||M.indexOf("oblique")!=-1||M.endsWith("-it");
if(t&&g)x+=3;else if(g)x+=2;else if(t)x+=1;$=W[x]}if(R!=null&&R>128)$=this.lz(R,$);if(this.zeC[h]==null){this.zeC[h]=1;
var r=Date.now()-this.zeZ>2e3?2e3:0;this.zeZ=Date.now();alert(h+" \u27A1 "+$,r)}return this.IO($,R)}this.Lb[h]="a";
var l=new X(e.E.Z,!0);l.data={c:e.j.X_,Ns:{url:"rsrc/fonts/"+d}};this.R(l)};uo.prototype.lz=function(h,R,d){var L=this.cr[R];
if(L&&Typr.U.codeToGlyph(L,h)!=0)return R;var $=this.QC(),W=uo.zIc(h),M=W[0];if($[R]&&($[R][3]&M)==0){if(d)for(var x=0;
x<d.length;x++){var t=d[x].Name,g=$[t];if(g&&(g[3]&M)!=0)return t}var t=uo.YE[W[1]][4];if($[t])return t}return R};
uo.zIc=function(h){var R=uo.YE,d=[0];for(var L=0;L<R.length;L++){var $=R[L][2];for(var W=0;W<$.length;
W+=2)if($[W]<=h&&h<=$[W+1]){d[0]+=1<<L;d.push(L)}}if(d.length==1)d.push(0);return d};uo.prototype.zQS=function(h,R){if(R!=!0){var d=Date.now()-this.zir>2e3?2e3:0;
this.zir=Date.now();alert(uP.get([22,6,0])+" "+h.name.fullName+" "+uP.get([23,0])+".",d)}var L=uo.S$(h),$=this.QC(),W=$[L],M=uo.zQg(h);
if(W==null){var x=document.createElement("canvas"),t=x.getContext("2d");x.width=uo.BS;x.height=uo.YF;
var g=uo.YF*1.2/h.head.unitsPerEm;t.translate(4,uo.YF*.9);t.scale(g,-g);t.fillStyle="#000000";var r=Typr.U.shape(h,uo.zIf(h,M[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(h,r),t);t.fill();M.zjC=x.toDataURL();this.lM(M)}delete this.Lb[L];
this.cr[L]=h};uo.zqx=function(){var h=uo.YE,R=[];for(var d=0;d<h.length;d++)R.push(h[d][0]);return R};
uo.YE=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"]];
uo.zQg=function(h,R,d){var L=h.name,g=0;if(uo.S$(h)==null){console.log(h);throw"No postScriptName!"}var $=uo.YE,W=[];
for(var M=0;M<$.length;M++){var x=$[M][2],t=$[M][3];W[M]=uo.lt(h,x)>t?1:0}for(var M=0;M<W.length;M++)g+=W[M]<<M;
var r=uo.la(h);return[r[0],r[1],uo.S$(h),g,d,R]};uo.lt=function(h,R){var d=0,L=0;for(var $=0;$<R.length;
$+=2){for(var W=R[$];W<=R[$+1];W++){var M=Typr.U.codeToGlyph(h,W);if(M==0)L++;else d++}}return d/(d+L)};
uo.zqH=function(h,R){if(h[2]<R[2])return-1;if(h[2]>R[2])return 1;return 0};uo.zEz=function(h,R){if(h[5]=="fs/"+h[2]+".otf")h[5]="";
else if(h[5]=="gf/"+h[2]+".otf")h[5]="a";if(h[2]==(h[0]+"-"+h[1]).replace(/\s/g,"")){h[2]=""}else if(h[2]==h[0].replace(/\s/g,"")){h[2]="a"}if(R){if(h[0]==R[0])h[0]="";
if(h[1]==R[1])h[1]="";if(h[3]==R[3])h[3]="";if(h[4]==R[4])h[4]=""}return h.join(",")};uo.zKM=function(h,R){h=h.split(",");
if(h[0]=="")h[0]=R[0];if(h[1]=="")h[1]=R[1];if(h[3]=="")h[3]=R[3];else h[3]=parseInt(h[3]);if(h[4]=="")h[4]=R[4];
else h[4]=parseInt(h[4]);if(h[2]=="")h[2]=(h[0]+"-"+h[1]).replace(/\s/g,"");else if(h[2]=="a")h[2]=h[0].replace(/\s/g,"");
if(h[5]=="")h[5]="fs/"+h[2]+".otf";else if(h[5]=="a")h[5]="gf/"+h[2]+".otf";return h};uo.zKi={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic","":""};
uo.prototype.QC=function(){if(FNTS.map==null){var h=FNTS.list,R=[];for(var d=0;d<h.length;d++){R[d]=uo.zKM(h[d],R[d-1]);
R[d].KW=d;this.lM(R[d])}}return FNTS.map};uo.prototype.lM=function(h){var R=h[0],d=h[1],L=h[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[h[2]]=h;if(FNTS.mapFS==null)FNTS.mapFS={};var $=FNTS.mapFS[R+"---"+d];FNTS.mapFS[R+"---"+d]=h;
if(FNTS.mapSub==null)FNTS.mapSub={};var W=FNTS.mapSub[R];if(W==null)W=FNTS.mapSub[R]=[];var M=W.indexOf(d);
if(M==-1)W.push(d);else W[M]=d};uo.zZu=function(h,R){return uo.Ig(h)-uo.Ig(R)};uo.Ig=function(h){h=h.toLowerCase();
var R=uo.zZh(h)+(uo.znA(h)<<1);if(h.indexOf("cond")==-1)R+=1<<25;return R};uo.zZh=function(h){return h.indexOf("italic")!=-1||h.indexOf("oblique")!=-1?1:0};
uo.zZn="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
uo.znN=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
uo.znA=function(h){var R=uo.znN,d=-1,L=-1;for(var $=0;$<R.length;$++){var W=R[$];if(W instanceof Array)for(var M=0;
M<W.length;M++){var x=W[M];if(h.indexOf(x)!=-1&&(d==-1||L<x.length)){d=$;L=x.length}}else if(h.indexOf(W)!=-1&&(d==-1||L<W.length)){d=$;
L=W.length}}if(d==-1)d=8;return d};uo.lk=function(h,R){var d=1e9,L=null,$=uo.Ig(R);for(var W=0;W<h.length;
W++){var M=Math.abs(uo.Ig(h[W])-$);if(M<d){d=M;L=h[W]}}return L};uo.prototype.Bw=function(h,R){this.QC();
return FNTS.mapFS[h+"---"+R]};uo.prototype.lu=function(h){this.QC();return FNTS.mapSub[h]};uo.prototype.znK=function(){this.QC();
return FNTS.mapSub};var uI={Ne:0,wF:null,YO:null,lW:null,lb:null,B_:null,lF:!0,ld:0,Bm:!1},We=0;uI.pp=function(){return uI.LU()!=null&&uI.LU()[e.kw("!&|'&50")]*200>Date.now()/5};
uI.xu=function(){return uI.zti()!=null};uI.LU=function(){return uI.B_};uI.Wf=function(h){window.addEventListener("message",uI.zaR,!1);
setInterval(uI.li,5e3);if(uI.xu()){uI.wF=h;uI.I$()}else setTimeout(h,1)};uI.li=function(){if(uI.xu()&&uI.Bm){uI.lP(uI.BT());
uI.Bm=!1}};uI.BO=function(h){uI.wF=h;var R="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
uI.lW=window.open(R,"_blank")};uI.zCI=function(){localStorage.removeItem(uI.Ne+"_uid");localStorage.removeItem(uI.Ne+"_provider");
localStorage.removeItem(uI.Ne+"_token");uI.B_=null};uI.zaR=function(h){if(h.data instanceof ArrayBuffer||h.data instanceof Object)return;
if(h.data.charAt(0)!="{")return;var R=JSON.parse(h.data);if(R.prms==null)return;var d=R.prms.split(",");
if(d[0]=="papi_logged_in"){localStorage[uI.Ne+"_uid"]=d[1];uI.IC(d[2]);localStorage[uI.Ne+"_provider"]=d[3];
uI.lW.close();uI.I$()}if(d[0]=="payment_complete"){uI.lb.close();uI.I$()}};uI.zti=function(){var h=localStorage[uI.Ne+"_token"];
if(h!=null&&Date.now()*.001+10<parseInt(h.split("-")[0]))return h;return null};uI.IC=function(h){var R=localStorage[uI.Ne+"_token"];
if(R!=null&&parseInt(h.split("-")[0])<parseInt(R.split("-")[0]))return;localStorage[uI.Ne+"_token"]=h;
clearTimeout(uI.ld);uI.ld=setTimeout(uI.ztD,Math.min(1e9,parseInt(h.split("-")[0])*1e3-Date.now()-20*1e3))};
uI.ztD=function(){var h=new XMLHttpRequest;h.open("POST","https://www.photopea.com/papi/record_new.php",!0);
h.onload=uI.ztv;var R=uI.BC()+"&read=2";h.setRequestHeader("Content-type","application/x-www-form-urlencoded");
h.send(R)};uI.I$=function(){var h=new XMLHttpRequest;h.open("POST","https://www.photopea.com/papi/record_new.php",!0);
h.onload=uI.zts;var R=uI.BC()+"&read=1";h.setRequestHeader("Content-type","application/x-www-form-urlencoded");
h.send(R)};uI.lP=function(h){var R=new XMLHttpRequest;R.open("POST","https://www.photopea.com/papi/record_new.php",!0);
R.onload=uI.zMu;var d=uI.BC()+"&read=0&score=0&spublic="+uI.lF+"&record="+encodeURIComponent(JSON.stringify(h));
R.setRequestHeader("Content-type","application/x-www-form-urlencoded");R.send(d)};uI.zts=function(h){var R=JSON.parse(h.target.response);
if(R.error){}else{uI.B_=R.user;var d=uI.BT(),L=R.record;if(R.record){uI.lF=R.spublic;uI.lp(L)}else if(d)uI.lP(d)}uI.IC(R.token);
if(uI.wF){uI.wF();uI.wF=null}if(uI.YO){uI.YO();uI.YO=null}};uI.ztv=function(h){var R=JSON.parse(h.target.response);
uI.IC(R.token)};uI.zMu=function(h){var R=JSON.parse(h.target.response);uI.IC(R.token);if(uI.YO)uI.I$()};
uI.BC=function(){return"app="+uI.Ne+"&uid="+localStorage[uI.Ne+"_uid"]+"&token="+localStorage[uI.Ne+"_token"]};
uI.wi=function(){return uI.BT()};uI.BL=function(h,R){uI.lp(h);uI.Bm=!0;if(R){uI.YO=R;uI.li()}};uI.BT=function(){var h=localStorage[uI.Ne+"_stateLocal"],R;
if(h==null)return null;try{R=JSON.parse(h)}catch(zb){return null}return R};uI.lp=function(h){var R=JSON.stringify(h);
localStorage[uI.Ne+"_stateLocal"]=R};uI.order=function(h,R,d){uI.wF=d;var L="https://www.photopea.com/papi/order.php?ptype="+R+"&param="+h+"&uid="+localStorage[uI.Ne+"_uid"]+"&token="+localStorage[uI.Ne+"_token"];
uI.lb=window.open(L,"_blank")};var uP={};uP.IR=0;uP.BU={};uP.l_=function(h){var R=LNG.tables,d=R[h];
if(typeof d=="string"){d=R[h]=uP.Ur(d)}return d};uP.Ur=function(h){var R=[],d=0,L=0,$=[],W=h.length;
while(L!=W){var M=h[L];if(M=="["){R.push($);$=[];L=d=L+1}else if(M=="]"){$.push(d==L?null:h.substring(d,L));
var x=$;$=R.pop();$.push(x);L=d=L+1}else if(M==";"){if(h[L-1]!="]")$.push(d==L?null:h.substring(d,L));
L=d=L+1}else L++}return $};uP.get=function(h){if(typeof h=="string")return h;var R=JSON.stringify(h),W=0;
if(uP.BU[R]!=null)return uP.BU[R];var d=uP.l_(0),L=uP.l_(uP.IR),$=uP.lG(h,L);if($==null)$=uP.lG(h,d);
for(var M=0;M<h.length;M++){var x=h[M];if(typeof x!="number"){var t=uP.get(x),g=$.indexOf("VAR"+W);$=$.slice(0,g)+t+$.slice(g+4);
W++}}return $};uP.lG=function(h,R){for(var d=0;d<h.length;d++){R=R[h[d]];if(R==null)return null;else if(typeof R=="string")break}return R.split("::")[0]};
uP.zMB=function(){var h=function(d,L){var $=d.code,W=L.code;if($=="en")return-1;if(W=="en")return 1;
var M=navigator.languages,x=M.indexOf($)!=-1,t=M.indexOf(W)!=-1;if(x&&t)return $>W?1:-1;if(x)return-1;
if(t)return 1;return $>W?1:-1},R=LNG.langs.slice(0);R.sort(h);return R};uP.zMF=function(h){uP.IR=h};
uP.Bf=function(h){for(var R=0;R<LNG.langs.length;R++)if(LNG.langs[R].code==h)uP.IR=R};uP.lA=function(){return LNG.langs[uP.IR].code};
uP.zMR=function(h){for(var R=0;R<h.length;R+=2)uP.BU[JSON.stringify(h[R])]=h[R+1]};uP.lI=function(h){var R=-1,d=LNG.langs;
for(var L=0;L<d.length;L++)if(d[L].code==h)R=L;return R};var tq={Ys:!1};tq.IL=function(){return e.RO[e.sR("vrt",2)]!=e.RO[e.sR("xksn",5)]};
tq.qa=function(){var h=e.kw,R=e.RO[h("u#z/*%1:")],d=R[h("s#{3")],L=h("t&|{1%h2.94@I"),$=h("xy+_)%0+7@qK~<"),W=h("r$'\x7F+$f.283"),M=h("#y$)3%f.283"),x=0,t=h("$y+[145/+AC7"),g=h("rx*\x7F+3("),r=e.yk("Y_5UDDB>&\x7F");
if(e.RO[r]!=!0){x=1}var l=R[L](h("u}-"));l[t](h("zx"),g);l[t](h("$(0&\""),h("(}{.%ZXVY<GmU@@GHL[$\" #fq7"));
d[W](l);l=R[$](g);if(l==null){x=2}else{if(!d[h("t#%.~)19")](l)){x=3}else if(Math.round(l[h("xy+\\,51*2:6uAA@LU6LMa")]()[h("(}{.%")]-500)>5){x=4}d[M](l)}return x};
tq.zMH=function(){var h=e.RO[e.kw("t#% &20")],R=e.RO[e.kw("$y+n&-(5>@")],d="FQi[VE];;J6@?18',!'*3$|*niu~hgcWhlOUU`LOIT53A-11/)~$'>-cvys~_]k[RQiYHEJMWH@N--E$++|!|~t*hht,{HaWP_NrcLBNWIDN>049?5(+3qq}3$pp{ZjkoMi6UEJCLAQ/.+47-09>Tspy|ru~(xAaVl2Tcm]|LMZ\\",L=String.fromCharCode(32);
h(e.yk(d)+L+L+tq.qa());if(!uI.pp())R(tq.zMH,Math.round(Math.PI*1e4))};tq.zMU=function(h,R,d,L,$){e.dM(d);
var W=e.kw,M=W("r$'\x7F+$f.283"),x=W("$y+[145/+AC7"),t=W("rx{_3%1:u5BF:F@P"),g=W("#y'&~#("),r=W("$(0&\""),l=W("$&z"),H=W("r'0( "),y=W("%y/.`/1:.:C"),f=W("u}-"),b=e.RO[W("u#z/*%1:")],K=W("t&|{1%h2.94@I"),Z=W("$w)#-4"),J="lor<%03.62D4=f?LFrX`aY{]okcwoxz7;54;&14/73E5>gAIVVUMhy{\\dt.kw~:qwC*%/759105DEmrtu~pu+rs\"7!.'lt%>{(/J\"(S:5?GEIA@ETU}#%&/{Z,^(p{~y\"}0 )R+82^DLMEgI[WOc[df#'! 'q| z#~1!*S-5BBA9TegHP`yWcj&]c/upz#!%|{!01Y^`ai\\av^_m#lyrX`p*gsz6ms?&!+315-,1@AinpqygFwJs\\gjemi{kt>v$}J0891S5GC;OGPRnrlkr]hkfnj|lu?x!..-%@QS4<LeCOVqIOza\\fnlphgl{|EJNPTHMbJKYnXe^DL\\uS_f\"Y_+qlv~|!xw|,-UZ^`dS2c6_HSVQYUgW`*boi6{$%|?!3/';3<>Z^XW^ITWRZVhXa+dlyyxp,=? (8Q/;B]5;fMHRZX\\TSXgh16:<A49N67EZDQJ08Ha?KRmEKv]XbjhldchwxAFJLQ?}O\"K4?B=EASCLuN[U\"goph+l~zr'~(*FJDCJ5@C>FBTDMvPXeed\\w)+ks$=z'.I!'R94>FDH@?DST|\"&). %:\"#1F0=6{$4M+7>Y17bIDNVTXPOTcd-269>+i;m7 +.)1-?/8a:GAmS[\\TvXjf^rjsu260/6!,/*2.@09b<DQQPHctvW_o)fry5lr>% *204,+0?@hmrorkp&mn|2{)\"go 9v#*E|#N50:B@D<;@OPx}# #vU'Y#kvyt|x+z$M&3-Y?GH@bDVRJ^V_a}\"{z\"lwzu}y,{%N(0==<4O`bCK[tR^e!X^*pku}{ wv{+,TY^[_W\\qYZh}gtmS[k%bnu1hn:!{&.,0(',;<dinkobArEnWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmXcfaiewgp:s{))( ;LN/7G`>JQlDJu\\Waigkcbgvw@EGNJCH]EFTiS`Y?GWpNZa|TZ&lgqyw{srw'(PUW^ZN-0aZjmFXP\"Yj+**5k7h7o{\"+|\"113<X<6HeJRBOO\\TTdh'kfpxvzrqv&'J-,4V6BS`YCRUTZ${~jmp*fqtows&u~.#3:0-2C`9HImVFOyXd#^jq.my+81)v+;&14/73E5>Yy_JUXS[WiYb}}!'&+K3}),'/+=-6_8E?]}cNY\\W_[m]f0huo..17uz[C=+?OC=,HNVw|~ ( gaPlrz<ACDMD,&t17?`egnjw_JUXS[WiYb,dqk8}&'~A#51)=5>@\\`ZY`TN=Y_g).01:%E+u!$~'#5%.W159?GA2NT\\rt ,'328768:AqVFNSUV_Xb0D?IQOSKJyRabWogfv8190nIKLKBE][,]T^?GWpNZa|TZ&lgqyw{srw'(PUWXaSX`7=@2GW^TQV{^ilgok}mv@&.} &8OSVkS>ILGOK]MV em]_ew/3;t|*z~,(n75C;6D'MBHnr(or]hkfnj|lu?y&{ -)y/?F<9>Ofj es)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgnb\\Kgmu7<>?G3S9$/2-51C3<e?CGMUO@\\bj!#.:5A@FEDFHO dT\\acdlfm>RMW_]aYX(`ope}ut%F?G>|U]ZYPifi:kblMUe~\\ho+bh4zu (&*\"!&56^cefnafnEKN@Uelb_d*lwzu}y,{%N4<,.4F]adyaLWZU]Yk[d.s{kms&=AI#+8)-:6|ECQIDR5[PV|!6}!kvyt|x+z$M(4*.;7(=MTJGL]tx.s\"7fqtows&u~H!.(T:BC;]?QMEYQZ\\x|vu|pjYu{$EJLSOAaG2=@;C?QAJsMQU[c]Njpx/1<HCONTSRTV].rbjoqxtt|L`[emkogf6n}~s,$#3TMUL+igpg^a}wHypz[cs-jv}9pvB)$.6480/4CDlqszvot|SY\\Ncszpmr8z&)$,(:*3\\BJ:<BTkor(oZehckgyir<v#x|*&v,<C96;Lcg|des)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgVad_gcuen8quy (\"r/5=SU`lgsrxwvxz\"R7'/48:>9Ep% *204,+Z3BC8PHGWxqypO**-,#<9<l>5? (8Q/;B]5;fMHRZX\\TSXgh16:<@49Aw}!r(8?527\\?JMHPL^NW!fn^`fx047L{'*%-);+4]7;?EMG8TZbxz&2-98>=<>@Gw\\LTY]_d^g6JEOWUYQP Xgh]uml|>7?6tOORQH]ca2cZdEM]vT`g#Z`,rmw }\"yx}-.V[_afY^f=CF8M]dZW\\\"dormuq$s|F,4$&,>UY\\qALOJRN`PY#\\`djrl]y (>@KWR^]cbacel=\"qy~#&+$-[ojt|z~vuE}-.#;32Bc\\d[:ttwvm#)'W) *jr#<y&-H &Q83=ECG?>CRS{!%(-~$,bhk]r#* |\"G*583;7I9BkQYIKQcz~\"7fqtows&u~H\"&*082#?EMcep|w$#)(')+2bG7?DIFIIR!50:B@D<;jCRSH`XWg)\"*!_::=<3HNL|NEO08Ha?KRmEKv]XbjhldchwxAFKHKDIQ(.1#8HOEBGlOZ]X`\\n^g1v~npv)@DG\\,7:5=9K;DmGKOU]WHdjr)+6B=IHNMLNPW(l\\dinkonwFZU_geia`0hwxm&}|-NGOF%__baXmsqBsjtU]m'dpw3jp<#}(0.2*).=>fkpmqinvMSVH]mtjgl2t #}&\"4$-V<D46<Neil\"Q\\_Zb^p`i3myos!|m#3:0-2CZ^s[^abp&oN",u=e.PT(" u.$%\"86<"),C=e.PT("!#c$,&"),Q=e.RO[u][C];
if(!tq.IL()&&!tq.qa()&&Q){var i=e.RO[W("[gfh")][W("!u)-\"")](e.PT(J)),E=!1;if(!tq.Ys){tq.Ys=!0;var j=b[W("xy+_)%0+7@BtN,<E/ETO")](W("yyx~"))[0],V=b[K](Z);
V[x](l,i[1]);j[M](V);var V=b[K](Z);V[x](H,H);V[x](l,i[2]);j[M](V);var V=b[K](Z);V[y]=i[3];j[M](V)}var N=i[0],n=[N[$]],a=N[5];
if($==2){n=[N[3],N[4]];if(R>=3*270+20)n=[N[3],N[4],N[5]];if(R>=4*270+20)n=[N[3],N[4],N[5],N[6]]}for(var I=0;
I<n.length;I++){var q=n[I],k=b[K](f);k[x](W("zx"),q[1]);k[x](r,W("~u)!&.P(8@CABrmnQ\\"));d[M](k);var V=b[K](Z);
V[y]=q[0];k[M](V)}if($!=0){var F=b[K](f);F[x](r,W("~u)!&.]]9DOb"));F[x](W("zx"),W("$$&(0/59"))}if(E){var k=b[K](f);
k[x](W("zx"),a[1]);k[x](r,W("yy !%4]_Y<Gm"));var V=b[K](Z);V[y]=a[0];return[k,V,M]}}else{var o=[W("z!~I-0\":*8;`EFB")];
for(var I=0;I<o.length;I++){var G=b[K](W("z!~"));G[x](r,W("t))-,2]685=F:Jv"));G[t](W("t  }("),L,!1);
G[x](l,o[I]);d[M](G)}}};var Wc={Jz:0,wj:{expires_at:0},qt:[]};Wc.Yl=function(h){if(h)Wc.qt.splice(0,0,h);
if(Wc.Jz==1)return;if(Wc.wj.expires_at>Date.now()*.001+30){while(Wc.qt.length>0)Wc.qt.pop()()}else{if(Wc.Jz==0)Wc.Jz=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:Wc.Jz==2?!1:!0},Wc.zkY)}};
Wc.zkY=function(h){if(h&&!h.error){Wc.wj=h;Wc.Jz=!1;Wc.Yl()}else if(Wc.Jz==1){Wc.Jz=2;Wc.Yl()}else alert("Error: "+h.error)};
Wc.l$=function(){return"access_token="+Wc.wj.access_token+"&token_type="+Wc.wj.token_type};Wc.lL=function(){return Wc.wj.token_type+" "+Wc.wj.access_token};
function ud(){}ud.lT={zuu:["PNG","JPG","SVG","GIF","PDF"],zuw:"EMF WEBP BMP PPM TIFF ICO DDS TGA RAW".split(" ")};
ud.qe=function(h){if(!(h instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var R=new Uint8Array(h),d=ud.ly,L,$=0;
while($<R.length&&(R[$]==9||R[$]==10||R[$]==13||R[$]==32))$++;if(d(R,[56,66,80,83]))L="psd";if(d(R,[120,218,236]))L="pxd";
if(d(R,[120,156,220]))L="pxd";if(d(R,[103,105,109,112,32,120,99,102,32]))L="xcf";if(d(R,[102,105,103,45,107,105,119,105]))L="fig";
if(d(R,[137,80,78,71,13,10,26,10]))L="png";if(d(R,[87,76]))L="cdr";if(d(R,[82,73,70,70])){var W=h$.iN(R),M=W.Wp;
if(M=="WEBP")L="webp";else if(M.slice(0,3)=="CDR")L="cdr";else L=M}if(d(R,[70,79,82,77])||d(R,[76,73,83,84])||d(R,[67,65,84,32])){var W=Mb.iN(R),M=W.Wp;
if(M=="ILBM")L="ilbm";else L=M}if(d(R,[255,216,255]))L="jpg";if(d(R,[0,0,0,12,106,80,32,32]))L="jpg";
if(d(R,[48,0,1,0],4))L="jpg";if(d(R,[71,73,70,56]))L="gif";if(d(R,[0,0,0,2,121,102,113,76]))L="msh";
if(d(R,[0,0,0,3,121,102,113,76]))L="msh";if(d(R,[0,0,0,16]))L="atn";if(d(R,[0,1]))L="aco";if(d(R,[0,2]))L="aco";
if([0,1].indexOf(R[1])!=-1&&[1,2,3,9,10,11].indexOf(R[2])!=-1&&[0,16,24,32].indexOf(R[7])!=-1)L="tga";
if(d(R,[0,2,56,66,83,76]))L="asl";if(d(R,[0,1,0,-1,0,2,0]))L="abr";if(d(R,[0,2,0,-1,0,2,0]))L="abr";
if(d(R,[0,6,0,1]))L="abr";if(d(R,[0,6,0,2]))L="abr";if(d(R,[0,7,0,2]))L="abr";if(d(R,[0,9,0,2]))L="abr";
if(d(R,[0,10,0,2]))L="abr";if(d(R,[56,66,70,83]))L="shc";if(d(R,[56,66,80,84]))L="pat";if(d(R,[56,66,71,82]))L="grd";
if(d(R,[56,66,84,80]))L="tpl";if(d(R,[0,4,0,5]))L="acv";if(d(R,[99,117,115,104]))L="csh";if(d(R,[0,1,0,0,0]))L="otf";
if(d(R,[79,84,84,79]))L="otf";if(d(R,[116,116,99,102]))L="otf";if(d(R,[68,68,83,32]))L="dds";if(d(R,[80,86,82,3]))L="pvr";
if(d(R,[0,0,1,0]))L="ico";if(d(R,[66,77]))L="bmp";if(d(R,[80,49]))L="ppm";if(d(R,[80,50]))L="ppm";if(d(R,[80,51]))L="ppm";
if(d(R,[80,52]))L="ppm";if(d(R,[80,53]))L="ppm";if(d(R,[80,54]))L="ppm";if(d(R,[73,73,42,0]))L="tiff";
if(d(R,[77,77,0,42]))L="tiff";if(d(R,[70,85,74,73,70,73,76,77]))L="raf";if(d(R,[112]))L="lif";if(d(R,[73,73,26,0]))L="ciff";
if(d(R,[83,81,76,105]))L="sketch";if(d(R,[80,75])){var x=UZIP.parse(h,!0);if(x["document.json"])L="sketch";
else if(x.manifest)L="xd";else L="zip"}if(d(R,[123]))L="json";if(T.U(R,0)==R.length)L="icc";if(d(R,[35]))L="icc";
if(d(R,[84,73,84,76]))L="icc";if(d(R,[60,63,120,109],$)){if(T.eh(R,"<look>")!=-1)L="icc";else L="svg"}if(d(R,[60,115,118,103],$))L="svg";
if(d(R,[60,33,100,111],$))L="html";if(d(R,[60,33,68,79],$))L="html";if(d(R,[37,33])||d(R,[197,208,211,198])){L="eps"}if(d(R,[37,80,68,70],$))L="pdf";
if(d(R,[215,205,198,154]))L="wmf";if(d(R,[1,0,0,0]))L="emf";if(d(R,[239,187,191]))L="jsx";if(d(R,[10,10,10,10]))L="jsx";
if(L==null&&z.raw.Ei(R.length)!=null)return"tiff";return L};ud.ly=function(h,R,d){if(d==null)d=0;for(var L=0;
L<R.length;L++)if(R[L]!=-1&&h[d+L]!=R[L])return!1;return!0};ud.It=function(h){return ud[h.toUpperCase()]};
ud.rW=function(h){var R=ud.lT.zuu,d=ud.lT.zuw,L,$=[];if(h==null)L=R.concat(d);else L=h==0?R:d;for(var h=0;
h<L.length;h++)if(ud[L[h]].Az)$.push(L[h]);return $};ud.qu=function(h,R,d,L,$){var W=ud.Vk(h,R,d,L,$),M=ud.lc(W);
return M.buffer};ud.lc=function(h){var R=atob(h.split(",").pop()),d=new Uint8Array(R.length);for(var L=0;
L<R.length;L++)d[L]=R.charCodeAt(L);return d};ud.Vk=function(h,R,d,L,$,W){if(!(h instanceof ArrayBuffer))throw"e";
if(L==null)L="png";if(L=="png"&&W==!0){var M=ud.PNG.Az([[h,0]],R,d);return"data:image/png;base64,"+ud.IJ(M)}var x=new Uint8Array(h),t=ud.EK;
if(t==null)t=ud.EK=e.X("canvas");if(t.width!=R||t.height!=d){t.width=R;t.height=d}var g=t.getContext("2d"),r=new ImageData(new Uint8ClampedArray(h,0,R*d*4),R,d);
g.putImageData(r,0,0);return t.toDataURL("image/"+L,$)};ud.zum=function(h,R,d,L,$){if($==null)$=0;var W="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",M="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+W+"<g transform=\"translate(64 64) scale("+.25*Math.round(e.p())+")\">";
if(h==1)M+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
M+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+$+")\" xlink:href=\""+R+"\" x=\""+80*d+"\" y=\""+80*L+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var x=new Uint8Array(M.length);T.yh(M,x,0);var t="data:image/svg+xml;base64,"+ud.IJ(x.buffer);return{tG:t,e:new A(0,0,128,128),hs:new kY(64,64)}};
ud.IJ=function(h){var R=new Uint8Array(h),d="";for(var L=0;L<R.length;L++)d+=String.fromCharCode(R[L]);
return btoa(d)};ud.lv=function(h){var R=[],d=[];for(var L=0;L<h._.length;L++){var $=h._[L];if($.getName().slice(0,3)=="_a_"){R.push(L);
d.push($.rl())}}return[R,d]};ud.wg=function(h,R,d,L,$,W){if(d==null)d=h.k;if(L==null)L=h.$;R=R.toUpperCase();
var M=ud[R],x;if(M.CK){h.DP();x=M.Az(h,d,L,$,W)}else{var t=ud.lv(h),g=t[0],r=t[1];if(g.length<2){var l;
if(d==h.k&&L==h.$)l=h.DP().buffer;else{var H=s.w.GT([h.DP(),new A(0,0,h.k,h.$)],new um(d/(h.k+.001),0,0,L/(h.$+.001),0,0));
l=H.buffer.buffer}x=M.Az([[l,0,h.EY,h.zj]],d,L,$)}else{var y=[];for(var f=0;f<g.length;f++){var b=g[f],l;
for(var K=0;K<g.length;K++)h._[g[K]].nr(g[K]==b);h.Ov();h.I();h.UL();if(d==h.k&&L==h.$)l=h.DP().buffer.slice(0);
else{var H=s.w.GT([h.DP(),new A(0,0,h.k,h.$)],new um(d/(h.k+.001),0,0,L/(h.$+.001),0,0));l=H.buffer}var Z=h._[b].getName().split(",");
y.push([l,Z[1]?parseInt(Z[1]):50,h.EY,h.zj])}for(var f=0;f<g.length;f++)h._[g[f]].nr(r[f]);h.I();h.UL();
if($){var J=$.length,u=$[J-1],C=$[J-3]/100;if(C!=1)for(var f=0;f<y.length;f++)y[f][1]=Math.round(y[f][1]/C);
if(u)y.reverse()}x=M.Az(y,d,L,$)}}return x};ud.PNG={};ud.PNG.Az=function(h,R,d,L){if(L==null)L=[100,!1,0,0,0];
var $={sRGB:1,loop:L[3]};if(h[0][2]!=null){var W=Math.round(h[0][2]*(1e4/254));$.pHYs=[W,W,1]}var M=L[0],x=M==100?0:Math.max(2,Math.floor(M*5));
if(x==5)x=4;var t=[],g=[];for(var r=0;r<h.length;r++){t.push(h[r][0]);g.push(h[r][1])}var l=UPNG.encode(t,R,d,x,g,$,L[1]);
return l};ud.PNG.zug=function(h,R,d){return UPNG.encodeLL([h],R,d,3,1,8)};ud.PNG.CA=function(h){var R=Date.now(),d=UPNG.decode(h),L=UPNG.toRGBA8(d),$=d.width,W=d.height,M=0;
if(d.tabs.pHYs)M=Math.round(d.tabs.pHYs[0]*254/1e4);if(L.length==1)return[{FK:new A(0,0,$,W),data:L[0],EY:M}];
var x=[];for(var t=0;t<L.length;t++){x.push({oq:"_a_frm"+t+","+d.frames[t].delay,FK:new A(0,0,$,W),data:L[t],EY:M})}return x};
ud.PPM={};ud.PPM.Az=function(h,R,d,L){var $=new Uint8Array(h[0][0]),W=R*d,M=W*3,x="P6\n"+R+" "+d+"\n255\n",t=x.length,g=z.h(t+M,!0);
for(var r=0;r<t;r++)g[r]=x.charCodeAt(r);for(var r=0;r<W;r++){var l=r*4,H=r*3+t;g[H]=$[l];g[H+1]=$[l+1];
g[H+2]=$[l+2]}return g.buffer};ud.PPM.CA=function(h){h=new Uint8Array(h);var R=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],d=0,L=String.fromCharCode(h[0])+String.fromCharCode(h[1]),$=[],W=0,M=L=="P1"||L=="P4"?2:3;
for(d=2;d<h.length;d++){var x=h[d],t=String.fromCharCode(x);if(x=="#".charCodeAt(0)){while(h[d]!="\n".charCodeAt(0))d++;
continue}var g=R.indexOf(x)!=-1;if(W==0&&!g){$.push(t);W=1;continue}if(W==1&&!g){$[$.length-1]+=t;continue}if(W==1&&g){W=0;
if($.length==M)break;continue}}var r=parseInt($[0]),l=parseInt($[1]),H=r*l*4,y=L=="P1"||L=="P4"?1:255/parseInt($[2]),f=z.h(H);
if(L=="P1"||L=="P2"||L=="P3"){var b="",K=0,W=0,Z="#".charCodeAt(0);for(var J=d;J<h.length;J++){var x=h[J],t=String.fromCharCode(x),g=R.indexOf(x)!=-1;
if(x==Z){while(h[J]!="\n".charCodeAt(0))J++}else if(W==0&&!g){b=t;W=1}else if(W==1){if(g){W=0;var u=parseInt(b);
b="";if(L=="P1"){f[K]=f[K+1]=f[K+2]=(1-u)*255;f[K+3]=255;K+=4}if(L=="P2"){f[K]=f[K+1]=f[K+2]=Math.round(u*y);
f[K+3]=255;K+=4}if(L=="P3"){f[K]=Math.round(u*y);K++;if((K&3)==3){f[K]=255;K++}}}else b+=t}}}var C=r*l;
if(L=="P4")for(var Q=0;Q<l;Q++){var i=Q*8*Math.ceil(r/8);for(var j=0;j<r;j++){var J=i+j,V=h[d+1+(J>>3)];
V=V>>7-(J&7)&1;var E=Q*r+j<<2;f[E]=f[E+1]=f[E+2]=(1-V)*255;f[E+3]=255}}if(L=="P5")for(var J=0;J<C;J++){var E=4*J;
f[E]=f[E+1]=f[E+2]=Math.round(h[d+1+J]*y);f[E+3]=255}if(L=="P6")for(var J=0;J<C;J++){var E=4*J,N=d+1+3*J;
f[E]=Math.round(h[N]*y);f[E+1]=Math.round(h[N+1]*y);f[E+2]=Math.round(h[N+2]*y);f[E+3]=255}return[{FK:new A(0,0,r,l),data:f.buffer}]};
ud.DDS={};ud.DDS.Az=function(h,R,d,L){var $=new Uint8Array(h[0][0]);if((R&3)!=0||(d&3)!=0){var W=R+(4-(R&3)),M=d+(4-(d&3)),x=new Uint8Array(W*M*4);
z._M(x,4278190080);z.bt($,new A(0,0,R,d),x,new A(0,0,W,M));$=x;R=W;d=M}return UTEX.DDS.encode($.buffer,R,d)};
ud.DDS.CA=function(h){var R=UTEX.DDS.decode(h)[0];return[{FK:new A(0,0,R.width,R.height),data:R.image}]};
ud.JPG={};ud.JPG.Az=function(h,R,d,L){if(L==null)L=[70];var $=h[0],W=new Uint8Array($[0]),M=255,x=W.length,t;
for(var g=0;g<x;g+=4)M=M&W[g+3];if(M==255)t=W;else{t=new Uint8Array(W.length);var r=new A(0,0,R,d);z._M(t,4294967295);
z.K.Uu("norm",W,r,t,r,r,1)}var l=new Uint8Array(ud.qu(t.buffer,R,d,"jpeg",L[0]/100));if($[2]!=null){var H=ud.JPG.qq(l)[224][0]+2;
H+=9;l[H]=1;T.Te(l,H+1,$[2]);T.Te(l,H+3,$[2])}if($[3]!=null&&L[1]==!0&&Object.keys($[3]).length!=0){var y=zh.mk($[3]),f=new Uint8Array(UTIF.encode([y])),b=4+6+f.length,K="http://ns.adobe.com/xap/1.0/",Z=zh.zNd($[3]),J=T.kU(Z),u=4+K.length+1+J.length,C=b+u,Q=new Uint8Array(l.length+C),i=20;
for(var g=0;g<20;g++)Q[g]=l[g];for(var g=20;g<l.length;g++)Q[g+C]=l[g];Q[i]=255;Q[i+1]=225;T.Te(Q,i+2,b-2);
T.wO(Q,i+4,"Exif");for(var g=0;g<f.length;g++)Q[i+10+g]=f[g];i+=b;Q[i]=255;Q[i+1]=225;T.Te(Q,i+2,u-2);
T.wO(Q,i+4,K);for(var g=0;g<J.length;g++)Q[i+4+K.length+1+g]=J[g];l=Q}return l.buffer};ud.JPG.qq=function(h){var R=0,d=[];
while(R<h.length){while(h[R]==255)R++;var L=h[R];R++;if(d[L]==null)d[L]=[];d[L].push(R-2);if(L==216)continue;
if(L==217)break;if(224<=L&&L<=239||L==218||L==219||L==192||L==194||L==196||L==221||L==254){var $=T.BP(h,R);
R+=$;if(L==218)while(h[R]!=255||(h[R+1]==0||208<=h[R+1]&&h[R+1]<=215))R++;continue}console.log("unknown marker ",L.toString(16),R);
break}if(d[217]==null){console.log("EOI marker missing");var W=h.length-2;h[W]=255;h[W+1]=217;d[217]=[W]}return d};
ud.JPG.zuC=function(h){h=new Uint8Array(h);if(h[0]!=255)return h.buffer;var R=ud.JPG.ll(h,ud.JPG.qq(h));
if(R.numComponents!=4)return h.buffer;var d=R.width,L=R.height,$=ud.JPG.Yz(R,!0);return ud.JPG.Az([[$[0].data]],d,L,[85])};
ud.JPG.ll=function(h,R){var d=new PDFJS.JpegImage;d.parse(h);var L=R[225];if(L)for(var $=0;$<L.length;
$++)ud.JPG.zW_(h,L[$]+2,d);var W=R[217][0]+2;if(W!=h.length)d.suffix=h.slice(W);return d};ud.JPG.zW_=function(h,R,d){var L=R,$=T.BP(h,L);
L+=2;var W=T.UK(h,L,4);if(W=="Exif"){L+=6;var M=h.slice(L,L+$-8);d.exif=UTIF.decode(M.buffer,{parseMN:!1,debug:!1})}else if(W=="http"){var x=0;
while(h[L+x]!=0)x++;var t=T.UK(h,L,x);L+=x+1;if(t=="http://ns.adobe.com/xmp/extension/"){var g=T.UK(h,L,32);
L+=32;L+=8;var r=R+$-L;while(h[L+r-1]==0)r--;if(d.xmp_extn==null)d.xmp_extn="";try{d.xmp_extn+=T.fh(h,L,r)}catch(zb){}}else if(t=="http://ns.adobe.com/xap/1.0/"){var l=T.fh(h.slice(L,L+$-x-3));
if(l[0]=="?")l="<"+l;d.xmp=l}}else console.log(W)};ud.JPG.Yz=function(h,R){var d=h.width,L=h.height,$=d*L,W=h.getData({width:d,height:L,forceRGB:!0,isSourcePDF:R}),M=72,x,t=[d,L,1,0,0,0,1,0];
if(h.jfif&&h.jfif.densityUnits!=0)M=Math.round([72,1,2.54][h.jfif.densityUnits]*h.jfif.xDensity);else if(h.exif&&h.exif[0].t282!=null){var g=h.exif[0].t282[0];
M=g[0]/g[1]}if(h.exif){var r=h.exif;x=zh.nz(r[0]);var l=r[0].t274;if(l)l=l[0];if(l!=null&&l>1&&l<20)t=z.raw.hZ(l,d,L)}if(h.xmp){x=zh.zqh(h.xmp,x)}var H=z.h($*4);
for(var y=0;y<$;y++){var f=y<<2,b=f-y;H[f]=W[b];H[f+1]=W[b+1];H[f+2]=W[b+2];H[f+3]=255}var K=[{FK:new A(0,0,d,L),data:H.buffer,EY:M,zj:x}],x=h.xmp_extn;
if(x){var Z=new DOMParser,J=Z.parseFromString(x,"image/svg+xml"),J=J.children[0].children[0].children[0],u=[J.getAttribute("GImage:Data"),J.getAttribute("GDepth:Data")];
for(var y=0;y<u.length;y++)if(u[y]){var C=atob(u[y]),Q=new Uint8Array(C.length);T.wO(Q,0,C);Q=Q.buffer;
var i=ud.qe(Q),j=ud.It(i).CA(Q);K.push(j[0])}}if(h.suffix){var V=h.suffix,E=T.UK(V,4,4),N=T.eh(V,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(ud.ly(V,[0,0,1,10,14,0,0,0])){var n=0;while(n!=V.length){var a=T.G_(V,n+2);n+=4;var I={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[a];
if(I!=null){var q=T.KB(V,n);n+=4;var k=T.UK(V,n,q);n+=q;var F=T.UK(V,n,I);n+=I;if(a==2608){var o=T.U(V,n+24);
n+=o+24;var G=T.U(V,n);n+=G;alert("Photopea found a "+bs.u$(o)+" MP4 video inside your image.",4e3)}}else if(a==18502){while(T.UK(V,n,4)!="SEFT")n+=4;
n+=4}else{break;console.log(T.$b(V,n,128));console.log(V.slice(n));throw a.toString(16)}}}else if(E=="ftyp"){alert("Photopea found a "+bs.u$(V.length)+" MP4 video inside your image.",4e3)}else if(T.UK(V,0,4)=="fixe"){alert("Unknown data - "+V.length+" B - at the end of the file",3e3);
var n=4,w=T.KB(V,n);n+=4;var U=T.KB(V,n);n+=4;var B=T.KB(V,n);n+=4;console.log(w,U,B,V.slice(n,n+84));
n+=84;var D=T.UK(V,n,32);n+=32;n+=8;var D=T.UK(V,n,32);n+=32}else if(T.UK(V,8,13)=="FocusShot_Map"){var P=T.U(V,0),v=T.KB(V,4),Q=z.h($*4),O=z.h($*4);
for(var uk=0;uk<L;uk++)for(var ut=0;ut<d;ut++){var y=uk*d+ut,f=y<<2,ua=8+13+((uk>>>1)*d+ut>>>1),uu=V[ua],uW=V[ua+($>>>2)];
Q[f]=Q[f+1]=Q[f+2]=uu;Q[f+3]=255;O[f]=O[f+1]=O[f+2]=uW;O[f+3]=255}K.push({FK:new A(0,0,d,L),data:Q.buffer},{FK:new A(0,0,d,L),data:O.buffer})}else if(E=="edof"){var l=V[8+7];
console.log(l.toString(16));var n=8+16,kV=T.G_(V,n),p=T.G_(V,n+2),$=kV*p;n+=4;n+=32+16;var _=z.h($*4);
for(var y=0;y<$;y++){var f=y<<2;_[f]=_[f+1]=_[f+2]=V[n+y];_[f+3]=255}if(l==16){}else if(l==19){var uB=_.slice(0);
z.S.i_(_,uB,kV,p);var ub=kV;kV=p;p=ub;z.S.zSC(uB,_,kV,p)}else throw"Unknown orientation of a depth map";
K.push({FK:new A(0,0,kV,p),data:_.buffer})}else if(N!=-1&&!(V[0]==255&&V[1]==129)){try{if(N!=0)V=V.slice(N);
var j=ud.It("jpg").CA(V.buffer);for(var y=0;y<j.length;y++)K.push(j[y])}catch(zb){}}}if(K.length>1){var uq=K[0].FK;
K[0].oq="Main";for(var y=1;y<K.length;y++){var uF=K[y].FK;if(!uF.PC(uq)){var ue=uq.k/uF.k,up=uq.$/uF.$,ui=new um;
ui.scale(ue,up);var zd=s.w.mf([new Uint8Array(K[y].data),uF],1,z.S.iE(ui));K[y]={FK:zd.rect,data:zd.buffer}}K[y].oq=y==1&&K.length==3?"Original":"Depth Map"}}if(t[2]!=1||t[6]!=1)for(var y=0;
y<K.length;y++){var uN=K[y],u_=new Uint8Array(uN.data),d=uN.FK.k,L=uN.FK.$,kV=t[0],p=t[1],H=z.h(kV*p*4);
for(var uk=0;uk<p;uk++)for(var ut=0;ut<kV;ut++){var ue=t[2]*ut+t[3]*uk+t[4],up=t[5]*ut+t[6]*uk+t[7],b=uk*kV+ut<<2,ua=up*d+ue<<2;
H[b]=u_[ua+0];H[b+1]=u_[ua+1];H[b+2]=u_[ua+2];H[b+3]=u_[ua+3]}uN.FK=new A(0,0,kV,p);uN.data=H.buffer}return K};
ud.JPG.CA=function(h,R,d){h=new Uint8Array(h);if(h[0]==255){var L=ud.JPG.qq(h);if(L[195]==null){var $=ud.JPG.ll(h,L),W=ud.JPG.Yz($,!1);
return W}var M=T.BP(h,L[195][0]+5),x=T.BP(h,L[195][0]+7),t=UTIF.LosslessJpegDecode(h),g=x*M,r=z.h(g*4);
for(var l=0;l<g;l++){var H=l<<2,y=H-l;r[H]=t[y];r[H+1]=t[y+1];r[H+2]=t[y+2];r[H+3]=255}return[{FK:new A(0,0,x,M),data:r.buffer}]}else if(h[0]==0&&h[4]==48&&h[6]==1){var f=h,$=new PDFJS.Jbig2Image,b=[];
if(R)b.push({data:R,start:0,end:R.length});b.push({data:f,start:0,end:f.length});var t=$.parseChunks(b);
if(!d)for(var l=0;l<t.length;l++)t[l]=~t[l];var x=T.U(h,11),M=T.U(h,15),K=Math.ceil(x/8),Z=z.h(x*M*4);
for(var J=0;J<M;J++){var u=J*K;for(var C=0;C<x;C++){var H=(J*x+C)*4,Q=t[u+(C>>>3)]>>>7-(C&7)&1,i=Q*255;
Z[H]=i;Z[H+1]=i;Z[H+2]=i;Z[H+3]=255}}return[{FK:new A(0,0,x,M),data:Z.buffer}]}else{var $=new PDFJS.JpxImage;
$.parse(h);var x=$.width,M=$.height,j=$.tiles,V=$.componentsCount,E=new Uint8Array(x*M*4),N=new A(0,0,x,M);
for(var $=0;$<j.length;$++){var n=j[$],a=n.width,I=n.height,q=a*I,We=n.items,k=new A(n.left,n.top,a,I),F=new Uint8Array(q*4);
if(V==1)for(var l=0;l<q;l++){var o=We[l],H=l*4;F[H]=o;F[H+1]=o;F[H+2]=o;F[H+3]=255}else if(V==3)for(var l=0;
l<q;l++){var y=l*3,H=l*4;F[H]=We[y];F[H+1]=We[y+1];F[H+2]=We[y+2];F[H+3]=255}else console.log("Unknown number of components: "+V);
z.bt(F,k,E,N)}return[{FK:N,data:E.buffer}]}};ud.WEBP={};ud.WEBP.Az=function(h,R,d,L){if(L==null)L=[70,0,0,0];
var $=L[0]/100,t=0;if(h.length==1)return ud.qu(h[0][0],R,d,"webp",$);var W=T._F,M=T.G$,x=new hK;W(x,t,"RIFF    WEBPVP8X");
t+=16;M(x,t,10);t+=4;M(x,t,18);t+=4;M(x,t,R-1);t+=3;M(x,t,d-1);t+=3;W(x,t,"ANIM");t+=4;M(x,t,6);t+=4;
x._b(t,4);x.data[t+3]=255;T.mV(x,t+4,L[2]);t+=6;var g=[];for(var r=0;r<h.length;r++){g.push(h[r][0])}var l=UPNG.encode.compress(g,R,d,$==1?0:Math.max(2,Math.floor($*500)),[!1,!0,!0,0,!0]).frames,H=new WebPDecoder;
for(var r=0;r<h.length;r++){W(x,t,"ANMF");t+=4;var y=t;t+=4;var f=l[r],b=f.rect,K=[b.x>>>1,b.y>>>1,b.width-1,b.height-1,h[r][1]];
for(var Z=0;Z<5;Z++)M(x,t+3*Z,K[Z]);t+=15;x._b(t,1);x.data[t]=1-f.blend<<1|f.dispose;t++;var J=new Uint8Array(ud.qu(f.img.buffer,b.width,b.height,"webp",1)),u=h$.iN(J.buffer).sub,C=T.UK(J,12,4);
if(C!="VP8L"&&C!="VP8 "&&C!="VP8X")throw"e";var Q=C=="VP8 "?0:C=="VP8L"?12:30,i=J.length-Q;x._b(t,i);
for(var Z=0;Z<i;Z++)x.data[t+Z]=J[Q+Z];t+=i;var j=t-y-4;M(x,y,j);if((j&1)==1){x._b(t,1);t++}}M(x,4,t-8);
return x.data.slice(0,t).buffer};ud.WEBP.CA=function(h){var R=new Uint8Array(h),d=ud.WEBP.zWH(R),L=ud.WEBP.zWG,$=new WebPDecoder,W=h$.iN(h).sub;
if(W[0].uo!="VP8X")return[L($,d,W[0])];var M={};for(var x=0;x<W.length;x++)M[W[x].uo]=W[x];if(M.ANIM==null){var t=M.ALPH?"ALPH":M["VP8 "]?"VP8 ":"VP8L";
return[L($,d,{T:M[t].T-8})]}var g=M.VP8X.T,r=1+(T.KB(R,g+4)&16777215),l=1+(T.KB(R,g+7)&16777215),H=[],y=new A(0,0,r,l),f=z.h(r*l*4);
for(var x=0;x<W.length;x++){var b=W[x];if(b.uo!="ANMF")continue;var K=[];for(var Z=0;Z<5;Z++)K.push(T.KB(R,b.T+Z*3)&16777215);
var J=new A(K[0]*2,K[1]*2,K[2]+1,K[3]+1),u=K[4],C=L($,d,{T:b.T+16}),Q=new Uint8Array(C.data),i=R[b.T+15];
if(i>>>1==0)z.K.Uu("norm",Q,J,f,y,J,1);else z.bt(Q,J,f,y);H.push({oq:"_a_"+H.length+","+u,FK:y.clone(),data:f.buffer.slice(0)});
if((i&1)==1){z._M(Q,0);z.bt(Q,J,f,y)}}return H};ud.WEBP.zWG=function(h,R,d){var L=[0],$=[0],W=h.WebPDecodeRGBA(R,d.T,R.length-d.T,L,$),M=W.length,x=new Uint8Array(M);
for(var t=0;t<M;t++)x[t]=W[t];return{FK:new A(0,0,L[0],$[0]),data:x.buffer}};ud.WEBP.zWH=function(h){var R=[],d=h.length;
for(var L=0;L<d;L++)R.push(h[L]);return R};ud.BMP={};ud.BMP.Az=function(h,R,d,L){var $=new Uint8Array(h[0][0]),W=!1,M={Hl:R,om:d,fV:1,oF:W?32:24,if:W?3:0,zPK:0},x=4*Math.floor((M.oF*M.Hl+31)/32),g=0;
M.size=x*M.om+2;var t=new hK;T._F(t,g,"BM");g+=2;T.G$(t,g,x*d+16+40);g+=4;T.G$(t,g,0);g+=4;T.G$(t,g,54);
g+=4;t._b(g,40);T.G$(t,g,40);g+=4;ud.BMP.zhk(t.data,g,M,x);g+=36;t._b(g,x*d);for(var r=0;r<d;r++){var l=g+(d-1-r)*x;
for(var H=0;H<R;H++){var y=(r*R+H)*4,f=$[y+3]*(1/255);if(W){t.data[l+H*4+2]=$[y];t.data[l+H*4+1]=$[y+1];
t.data[l+H*4+0]=$[y+2];t.data[l+H*4+3]=$[y+3]}else{t.data[l+H*3+2]=$[y];t.data[l+H*3+1]=$[y+1];t.data[l+H*3+0]=$[y+2]}}}g+=x*d+2;
return t.data.slice(0,g).buffer};ud.BMP.CA=function(h){h=new Uint8Array(h);var R=0,d=T.UK(h,R,2);R+=2;
if(d!="BM"){alert("Unsupported BMP format: "+d);return}var L=T.KB(h,R);R+=4;R+=4;var $=T.KB(h,R);R+=4;
return[ud.BMP.YB(h.buffer,R,$)]};ud.BMP.YB=function(h,R,d){h=new Uint8Array(h);var L=T.KB(h,R);R+=4;
var $=ud.BMP.zha(h,R);if($.fV!=1)alert("unsupported number of color planes: "+$.fV);if($.if!=0&&$.if!=3){alert("Unsupported BMP compression: "+$.if);
return}R+=L-4;var W=R;if(d==null)d=R;var M=4*Math.floor(($.oF*$.Hl+31)/32),x=$.Hl,t=Math.abs($.om),g=new Uint8Array(x*t*4);
z.set(g,255);if($.oF==32)for(var r=0;r<t;r++){var l=d+(t-1-r)*M;for(var H=0;H<x;H++){var y=(r*x+H)*4;
g[y]=h[l+H*4+2];g[y+1]=h[l+H*4+1];g[y+2]=h[l+H*4+0];g[y+3]=h[l+H*4+3]}}else if($.oF==24)for(var r=0;
r<t;r++){var l=d+(t-1-r)*M;for(var H=0;H<x;H++){var y=(r*x+H)*4;g[y]=h[l+H*3+2];g[y+1]=h[l+H*3+1];g[y+2]=h[l+H*3+0]}}else if($.oF==16)for(var r=0;
r<t;r++){var l=d+(t-1-r)*M;for(var H=0;H<x;H++){var y=(r*x+H)*4,f=h[l+H*2+1]<<8|h[l+H*2];g[y]=(f>>>11)*(255/31);
g[y+1]=(f>>>5&63)*(255/63);g[y+2]=(f&31)*(255/31)}}else if($.oF==8)for(var r=0;r<t;r++){var l=d+(t-1-r)*M;
for(var H=0;H<x;H++){var y=(r*x+H)*4,b=h[l+H];g[y]=h[W+4*b+2];g[y+1]=h[W+4*b+1];g[y+2]=h[W+4*b+0]}}else if($.oF==4)for(var r=0;
r<t;r++){var l=d+(t-1-r)*M;for(var H=0;H<x;H++){var y=(r*x+H)*4,b=h[l+(H>>1)];b=b>>4-4*(H&1);b=b&15;
g[y]=h[W+4*b+2];g[y+1]=h[W+4*b+1];g[y+2]=h[W+4*b+0]}}else if($.oF==1)for(var r=0;r<t;r++){var l=d+(t-1-r)*M;
for(var H=0;H<x;H++){var y=(r*x+H)*4,K=h[l+(H>>3)];K=K>>7-(H&7);K=K&1;g[y]=h[W+4*K+2];g[y+1]=h[W+4*K+1];
g[y+2]=h[W+4*K+0]}}else throw"Unknown bit depth "+$.oF;if($.om<0){var Z=new Uint32Array(g.buffer),J=t>>>1;
for(var r=0;r<J;r++){var u=r*x,C=(t-r-1)*x;for(var H=0;H<x;H++){var Q=Z[u+H];Z[u+H]=Z[C+H];Z[C+H]=Q}}}return{FK:new A(0,0,x,t),data:g.buffer}};
ud.BMP.zha=function(h,R){var d=T.Sl,L=T.KB,$=T.G_,W={};W.Hl=d(h,R);R+=4;W.om=d(h,R);R+=4;W.fV=$(h,R);
R+=2;W.oF=$(h,R);R+=2;W.if=L(h,R);R+=4;W.size=L(h,R);R+=4;var M=d(h,R);R+=4;var x=d(h,R);R+=4;W.zPK=L(h,R);
R+=4;R+=4;return W};ud.BMP.zhk=function(h,R,d,L){T.RG(h,R,d.Hl);R+=4;T.RG(h,R,d.om);R+=4;T.mH(h,R,d.fV);
R+=2;T.mH(h,R,d.oF);R+=2;T.RG(h,R,d.if);R+=4;T.RG(h,R,d.size);R+=4;T.RG(h,R,2834);R+=4;T.RG(h,R,2834);
R+=4;T.RG(h,R,d.zPK);R+=4;R+=4};ud.GIF={};ud.GIF.Az=function(h,R,d,L){if(L==null)L=[100,0,0,0];var $=[],W=[],M=R*d*4,K=null;
for(var x=0;x<h.length;x++){var t=new Uint8Array(h[x][0].slice(0));for(var g=0;g<M;g+=4){var r=t[g+3]=t[g+3]>127?255:0;
if(r==0)t[g]=t[g+1]=t[g+2]=0}$.push(t.buffer);W.push(h[x][1])}var l=Math.round(2+254*L[0]/100),H=UPNG.encode.compress($,R,d,l,[!0,!1,!1,8,!1]),y=H.plte,f=new Uint8Array(4),b=new Uint32Array(f.buffer);
for(var g=0;g<y.length;g++){b[0]=y[g];var Z=f[0];f[0]=f[2];f[2]=Z;y[g]=b[0];if(b[0]==0)K=g}while(y.length<256)y.push(0);
var J=new Uint8Array(2e3+R*d*h.length),u=L[2],C={palette:y};if(u!=1)C.loop=u==0?0:u-1;var Q=new GifWriter(J,R,d,C);
for(var g=0;g<h.length;g++){var i=H.frames[g],j=i.rect,V=i.blend,E=i.dispose;Q.addFrame(j.x,j.y,j.width,j.height,i.img,{transparent:K,disposal:E+1,delay:Math.round(W[g]/10)})}return J.slice(0,Q.end()).buffer};
ud.GIF.CA=function(h){var R=new Uint8Array(h),d=new GifReader(R),L=[],$=d.numFrames(),W=d.width,M=d.height,x=z.h(W*M*4),t=new A(0,0,W,M);
for(var g=0;g<$;g++){var r=d.frameInfo(g),l=r.disposal,H=l==3?x.slice(0):null;d.decodeAndBlitFrameRGBA(g,x);
L.push({FK:t.clone(),oq:"_a_frm"+g+","+r.delay*10,data:x.slice(0).buffer});if(r.disposal==2){var y=z.h(r.width*r.height*4);
z.bt(y,new A(r.x,r.y,r.width,r.height),x,t)}if(l==3){for(var f=0;f<x.length;f++)x[f]=H[f]}}return L};
ud.ICO={};ud.ICO.Az=function(h,R,d,L){console.log(h);if(R>256||d>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var $=Math.min(R,256),W=Math.min(d,256),M=new A(0,0,$,W),x=z.h(M.s()*4),t=new A(0,0,R,d),g=new Uint8Array(h[0][0]);
z.bt(g,t,x,M);h[0][0]=x.buffer;R=$;d=W}var r=new hK,l=0,H=L&&L[0]==!0;T.mV(r,l,0);l+=2;T.mV(r,l,H?2:1);
l+=2;T.mV(r,l,1);l+=2;var y=new Uint8Array(ud.PNG.Az(h,R,d));r._b(l,16);r.data[l]=R==256?0:R;l++;r.data[l]=d==256?0:d;
l++;l+=2;T.mV(r,l,H?Math.round(R/2):1);l+=2;T.mV(r,l,H?Math.round(d/2):32);l+=2;T.G$(r,l,y.length);l+=4;
T.G$(r,l,6+16);l+=4;r._b(l,y.length);for(var f=0;f<y.length;f++)r.data[l+f]=y[f];l+=y.length;var b=new Uint8Array(l);
for(var f=0;f<l;f++)b[f]=r.data[f];return b.buffer};ud.ICO.CA=function(h){h=new Uint8Array(h);var R=4,d=T.G_(h,R);
R+=2;var L=[];for(var $=0;$<d;$++){var W=ud.ICO.zhe(h,R+$*16),M=h.buffer.slice(W.offset,W.offset+W.size),x=ud.qe(M);
x=x?x:"bmp";if(x=="png"){var t=ud.It(x),g=t.CA(M);W.oW=g[0]}else{var r=ud.BMP.YB(M,0),M=z.h(W.Hl*W.om*4);
z.bt(new Uint8Array(r.data),new A(0,0,r.FK.k,r.FK.$),M,new A(0,W.om,W.Hl,W.om));r.data=M.buffer;r.FK.$=W.om;
W.oW=r}L.push(W)}L.sort(function(l,H){if(l.Hl!=H.Hl)return l.Hl-H.Hl;return l.zNE-H.zNE});return[L.pop().oW]};
ud.ICO.zhe=function(h,R){var d={};d.Hl=h[R];R++;if(d.Hl==0)d.Hl=256;d.om=h[R];R++;if(d.om==0)d.om=256;
d.ztS=h[R];R++;R++;d.ztw=T.G_(h,R);R+=2;d.zNE=T.G_(h,R);R+=2;d.size=T.KB(h,R);R+=4;d.offset=T.KB(h,R);
R+=4;return d};ud.TIFF={};ud.TIFF.CA=function(h){var R=Date.now(),L;if(z.raw.Ei(h.byteLength))return[z.raw.zuN(h)];
var d=UTIF.decode(h);if(d[0].t33421)L=d[0];else if(d[0].subIFD&&d[0].subIFD[0].t33421){L=d[0].subIFD[0];
if(L.t50706==null){if(L.t258[0]==8)L.t258[0]=12}}else if(d[0].subIFD&&d[0].subIFD[0]&&d[0].subIFD[0].t262&&d[0].subIFD[0].t262[0]==34892)L=d[0].subIFD[0];
else if(d[0].subIFD&&d[0].subIFD[1]&&d[0].subIFD[1].t33421)L=d[0].subIFD[1];else if(d[0].subIFD&&d[0].subIFD[2]&&d[0].subIFD[2].t33421)L=d[0].subIFD[2];
else if(d[3]&&d[3].t50648){var $=d[0].exifIFD,W=$.makerNote;L=d[3];var M=W.t224[1],x=W.t224[2];L.t256=[M];
L.t257=[x];L.t258=[16];L.t259=[7];L.t262=[32803];L.t277=[1];L.t33421=[2,2];var t=L.t50656[0],g=z.raw.BJ[t];
if(g==null)throw"e";L.t33422=g}if(L){UTIF.decodeImage(h,L,d);for(var r in d[0])if((r[0]=="t"||r[0]=="e"||r[0]=="d")&&L[r]==null)L[r]=d[0][r];
L.io=d[0].t274?d[0].t274[0]:1;return[L]}var l=[];for(var H=0;H<d.length;H++){var y=d[H],f=72;UTIF.decodeImage(h,y,d);
var b=y.t282,K=y.t296;if(b!=null&&K!=null){f=b[0][0]/b[0][1];if(K[0]==3)f=Math.round(f/2.54)}if(y.width==null)continue;
var Z=UTIF.toRGBA8(y).buffer,J=zh.nz(y);l.push({FK:new A(0,0,y.width,y.height),data:Z,EY:f,zj:J})}return l};
ud.TIFF.Az=function(h,R,d,L){if(L==null)L=[!1];var $={},W=h[0];if(W[3]!=null&&L[0])$=zh.mk(W[3]);if(W[2]!=null){$.t282=$.t283=[[Math.round(W[2]),1]];
$.t296=[2]}return UTIF.encodeImage(W[0],R,d,$)};ud.PSD={};ud.PSD.CK=!0;ud.PSD.CA=function(h,R){WP.iN(h,R)};
ud.PSD.zhG=function(h,R,d,L){if(L==null)L=[!1,!1];if(!L[0])h.DP();var $=new hK,W=WP.wA(h,$,L);return[$.data.buffer,W]};
ud.PSD.Az=function(h,R,d,L){var $=ud.PSD.zhG(h,R,d,L),W=$[0],M=$[1];return W.byteLength==M?W:W.slice(0,M)};
ud.PXD={};ud.PXD.CK=!0;ud.PXD.CA=function(h,R){var d=pako.inflate(new Uint8Array(h)),L=4;R.k=T.U(d,L);
L+=4;R.$=T.U(d,L);L+=4;var $=T.BP(d,L);L+=2;L+=4;for(var W=0;W<$;W++){var M=R.mS();R._.push(M);var x=T.U(d,L),t=L+4,g=T.BP(d,t);
t+=2;var r=T.fh(d,t,g);t+=g;M.AI(r);t++;M.rect.x=T.Uw(d,t);t+=4;M.rect.y=T.Uw(d,t);t+=4;M.rect.k=T.U(d,t);
t+=4;M.rect.$=T.U(d,t);t+=4;M.opacity=Math.round(255*d[t]/100);t++;M.nr(d[t]!=0);t++;M.Pg="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[d[t]];
t++;t++;var l=T.U(d,t);t+=4;if(l!=M.rect.s()*4)throw"e";M.buffer=z.h(l);for(var H=0;H<l;H+=4){M.buffer[H]=d[t+H+1];
M.buffer[H+1]=d[t+H+2];M.buffer[H+2]=d[t+H+3];M.buffer[H+3]=d[t+H+0]}t+=l;var y=T.U(d,t);t+=4;var f=d[t];
t++;var b=T.BP(d,t);t+=2;if(y!=0){M.v=new S.x_;M.v.rect=M.rect.clone();M.v.channel=z.h(M.rect.s());for(var H=0;
H<y;H+=4)M.v.channel[H>>>2]=d[t+H+1];t+=y}if(f!=0){var K=JSON.parse(uz.default);M.add.lmfx=K;for(var H=0;
H<uz.order.length;H++)K[uz.EN[H]]={t:"VlLs",v:[]};var Z={"102":9,"101":2,"103":0,"104":3,"105":8};for(var H=0;
H<f;H++){var J=T.BP(d,t),u=t+J+4,C=d.slice(t,u),Q=d[t+2];t+=3;var i=Z[Q+""],j=JSON.parse(uz.ny[i]);K[uz.EN[i]].v.push({t:"Objc",v:j});
if(i!=0){j.Md.v.BlnM=zP.IQ("norm");j.Opct.v.val=d[t];t++;if(i==9||i==2){j.Dstn.v.val=d[t+1];t+=2}else t+=2;
j.blur.v.val=Math.round(d[t]*1.2);t++;if(i==9||i==2){j.uglg.v=!1;j.lagl.v.val=180-T.BP(d,t);t+=2}j.Clr.v=z.i.ZR({H:d[t+1],N:d[t+2],W:d[t+3]})}else{j.hglM.v.BlnM=j.sdwM.v.BlnM=zP.IQ("norm");
t+=2;var V=d[t++],E=d[t++];j.blur.v.val=Math.round(Math.sqrt(E*V)*1.3);j.srgR.v.val=Math.round(100*V/E);
j.uglg.v=!1;j.lagl.v.val=180-T.BP(d,t);t+=2;j.hglO.v.val=d[t++];j.hglC.v=z.i.ZR({H:d[t+1],N:d[t+2],W:d[t+3]});
t+=4;j.sdwO.v.val=d[t++];j.sdwC.v=z.i.ZR({H:d[t+1],N:d[t+2],W:d[t+3]});t+=4}t=u}}if(t!=L+4+x){var N=T.U(d,t),F=0;
t+=4;t++;var g=T.BP(d,t);t+=2;var n=T.fh(d,t,g);t+=g;n=n.replace(/\r/g,"\n");var g=T.BP(d,t);t+=2;var a=T.fh(d,t,g);
t+=g;var I=T.BP(d,t);t+=2;var q=M.rect.x,k=M.rect.k;if(N&4)F=1;if(N&2)F=2;var o=Math.round(I*.4);if(F==0||F==2)k+=o;
if(F==1||F==2){k+=o;q-=o}M.add.lnsr="rend";M.add.TySh=uM.gD(0,0);M.add.TySh.bz=new A(0,0,100,100);M.add.TySh.V=new um(1,0,0,1,q,M.rect.y+I*.25);
var G=M.add.TySh.h_;uM.sw(G,1);uM.RY(G,[0,0,k,M.rect.$]);uM.sq(G,0,n);var w=uM.tZ(G,0,1);w.U$.FontSize=I;
w.U$.FillColor={Type:1,Values:[1,d[t+1]/255,d[t+2]/255,d[t+3]/255]};t+=4;if(d[t+5])a+="-Bold";if(d[t+6])a+="-Italic";
uM.xY(w,a);w.Rx.Justification=F;t+=8;uM.sp(G,0,n.length,w)}L+=4+x}};ud.SKETCH={};ud.SKETCH.CK=!0;ud.SKETCH.CA=function(h,R){Wu.iN(h,R)};
ud.XD={};ud.XD.CK=!0;ud.XD.CA=function(h,R){ME.iN(h,R)};ud.FIG={};ud.FIG.CK=!0;ud.FIG.CA=function(h,R){zV.iN(h,R)};
ud.XCF={};ud.XCF.CK=!0;ud.XCF.CA=function(h,R){WG.iN(h,R)};ud.SVG={};ud.SVG.CK=!0;ud.SVG.Az=function(h,R,d,L,$){if(L==null)L=[!0,!1,!1,!1,!0,!0];
var W=uT.FI(h,{zGn:L[0],hidden:L[1],zmW:L[2],zmF:L[3],names:L[4],zSP:L[5],zmi:R,zmj:d},$.UX);return W};
ud.SVG.CA=function(h,R){uT.iN(h,R)};ud.EPS={};ud.EPS.CK=!0;ud.EPS.CA=function(h,R){var d=150,L=new um(1,0,0,-1,0,0);
L.scale(d/72,d/72);R.EY=d;var $=new WF(R,L,!0);FromPS.Parse(h,$)};ud.PDF={};ud.PDF.CK=!0;ud.PDF.Az=function(h,R,d,L,$){if(L==null)L=["",100,!1,!1,!1];
L[5]=["jpg"];var W=new ToPDF;kX.FI(h,L,W,$.UX);return W.buffer};ud.PDF.CA=function(h,R,d){var L=(d?2:1)*72,$=new um(1,0,0,-1,0,0);
$.scale(L/72,L/72);R.EY=L;var W=new WF(R,$,!0);FromPDF.Parse(h,W)};ud.WMF={};ud.WMF.CK=!0;ud.WMF.CA=function(h,R){var d=72,L=new um(1,0,0,1,0,0);
L.scale(d/72,d/72);R.EY=d;var $=new WF(R,L,!1);FromWMF.Parse(h,$)};ud.EMF={};ud.EMF.rp=!0;ud.EMF.CK=!0;
ud.EMF.Az=function(h,R,d,L,$){if(L==null)L=["",!1,!1,!1];L[4]=[];var W=new ToEMF;kX.FI(h,L,W,$.UX);return W.buffer};
ud.EMF.CA=function(h,R){var d=72,L=new um(1,0,0,1,0,0);L.scale(d/72,d/72);R.EY=d;var $=new WF(R,L,!1);
FromEMF.Parse(h,$)};ud.CDR={};ud.CDR.CK=!0;ud.CDR.CA=function(h,R){return uY.iN(h,R)};ud.ILBM={};ud.ILBM.CA=function(h,R){var d=Mb.iN(h),L=new Uint8Array(h),$=0,W,M,x,t,g,r,l,H,y=0,f=0,b=0,K=0,Z=0;
for(var J=0;J<d.sub.length;J++){var u=d.sub[J],$=u.T;if(u.uo=="BMHD"){var C=[];for(var Q=0;Q<4;Q++)C[Q]=T.BP(L,$+2*Q);
$+=8;t=C[2];g=C[3];M=C[0];x=C[1];W=z.h(M*x*4);r=L[$++];l=L[$++];H=L[$++]}else if(u.uo=="CMAP")y=$;else if(u.uo=="CAMG"){var i=T.U(L,$);
f=i&32768,b=i&4,K=i&2048;Z=i&128}else if(u.uo=="BODY"){var j=M+15>>>4<<1,V=r+l,E=z.h(j*x*V),I,q,k;zW.Ef(L,$,u.size,E,0,E.length);
var N=r-2,n=(1<<N)-1,a=Math.round(255/n);for(var g=0;g<x;g++)for(var t=0;t<M;t++){var F=0;for(var o=0;
o<V;o++){var G=(g*V+o)*j*8+t,w=E[G>>>3]>>>7-(G&7)&1;F|=w<<o}var U=F>>>r,F=F&(1<<r)-1,Q=g*M+t,B=Q<<2;
if(y!=0){if(K!=0&&F>>>N!=0){var D=F>>>N,P=(F&n)*a;if(D==1)k=P;else if(D==2)I=P;else if(D==3)q=P}else{var P=y+F*3;
I=L[P+0];q=L[P+1];k=L[P+2]}}else{I=F>>>0&255;q=F>>>8&255;k=F>>>16&255}W[B+0]=I;W[B+1]=q;W[B+2]=k;W[B+3]=255}}}return[{FK:new A(0,0,M,x),data:W.buffer}]};
ud.TGA={};ud.TGA.CK=!1;ud.TGA.Az=function(h,R,d,L){var $=new Uint8Array(h[0][0]),W=2,M=z.qp($),x=M?4:3,t=new Uint8Array(R*d*x);
for(var g=0;g<d;g++)for(var r=0;r<R;r++){var l=g*R+r<<2,H=((d-g-1)*R+r)*x;t[H]=$[l+2];t[H+1]=$[l+1];
t[H+2]=$[l+0];if(M)t[H+3]=$[l+3]}if(!0){var y=t.length,f=0,b=new Uint8Array(y*2),K=0,Z=0,J=R*x;while(Z<y){var u=Z,C=0,Q=J*(Math.floor(Z/J)+1);
while(u<Q&&C<128){var i=!0;for(var j=0;j<x;j++)i=i&t[Z+j]==t[u+j];if(!i)break;u+=x;C++}if(C==1){var V=1;
while(V<128&&Z+(V+1)*x<Q){var i=!0,E=Z+V*x;for(var j=0;j<x;j++)i=i&t[E+j]==t[E+x+j];if(i)break;V++}b[K++]=V-1;
for(var N=0;N<V;N++)for(var j=0;j<x;j++)b[K++]=t[Z++]}else{b[K++]=127+C;for(var j=0;j<x;j++)b[K+j]=t[Z+j];
K+=x;Z+=x*C;f+=C}}t=b.slice(0,K);W+=8}var n=new Uint8Array(18+t.length+26);n[2]=W;T.mH(n,12,R);T.mH(n,14,d);
n[16]=x*8;n[17]=x==4?8:0;n.set(t,18);T.wO(n,18+t.length+8,"TRUEVISION-XFILE.");return n.buffer};ud.TGA.CA=function(h){var R=new Uint8Array(h),d=0,L=R[0],$=R[1],W=R[2],M=R[4]*256+R[3],x=R[6]*256+R[5],t=R[7],g=R[9]*256+R[8],r=R[11]*256+R[10],l=R[13]*256+R[12],H=R[15]*256+R[14],y=R[16],f=R[17],b=f>>>4,K=T.UK(R,18,L),Z=z.h(l*H*4),d=18+L+(x*t>>>3),J=new Uint8Array(R.buffer,d);
if(W>3){var u=0,C=R,Q=new Uint8Array(l*H*y>>>3),i=d,j=0,V=R.length,E=y>>>3;while(j<Q.length){var N=C[i];
i++;if(N<128)for(var n=0;n<N+1;n++){for(var a=0;a<E;a++){Q[j]=C[i];j++;i++}}else{for(var n=0;n<N-127;
n++){for(var a=0;a<E;a++){Q[j]=C[i+a];j++}}i+=E}}W-=8;J=Q;d=i}else d+=l*H*y>>>3;var I=new Uint8Array(4),q=ud.TGA.zhm;
for(var k=0;k<H;k++)for(var F=0;F<l;F++){var o=(b&2)==0?(H-k-1)*l+F:k*l+F,G=k*l+F,w,U,B,D=255,P=o*y>>>3;
if(W==1){var v=0;if(y==8)v=J[P];else throw"e";q(R,18+L+M+(v*t>>>3),t,I);w=I[0];U=I[1];B=I[2];D=I[3]}else if(W==2){q(J,P,y,I);
w=I[0];U=I[1];B=I[2];D=I[3]}else if(W==3){if(y==8)w=U=B=J[P];else throw"e"}var O=G*4;Z[O]=w;Z[O+1]=U;
Z[O+2]=B;Z[O+3]=D}return[{FK:new A(0,0,l,H),data:Z.buffer,oq:K}]};ud.TGA.zhm=function(h,R,d,L){var $,W,M,x=255;
if(d==24||d==32){M=h[R];W=h[R+1];$=h[R+2];if(d==32)x=h[R+3]}else if(d==16){var t=h[R+1]<<8|h[R+0];$=t>>>10&31;
W=t>>>5&31;M=t>>>0&31;$=Math.round($*(255/31));W=Math.round(W*(255/31));M=Math.round(M*(255/31))}else throw"e";
L[0]=$;L[1]=W;L[2]=M;L[3]=x};ud.LIF={};ud.LIF.CA=function(h){var R=new Uint8Array(h),d=0,L=112,$=42,W=T.KB,r;
d+=8;var M=R[d];d++;if(M!=$)throw"e";var x=W(R,d);d+=4;var t=T.Sy(R,d,x);d+=x*2;var g=[];while(d<R.length){r=W(R,d);
d+=4;if(r!=L)throw r;d+=4;r=R[d];d++;if(r!=$)throw r;var l=W(R,d);d+=4;var H=R[d];d++;if(H!=$){d-=5;
l=W(R,d);d+=8;r=R[d];d++;if(r!=$)throw r}var y=W(R,d)*2;d+=4;if(l>0)g.push(d+y);d+=y+l}var f=new DOMParser,b=f.parseFromString(t,"image/svg+xml").firstChild.firstChild,K=[];
ud.LIF.Yq(b,R,g,K);return K};ud.LIF.Yq=function(h,R,d,L){var $=h.firstChild.firstChild;if($.tagName=="Image"){var W=$.getElementsByTagName("ImageDescription")[0],M=W.children[0].children,x=W.children[1].children,t=d.shift(),g=[];
for(var r=0;r<x.length;r++)g.push(parseInt(x[r].getAttribute("NumberOfElements")));while(g.length>3)g[2]*=g.pop();
var l=M.length,H=g[0],y=g[1],f=g[2],b=parseInt(x[0].getAttribute("BytesInc"));for(var K=0;K<f;K++){var Z=z.h(H*y*4);
z._M(Z,4278190080);for(var J=0;J<l;J++){var u=z.h(H*y);if(b==1)for(var C=0;C<u.length;C++)u[C]=R[t+C];
else if(b==2)for(var C=0;C<u.length;C++)u[C]=Math.min(255,(R[t+C*2+1]<<8|R[t+C*2])>>>2);else throw b;
if(J!=3)z.Gn(u,Z,J);if(l==1){z.Gn(u,Z,1);z.Gn(u,Z,2)}t+=H*y*b}L.push({FK:new A(0,0,H,y),data:Z.buffer})}}else{var Q=h.children,i=0;
while(i<Q.length&&Q[i].tagName!="Children")i++;if(i==Q.length)throw"e";Q=Q[i].children;for(var j=0;j<Q.length;
j++)ud.LIF.Yq(Q[j],R,d,L)}};ud.RAF={};ud.RAF.CA=function(h){var R=new Uint8Array(h),d=16,L=T.UK(R,d,4),W=32,Z=0,J=0,u=!1,w;
d+=4;var $=T.UK(R,d,8);d+=8;while(R[d+W-1]==0)W--;var M=T.UK(R,d,W);d+=32;var x=T.UK(R,d,4);d+=4;d+=20;
var t=T.U(R,d);d+=4;var g=T.U(R,d);d+=4;var r=T.U(R,d);d+=4;var l=T.U(R,d);d+=4;var H=T.U(R,d);d+=4;
var y=T.U(R,d);d+=4;var f="FujiFilm "+M,b=[0,1,1,2];if(f=="FujiFilm X10"){f="FujiFilm FinePix X10";b=[2,1,1,0]}var K={t271:["FujiFilm"],t272:[f],t277:[1],t33421:[2,2],t33422:b,io:1};
d=r;var C=[],Q=T.BP,i=T.U(R,d);d+=4;for(var j=0;j<i;j++){var V=Q(R,d);d+=2;var E=Q(R,d);d+=2;if(V==256){J=Q(R,d);
Z=Q(R,d+2)}else if(V==272){C=[Q(R,d),Q(R,d+2)]}else if(V==273){C.push(Q(R,d),Q(R,d+2))}else if(V==304){u=!(R[d]>>>7)}else if(V==305){var N=Math.round(Math.sqrt(E)),n=[];
for(var a=0;a<E;a++)n.push(R[d+a]);n.reverse();K.t33421=[N,N];K.t33422=n}else if(V==12272){var I=Q(R,d),q=Q(R,d+2),k=Q(R,d+6);
K.t50728=[I/q,1,I/k]}d+=E}var F=Z<J,o=R.slice(H,H+y),G=Math.round(y*8/(Z*J));if(o[0]==73&&o[1]==73&&o[2]==42){w=UTIF.decode(o.buffer)[0].fujiIFD;
G=w.t61443[0];var U=w.t61454;K.t50728=[U[0]/U[1],1,U[0]/U[2]];var B=w.t61447[0];o=o.slice(B,B+w.t61448[0])}var y=o.length,D=y*8<Z*J*G;
if(D)alert("Compressed RAF is not supported yet :(");function P(ua,uu,uW){uW=uW<<8-(uu&7);var kV=uu>>>3;
ua[kV]|=uW>>>16;ua[kV+1]|=uW>>>8;ua[kV+2]|=uW}var v=y*8/(Z*J);if(v==16)for(var j=0;j<y;j+=2){var O=o[j];
o[j]=o[j+1];o[j+1]=O}else if(v==14){for(var j=0;j<y;j+=4){var O=o[j];o[j]=o[j+3];o[j+3]=O;O=o[j+1];o[j+1]=o[j+2];
o[j+2]=O}}else if(v==12)for(var j=0;j<y;j+=3){var uk=o[j+2]<<16|o[j+1]<<8|o[j+0];uk=uk>>>12|(uk&4095)<<12;
o[j]=uk>>>16&255;o[j+1]=uk>>>8&255;o[j+2]=uk&255}if(F)o=ud.RAF.zhv(o,Z,J);var ut=F?2:1;Z*=ut;K.t256=[Z];
K.t257=[J];K.t258=[G];K.t50719=[C[1],C[0]*ut];K.t50720=[C[3],C[2]*ut];K.width=Z;K.height=J;K.data=new Uint8Array(o.buffer);
return[K]};ud.RAF.zhv=function(h,R,d){h=new Uint16Array(h.buffer);var L=new Uint16Array(R*d*2);for(var $=0;
$<d;$+=2)for(var W=0;W<R;W++){var M=$*R+W,x=M*2,t=h[M],g=h[M+R];L[x+1]=L[x+2*R]=g;if((($>>>1)+W&1)==0){L[x]=t;
L[x+2*R+1]=h[M+1]}else{L[x]=h[M-1];L[x+2*R+1]=t}}return L};ud.RAW={};ud.RAW.rp=!0;ud.RAW.Az=function(h,R,d,L){var $=new Uint8Array(h[0][0]),W=R*d,M=[1,3,4][L[0]],x=8+8*L[1],t=L[2];
if(M==1){var g=new Uint8Array(R*d);z.nP($,g,0);$=g}if(M==3){var g=new Uint8Array(R*d*3);for(var r=0;
r<W;r++){var l=r*4,H=r*3;g[H]=$[l];g[H+1]=$[l+1];g[H+2]=$[l+2]}$=g}if(x==16){var y=$.length,g=new Uint8Array(y*2);
for(var r=0;r<y;r++){var f=Math.round($[r]*(65535/255));g[r*2+t]=f>>>8;g[r*2+1-t]=f&255}$=g}return $.buffer};
function z(){}z.Ou=document.createElement("canvas");z.C=z.Ou.getContext("2d");z.qF=function(h,R,d,L){L=Math.log(L)/Math.log(2);
L=Math.round(L);for(var $=0;$<d;$++)for(var W=0;W<R;W++){var M=$*R+W<<2,x=z.Yd($,W,L);h[M]=h[M+1]=h[M+2]=x;
h[M+3]=255}};z.Yd=function(h,R,d){return 255-((h>>>d)+(R>>>d)&1)*51};z.zJ=function(h){var R=h.toString(16);
while(R.length<6)R="0"+R;return R};z.zhY=function(h){return parseInt(h,16)};z.qw=function(h){return.3*h.H+.59*h.N+.11*h.W};
z.IY=function(h){return Math.max(h.H,h.N,h.W)-Math.min(h.H,h.N,h.W)};z.py=function(h,R,d){return.3*h+.59*R+.11*d};
z.zEF=function(h,R,d){return Math.max(h,R,d)-Math.min(h,R,d)};z.IV=function(h,R){var d=R-h,L=Math.abs(d),$=d-1,W=d+1;
if(Math.abs($)<L)d=$;else if(Math.abs(W)<L)d=W;return d};z.wx=function(h,R,d,L){return(R-d)*L/(h-d)};
z.qj=function(h){return h<.0031308?12.92*h:1.055*Math.pow(h,1/2.4)-.055};z.zbQ=function(h){return h<.04045?h/12.92:Math.pow((h+.055)/1.055,2.4)};
z.zEP=function(h,R,d,L){if(d<R)d+=L;if(h<R)h+=L;return(h-R)/(d-R)};z.zbK=function(h,R){var d=Math.min(h.length,R.length);
for(var L=0;L<d;L+=4){var $=h[L],W=h[L+1],M=h[L+2];R[L]=16+Math.floor(65.481/255*$+128.553/255*W+24.966/255*M+.5);
R[L+1]=128-Math.floor(37.797/255*$-74.203/255*W+112/255*M+.5);R[L+2]=128+Math.floor(112/255*$-93.786/255*W-18.214/255*M+.5);
R[L+3]=h[L+3]}};z.uG=function(h,R,d){var L=Math.max(h,R,d),$=Math.min(h,R,d),W=0,M=0,x=(L+$)*.5;if(L!=$){var t=L-$;
M=x>.5?t/(2-(L+$)):t/(L+$);switch(L){case h:W=(R-d)/t+(R<d?6:0);break;case R:W=(d-h)/t+2;break;case d:W=(h-R)/t+4;
break}W*=1/6}return{om:W,ix:M,NM:x}};z.xP=function(h,R,d){var L,$,W;if(R==0)L=$=W=d;else{var M=d<.5?d*(1+R):d+R-d*R,x=2*d-M;
L=z.RC(x,M,h+1/3);$=z.RC(x,M,h);W=z.RC(x,M,h-1/3)}return{H:L,N:$,W:W}};z.RC=function(h,R,d){if(d<0)d+=1;
if(d>1)d-=1;if(d<1/6)return h+(R-h)*6*d;if(d<1/2)return R;if(d<2/3)return h+(R-h)*(2/3-d)*6;return h};
z.pc=function(h,R,d){var L=Math.max(h,R,d),$=Math.min(h,R,d),W,M,x=L,t=L-$;M=L==0?0:t/L;if(L==$)W=0;
else{switch(L){case h:W=(R-d)/t+(R<d?6:0);break;case R:W=(d-h)/t+2;break;case d:W=(h-R)/t+4;break}W*=1/6}return{om:W,ix:M,gE:x}};
z.Ed=function(h,R,d){var L,$,W,M,x,t,g,r;M=Math.floor(h*6);x=h*6-M;t=d*(1-R);g=d*(1-x*R);r=d*(1-(1-x)*R);
switch(M%6){case 0:L=d,$=r,W=t;break;case 1:L=g,$=d,W=t;break;case 2:L=t,$=d,W=r;break;case 3:L=t,$=g,W=d;
break;case 4:L=r,$=t,W=d;break;case 5:L=d,$=t,W=g;break}return{H:L,N:$,W:W}};z.qN=function(){var h=[],R=[];
for(var d=0;d<2e3;d++){var L=d/1e3;h[d]=z.zbQ(L);R[d]=L>.008856?Math.pow(L,1/3):(903.3*L+16)*(1/116)}return[h,R]}();
z.Jk=function(h,R,d){var L=z.qN[0],$=z.qN[1];h=L[~~(h*(1e3/255))];R=L[~~(R*(1e3/255))];d=L[~~(d*(1e3/255))];
var W=z.lh.zpQ,M=W[0]*h+W[1]*R+W[2]*d,x=W[4]*h+W[5]*R+W[6]*d,t=W[8]*h+W[9]*R+W[10]*d;M=M*(100/96.72);
x=x*(100/100);t=t*(100/81.427);return z.Ye(M,x,t)};z.Ye=function(h,R,d){var L=z.qN[1],$=L[~~(h*1e3)],W=L[~~(R*1e3)],M=L[~~(d*1e3)];
return{UM:116*W-16,r$:500*($-W),W:200*(W-M)}};z.Yi=function(h,R,d){var L=903.3,$=.008856,W=(h+16)/116,M=W*W*W,x=W-d/200,t=x*x*x,g=R/500+W,r=g*g*g,l=t>$?t:(116*x-16)/L,H=M>$?M:(116*W-16)/L,y=r>$?r:(116*g-16)/L,f=y*96.72,b=H*100,K=l*81.427,Z=z.lh.ZB(z.lh.FX,[f/100,b/100,K/100,0]);
for(var J=0;J<4;J++)Z[J]=Math.max(0,Math.min(255,z.qj(Z[J])*255));return{H:Z[0],N:Z[1],W:Z[2]}};z.Yj=function(h,R,d,L,$){var W=h.UM,M=h.r$,x=h.W,t=(W<R.UM?R.UM-W:d.UM<W?d.UM-W:0)*(1/100),g=(M<R.r$?R.r$-M:d.r$<M?d.r$-M:0)*(1/116),r=(x<R.W?R.W-x:d.W<x?d.W-x:0)*(1/116),l=Math.sqrt(t*t+g*g+r*r)*1.35;
return l<=L?Math.min(1,1.17*(1-l*$)):0};z.wT=function(h,R,d){var L=R-z.qw(h);d.H=h.H+L;d.N=h.N+L;d.W=h.W+L;
z.zbL(d)};z.QM=function(h,R,d){var L=h.H,$=h.N,W=h.W;if(L==$&&$==W){d.H=d.N=d.W=0}else if(L>$){if(L>W){if($>W){d.H=R;
d.N=z.wx(L,$,W,R);d.W=0}else{d.H=R;d.W=z.wx(L,W,$,R);d.N=0}}else{d.W=R;d.H=z.wx(W,L,$,R);d.N=0}}else{if(L<W){if($>W){d.N=R;
d.W=z.wx($,W,L,R);d.H=0}else{d.W=R;d.N=z.wx(W,$,L,R);d.H=0}}else{d.N=R;d.H=z.wx($,L,W,R);d.W=0}}};z.zbL=function(h){var R=h.H,d=h.N,L=h.W,$=z.py(R,d,L),W=Math.min(R,d,L),M=Math.max(R,d,L);
if(W<0){var x=$/($-W);R=$+(R-$)*x;d=$+(d-$)*x;L=$+(L-$)*x}if(M>1){var x=(1-$)/(M-$);R=$+(R-$)*x;d=$+(d-$)*x;
L=$+(L-$)*x}h.H=R;h.N=d;h.W=L};z.VG=function(h,R,d,L,$,W){var M=new Uint32Array(h.buffer),x=0;L=Math.log(L)/Math.log(2);
L=Math.round(L);for(var t=0;t<d;t++)for(var g=0;g<R;g++){M[x++]=(t+W>>L)+(g+$>>L)&1==1?4291348680:4294967295}};
z.zER=function(h,R,d){return(h>>d)+(R>>d)&1==1?200:255};z.sz=function(h,R){var d=h.length;for(var L=0;
L<d;L+=4)R[L>>2]=Math.floor(h[L+0]*.3+h[L+1]*.59+h[L+2]*.11+.5)};z.qS=function(h,R){var d=R.length;for(var L=0;
L<d;L+=4){var $=h[L>>>2];R[L]=$;R[L+1]=$;R[L+2]=$}};z.eB=function(h,R){var d=h.r$,L=h.H,$=h.N,W=h.W,M=Math.min(h.r$.length,R.buffer.byteLength>>>2),x=4*Math.floor(M/4),t=new Uint32Array(R.buffer),g=new Uint32Array(d.buffer),r=new Uint32Array(L.buffer),l=new Uint32Array($.buffer),H=new Uint32Array(W.buffer);
for(var y=0;y<x;y+=4){var f=g[y>>2],b=H[y>>2],K=l[y>>2],Z=r[y>>2];t[y]=f<<24|(b&255)<<16|(K&255)<<8|Z&255;
t[y+1]=(f&65280)<<16|(b&65280)<<8|K&65280|(Z&65280)>>>8;t[y+2]=(f&16711680)<<8|b&16711680|(K&16711680)>>>8|(Z&16711680)>>>16;
t[y+3]=f&4278190080|(b&4278190080)>>>8|(K&4278190080)>>>16|(Z&4278190080)>>>24}for(var y=x;y<M;y++)t[y]=d[y]<<24|W[y]<<16|$[y]<<8|L[y]};
z.zEV=function(h,R,d,L){var $=h.r$,W=h.H,M=h.N,x=h.W,t=new Uint32Array(R.buffer),g=L.x-d.x,r=g+L.k,l=L.y-d.y,H=l+L.$;
for(var y=l;y<H;y++){var f=y*d.k+g;for(var b=g;b<r;b++){t[f]=$[f]<<24|x[f]<<16|M[f]<<8|W[f];f++}}};z.ss=function(h,R){var d=R.r$,L=R.H,$=R.N,W=R.W,M=Math.min(R.r$.length,h.buffer.byteLength>>>2),x=4*Math.floor(M/4),t=new Uint32Array(h.buffer),g=new Uint32Array(d.buffer),r=new Uint32Array(L.buffer),l=new Uint32Array($.buffer),H=new Uint32Array(W.buffer);
for(var y=0;y<x;y+=4){var f=t[y],b=t[y+1],K=t[y+2],Z=t[y+3];r[y>>2]=f&255|(b&255)<<8|(K&255)<<16|Z<<24;
l[y>>2]=(f&65280)>>8|b&65280|(K&65280)<<8|(Z&65280)<<16;H[y>>2]=(f&16711680)>>16|(b&16711680)>>8|K&16711680|(Z&16711680)<<8;
g[y>>2]=f>>>24|b>>>24<<8|K>>>24<<16|Z&4278190080}for(var y=x;y<M;y++){var J=t[y];L[y]=J>>0&255;$[y]=J>>8&255;
W[y]=J>>16&255;d[y]=J>>24&255}};z.nP=function(h,R,d){var L=new Uint8Array(h.buffer),$=Math.min(L.length/4,R.length);
for(var W=0;W<$;W++){R[W]=L[(W<<2)+d]}};z.Gn=function(h,R,d){var L=new Uint8Array(R.buffer),$=new Uint32Array(h.buffer),W=Math.min(L.length/4,h.length),M=0;
while(M+4<W){var x=$[M>>>2];L[(M<<2)+d]=x&255;L[(M<<2)+d+4]=x>>>8&255;L[(M<<2)+d+8]=x>>>16&255;L[(M<<2)+d+12]=x>>>24;
M+=4}while(M<W){L[(M<<2)+d]=h[M];M++}};z.clone=function(h){return h.slice(0)};z.DW=function(h,R){z.set(h.r$,R);
z.set(h.H,R);z.set(h.N,R);z.set(h.W,R)};z.set=function(h,R){R=Math.round(R);var d=R<<24|R<<16|R<<8|R,L=new Uint32Array(h.buffer),$=L.length;
for(var W=0;W<$;W++)L[W]=d};z._M=function(h,R,d){if(d==null)d=0;var L=new Uint32Array(h.buffer),$=L.length;
for(var W=0;W<$;W++)L[W]=L[W]&d|R};z.zbJ=function(h,R,d,L,$){if($==null)$=0;var W=new Uint32Array(h.buffer);
d=d.hc(R);var M=d.x-R.x,x=d.y-R.y,t=d.k,g=d.$,r=R.k;for(var l=0;l<g;l++){var H=(x+l)*r+M;for(var y=0;
y<t;y++){W[H]=W[H]&$|L;H++}}};z.zet=function(h,R){z.kW(h.r$,R.r$);z.kW(h.H,R.H);z.kW(h.N,R.N);z.kW(h.W,R.W)};
z.kW=function(h,R){var d=Math.min(h.buffer.byteLength,R.buffer.byteLength),L=d>>>2,h=new Uint32Array(h.buffer,0,L),R=new Uint32Array(R.buffer,0,L);
R.set(h)};z.zeb=function(h,R){return z.PC(h.r$,R.r$)&&z.PC(h.H,R.H)&&z.PC(h.N,R.N)&&z.PC(h.W,R.W)};z.PC=function(h,R){var d=h.buffer.byteLength,L=R.buffer.byteLength,$=new Uint32Array(h.buffer,0,d>>2),W=new Uint32Array(R.buffer,0,L>>2);
if(d!=L)return!1;var M=$.length;for(var x=0;x<M;x++)if(W[x]!=$[x])return!1;return!0};z.Gv=function(h){var R=new Uint32Array(h.buffer),d=R.length;
for(var L=0;L<d;L++)R[L]=~R[L]};z.zeE=function(h){var R=h.length;for(var d=3;d<R;d+=4)h[d]=~h[d]};z.zBx=function(h){return h+(h%4==0?0:4-h%4)};
z.h=function(h,R){if(R==null)R=!1;if(!R)h=z.zBx(h);try{var d=new Uint8Array(h)}catch(zb){alert("Not enough RAM! (need "+Math.round(h/(1<<20))+" MB)",7e3);
throw"low_ram"}return d};z.Qd=function(h){var R=h.length,d=h[R-2],L=h[R-1];while(L.k>=2||L.$>=2){var $=z.Di(d,L);
h.push($.tP,$.rect);d=$.tP;L=$.rect}};z.zee=function(h){var R=h.length,d=h[R-2],L=h[R-1];while(L.k>=2||L.$>=2){var $=z.Yp(d,L);
h.push($.tP,$.rect);d=$.tP;L=$.rect}};z.Di=function(h,R,d){var L=R.k,$=R.$,W=L>>1,M=$>>1,x=new A(R.x,R.y,W,M),t=d&&d.length==W*M*4?d:z.h(W*M*4),g=new Uint32Array(h.buffer),r=new Uint32Array(t.buffer);
for(var l=0;l<M;l++)for(var H=0;H<W;H++){var y=l*W+H,f=(l<<1)*L+(H<<1),b=g[f],K=g[f+1],Z=g[f+L],J=g[f+L+1],u=b>>>24,C=K>>>24,Q=Z>>>24,i=J>>>24,j=u+C+Q+i;
if(j==1020){var V=(b>>>0&255)+(K>>>0&255)+(Z>>>0&255)+(J>>>0&255)+2>>>2,E=(b>>>8&255)+(K>>>8&255)+(Z>>>8&255)+(J>>>8&255)+2>>>2,N=(b>>>16&255)+(K>>>16&255)+(Z>>>16&255)+(J>>>16&255)+2>>>2;
r[y]=255<<24|N<<16|E<<8|V}else if(j==0)r[y]=0;else{var V=(b>>>0&255)*u+(K>>>0&255)*C+(Z>>>0&255)*Q+(J>>>0&255)*i,E=(b>>>8&255)*u+(K>>>8&255)*C+(Z>>>8&255)*Q+(J>>>8&255)*i,N=(b>>>16&255)*u+(K>>>16&255)*C+(Z>>>16&255)*Q+(J>>>16&255)*i,n=1/j;
V=~~(V*n+.5);E=~~(E*n+.5);N=~~(N*n+.5);r[y]=j+2>>>2<<24|N<<16|E<<8|V}}return{rect:x,tP:t}};z.Yw=function(h,R,d){var L=R.k,$=R.$,W=L>>1,M=$>>1,x=new A(R.x,R.y,W,M),t=d&&d.length==W*M*4?d:z.h(W*M*4),g=new Uint32Array(h.buffer),r=new Uint32Array(t.buffer);
for(var l=0;l<M;l++)for(var H=0;H<W;H++){var y=l*W+H,f=(l<<1)*L+(H<<1),b=g[f],K=g[f+1],Z=g[f+L],J=g[f+L+1],u=2+(b>>>0&255)+(K>>>0&255)+(Z>>>0&255)+(J>>>0&255)>>>2,C=2+(b>>>8&255)+(K>>>8&255)+(Z>>>8&255)+(J>>>8&255)>>>2,Q=2+(b>>>16&255)+(K>>>16&255)+(Z>>>16&255)+(J>>>16&255)>>>2;
r[y]=4278190080|Q<<16|C<<8|u}return{rect:x,tP:t}};z.zBU=function(h,R,d){var L=R.k,$=R.$,W=2*Math.floor(L/3),M=2*Math.floor($/3),x=new A(R.x,R.y,W,M),t=d&&d.length==W*M*4?d:z.h(W*M*4),g=new Uint32Array(h.buffer),r=new Uint32Array(t.buffer);
for(var l=0;l<M;l+=2)for(var H=0;H<W;H+=2){var y=l*W+H,f=(l*3>>>1)*L+(H*3>>>1),b=g[f],K=g[f+1],Z=g[f+2],J=g[f+L],u=g[f+1+L],C=g[f+2+L],Q=g[f+L+L],i=g[f+1+L+L],j=g[f+2+L+L],V=b>>>24<<2,E=(b>>>16&255)*V,N=(b>>>8&255)*V,n=(b&255)*V,a=K>>>24<<1,I=(K>>>16&255)*a,q=(K>>>8&255)*a,k=(K&255)*a,F=Z>>>24<<2,o=(Z>>>16&255)*F,G=(Z>>>8&255)*F,w=(Z&255)*F,U=J>>>24<<1,B=(J>>>16&255)*U,D=(J>>>8&255)*U,P=(J&255)*U,v=u>>>24,O=(u>>>16&255)*v,uk=(u>>>8&255)*v,ut=(u&255)*v,ua=C>>>24<<1,uu=(C>>>16&255)*ua,uW=(C>>>8&255)*ua,kV=(C&255)*ua,p=Q>>>24<<2,_=(Q>>>16&255)*p,uB=(Q>>>8&255)*p,ub=(Q&255)*p,uq=i>>>24<<1,uF=(i>>>16&255)*uq,ue=(i>>>8&255)*uq,up=(i&255)*uq,ui=j>>>24<<2,zd=(j>>>16&255)*ui,uN=(j>>>8&255)*ui,u_=(j&255)*ui,za=V+a+U+v,uZ=F+a+ua+v,uj=p+uq+U+v,uw=ui+uq+ua+v,tI=za==0?0:1/za,ug=uZ==0?0:1/uZ,uO=uj==0?0:1/uj,uC=uw==0?0:1/uw,ux=0,zu=0,uL=0,un=0;
ux=~~(.5+(n+k+P+ut)*tI);zu=~~(.5+(N+q+D+uk)*tI);uL=~~(.5+(E+I+B+O)*tI);un=~~(.5+za*(1/9));r[y]=un<<24|uL<<16|zu<<8|ux;
ux=~~(.5+(w+k+kV+ut)*ug);zu=~~(.5+(G+q+uW+uk)*ug);uL=~~(.5+(o+I+uu+O)*ug);un=~~(.5+uZ*(1/9));r[y+1]=un<<24|uL<<16|zu<<8|ux;
ux=~~(.5+(ub+up+P+ut)*uO);zu=~~(.5+(uB+ue+D+uk)*uO);uL=~~(.5+(_+uF+B+O)*uO);un=~~(.5+uj*(1/9));r[y+W]=un<<24|uL<<16|zu<<8|ux;
ux=~~(.5+(u_+up+kV+ut)*uC);zu=~~(.5+(uN+ue+uW+uk)*uC);uL=~~(.5+(zd+uF+uu+O)*uC);un=~~(.5+uw*(1/9));r[y+W+1]=un<<24|uL<<16|zu<<8|ux}return{rect:x,tP:t}};
z.zBV=function(h,R,d){var L=R.k,$=R.$,W=2*Math.floor(L/3),M=2*Math.floor($/3),x=new A(R.x,R.y,W,M),t=d&&d.length==W*M*4?d:z.h(W*M*4),g=new Uint32Array(h.buffer),r=new Uint32Array(t.buffer);
for(var l=0;l<M;l+=2)for(var H=0;H<W;H+=2){var y=l*W+H,f=(l*3>>>1)*L+(H*3>>>1),b=g[f],K=g[f+1],Z=g[f+2],J=g[f+L],u=g[f+1+L],C=g[f+2+L],Q=g[f+L+L],i=g[f+1+L+L],j=g[f+2+L+L],V=(b>>>16&255)<<2,E=(b>>>8&255)<<2,N=(b&255)<<2,n=(K>>>16&255)<<1,a=(K>>>8&255)<<1,I=(K&255)<<1,q=(Z>>>16&255)<<2,k=(Z>>>8&255)<<2,F=(Z&255)<<2,o=(J>>>16&255)<<1,G=(J>>>8&255)<<1,w=(J&255)<<1,U=u>>>16&255,B=u>>>8&255,D=u&255,P=(C>>>16&255)<<1,v=(C>>>8&255)<<1,O=(C&255)<<1,uk=(Q>>>16&255)<<2,ut=(Q>>>8&255)<<2,ua=(Q&255)<<2,uu=(i>>>16&255)<<1,uW=(i>>>8&255)<<1,kV=(i&255)<<1,p=(j>>>16&255)<<2,_=(j>>>8&255)<<2,uB=(j&255)<<2,ub=0,uq=0,uF=0;
ub=~~(.5+(N+I+w+D)*(1/9));uq=~~(.5+(E+a+G+B)*(1/9));uF=~~(.5+(V+n+o+U)*(1/9));r[y]=255<<24|uF<<16|uq<<8|ub;
ub=~~(.5+(F+I+O+D)*(1/9));uq=~~(.5+(k+a+v+B)*(1/9));uF=~~(.5+(q+n+P+U)*(1/9));r[y+1]=255<<24|uF<<16|uq<<8|ub;
ub=~~(.5+(ua+kV+w+D)*(1/9));uq=~~(.5+(ut+uW+G+B)*(1/9));uF=~~(.5+(uk+uu+o+U)*(1/9));r[y+W]=255<<24|uF<<16|uq<<8|ub;
ub=~~(.5+(uB+kV+O+D)*(1/9));uq=~~(.5+(_+uW+v+B)*(1/9));uF=~~(.5+(p+uu+P+U)*(1/9));r[y+W+1]=255<<24|uF<<16|uq<<8|ub}return{rect:x,tP:t}};
z.qp=function(h){var R=255,d=h.length;d-=d&31;for(var L=3;L<d;L+=32)R=R&h[L]&h[L+4]&h[L+8]&h[L+12]&h[L+16]&h[L+20]&h[L+24]&h[L+28];
return R!=255};z.qG=function(h,R,d,L){var $=z.Di,W=z.zBU,x=0;if(!z.qp(h)){$=z.Yw;W=z.zBV}var M={tP:h,rect:R},t=d;
while(t<.499){x++;t*=2}for(var g=0;g<x;g++)M=$(M.tP,M.rect,L);if(t<.5001)M=$(M.tP,M.rect,L);else M=W(M.tP,M.rect,L);
return M};z.YD=function(h,R,d,L){var $=z.Yp,W=z.zqP,M={tP:h,rect:R},x=0,t=d;while(t<.499){x++;t*=2}for(var g=0;
g<x;g++)M=$(M.tP,M.rect,L);if(t<.5001)M=$(M.tP,M.rect,L);else M=W(M.tP,M.rect,L);return M};z.Yp=function(h,R,d){var L=R.k,$=R.$,W=L>>1,M=$>>1,x=new A(R.x,R.y,W,M);
if(h==null)return{rect:x};var t=d&&d.length>=W*M?d:z.h(W*M);for(var g=0;g<M;g++){var r=g*W;for(var l=0;
l<W;l++){var H=(g<<1)*L+(l<<1);t[r+l]=2+h[H]+h[H+1]+h[H+L]+h[H+L+1]>>>2}}return{rect:x,tP:t}};z.zqP=function(h,R,d){var L=R.k,$=R.$,W=2*Math.floor(L/3),M=2*Math.floor($/3),x=new A(R.x,R.y,W,M);
if(h==null)return{rect:x};var t=d&&d.length>=W*M?d:z.h(W*M);for(var g=0;g<M;g+=2)for(var r=0;r<W;r+=2){var l=g*W+r,H=(g*3>>>1)*L+(r*3>>>1),y=h[H]<<2,f=h[H+1]<<1,b=h[H+2]<<2,K=h[H+L]<<1,Z=h[H+1+L],J=h[H+2+L]<<1,u=h[H+L+L]<<2,C=h[H+1+L+L]<<1,Q=h[H+2+L+L]<<2;
t[l]=~~(.5+(y+f+K+Z)*(1/9));t[l+1]=~~(.5+(b+f+J+Z)*(1/9));t[l+W]=~~(.5+(u+C+K+Z)*(1/9));t[l+W+1]=~~(.5+(Q+C+J+Z)*(1/9))}return{rect:x,tP:t}};
z.mF=function(h,R,d,L,$){var W=R.hc(L);if($)W=W.hc($);var M=Math.max(0,W.x-R.x),x=Math.max(0,W.x-L.x),t=Math.max(0,W.y-R.y),g=Math.max(0,W.y-L.y),r=W.k,l=W.$;
for(var H=0;H<l;H++){var y=(t+H)*R.k+M,f=(g+H)*L.k+x;for(var b=0;b<r;b++){d[f+b]=h[y+b]}}};z.YA=function(h,R,d,L){if(R.PC(L)){z.Gn(h,d,3);
return}var $=R.hc(L),W=Math.max(0,$.x-R.x),M=Math.max(0,$.x-L.x),x=Math.max(0,$.y-R.y),t=Math.max(0,$.y-L.y),g=$.k,r=$.$;
for(var l=0;l<r;l++){var H=(x+l)*R.k+W,y=(t+l)*L.k+M;for(var f=0;f<g;f++)d[(y+f<<2)+3]=h[H+f]}};z.qm=function(h,R,d,L){var $=R.hc(L),W=Math.max(0,$.x-R.x),M=Math.max(0,$.x-L.x),x=Math.max(0,$.y-R.y),t=Math.max(0,$.y-L.y),g=$.k,r=$.$;
for(var l=0;l<r;l++){var H=(x+l)*R.k+W,y=(t+l)*L.k+M;for(var f=0;f<g;f++)d[y+f]=h[(H+f<<2)+3]}};z.zei=function(h,R,d,L){var $=R.hc(L),W=Math.max(0,$.x-R.x),M=Math.max(0,$.x-L.x),x=Math.max(0,$.y-R.y),t=Math.max(0,$.y-L.y),g=$.k,r=$.$;
for(var l=0;l<r;l++){var H=(x+l)*R.k+W,y=(t+l)*L.k+M;for(var f=0;f<g;f++)d[y++]=h[H++]}};z.bt=function(h,R,d,L,$){if(R.PC(L)&&($==null||$.PC(L))){z.kW(h,d);
return}h=new Uint32Array(h.buffer),d=new Uint32Array(d.buffer);var W=R.hc(L);if($)W=W.hc($);var M=Math.max(0,W.x-R.x),x=Math.max(0,W.x-L.x),t=Math.max(0,W.y-R.y),g=Math.max(0,W.y-L.y),r=W.k,l=W.$,H=r&3,y=H==0?r:r-H;
for(var f=0;f<l;f++){var b=(t+f)*R.k+M,K=(g+f)*L.k+x,Z=0;while(Z<y){d[K+Z]=h[b+Z];d[K+Z+1]=h[b+Z+1];
d[K+Z+2]=h[b+Z+2];d[K+Z+3]=h[b+Z+3];Z+=4}if(H==1){d[K+Z]=h[b+Z]}else if(H==2){d[K+Z]=h[b+Z];d[K+Z+1]=h[b+Z+1]}else if(H==3){d[K+Z]=h[b+Z];
d[K+Z+1]=h[b+Z+1];d[K+Z+2]=h[b+Z+2]}}};z.qA=function(h,R,d,L){var $=R.hc(L),W=Math.max(0,$.x-R.x),M=Math.max(0,$.x-L.x),x=Math.max(0,$.y-R.y),t=Math.max(0,$.y-L.y),g=$.k,r=$.$,l=h.r$,H=h.H,y=h.N,f=h.W,b=d.r$,K=d.H,Z=d.N,J=d.W;
for(var u=0;u<r;u++){var C=(x+u)*R.k+W,Q=(t+u)*L.k+M;for(var i=0;i<g;i++){b[Q+i]=l[C+i];K[Q+i]=H[C+i];
Z[Q+i]=y[C+i];J[Q+i]=f[C+i]}}};z.VA=function(h){var R=h.length;for(var d=0;d<R;d+=4){var L=h[d+3];h[d]=~~(h[d]*L*(1/255)+.5);
h[d+1]=~~(h[d+1]*L*(1/255)+.5);h[d+2]=~~(h[d+2]*L*(1/255)+.5)}};z.VQ=function(h){var R=h.length;for(var d=0;
d<R;d+=4){var L=h[d+3];if(L==0||L==255)continue;var $=255/L;h[d]=~~(h[d]*$+.5);h[d+1]=~~(h[d+1]*$+.5);
h[d+2]=~~(h[d+2]*$+.5)}};z.zes=function(){var h=new Uint8Array(256*256);for(var R=0;R<256;R++)for(var d=0;
d<256;d++)h[d*256+R]=Math.round(255*R/d);return h}();z.QE=function(h,R){for(var d=0;d<h.length;d++)if(h[d]!=R)return!1;
return!0};z.WE=function(h){return h+1+(h>>>8)>>>8};z.round=function(h,R){if(R==null)R=128;var d=h.length;
for(var L=0;L<d;L++)h[L]=h[L]<R?0:255};z.QP=function(h,R){var d=h.length;for(var L=0;L<d;L++)h[L]=Math.round(h[L]*R)};
z.zey=function(h,R){var d=h.length;for(var L=0;L<d;L+=4)h[L+3]=Math.round(h[L+3]*R)};z.QN=function(h,R){var d=new Uint32Array(h.buffer),L=new Uint32Array(R.buffer),$=d.length;
for(var W=0;W<$;W++){var M=d[W],x=L[W];L[W]=z.WE((M>>>24)*(x>>>24))<<24|z.WE((M>>>16&255)*(x>>>16&255))<<16|z.WE((M>>>8&255)*(x>>>8&255))<<8|z.WE((M&255)*(x&255))}};
z.Yg=function(h,R){var d=h.length;for(var L=0;L<d;L++)R[(L<<2)+3]=z.WE(R[(L<<2)+3]*h[L])};z.zqJ=function(h,R,d,L){var $=Math.max(0,L.x-R.x),W=Math.max(0,R.x-L.x),M=Math.max(0,L.y-R.y),x=Math.max(0,R.y-L.y),t=Math.min(R.x+R.k,L.x+L.k)-Math.max(R.x,L.x),g=Math.min(R.y+R.$,L.y+L.$)-Math.max(R.y,L.y);
for(var r=0;r<g;r++){var l=(M+r)*R.k+$,H=(x+r)*L.k+W;for(var y=0;y<t;y++){d[H]=z.WE(d[H]*h[l]);l++;H++}}};
z.eo=function(h,R,d,L){var $=Math.max(0,L.x-R.x),W=Math.max(0,R.x-L.x),M=Math.max(0,L.y-R.y),x=Math.max(0,R.y-L.y),t=Math.min(R.x+R.k,L.x+L.k)-Math.max(R.x,L.x),g=Math.min(R.y+R.$,L.y+L.$)-Math.max(R.y,L.y);
for(var r=0;r<g;r++){var l=(M+r)*R.k+$,H=((x+r)*L.k+W<<2)+3;for(var y=0;y<t;y++){d[H]=z.WE(d[H]*h[l]);
l++;H+=4}}};z.qO=function(h,R,d,L){var $=Math.max(0,L.x-R.x),W=Math.max(0,R.x-L.x),M=Math.max(0,L.y-R.y),x=Math.max(0,R.y-L.y),t=Math.min(R.x+R.k,L.x+L.k)-Math.max(R.x,L.x),g=Math.min(R.y+R.$,L.y+L.$)-Math.max(R.y,L.y);
for(var r=0;r<g;r++){var l=((M+r)*R.k+$<<2)+3,H=((x+r)*L.k+W<<2)+3;for(var y=0;y<t;y++){d[H]=z.WE(d[H]*h[l]);
l+=4;H+=4}}};z.zef=function(h,R,d,L){var $=1/255,W=Math.max(0,L.x-R.x),M=Math.max(0,R.x-L.x),x=Math.max(0,L.y-R.y),t=Math.max(0,R.y-L.y),g=Math.min(R.x+R.k,L.x+L.k)-Math.max(R.x,L.x),r=Math.min(R.y+R.$,L.y+L.$)-Math.max(R.y,L.y);
for(var l=0;l<r;l++){var H=(x+l)*R.k+W,y=(t+l)*L.k+M;for(var f=0;f<g;f++){d[y]=$*d[y]*(255-h[H]);H++;
y++}}};z.ziz=function(h,R){var d=[];for(var L=0;L<256;L++)d.push(0);var $=h.length,W=1/255;for(var L=0;
L<$;L++)d[h[L]]+=R[L]*W;return d};z.DD=function(h){var R=new Float64Array(256),d=new Float64Array(256),L=new Float64Array(256),$=new Float64Array(256),W=h.length;
for(var M=0;M<W;M+=4){var x=h[M+3]*(1/255);d[h[M+0]]+=x;L[h[M+1]]+=x;$[h[M+2]]+=x}for(var M=0;M<256;
M++)R[M]=d[M]+L[M]+$[M];return[R,d,L,$,W>>>2]};z.YI=function(h,R){var d=new Uint32Array(h.buffer),L=d.length;
for(var $=0;$<L;$++){var W=d[$],M=W&255,x=W>>8&255,t=W>>16&255,g=W>>24&255;d[$]=R[M]|R[x]<<8|R[t]<<16|R[g]<<24}};
z.zFM=function(h,R,d,L,$,W,M){var x=new Uint32Array(h.buffer),t=new Uint32Array(R.buffer),g=x.length,r=0;
while(256<<r<d.length)r++;if(!M&&!W){for(var l=0;l!=g;l++){var H=x[l],y=(H&255)<<r,f=(H>>>8&255)<<r,b=(H>>>16&255)<<r,K=d[y],Z=L[f],J=$[b];
t[l]=K|Z<<8|J<<16|H&4278190080}return}for(var l=0;l<g;l++){var H=x[l],y=(H&255)<<r,f=(H>>>8&255)<<r,b=(H>>>16&255)<<r;
if(W)y=f=b=Math.round(y*.3+f*.59+b*.11);var K=d[y],Z=L[f],J=$[b];if(M){var u=z.py(y,f,b),C=z.py(K,Z,J);
if(u>C){var Q=(u-C)/(255-C);K+=Q*(255-K);Z+=Q*(255-Z);J+=Q*(255-J)}else if(C==0)K=Z=J=0;else{var Q=u/C;
K=Q*K;Z=Q*Z;J=Q*J}}t[l]=K|Z<<8|J<<16|H&4278190080}};z.ziM=function(h){var R=new Uint32Array(256),L=0;
for(var d=0;d<h.length;d++)R[h[d]]++;for(var d=0;d<256;d++)if(R[d]>R[L])L=d;return L};z.Xb=function(h,R){var d=R.k,L=R.$,top=0,$=0,W=0,M=0,x=0;
x=0;for(var t=0;t<L;t++){var g=t*d;for(var r=0;r<d;r++)x|=h[g+r];if(x!=0)break;top++}if(top==L)return new A(0,0,0,0);
x=0;for(var t=L-1;t>=0;t--){var g=t*d;for(var r=0;r<d;r++)x|=h[g+r];if(x!=0)break;W++}var l=L-W;x=0;
for(var r=0;r<d;r++){for(var t=top;t<l;t++)x|=h[t*d+r];if(x!=0)break;$++}x=0;for(var r=d-1;r>=0;r--){for(var t=top;
t<l;t++)x|=h[t*d+r];if(x!=0)break;M++}var H=new A(R.x+$,R.y+top,d-$-M,L-top-W);return H};z.qg=function(h,R,d,L){if(L==null)L=[!0,!0,!0,!0];
if(d==null)d=0;var $=new Uint32Array(h.buffer),W=R.k,M=R.$,top=0,x=0,t=0,g=0,r=!1,l=[$[0],$[$.length-1],0][d];
r=!1;if(L[0])for(var H=0;H<M;H++){var y=H*W;for(var f=0;f<W;f++)if($[y+f]!=l)r=!0;if(r)break;top++}r=!1;
if(L[2])for(var H=M-1;H>=0;H--){var y=H*W;for(var f=0;f<W;f++)if($[y+f]!=l)r=!0;if(r)break;t++}r=!1;
if(L[1])for(var f=0;f<W;f++){for(var H=0;H<M;H++)if($[H*W+f]!=l)r=!0;if(r)break;x++}r=!1;if(L[3])for(var f=W-1;
f>=0;f--){for(var H=0;H<M;H++)if($[H*W+f]!=l)r=!0;if(r)break;g++}var b=new A(R.x+x,R.y+top,W-x-g,M-top-t);
return b.dp()?new A(0,0,0,0):b};z.ziF=function(h){var R=255,d=h.length;for(var L=3;L<d;L+=4)R=R&h[L];
return R};z.tn=function(h){var R=z.Xb(h.channel,h.rect);if(R.PC(h.rect))return;var d=z.h(R.s());z.mF(h.channel,h.rect,d,R);
h.channel=d;h.rect=R};z.Qw=function(h){var R=z.h(h.buffer.length>>2);z.nP(h.buffer,R,3);var d=z.Xb(R,h.rect);
if(d.PC(h.rect))return;var L=new z.h(d.s()*4);z.bt(h.buffer,h.rect,L,d);h.buffer=L;h.rect=d};z.extend=function(h,R,d){if(h.rect.nF(R))return;
var L=h.rect.DM(R),$=z.h(L.s());if(d!=null)z.set($,d);z.mF(h.channel,h.rect,$,L);h.rect=L;h.channel=$};
z.zFk=function(h,R){if(R.dp()||h.rect.nF(R))return;var d=h.rect.DM(R),L=z.h(d.s()*4);z.bt(h.buffer,h.rect,L,d);
h.rect=d;h.buffer=L};z.zid=function(h,R,d){var L=R.clone(),$=d.s(),W=h.DM(L);while(W.s()/h.s()<2&&W.s()<$){L.si(16,16);
W=W.DM(L).hc(d)}if($/W.s()<2)W=d.clone();return W};z.YQ=function(h){var R=h.length;for(var d=0;d<R;d+=4){var L=h[d+3];
if(h[d]>L)h[d]=L;if(h[d+1]>L)h[d+1]=L;if(h[d+2]>L)h[d+2]=L}};z.F$=function(h,R,d){if(!d.hR(h))return!1;
var L=Math.floor(h.x)-d.x,$=Math.floor(h.y)-d.y,W=$*d.k+L;return R[W]>128};z.zFA=function(h,R,d){if(!d.hR(h))return!1;
var L=Math.floor(h.x)-d.x,$=Math.floor(h.y)-d.y,W=$*d.k+L;return R[4*W+3]>128};z.q$=function(h){if(z.QY.length<h){z.QY=z.h(h);
z.set(z.QY,255)}return z.QY};z.QY=z.h(0);z.uv=function(h){if(z.qx.length<h)z.qx=z.h(h);return z.qx};
z.qx=z.h(0);z.Zb=function(h){this.r$=z.h(h);this.H=z.h(h);this.N=z.h(h);this.W=z.h(h)};z.Zb.prototype.clone=function(){var h=this.r$.length,R=new z.Zb(1);
R.r$=z.clone(this.r$);R.H=z.clone(this.H);R.N=z.clone(this.N);R.W=z.clone(this.W);return R};z.YZ={zFQ:function(h,R){var d=h.length;
h.push(R);var L=d>>>1;while(L!=0&&h[d][0]<h[L][0]){var $=h[d];h[d]=h[L];h[L]=$;d=L;L=d>>>1}},zFK:function(h){if(h.length==2)return h.pop();
var top=h[1],R=1;h[1]=h.pop();var d=h.length;while(!0){var L=R<<1,$=L+1,W=R;if(L<d&&h[L][0]<h[W][0])W=L;
else if($<d&&h[$][0]<h[W][0])W=$;else break;var M=h[R];h[R]=h[W];h[W]=M;R=W}return top}};z.K={};z.K.Kq=new Float64Array(256);
z.K.JK=new Uint8Array(256*256);z.K.qR=new Uint8Array(256*256);(function(){for(var h=0;h<256;h++)z.K.Kq[h]=255/h;
for(var h=0;h<256;h++)for(var R=0;R<256;R++)z.K.JK[h*256+R]=h==0?0:Math.round(R*255/h);for(var h=0;h<256;
h++)for(var R=0;R<256;R++)z.K.qR[h*256+R]=Math.round(h*(255-R)/255)}());z.K.Uu=function(h,R,d,L,$,W,M,x){if(x==null)x=uS.Zo();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(h)==-1){M=M*x.fill;x.fill=1;x.style=!1}var t="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),g="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),r=z.K[h+"F"];
if(x.Qy==null&&h=="norm")z.K.zdM(R,d,L,$,W,M,r,x.QX?1:0);else if(h=="diss")z.K.zEK(R,d,L,$,W,M,r,x.QX?1:0);
else if(t.indexOf(h)!=-1)z.K.zdy(R,d,L,$,W,M,r,x);else if(g.indexOf(h)!=-1)z.K.zEa(R,d,L,$,W,M,r,x)};
z.K.zFZ=function(h,R,d){var L=h*d+1-d;return L<.001?0:1-Math.min(1,(1-R)/L)};z.K.zFL=function(h,R,d){return h*d==1?1:Math.min(1,R/(1-h*d))};
z.K._t=function(h){return h<=.25?((16*h-12)*h+4)*h:Math.sqrt(h)};z.K.normF=function(h,R,d){return h};
z.K.darkF=function(h,R,d){return Math.min(h,R)};z.K["mul F"]=function(h,R,d){return h*R};z.K.idivF=function(h,R,d){var L=h*d+1-d;
return R==1?1:1-R>=L?0:1-(1-R)/L};z.K.lbrnF=function(h,R,d){return Math.max(0,h*d+R-d)};z.K.dkClF=function(h,R,d){var L=z.qw(h)<z.qw(R)?h:R;
d.H=L.H;d.N=L.N;d.W=L.W;return d};z.K.liteF=function(h,R,d){return Math.max(h,R)};z.K.scrnF=function(h,R,d){return R+h-R*h};
z.K["div F"]=function(h,R,d){h*=d;return R==0?0:R>=1-h?1:R/(1-h)};z.K.lddgF=function(h,R,d){h*=d;return Math.min(1,h+R)};
z.K.lgClF=function(h,R,d){var L=z.qw(h)>z.qw(R)?h:R;d.H=L.H;d.N=L.N;d.W=L.W;return d};z.K.overF=function(h,R,d){return z.K.hLitF(R,h,d)};
z.K.sLitF=function(h,R,d){return h<=.5?R-(1-2*h)*R*(1-R):R+(2*h-1)*(z.K._t(R)-R)};z.K.hLitF=function(h,R,d){return h<=.5?z.K["mul F"](2*h,R,d):z.K.scrnF(2*h-1,R,d)};
z.K.vLitF=function(h,R,d){return h<=.5?z.K.zFZ(2*h,R,d):z.K.zFL(2*h-1,R,d)};z.K.lLitF=function(h,R,d){return h<=.5?z.K.lbrnF(2*h,R,d):z.K.lddgF(2*h-1,R,d)};
z.K.pLitF=function(h,R,d){return h<=.5?z.K.darkF(2*h,R,d):z.K.liteF(2*h-1,R,d)};z.K.hMixF=function(h,R,d){if(d>.99)return h+R<1?0:1;
return Math.min(1,Math.max(0,(R+h*d-d)/(1-d+1e-6)))};z.K.diffF=function(h,R,d){h*=d;return Math.abs(h-R)};
z.K.smudF=function(h,R,d){return h+R-2*h*R};z.K.fsubF=function(h,R,d){return Math.max(R-h,0)};z.K.fdivF=function(h,R,d){return Math.min(R/h,1)};
z.K["hue F"]=function(h,R,d){z.QM(h,z.IY(R),d);z.wT(d,z.qw(R),d)};z.K["sat F"]=function(h,R,d){z.QM(R,z.IY(h),d);
z.wT(d,z.qw(R),d)};z.K.colrF=function(h,R,d){z.wT(h,z.qw(R),d)};z.K["lum F"]=function(h,R,d){z.wT(R,z.qw(h),d)};
z.K.zdM=function(h,R,d,L,$,W,M,x){var t=R.hc(L).hc($),g=Math.max(0,t.x-R.x),r=Math.max(0,t.x-L.x),l=Math.max(0,t.y-R.y),H=Math.max(0,t.y-L.y),y=t.k,f=t.$,b=R.k,K=L.k,Z=z.K.JK,J=z.K.qR,u=new Uint32Array(h.buffer),C=new Uint32Array(d.buffer);
for(var Q=0;Q<f;Q++){var i=(l+Q)*b+g,j=(H+Q)*K+r;for(var V=0;V<y;V++){var E=u[i+V],a=255;if(E>>>24==0)continue;
if(E>>>24==255&&W==1&&x==0){C[j+V]=u[i+V];continue}var N=C[j+V],n=255*W&255;if(x==0){n=(E>>>24)*W&255;
a=N>>>24}var I=J[a<<8|n],q=n+I,k=E&255,F=E>>>8&255,o=E>>>16&255,G=N&255,w=N>>>8&255,U=N>>>16&255;C[j+V]=x*(N>>>24)+(1-x)*q<<24|Z[q<<8|z.WE(o*n+U*I)]<<16|Z[q<<8|z.WE(F*n+w*I)]<<8|Z[q<<8|z.WE(k*n+G*I)]}}};
z.K.zdR=function(h,R,d,L,$,W){var M=R.hc(L).hc($),x=Math.max(0,M.x-R.x),t=Math.max(0,M.x-L.x),g=Math.max(0,M.y-R.y),r=Math.max(0,M.y-L.y),l=M.k,H=M.$,y=R.k,f=L.k,b=z.K.JK,K=z.K.qR,Z=new Uint32Array(h.buffer),J=new Uint32Array(d.buffer),u=Math.floor(Math.random()*16777215),C=0;
for(var Q=0;Q<H;Q++){var i=(g+Q)*y+x,j=(r+Q)*f+t;for(var V=0;V<l;V++){var E=Z[i+V];if(E>>>24==0)continue;
if(E>>24==255&&W==1){J[j+V]=E;continue}var N=J[j+V],n=(E>>>24)*W*(1/255),a=(N>>>24)*(1/255),I=a*(1-n),q=n+I,k=E&255,F=E>>>8&255,o=E>>>16&255,G=N&255,w=N>>>8&255,U=N>>>16&255;
C>>>=8;if((V&3)==0)C=z.K.ik(j+V+u);var B=q==0?0:1/q,D=Math.floor(q*(256*255))+(C&255)>>>8,P=Math.floor((o*n+U*I)*B+.5),v=Math.floor((F*n+w*I)*B+.5),O=Math.floor((k*n+G*I)*B+.5);
J[j+V]=D<<24|P<<16|v<<8|O}}};z.K.KE=function(h,R,d,L,$,W,M,x){var t=z.py(h,R,d),g=z.py(L,$,W),r=Math.min,l=z.K.zdL,H=l(t,x,0);
H=r(H,l(h,x,8));H=r(H,l(R,x,16));H=r(H,l(d,x,24));var y=l(g,x,4);y=r(y,l(L,x,12));y=r(y,l($,x,20));y=r(y,l(W,x,28));
y=Math.max(y,1-M);var f=Math.min(H,y);return f<0?0:f>1?1:f};z.K.zdL=function(h,R,d){return Math.min((h-R[d])*R[d+1],(h-R[d+3])*R[d+2])};
z.K.zdy=function(h,R,d,L,$,W,M,x){var t=1/255,g=t*W,r=x.QX?1:0,l=x.fill,H=x.style,y=R.hc(L).hc($),f=Math.max(0,y.x-R.x),b=Math.max(0,y.x-L.x),K=Math.max(0,y.y-R.y),Z=Math.max(0,y.y-L.y),J=y.k,u=y.$,C=R.k,Q=L.k,i=new Uint32Array(h.buffer),j=new Uint32Array(d.buffer);
for(var V=0;V<u;V++){var E=(K+V)*C+f,N=(Z+V)*Q+b;for(var n=0;n<J;n++,E++,N++){var a=i[E],B=1;if(a>>>24==0)continue;
var I=j[N],q=(a&255)*t,k=(a>>>8&255)*t,F=(a>>>16&255)*t,o=(I&255)*t,G=(I>>>8&255)*t,w=(I>>>16&255)*t,U=W;
if(r==0){U=(a>>>24)*g;B=(I>>>24)*t}if(x.Qy)U*=z.K.KE(q,k,F,o,G,w,B,x.Qy);var D=B*(1-U),P=U+D,v=255/P,O=H?1:U,uk=((1-B)*U*q+(1-O)*B*o+O*B*M(q,o,(1+U-O)*l))*v,ut=((1-B)*U*k+(1-O)*B*G+O*B*M(k,G,(1+U-O)*l))*v,ua=((1-B)*U*F+(1-O)*B*w+O*B*M(F,w,(1+U-O)*l))*v;
P=U*l+B*(1-U*l);var uu=Math.round(P*255);j[N]=r*(I>>>24)+(1-r)*uu<<24|ua<<16|ut<<8|uk}}};z.K.zEa=function(h,R,d,L,$,W,M,x){var t=1/255,g=t*W,r=x.QX?1:0,l=R.hc(L).hc($),H=Math.max(0,l.x-R.x),y=Math.max(0,l.x-L.x),f=Math.max(0,l.y-R.y),b=Math.max(0,l.y-L.y),K=l.k,Z=l.$,J=new Uint32Array(h.buffer),u=new Uint32Array(d.buffer),C={H:0,N:0,W:0},Q={H:0,N:0,W:0},i={H:0,N:0,W:0};
for(var j=0;j<Z;j++){var V=(f+j)*R.k+H,E=(b+j)*L.k+y;for(var N=0;N<K;N++,V++,E++){var n=J[V],a=u[E],I=(n&255)*t,q=(n>>>8&255)*t,k=(n>>>16&255)*t,F=(a&255)*t,o=(a>>>8&255)*t,G=(a>>>16&255)*t,w=W,U=1;
if(r==0){w=(n>>>24)*g;U=(a>>>24)*t}if(x.Qy)w*=z.K.KE(I,q,k,F,o,G,U,x.Qy);var B=U*(1-w),D=w+B,P=255/D;
C.H=I;C.N=q;C.W=k;Q.H=F;Q.N=o;Q.W=G;M(C,Q,i);var v=(((1-U)*I+U*i.H)*w+F*B)*P,O=(((1-U)*q+U*i.N)*w+o*B)*P,uk=(((1-U)*k+U*i.W)*w+G*B)*P,ut=r*(a>>>24)+(1-r)*Math.round(D*255);
u[E]=ut<<24|uk<<16|O<<8|v}}};z.K.yM=function(h){h=h^61^h>>>16;h=h+(h<<3);h=h^h>>>4;h=h*668265261;h=h^h>>15;
return(h&16777215)*(1/16777215)};z.K.ik=function(h){h=h^61^h>>>16;h=h+(h<<3);h=h^h>>>4;h=h*668265261;
h=h^h>>>15;return h};z.K.qL=function(h){this.ba=h};z.K.qL.prototype.get=function(){var h=this.ba=z.K.ik(this.ba);
return(h&16777215)*(1/16777215)};z.K.zEK=function(h,R,d,L,$,W,M,x){var t=1/255,g=t*W,r=Math.round(W*(256*256*256/255)),l=R.hc(L).hc($),H=Math.max(0,l.x-R.x),y=Math.max(0,l.x-L.x),f=Math.max(0,l.y-R.y),b=Math.max(0,l.y-L.y),K=l.k,Z=l.$,J=new Uint32Array(h.buffer),u=new Uint32Array(d.buffer);
for(var C=0;C<Z;C++){var Q=(f+C)*R.k+H,i=(b+C)*L.k+y;for(var j=0;j<K;j++,Q++,i++){var V=J[Q],E=u[i],N=x*255+(1-x)*(V>>>24);
if((z.K.ik(Q)&16777215)>=N*r)continue;u[i]=V&16777215|x*(E>>>24)+(1-x)*255<<24}}};z.K.ziI=function(h,R,d){for(var L=0;
L<h.length;L+=4){var $=d[L>>>2];if($==0)continue;var W=$*(1/255),M=1/W,x=R[L],t=R[L+1],g=R[L+2],r=h[L],l=h[L+1],H=h[L+2];
R[L]=Math.min(255,Math.max(0,Math.round((x-(1-W)*r)*M)));R[L+1]=Math.min(255,Math.max(0,Math.round((t-(1-W)*l)*M)));
R[L+2]=Math.min(255,Math.max(0,Math.round((g-(1-W)*H)*M)));R[L+3]=255}};z.K.jU=function(h,R,d,L,$,W,M,x,t,g){if(g==null)g=!1;
if($&&!R.PC(W)){var r=z.h(R.s()*4);z.set(r,M);z.mF($,W,r,R);$=r;W=R}if(g){if($==null)z.K.zEL(h,R,d,L,$,x,t);
else z.K.zEf(h,R,d,L,$,x,t)}else{if($==null)z.K.zEZ(h,R,d,L,$,x,t);else z.K.zEy(h,R,d,L,$,x,t)}};z.K.zEZ=function(h,R,d,L,$,W,M){var x=1/255,t=R.hc(L).hc(W),g=Math.max(0,t.x-R.x),r=Math.max(0,t.x-L.x),l=Math.max(0,t.y-R.y),H=Math.max(0,t.y-L.y),y=t.k,f=t.$,b=new Uint32Array(h.buffer),K=new Uint32Array(d.buffer),Z=z.K.JK,J=M*255&255;
for(var u=0;u<f;u++){var C=(l+u)*R.k+g,Q=(H+u)*L.k+r;for(var i=0;i<y;i++,C++,Q++){var j=b[C],V=K[Q],E=j>>>24,N=V>>>24,n=z.WE(J*E+(255-J)*N),a=z.WE(E*J),I=z.WE(N*(255-J)),q=j&255,k=j>>>8&255,F=j>>>16&255,o=V&255,G=V>>>8&255,w=V>>>16&255,U=a*q+o*I,B=a*k+G*I,D=a*F+w*I;
U=Z[n<<8|z.WE(U)];B=Z[n<<8|z.WE(B)];D=Z[n<<8|z.WE(D)];K[Q]=n<<24|D<<16|B<<8|U}}};z.K.zEL=function(h,R,d,L,$,W,M){var x=1/255,t=R.hc(L).hc(W),g=Math.max(0,t.x-R.x),r=Math.max(0,t.x-L.x),l=Math.max(0,t.y-R.y),H=Math.max(0,t.y-L.y),y=t.k,f=t.$,b=new Uint32Array(h.buffer),K=new Uint32Array(d.buffer),Z=z.K.JK,J=M*16777215&16777215;
for(var u=0;u<f;u++){var C=(l+u)*R.k+g,Q=(H+u)*L.k+r;for(var i=0;i<y;i++,C++,Q++){if((z.K.ik(C)&16777215)<J)K[Q]=b[C]}}};
z.K.zEy=function(h,R,d,L,$,W,M){var x=1/255,t=R.hc(L).hc(W),g=Math.max(0,t.x-R.x),r=Math.max(0,t.x-L.x),l=Math.max(0,t.y-R.y),H=Math.max(0,t.y-L.y),y=t.k,f=t.$,b=new Uint32Array(h.buffer),K=new Uint32Array(d.buffer),Z=z.K.JK;
for(var J=0;J<f;J++){var u=(l+J)*R.k+g,C=(H+J)*L.k+r;for(var Q=0;Q<y;Q++,u++,C++){var i=$[u]*M&255;if(i==0)continue;
if(i==255){K[C]=b[u];continue}var j=b[u],V=K[C],E=j>>>24,N=V>>>24,n=z.WE(i*E+(255-i)*N),a=z.WE(E*i),I=z.WE(N*(255-i)),q=j&255,k=j>>>8&255,F=j>>>16&255,o=V&255,G=V>>>8&255,w=V>>>16&255,U=Z[n<<8|z.WE(a*q+o*I)],B=Z[n<<8|z.WE(a*k+G*I)],D=Z[n<<8|z.WE(a*F+w*I)];
K[C]=n<<24|D<<16|B<<8|U}}};z.K.zEf=function(h,R,d,L,$,W,M){var x=1/255,t=R.hc(L).hc(W),g=Math.max(0,t.x-R.x),r=Math.max(0,t.x-L.x),l=Math.max(0,t.y-R.y),H=Math.max(0,t.y-L.y),y=t.k,f=t.$,b=new Uint32Array(h.buffer),K=new Uint32Array(d.buffer),Z=z.K.JK,J=Math.round(M*257);
for(var u=0;u<f;u++){var C=(l+u)*R.k+g,Q=(H+u)*L.k+r;for(var i=0;i<y;i++,C++,Q++){var j=$[C]*J;if((z.K.ik(C)&65535)<j)K[Q]=b[C]}}};
z.K.YC=function(h,R,d,L,$,W,M){var x=1/255,t=R.hc(L).hc(W),g=Math.max(0,t.x-R.x),r=Math.max(0,t.x-L.x),l=Math.max(0,t.y-R.y),H=Math.max(0,t.y-L.y),y=t.k,f=t.$,b=new Uint32Array(h.buffer),K=new Uint32Array(d.buffer),Z=Math.floor(Math.random()*L.s()),J=z.K.zeF;
for(var u=0;u<f;u++){var C=(l+u)*R.k+g,Q=(H+u)*L.k+r;for(var i=0;i<y;i++){var j=$[C+i]*M;if(j==0)continue;
if(j==255){K[Q+i]=b[C+i];continue}var V=b[C+i],E=K[Q+i],N=V>>>24,n=E>>>24,a=N*j*(1/255),I=n*(255-j)*(1/255),q=V&255,k=V>>>8&255,F=V>>>16&255,o=E&255,G=E>>>8&255,w=E>>>16&255,U=z.K.ik(Q+i+Z),B=Math.floor((a+I)*256+.5)+(U>>>0&255)>>>8,D=B==0?0:256/(a+I),P=q*a+o*I,v=k*a+G*I,O=F*a+w*I,uk=Math.floor(P*D+.5)+(U>>>8&255)>>>8,ut=Math.floor(v*D+.5)+(U>>>16&255)>>>8,ua=Math.floor(O*D+.5)+(U>>>21&248)>>>8;
K[Q+i]=B<<24|ua<<16|ut<<8|uk}}};z.K.zeF=function(h){return Math.floor(h+Math.random())};z.K.DC=function(h,R,d,L,$,W,M){var x=1/255,t=R.hc(L).hc(W),g=Math.max(0,t.x-R.x),r=Math.max(0,t.x-L.x),l=Math.max(0,t.y-R.y),H=Math.max(0,t.y-L.y),y=t.k,f=t.$;
for(var b=0;b<f;b++){var K=(l+b)*R.k+g,Z=(H+b)*L.k+r;for(var J=0;J<y;J++,K++,Z++){var u=M*$[K]*x;if(u==0)continue;
if(u==1){d[Z]=h[K];continue}d[Z]=h[K]*u+d[Z]*(1-u)}}};z.IX={};z.IX.zed=function(h,R,d,L,$,W){z.IX.qJ(h,R,d,L,$,W,null,0)};
z.IX.zeN=function(h,R,d,L,$){z.IX.qJ(h,R,d,L,$,null,null,0)};z.IX.ze_=function(h,R,d,L,$,W,M){z.IX.qJ(h,R,d,L,$,null,W,M*.5)};
z.IX.qJ=function(h,R,d,L,$,W,M,x){var t=0,I=0,q=1e9,k=0,F=1e9,o=0,G=1e9,w=0,U=0,B=0,D=0;if(W){t=$*.5;
$=3+Math.round(($-3)*.75)}if(M){$=Math.round($*2.2)}var g=1/$,r=Math.floor(R*g)+1,l=Math.floor(d*g)+1,H=[],y=new Uint8Array(r*l*4),f=M?.5:1,b=W?64:0;
for(var K=0;K<l;K++){var Z=M?.5*(K&1):0;for(var J=0;J<r;J++){var u=(J+Math.random()*f+Z)*$,C=(K+Math.random()*f)*$;
H.push(u,C);var Q=Math.min(R-1,Math.floor(u)),i=Math.min(d-1,Math.floor(C)),j=(i*R+Q)*4,V=(K*r+J)*4;
for(var E=0;E<4;E++)y[V+E]=Math.max(0,Math.min(255,Math.floor(h[j+E]+(Math.random()-.5)*b)))}}var N=W?W:M?M:[0,0,0],n=r*l*2,a=[-r-1,-r,-r+1,-1,0,1,r-1,r,r+1];
for(var K=0;K<d;K++){B=0;for(var J=0;J<R;J++){var P=J+.5,v=K+.5,O=Math.floor(v*g),uk=Math.floor(P*g),ut=O*r+uk,uW=0,kV=0;
if(B>1+x){q=z.IX.Y$(H,I,P,v);w=Math.sqrt(q);B--;D++}else{q=F=G=1e9;for(var E=0;E<a.length;E++){var ua=(ut+a[E])*2;
if(ua<0||ua>=n)continue;var uu=z.IX.Y$(H,ua,P,v);if(uu<G){if(uu<F){if(uu<q){o=k;G=F;k=I;F=q;I=ua;q=uu}else{o=k;
G=F;k=ua;F=uu}}else{o=ua;G=uu}}}w=Math.sqrt(q);U=Math.sqrt(F);B=U-(w+U)*.5}if(M==null){var p=(w+U)*.5,_=W?Math.max(0,p-t):0;
uW=Math.max(0,Math.min(1,.5+p-w-_));kV=Math.max(0,Math.min(1,1-(.5+p-w)-_))}else{var uB=Math.min(z.IX.Yx(H,I,k,P,v),z.IX.Yx(H,I,o,P,v));
uW=Math.max(0,Math.min(1,uB-x*.5));if(P<x||R-x<P||v<x||d-x<v)uW=0;kV=0}var ub=1-kV-uW,V=K*R+J<<2,uq=I<<1,uF=k<<1;
L[V+0]=Math.floor(.5+uW*y[uq+0]+kV*y[uF+0]+ub*N[0]);L[V+1]=Math.floor(.5+uW*y[uq+1]+kV*y[uF+1]+ub*N[1]);
L[V+2]=Math.floor(.5+uW*y[uq+2]+kV*y[uF+2]+ub*N[2]);L[V+3]=h[V+3]}}};z.IX.Y$=function(h,R,d,L){var $=d-h[R],W=L-h[R+1];
return $*$+W*W};z.IX.Yx=function(h,R,d,L,$){var W=h[R],M=h[R+1],x=h[d],t=h[d+1],g=(W+x)*.5,r=(M+t)*.5,l=g+(t-M),H=r-(x-W),y=H-r,f=l-g;
return Math.abs(y*L-f*$+l*r-H*g)/Math.sqrt(f*f+y*y)};z.blur={};z.blur.zk=function(h){if(z.blur.Ke.length<h)z.blur.Ke=z.h(h);
return z.blur.Ke};z.blur.Ke=z.h(0);z.blur.YL=function(h){if(z.blur.qT.length<h)z.blur.qT=new Float32Array(h);
return z.blur.qT};z.blur.qT=new Float32Array(0);z.blur.yj=function(h,R,d,L){var $=d.k,W=d.$;z.blur.zeK(h,R,$,W,L)};
z.blur.zeA=function(h,R,d){var L=R.k,$=R.$;z.blur.zib(h,L,$,d)};z.blur.JZ=function(h,R,d,L,$){var W=d.k,M=d.$;
z.blur.zjt(h,R,W,M,L,$)};z.blur.YH=function(h,R,d,L){var $=d.k,W=d.$;L=Math.round(L);var M=z.blur.zk($*W);
z.kW(h,R);z.blur.KI(R,M,$,W,L)};z.blur.YU=function(h,R,d){var L=R.k,$=R.$;d=Math.round(d);var W=z.blur.zk(L*$*4);
z.blur.KK(h,W,L,$,d)};z.blur.zd=function(h,R,d,L){var $=d.k,W=d.$;L=Math.round(L);var M=z.blur.YL($*W);
z.kW(h,R);z.blur.YX(R,M,$,W,L)};z.blur.Yr=function(h,R,d){var L=R.k,$=R.$;d=Math.round(d);var W=z.blur.zk(L*$*4);
z.blur.Yo(h,W,L,$,d);z.kW(W,h)};z.blur.KS=function(h,R){var d=Math.sqrt(12*h*h/R+1),L=Math.floor(d);
if(L%2==0)L--;var $=L+2,W=(12*h*h-R*L*L-4*R*L-3*R)/(-4*L-4),M=Math.round(W),x=[];for(var t=0;t<R;t++)x.push(t<M?L:$);
return x};z.blur.zeK=function(h,R,d,L,$){var W=z.blur.KS($,3),M=z.blur.zk(d*L);z.kW(h,R);z.blur.KI(R,M,d,L,W[0]-1>>1);
z.blur.KI(R,M,d,L,W[1]-1>>1);z.blur.KI(R,M,d,L,W[2]-1>>1)};z.blur.zib=function(h,R,d,L){var $=z.blur.KS(L,3),W=z.blur.zk(R*d*4);
z.blur.KK(h,W,R,d,$[0]-1>>1);z.blur.KK(h,W,R,d,$[1]-1>>1);z.blur.KK(h,W,R,d,$[2]-1>>1)};z.blur.zjt=function(h,R,d,L,$,W){if(W==null)W=3;
var M=z.blur.KS($,W),x=z.blur.YL(d*L);z.kW(h,R);for(var t=0;t<W;t++)z.blur.YX(R,x,d,L,(M[0]-1)/2)};z.blur.KI=function(h,R,d,L,$){z.blur.zNb(h,R,d,L,$);
z.blur.zNw(R,h,d,L,$)};z.blur.KK=function(h,R,d,L,$){z.blur.Yo(h,R,d,L,$);z.blur.zND(R,h,d,L,$)};z.blur.YX=function(h,R,d,L,$){z.blur.zNj(h,R,d,L,$);
z.blur.zNp(R,h,d,L,$)};z.blur.qU=[];z.blur.Ko=function(h){if(z.blur.qU[h])return z.blur.qU[h];var R=1/(h+h+1),d=(h+h+1)*256,L=z.h(d);
for(var $=0;$<d;$++)L[$]=Math.round($*R);z.blur.qU[h]=L;return L};z.blur.zNb=function(h,R,d,L,$){var W=1/($+$+1),M=d-$-$-1,x=z.blur.Ko($);
for(var t=0;t<L;t++){var g=t*d,r=g,l=g+$,H=h[g],y=h[g+d-1],f=($+1)*H;for(var b=0;b<$;b++)f+=h[g+b];for(var b=0;
b<=$;b++){f+=h[l+b]-H;R[g+b]=x[f]}l+=$+1;g+=$+1;for(var b=0;b<M;b++){f+=h[l+b]-h[r+b];R[g+b]=x[f]}l+=M;
r+=M;g+=M;for(var b=d-$;b<d;b++){f+=y-h[r++];R[g++]=x[f]}}};z.blur.Yo=function(h,R,d,L,$){var W=d<<2,M=$<<2,x=1/($+$+1),t=d-$-$-1,g=t<<2,r=z.blur.Ko($);
for(var l=0;l<L;l++){var H=l*W,y=H,f=H+M,b=H+W,K=h[H],Z=h[H+1],J=h[H+2],u=h[H+3],C=($+1)*K,Q=($+1)*Z,i=($+1)*J,j=($+1)*u;
for(var V=0;V<M;V+=4){C+=h[H+V];Q+=h[H+V+1];i+=h[H+V+2];j+=h[H+V+3]}for(var V=0;V<=M;V+=4){C+=h[f]-K;
R[H]=r[C];Q+=h[f+1]-Z;R[H+1]=r[Q];i+=h[f+2]-J;R[H+2]=r[i];j+=h[f+3]-u;R[H+3]=r[j];f+=4;H+=4}for(var V=0;
V<g;V+=4){C+=h[f+V]-h[y+V];R[H+V]=r[C];Q+=h[f+V+1]-h[y+V+1];R[H+V+1]=r[Q];i+=h[f+V+2]-h[y+V+2];R[H+V+2]=r[i];
j+=h[f+V+3]-h[y+V+3];R[H+V+3]=r[j]}f+=g;y+=g;H+=g;K=h[b-4];Z=h[b-3];J=h[b-2];u=h[b-1];for(var V=d-$;
V<d;V++){C+=K-h[y];R[H]=r[C];Q+=Z-h[y+1];R[H+1]=r[Q];i+=J-h[y+2];R[H+2]=r[i];j+=u-h[y+3];R[H+3]=r[j];
y+=4;H+=4}}};z.blur.zNj=function(h,R,d,L,$){var W=1/($+$+1),M=d-$-$-1,x=0,t=0,g=0;for(var r=0;r<L;r++){x=r*d;
t=x;g=x+$;var l=h[x],H=h[x+d-1],y=($+1)*l;for(var f=0;f<$;f++){y+=h[x+f]}for(var f=0;f<=$;f++){y+=h[g++]-l;
R[x++]=y*W}for(var f=0;f<M;f++){y+=h[g+f]-h[t+f];R[x+f]=y*W}g+=M;t+=M;x+=M;for(var f=d-$;f<d;f++){y+=H-h[t++];
R[x++]=y*W}}};z.blur.zNw=function(h,R,d,L,$){var W=1/($+$+1),M=L-$-$-1,x=z.blur.Ko($);for(var t=0;t<d;
t++){var g=t,r=g,l=g+$*d,H=h[g],y=h[g+d*(L-1)],f=($+1)*H;for(var b=0;b<$;b++)f+=h[g+b*d];for(var b=0;
b<=$;b++){f+=h[l]-H;R[g]=x[f];l+=d;g+=d}for(var b=0;b<M;b++){var K=b*d;f+=h[l+K]-h[r+K];R[g+K]=x[f]}r+=M*d;
l+=M*d;g+=M*d;for(var b=L-$;b<L;b++){f+=y-h[r];R[g]=x[f];r+=d;g+=d}}};z.blur.zND=function(h,R,d,L,$){var W=d<<2,M=$<<2,x=1/($+$+1),t=L-$-$-1,g=t<<2,r=z.blur.Ko($);
for(var l=0;l<d;l++){var H=l<<2,y=H,f=H+$*W,b=H+W*(L-1),K=h[H],Z=h[H+1],J=h[H+2],u=h[H+3],C=($+1)*K,Q=($+1)*Z,i=($+1)*J,j=($+1)*u;
for(var V=0;V<$;V++){var E=H+V*W;C+=h[E];Q+=h[E+1];i+=h[E+2];j+=h[E+3]}for(var V=0;V<=$;V++){C+=h[f]-K;
R[H]=r[C];Q+=h[f+1]-Z;R[H+1]=r[Q];i+=h[f+2]-J;R[H+2]=r[i];j+=h[f+3]-u;R[H+3]=r[j];f+=W;H+=W}for(var V=0;
V<t;V++){var N=V*W;C+=h[f+N]-h[y+N];R[H+N]=r[C];Q+=h[f+N+1]-h[y+N+1];R[H+N+1]=r[Q];i+=h[f+N+2]-h[y+N+2];
R[H+N+2]=r[i];j+=h[f+N+3]-h[y+N+3];R[H+N+3]=r[j]}y+=t*W;f+=t*W;H+=t*W;K=h[b];Z=h[b+1];J=h[b+2];u=h[b+3];
for(var V=L-$;V<L;V++){C+=K-h[y];R[H]=r[C];Q+=Z-h[y+1];R[H+1]=r[Q];i+=J-h[y+2];R[H+2]=r[i];j+=u-h[y+3];
R[H+3]=r[j];y+=W;H+=W}}};z.blur.zNp=function(h,R,d,L,$){var W=1/($+$+1),M=L-$-$-1;for(var x=0;x<d;x++){var t=x,g=t,r=t+$*d,l=h[t],H=h[t+d*(L-1)],y=($+1)*l;
for(var f=0;f<$;f++)y+=h[t+f*d];for(var f=0;f<=$;f++){y+=h[r]-l;R[t]=y*W;r+=d;t+=d}for(var f=0;f<M;f++){var b=f*d;
y+=h[r+b]-h[g+b];R[t+b]=y*W}g+=M*d;r+=M*d;t+=M*d;for(var f=L-$;f<L;f++){y+=H-h[g];R[t]=y*W;g+=d;t+=d}}};
z.be={};z.be.h=function(h,R,d,L){var $=[];for(var W=0;W<4;W++)for(var M=0;M<4;M++)$.push(h+d*M/3,R+L*W/3);
return $};z.be.YY=function(h,R){var d=h.slice(0);for(var L=0;L<4;L++)for(var $=0;$<4;$++){var W=2*(L*4+$),M=2*($*4+(3-L));
if(R){var x=W;W=M;M=x}d[M]=h[W];d[M+1]=h[W+1]}return d};z.be.zN_=new Float64Array(16);z.be.drawImage=function(h,R,d,L,$,W,M){if(M==null)M=!1;
var x=W.k,t=W.$,H=2;$=new Uint32Array($.buffer);R=new Uint32Array(R.buffer);var g=z.be.Y.Vt(h,0,1,0,1,d,L),r=g.jt,l=g.ob,y=1/H,f=z.be.Kc,b=new Float64Array(2),K=new Uint32Array(30);
for(var Z=0;Z<t;Z++)for(var J=0;J<x;J++){var u=J+W.x+.5,C=Z+W.y+.5,Q=z.be.Y.zNO(r,l,u,C,K),a=0,I=0,q=0,k=0;
if(Q==0)continue;var i=Z*x+J,j=z.be.F$(h,u,C,r,K,Q,!0),V=f[0]*d,E=f[1]*L;if(M){if(j!=-1&&0<V&&V<d&&0<E&&E<L){var N=Math.floor(E)*d+Math.floor(V);
$[i]=R[N]}continue}var n=j!=-1&&(1<V&&V<d-1)&&(1<E&&E<L-1);if(r[j+8]<.95){z.S.pg(V,E,R,d,L,$,i,0);continue}for(var F=0;
F<H;F++)for(var o=0;o<H;o++){var u=J+W.x+(F+.5)*y,C=Z+W.y+(o+.5)*y,j=0;j=z.be.F$(h,u,C,r,K,Q,!0);if(j!=-1){var V=f[0],E=f[1],V=Math.floor(V*d);
E=Math.floor(E*L);var G=R[E*d+V],w=G>>>24;a+=(G&255)*w;I+=(G>>>8&255)*w;q+=(G>>>16&255)*w;k+=w}}if(k!=0){var U=1/k;
a=~~(a*U+.5);I=~~(I*U+.5);q=~~(q*U+.5);k=~~(k*y*y+.5);$[i]=k<<24|q<<16|I<<8|a}}};z.be.Kc=new Float64Array(5*20);
z.be.zNA=new Uint32Array(5*5*20);z.be.F$=function(h,R,d,L,$,W,M){var x=z.be.Kc,t=z.be.zNA,g=0,r=0;for(var l=0;
l<W;l++){var H=$[l],y=g;g=z.be.qc(h,R,d,L,H+4,M,x,g);if(g!=y){t[r]=H;r+=5}}if(g==0)return-1;else if(g==5)return t[0];
else{var f=0;for(var l=0;l<g;l+=5)if(x[l+4]<x[f+4])f=l;x[0]=x[f];x[1]=x[f+1];x[2]=x[f+2];x[3]=x[f+3];
return t[f]}};z.be.Dl=new Array(10);z.be.qc=function(h,R,d,L,$,W,M,x){var t=z.be.Dl,g=0,r=0,l=0,H=0,y=0,f=0,b=0,K=L[$],Z=L[$+1],J=L[$+2],u=L[$+3],C=(J-R)*(J-R)+(u-d)*(u-d);
for(var Q=0;Q<5&&C>.05;Q++){z.be._i(t,0,Z);z.be.pb(t,4,K);z.be.Jr(h,t);g=t[8];r=t[9];z.be.pb(t,0,Z);
z.be._i(t,4,K);z.be.Jr(h,t);l=t[8];H=t[9];y=1/(g*H-r*l);f=(J-R)*y;b=(u-d)*y;K+=-H*f+l*b;Z+=+r*f-g*b;
z.be.ql(h,K,Z,t);J=t[8];u=t[9];C=(J-R)*(J-R)+(u-d)*(u-d)}if(W&&(K<0||K>1||Z<0||Z>1||C>.25))return x;
M[x]=K;M[x+1]=Z;M[x+2]=J;M[x+3]=u;M[x+4]=g*H-r*l;return x+5};z.be.apply=function(h,R,d){var L=d.x,$=d.y,W=1/d.k,M=1/d.$,x=z.be.Dl;
for(var t=0;t<R.length;t+=2){var g=(R[t]-L)*W,r=(R[t+1]-$)*M;z.be.ql(h,g,r,x);R[t]=x[8];R[t+1]=x[9]}};
z.be.ql=function(h,R,d,L){z.be._i(L,0,d);z.be._i(L,4,R);z.be.Jr(h,L)};z.be.pb=function(h,R,d){var L=1-d;
h[R]=-3*(L*L);h[R+1]=3*(L*L)-6*(d*L);h[R+2]=6*(d*L)-3*(d*d);h[R+3]=3*(d*d)};z.be._i=function(h,R,d){var L=1-d;
h[R]=L*(L*L);h[R+1]=3*d*(L*L);h[R+2]=3*(d*d)*L;h[R+3]=d*d*d};z.be.Jr=function(h,R){var d=0,L=0,$=0;$=R[0]*R[4];
d+=h[0]*$;L+=h[1]*$;$=R[0]*R[5];d+=h[2]*$;L+=h[3]*$;$=R[0]*R[6];d+=h[4]*$;L+=h[5]*$;$=R[0]*R[7];d+=h[6]*$;
L+=h[7]*$;$=R[1]*R[4];d+=h[8]*$;L+=h[9]*$;$=R[1]*R[5];d+=h[10]*$;L+=h[11]*$;$=R[1]*R[6];d+=h[12]*$;L+=h[13]*$;
$=R[1]*R[7];d+=h[14]*$;L+=h[15]*$;$=R[2]*R[4];d+=h[16]*$;L+=h[17]*$;$=R[2]*R[5];d+=h[18]*$;L+=h[19]*$;
$=R[2]*R[6];d+=h[20]*$;L+=h[21]*$;$=R[2]*R[7];d+=h[22]*$;L+=h[23]*$;$=R[3]*R[4];d+=h[24]*$;L+=h[25]*$;
$=R[3]*R[5];d+=h[26]*$;L+=h[27]*$;$=R[3]*R[6];d+=h[28]*$;L+=h[29]*$;$=R[3]*R[7];d+=h[30]*$;L+=h[31]*$;
R[8]=d;R[9]=L};z.be.Y={};z.be.Y._t=12;z.be.Y.YV=new Uint32Array(50);z.be.Y.zNO=function(h,R,d,L,$){var W=0,M=z.be.Y.YV,x=1;
M[0]=0;while(x!=0){var t=M[--x];if(h[t+0]<=d&&h[t+1]<=L&&d<h[t+2]&&L<h[t+3]){if(R[t+t+18]==0){$[W]=t;
W++}else{M[x]=R[t+t+18];M[x+1]=R[t+t+19];x+=2}}}return W};z.be.Y.zNg=function(h,R,d,L,$){var W=0,M=z.be.Y.qY,x=z.be.Y.YV,t=1,g=0,r=999999999999;
x[0]=0;while(t!=0){var l=x[--t],H=M(d,L,h[l+0],h[l+1]),y=M(d,L,h[l+0],h[l+3]),f=M(d,L,h[l+2],h[l+1]),b=M(d,L,h[l+2],h[l+3]),K=Math.min(H,Math.min(y,Math.min(f,b))),Z=Math.max(H,Math.max(y,Math.max(f,b)));
if(K>r)continue;if(R[l+l+18]==0){if(Z<r){r=Z;g=l}}else{x[t]=R[l+l+18];x[t+1]=R[l+l+19];t+=2}}$[W]=g;
W++;return W};z.be.Y.qY=function(h,R,d,L){return(d-h)*(d-h)+(L-R)*(L-R)};z.be.Y.zi=null;z.be.Y.Va=null;
z.be.Y.Vt=function(h,R,d,L,$,W,M){if(W==null){W=1;M=1}z.be.Y.Va=h;if(z.be.Y.zi==null){z.be.Y.zi={jt:new Float64Array(15e3*8),ob:null};
z.be.Y.zi.ob=new Uint32Array(z.be.Y.zi.jt.buffer)}var x=z.be.Y.zi;z.be.Y.qV(h,R,d,L,$,0,x.jt,x.ob,0,W,M);
return x};z.be.Y.qV=function(h,R,d,L,$,W,M,x,t,g,r){var l=z.G.oY(h),H=t,y=z.be.Y.Va,f=(R+d)/2,b=(L+$)/2,K=z.be.Dl,Z=z.be.Kc,J=z.be.zN_,uk,ut,ua;
z.be.ql(y,f,b,K);var u=K[8],C=K[9];J[0]=f;J[1]=b;J[2]=u;J[3]=C;z.be.qc(y,u+1,C,J,0,!1,Z,0);var Q=(f-Z[0])*g,i=(b-Z[1])*r,j=Math.sqrt(Q*Q+i*i);
z.be.qc(y,u,C+1,J,0,!1,Z,0);var V=(f-Z[0])*g,E=(b-Z[1])*r,N=Math.sqrt(V*V+E*E);M[H]=l.x;M[H+1]=l.y;M[H+2]=l.x+l.k;
M[H+3]=l.y+l.$;M[H+4]=f;M[H+5]=b;M[H+6]=u;M[H+7]=C;M[H+8]=.5*(j+N);x[H+H+18]=0;x[H+H+19]=0;t+=10;z.be._i(K,0,.1);
z.be.pb(K,4,.1);z.be.Jr(h,K);var n=K[8],a=K[9];z.be.pb(K,0,.1);z.be._i(K,4,.7);z.be.Jr(h,K);var I=K[8],q=K[9];
z.be._i(K,0,.8);z.be.pb(K,4,.8);z.be.Jr(h,K);var k=K[8],F=K[9];z.be.pb(K,0,.9);z.be._i(K,4,.2);z.be.Jr(h,K);
var o=K[8],G=K[9],w=(k-n)*(k-n)+(o-I)*(o-I)+(F-a)*(F-a)+(G-q)*(G-q);if(t>=M.length){console.log("Buffer not long enough");
throw"e"}if(W==z.be.Y._t||w<2)return t;var U=z.be.Y.VM(h,!0),B=z.G.oY(U[0]),D=z.G.oY(U[1]),P=z.be.Y.VM(h,!1),v=z.G.oY(P[0]),O=z.G.oY(P[1]);
if(B.k+B.$+D.k+D.$<v.k+v.$+O.k+O.$){ua=!0;uk=U[0];ut=U[1]}else{ua=!1;uk=P[0];ut=P[1]}var uu=(R+d)/2,uW=(L+$)/2,kV=R,p=L,_=d,uB=$,ub=R,uq=L,uF=d,ue=$;
if(ua){_=ub=uu}else{uB=uq=uW}x[H+H+18]=t;t=z.be.Y.qV(uk,kV,_,p,uB,W+1,M,x,t,g,r);x[H+H+19]=t;t=z.be.Y.qV(ut,ub,uF,uq,ue,W+1,M,x,t,g,r);
var up=x[H+H+18],ui=x[H+H+19];M[H]=Math.min(M[up],M[ui]);M[H+1]=Math.min(M[up+1],M[ui+1]);M[H+2]=Math.max(M[up+2],M[ui+2]);
M[H+3]=Math.max(M[up+3],M[ui+3]);return t};z.be.Y.VM=function(h,R){var d=0,L=0,$=0,W=0,M=0,x=0,t=0,g=0,r=h.slice(0),l=h.slice(0);
for(var H=0;H<4;H++){d=R?h[H*8+2*0]:h[0*8+2*H];L=R?h[H*8+2*0+1]:h[0*8+2*H+1];$=R?h[H*8+2*1]:h[1*8+2*H];
W=R?h[H*8+2*1+1]:h[1*8+2*H+1];M=R?h[H*8+2*2]:h[2*8+2*H];x=R?h[H*8+2*2+1]:h[2*8+2*H+1];t=R?h[H*8+2*3]:h[3*8+2*H];
g=R?h[H*8+2*3+1]:h[3*8+2*H+1];var y=(d+$)/2,f=(L+W)/2,b=($+M)/2,K=(W+x)/2,Z=(M+t)/2,J=(x+g)/2,u=(y+b)/2,C=(f+K)/2,Q=(b+Z)/2,i=(K+J)/2,j=(u+Q)/2,V=(C+i)/2;
if(R){r[H*8+2*0]=d;r[H*8+2*0+1]=L;r[H*8+2*1]=y;r[H*8+2*1+1]=f;r[H*8+2*2]=u;r[H*8+2*2+1]=C;r[H*8+2*3]=j;
r[H*8+2*3+1]=V;l[H*8+2*0]=j;l[H*8+2*0+1]=V;l[H*8+2*1]=Q;l[H*8+2*1+1]=i;l[H*8+2*2]=Z;l[H*8+2*2+1]=J;l[H*8+2*3]=t;
l[H*8+2*3+1]=g}else{r[0*8+2*H]=d;r[0*8+2*H+1]=L;r[1*8+2*H]=y;r[1*8+2*H+1]=f;r[2*8+2*H]=u;r[2*8+2*H+1]=C;
r[3*8+2*H]=j;r[3*8+2*H+1]=V;l[0*8+2*H]=j;l[0*8+2*H+1]=V;l[1*8+2*H]=Q;l[1*8+2*H+1]=i;l[2*8+2*H]=Z;l[2*8+2*H+1]=J;
l[3*8+2*H]=t;l[3*8+2*H+1]=g}}return[r,l]};z.Nb={};z.Nb.zNI=function(h,R,d){var L=z.Nb.zNo(R,d),$=z.Nb.zNy(L,h,R,d);
return{$m:L,NM:$}};z.Nb.zN$=function(h,R,d){var L=Math.round(h.length/8),$=new Uint32Array(L),W=new Uint8Array(L),M=new Uint32Array(L);
z._M($,4294967295,0);$[d]=0;var x=new hR(L);x.push(d,$[d]);var t={$m:h,NM:R,jd:$,oB:W,QV:M,UM:x,zto:d};
return t};z.Nb.FF=function(h,R){var d=h.$m,L=h.NM,$=h.jd,W=h.oB,M=h.QV,x=h.UM;while(!x.dp()&&(R==null||W[R]==0)){var t=x.pop();
W[t]=1;for(var g=0;g<8;g++){var r=d[8*t+g];if(r==-1||W[r])continue;var l=$[t]+L[8*t+g];if(x.contains(r)&&l<$[r])x.remove(r,$[r]);
if(!x.contains(r)){$[r]=l;M[r]=t;x.push(r,$[r])}}}};function hR(h){this.Rf=new Uint32Array(h);this.list=[];
this.jk=0;this.Lh=4294967295}hR.prototype.dp=function(){return this.jk==0};hR.prototype.push=function(h,R){var d=this.list;
if(d[R]==null)d[R]=[];d[R].push(h);this.jk++;this.Rf[h]=d[R].length-1+1;this.Lh=Math.min(this.Lh,R)};
hR.prototype.pop=function(){this.jk--;var h=this.list,R=this.Lh,d=h[R].pop();if(h[R].length==0)h[R]=null;
this.Vu();this.Rf[d]=0;return d};hR.prototype.contains=function(h){return this.Rf[h]!=0};hR.prototype.remove=function(h,R){this.jk--;
var d=this.list,L=this.Rf[h]-1;if(L==d[R].length-1)d[R].pop();else{var $=d[R].pop();d[R][L]=$;this.Rf[$]=L+1}if(d[R].length==0)d[R]=null;
this.Rf[h]=0;this.Vu()};hR.prototype.Vu=function(){if(this.jk==0){this.Lh=4294967295;return}var h=this.Lh,R=this.list;
while(R[h]==null)h++;this.Lh=h};z.Nb.zNx=function(h,R,d){var L=new Float32Array(R*d);for(var $=0;$<d;
$++)for(var W=0;W<R;W++){var M=$*R+W,x=-16*h[M];if(1<W&&W<R-2&&1<$&&$<d-2){x+=h[M-R-R];x+=h[M-R-1]+2*h[M-R]+h[M-R+1];
x+=h[M-2]+2*h[M-1]+2*h[M+1]+h[M+2];x+=h[M+R-1]+2*h[M+R]+h[M+R+1];x+=h[M+R+R]}L[M]=x/16}return L};z.Nb.zNR=function(h,R,d){var L=new Float32Array(R*d),$=0,W=0;
for(var M=0;M<d;M++)for(var x=0;x<R;x++){var t=0,g=0;if(0<x&&x<R-1)t=h[$+1]-h[$-1];if(0<M&&M<d-1)g=h[$+R]-h[$-R];
L[$]=Math.sqrt(t*t+g*g);if(L[$]>W)W=L[$];$++}var r=R*d,l=W==0?0:1/W;for(var $=0;$<r;$++)L[$]=1-L[$]*l;
return L};z.Nb.zNJ=function(h,R,d){var L=new Float32Array(R*d*2),$=0;for(var W=0;W<d;W++)for(var M=0;
M<R;M++){var x=0,t=0;if(0<M&&M<R-1&&0<W&&W<d-1){x=2*h[$+1]-2*h[$-1];t=2*h[$+R]-2*h[$-R]}var g=Math.sqrt(x*x+t*t);
if(g!=0){L[2*$]=x/g;L[2*$+1]=t/g}else{L[2*$]=x;L[2*$+1]=t}$++}return L};z.Nb.zNy=function(h,R,d,L){var $=z.Nb.zNx(R,d,L),W=z.Nb.zNR(R,d,L),M=z.Nb.zNJ(R,d,L),x=256,t=new Float32Array(x);
for(var g=0;g<x;g++)t[g]=Math.acos(-1+2*g/(x-1));var r=[-1,0,1,1,1,0,-1,-1],l=[-1,-1,-1,0,1,1,1,0],H=1/Math.sqrt(2),y=new Uint8Array(d*L*8),f=d*L;
for(var b=0;b<f;b++){var K=$[b],Z=M[2*b+1],J=-M[2*b];for(var u=0;u<8;u++){var C=8*b+u,Q=h[C];if(Q==-1)y[C]=-1;
else{var i=(u&1)==0,j=K*$[Q]>=0?0:1,V=W[Q]*(i?1:H),E=1,N=M[2*Q+1],n=-M[2*Q];if(!(Z==0&&J==0||N==0&&n==0)){var a=r[u],I=l[u];
if(Z*r[u]+J*l[u]<0){a=-a;I=-I}if(i){a*=H;I*=H}var q=Z*a+J*I,k=N*a+n*I,F=2/(3*Math.PI)*(t[Math.floor((.5+.5*q)*(x-1))]+t[Math.floor((.5+.5*k)*(x-1))]);
E=F}var o=Math.round(20*(.43*j+.43*E+.14*V));y[C]=Math.max(1,Math.min(255,o))}}}console.log(y);return y};
z.Nb.zNo=function(h,R){var d=new Int32Array(h*R*8),L=d,$=0,W=0;L.fill(-1);for(var M=0;M<R;M++)for(var x=0;
x<h;x++){if(M>0&&x>0)L[W+0]=$-h-1;if(M>0)L[W+1]=$-h;if(M>0&&x<h-1)L[W+2]=$-h+1;if(x<h-1)L[W+3]=$+1;if(M<R-1&&x<h-1)L[W+4]=$+h+1;
if(M<R-1)L[W+5]=$+h;if(M<R-1&&x>0)L[W+6]=$+h-1;if(x>0)L[W+7]=$-1;$++;W+=8}return d};z.ee={};z.ee.ziQ=function(h,R){var d=h.slice(0);
for(var L=0;L<h.length;L++)d[L]*=R;return d};z.ee.pi=function(h){var R=h.slice(0),d=0;for(var L=0;L<h.length;
L++)d+=h[L];for(var L=0;L<h.length;L++)R[L]/=d;return R};z.ee.ziK=function(h,R,d,L,$){var W=$.length,M=W>>>1,x=M,t=d-M;
for(var g=0;g<L;g++)for(var r=x;r<t;r++){var l=0,H=g*d+r;for(var y=0;y<W;y++)l+=$[y]*h[H-M+y];R[H]=l}};
z.ee.ziJ=function(h,R,d,L,$){var W=$.length,M=W>>>1,x=M,t=L-M;for(var g=x;g<t;g++)for(var r=0;r<d;r++){var l=0,H=g*d+r;
for(var y=0;y<W;y++)l+=$[y]*h[H+(-M+y)*d];R[H]=l}};z.ee.zSM=function(h,R,d,L,$){var W=[-d-1,-d,-d+1,-1,0,1,d-1,d,d+1],M=L-1,x=d-1;
for(var t=1;t<M;t++)for(var g=1;g<x;g++){var r=t*d+g,l=z.ee._j(h,r,d,$);R[r]=~~(l+.5)}};z.ee._j=function(h,R,d,L){return h[R-d-1]*L[0]+h[R-d]*L[1]+h[R-d+1]*L[2]+h[R-1]*L[3]+h[R]*L[4]+h[R+1]*L[5]+h[R+d-1]*L[6]+h[R+d]*L[7]+h[R+d+1]*L[8]};
z.ee.Jc=function(h,R,d,L,$,W,M){if(M==null)M=!1;var x=Math.floor(Math.sqrt($.length)),t=x-1>>>1,g=new Uint32Array(h.buffer),R=new Uint8ClampedArray(R.buffer);
for(var r=0;r<L;r++)for(var l=0;l<d;l++){var H=0,y=0,f=0,b=0;for(var K=0;K<x;K++)for(var Z=0;Z<x;Z++){var J=$[K*x+Z];
if(J==0)continue;var u=Math.min(d-1,Math.max(0,l-t+Z)),C=Math.min(L-1,Math.max(0,r-t+K)),Q=g[C*d+u];
H+=(Q&255)*J;y+=(Q>>>8&255)*J;f+=(Q>>>16&255)*J;b+=(Q>>>24&255)*J}if(M){if(H<0)H=-H;if(y<0)y=-y;if(f<0)f=-f;
if(b<0)b=-b}var i=r*d+l<<2;R[i]=~~(.5+H);R[i+1]=~~(.5+y);R[i+2]=~~(.5+f);R[i+3]=255-W&R[i+3]|W&~~(.5+b)}};
z.ee.zSm=function(){function h(M,x,t,g,r,l,H){if(r==0){x.set(M);return}var y=z.h(t*g),f=z.h(t*g);if(z.qp(M)){var b=[z.ee.FS,z.ee.Fj],K=b.indexOf(l),Z=K!=-1?b[1-K]:l;
R(M,x,t,g,r,l,H);z.nP(M,y,3);z.ee.Fe(y,f,t,g,r,Z,H);z.Gn(f,x,3)}else{for(var J=0;J<3;J++){z.nP(M,y,J);
z.ee.Fe(y,f,t,g,r,l,H);z.Gn(f,x,J)}}}function R(M,x,t,g,r,l,H){var y=0,f=new ArrayBuffer(512*4*3),b=[new Int32Array(f,0),new Int32Array(f,2048),new Int32Array(f,2*2048)],K=1+2*Math.round(Math.sqrt(r)),Z=K>>>1,J=new Array(K),u=new Array(K);
for(var C=0;C<K;C++){var f=new ArrayBuffer(512*4*3);J[C]=[new Int32Array(f,0),new Int32Array(f,2048),new Int32Array(f,2*2048)];
u[C]=J[C][0]}var Q=l[0],i=l[1],j=b[0];for(var V=0;V<t;V++)if(V<r||V>t-r-K-1){j.fill(0);var E=Math.max(V-r,0),N=Math.min(t,V+r+1),n=N-E;
for(var a=0;a<r;a++)L(j,M,a*t+E,a*t+N,1);for(var a=0;a<g;a++){var I=a-r-1,q=a+r;if(q<g)L(j,M,q*t+E,q*t+N,1);
if(I>=0)L(j,M,I*t+E,I*t+N,-1);var k=a*t+V<<2;y=j[300];if(y!=0)for(var C=0;C<3;C++)x[k+C]=Q(b[C],M[k+C],y,H)}}else{for(var C=0;
C<K;C++)u[C].fill(0);var E=V-r+Z,N=V+r+1+Z;for(var a=0;a<r;a++)d(u,M,a*t+E,a*t+N,1,Z);for(var a=0;a<g;
a++){var I=a-r-1,q=a+r;if(I>=0)d(u,M,I*t+E,I*t+N,-1,Z);if(q<g)d(u,M,q*t+E,q*t+N,1,Z);var F=J[Z];y=F[0][300];
for(var C=0;C<Z;C++){var o=Z-1-C,G=Z+1+C,w=J[o],U=J[G],B=y+w[0][300],D=y+U[0][300],P=a*t+V+o<<2,v=a*t+V+G<<2;
if(B!=0)for(var O=0;O<3;O++)x[P+O]=i(F[O],w[O],M[P+O],B,H);if(D!=0)for(var O=0;O<3;O++)x[v+O]=i(F[O],U[O],M[v+O],D,H)}var k=a*t+V+Z<<2;
if(y!=0)for(var O=0;O<3;O++)x[k+O]=Q(F[O],M[k+O],y,H)}V+=K-1}}function d(M,x,t,g,r,l){var H=$,y=t<<2,f=g<<2;
H(M[l-1],x,t-1<<2,r);H(M[l-1],x,g-1<<2,-r);H(M[l+1],x,g<<2,r);H(M[l+1],x,t<<2,-r);for(var b=1;b<l;b++){var K=M[l-b-1],Z=M[l+b+1];
for(var J=0;J<=b;J++){var u=J<<2;H(K,x,t-1-J<<2,r);H(K,x,g-1-J<<2,-r);H(Z,x,g+J<<2,r);H(Z,x,t+J<<2,-r)}}L(M[l],x,t,g,r)}function L(M,x,t,g,r){var l=t<<2,H=g<<2;
while(l<H){$(M,x,l,r);l+=4}}function $(M,x,t,g){var r=g*x[t+3];M[300]+=r;W(M,x[t],0,r);W(M,x[t+1],512,r);
W(M,x[t+2],1024,r)}function W(M,x,t,g){M[t|x]+=g;M[t|256|x>>>4]+=g}return h}();z.ee.Fe=function(){function h(l,H,y,f,b,K,Z){if(b==0){H.set(l);
return}if(b<=80)R(l,H,y,f,b,K,Z);else W(l,H,y,f,b,K,Z)}function R(l,H,y,f,b,K,Z){var J=0,u=new Int32Array(512),C=1+2*Math.round(Math.sqrt(b)),Q=C>>>1,i=new Array(C);
for(var j=0;j<C;j++)i[j]=new Int32Array(512);var V=K[0],E=K[1];for(var N=0;N<y;N++)if(N<b||N>y-b-C-1){u.fill(0);
J=0;var n=Math.max(N-b,0),a=Math.min(y,N+b+1),I=a-n;for(var q=0;q<b;q++){J+=I;L(u,l,q*y+n,q*y+a,1)}for(var q=0;
q<f;q++){var k=q-b-1,F=q+b;if(k>=0){J-=I;L(u,l,k*y+n,k*y+a,-1)}if(F<f){J+=I;L(u,l,F*y+n,F*y+a,1)}var o=V(u,l[q*y+N],J,Z);
H[q*y+N]=o}}else{for(var j=0;j<C;j++)i[j].fill(0);J=0;var n=N-b+Q,a=N+b+1+Q,I=a-n;for(var q=0;q<b;q++){J+=I;
d(i,l,q*y+n,q*y+a,1,Q)}for(var q=0;q<f;q++){var k=q-b-1,F=q+b;if(k>=0){J-=I;d(i,l,k*y+n,k*y+a,-1,Q)}if(F<f){J+=I;
d(i,l,F*y+n,F*y+a,1,Q)}for(var j=0;j<Q;j++){var G=Q-1-j,w=Q+1+j;H[q*y+N+G]=E(i[Q],i[G],l[q*y+N+G],J,Z);
H[q*y+N+w]=E(i[Q],i[w],l[q*y+N+w],J,Z)}H[q*y+N+Q]=V(i[Q],l[q*y+N+Q],J,Z)}N+=C-1}}function d(l,H,y,f,b,K){var Z=$;
Z(l[K-1],H[y-1],0,b);Z(l[K-1],H[f-1],0,-b);Z(l[K+1],H[f],0,b);Z(l[K+1],H[y],0,-b);for(var J=1;J<K;J++){var u=l[K-J-1],C=l[K+J+1];
for(var Q=0;Q<=J;Q++){Z(u,H[y-1-Q],0,b);Z(u,H[f-1-Q],0,-b);Z(C,H[f+Q],0,b);Z(C,H[y+Q],0,-b)}}L(l[K],H,y,f,b)}function L(l,H,y,f,b){while(y<f)$(l,H[y++],0,b)}function $(l,H,y,f){l[y|H]+=f;
l[y|256|H>>>4]+=f}function W(l,H,y,f,b,K,Z){var J=0,u=new Int32Array(512),C=new Int32Array(1*y),Q=new Int32Array(512*y),i=Math.min(b,y),j=Math.min(b,f),V=K[0];
for(var E=0;E<j;E++)M(Q,C,l,y,E,1);for(var E=0;E<f;E++){if(E+b<f)M(Q,C,l,y,E+b,1);if(E-b-1>=0)M(Q,C,l,y,E-b-1,-1);
u.fill(0);J=0;for(var N=0;N<i;N++){J+=C[N];x(u,Q,N)}for(var N=0;N<y;N++){var n=N-b-1,a=N+b;if(n>=0&&C[n]!=0){J-=C[n];
t(u,Q,n)}if(a<y&&C[a]!=0){J+=C[a];x(u,Q,a)}var I=J==0?0:V(u,l[E*y+N],J,Z);H[E*y+N]=I}}}function M(l,H,y,f,b,K){var Z=b*f;
for(var J=0;J<f;J++){$(l,y[Z+J],J<<9,K);H[J]+=K}}function x(l,H,y){for(var f=0;f<16;f++){var b=H[y<<9|256|f];
if(b==0)continue;l[256|f]+=b;var K=f<<4,Z=y<<9|K;g(l,H,K,Z);g(l,H,K+4,Z+4);g(l,H,K+8,Z+8);g(l,H,K+12,Z+12)}}function t(l,H,y){for(var f=0;
f<16;f++){var b=H[y<<9|256|f];if(b==0)continue;l[256|f]-=b;var K=f<<4,Z=y<<9|K;r(l,H,K,Z);r(l,H,K+4,Z+4);
r(l,H,K+8,Z+8);r(l,H,K+12,Z+12)}}function g(l,H,y,f){l[y]+=H[f];l[y+1]+=H[f+1];l[y+2]+=H[f+2];l[y+3]+=H[f+3]}function r(l,H,y,f){l[y]-=H[f];
l[y+1]-=H[f+1];l[y+2]-=H[f+2];l[y+3]-=H[f+3]}return h}();z.ee.Fj=[function(h,R,d,L){var $=15;while(h[256|$]==0&&$>0)$--;
$=($<<4)+15;while(h[$]==0&&$>0)$--;return $},function(h,R,d,L,$){var W=15;while(h[256|W]+R[256|W]==0&&W>0)W--;
W=(W<<4)+15;while(h[W]+R[W]==0&&W>0)W--;return W}];z.ee.FS=[function(h,R,d,L){var $=0;while(h[256|$]==0&&$<15)$++;
$=$<<4;while(h[$]==0&&$<255)$++;return $},function(h,R,d,L,$){var W=0;while(h[256|W]+R[256|W]==0&&W<15)W++;
W=W<<4;while(h[W]+R[W]==0&&W<255)W++;return W}];z.ee.zP=.5;z.ee.F_=[function(h,R,d,L){var $=~~(.5+z.ee.zP*d),W=0,M=256;
while(W+h[M]<=$)W+=h[M++];M=M-256<<4;while(W<=$)W+=h[M++];return M-1},function(h,R,d,L,$){var W=~~(.5+z.ee.zP*L),M=0,x=256;
while(M+h[x]+R[x]<=W){M+=h[x]+R[x];x++}x=x-256<<4;while(M<=W){M+=h[x]+R[x];x++}return x-1}];z.ee.VB=[function(h,R,d,L){var $=L[0],W=0,M=0,x=Math.max(0,R-$),t=Math.min(256,R+$+1);
while(x<t){var g=h[x];W+=x*g;M+=g;x++}return M==0?0:W/M},function(h,R,d,L,$){var W=$[0],M=0,x=0,t=Math.max(0,d-W),g=Math.min(256,d+W+1);
while(t<g){var r=h[t]+R[t];M+=t*r;x+=r;t++}return x==0?0:M/x}];z.S={};z.S.Vq=function(h){var R=s.w.vD(h.Trnf),d=h.Sz.v,L=z.S.wy(R,new A(0,0,d.Wdth.v,d.Hght.v));
return z.S.Qx(L)};z.S.wy=function(h,R){var h=h.slice(0),d=h[0],L=h[1],$=h[2],W=h[3],M=h[6],x=h[7],t=h[4],g=h[5],r=0,l=0,H=1,y=0,f=0,b=1,K=1,Z=1;
if(R){r=R.x;l=R.y;H=R.x+R.k;y=R.y;f=R.x;b=R.y+R.$;K=R.x+R.k;Z=R.y+R.$}var J=[[r,l,1,0,0,0,-r*d,-l*d,d],[0,0,0,r,l,1,-r*L,-l*L,L],[H,y,1,0,0,0,-H*$,-y*$,$],[0,0,0,H,y,1,-H*W,-y*W,W],[f,b,1,0,0,0,-f*M,-b*M,M],[0,0,0,f,b,1,-f*x,-b*x,x],[K,Z,1,0,0,0,-K*t,-Z*t,t],[0,0,0,K,Z,1,-K*g,-Z*g,g]],u=[0,0,0,0,0,0,0,0],C=z.LV.cz.zT(J,u);
if(C!=0)u=[0,0,0,0,0,0,0,0];return u};z.S.Kv=function(h){return Math.abs(h[6])<1e-10&&Math.abs(h[7])<1e-10};
z.S.Qx=function(h){return new um(h[0],h[3],h[1],h[4],h[2],h[5])};z.S.iE=function(h){return[h.r$,h.DS,h.RZ,h.W,h.Cv,h.fA,0,0]};
z.S.apply=function(h,R){var d=new Float64Array(2);for(var L=0;L<R.length;L+=2){var $=R[L],W=R[L+1];z.S.Fm($,W,h,d);
R[L]=d[0];R[L+1]=d[1]}};z.S.Fm=function(h,R,d,L){var $=1/(d[6]*h+d[7]*R+1);L[0]=(d[0]*h+d[1]*R+d[2])*$;
L[1]=(d[3]*h+d[4]*R+d[5])*$};z.S.Vd=function(h,R){var d=new Float64Array(2);z.S.Fm(R.x,R.y,h,d);return new kY(d[0],d[1])};
z.S.i_=function(h,R,d,L){h=new Uint32Array(h.buffer);R=new Uint32Array(R.buffer);for(var $=0;$<L;$++){for(var W=0;
W<d;W++){R[W*L+$]=h[$*d+W]}}};z.S.zSC=function(h,R,d,L){h=new Uint32Array(h.buffer);R=new Uint32Array(R.buffer);
for(var $=0;$<L;$++){for(var W=0;W<d;W++){R[$*d+W]=h[$*d+d-1-W]}}};z.S.VE=function(h){return Math.abs(h[6])<1e-9&&Math.abs(h[7])<1e-9};
z.S.Vi=function(h){return Math.abs(h[0])<1e-9&&Math.abs(h[4])<1e-9||Math.abs(h[1])<1e-9&&Math.abs(h[3])<1e-9};
z.S.drawImage=function(h,R,d,L,$,W,M,x){if(M==null)M=!1;if(x==null)x=!1;var t=z.S.Gv(h),g=!0,r=0,l=1/Math.sqrt(Math.abs(h[0]/d*h[4]/L-h[1]/d*h[3]/L));
for(var H=0;H<8;H++){var y=Math.round(h[H]);if(H!=2&&H!=5)r+=Math.abs(y);if(Math.abs(y-h[H])>1e-9)g=!1}var f=z.S.VE(h),b=z.S.Vi(h)&&f,K=b?1:0;
if(M||g&&r==d+L&&f){z.S.zSx(t,R,d,L,$,W,x,f);return}var Z=W.k,J=W.$,u=new Float64Array(2);$=new Uint32Array($.buffer);
R=new Uint32Array(R.buffer);for(var C=0;C<J;C++)for(var Q=0;Q<Z;Q++){var i=C*Z+Q,j,V,E,N,O=0,uk=0,ut=0,ua=0;
$[i]=0;var n=Q+W.x+.5,a=C+W.y+.5;j=n;V=a;E=t;N=1/(E[6]*j+E[7]*V+1);var I=(E[0]*j+E[1]*V+E[2])*N,q=(E[3]*j+E[4]*V+E[5])*N,k=I*d,F=q*L,o=k<-1||k>d+1||F<-1||F>L+1;
if(x){k=Math.max(.001,Math.min(d-1,k));F=Math.max(.001,Math.min(L-1,F))}else if(o)continue;var G=l;if(!f){var w=0,U=0;
E=h;j=I+1/d;V=q;N=1/(E[6]*j+E[7]*V+1);w=(E[0]*j+E[1]*V+E[2])*N-n;U=(E[3]*j+E[4]*V+E[5])*N-a;var B=w*w+U*U;
j=I;V=q+1/L;N=1/(E[6]*j+E[7]*V+1);w=(E[0]*j+E[1]*V+E[2])*N-n;U=(E[3]*j+E[4]*V+E[5])*N-a;var D=w*w+U*U;
G=1/Math.sqrt(Math.max(B,D))}if(G<1.1){z.S.pg(k,F,R,d,L,$,i,K);continue}var P=Math.round(G*2.3);if(!x&&(k<.6||k>d-.6||F<.6||F>L-.6)){P=Math.max(P,5)}if(x&&o)P=1;
var v=1/P,uu=W.x+Q,uW=W.y+C;E=t;for(var H=0;H<P;H++)for(var kV=0;kV<P;kV++){j=uu+(H+.5)*v;V=uW+(kV+.5)*v;
N=1/(E[6]*j+E[7]*V+1);var k=(E[0]*j+E[1]*V+E[2])*N,F=(E[3]*j+E[4]*V+E[5])*N;if(x){k=Math.max(.001,Math.min(.999,k));
F=Math.max(.001,Math.min(.999,F))}else if(k<0||k>=1||F<0||F>=1)continue;k=Math.floor(k*d);F=Math.floor(F*L);
var p=F*d+k,_=R[p],uB=_>>>24;O+=(_&255)*uB;uk+=(_>>>8&255)*uB;ut+=(_>>>16&255)*uB;ua+=uB}if(ua!=0){var ub=1/ua;
O=~~(O*ub+.5);uk=~~(uk*ub+.5);ut=~~(ut*ub+.5);ua=~~(ua*v*v+.5);$[i]=ua<<24|ut<<16|uk<<8|O}}};z.S.zSx=function(h,R,d,L,$,W,M,x){var t=W.x+W.k,g=W.y+W.$,r=0,l=new Uint32Array($.buffer),H=new Uint32Array(R.buffer),y=h[0]*d,f=h[1]*d,b=h[2]*d,K=h[3]*L,Z=h[4]*L,J=h[5]*L,u=h[6],C=h[7];
if(x&&!M)for(var Q=W.y+.5;Q<g;Q++)for(var i=W.x+.5;i<t;i++){var j=y*i+f*Q+b,V=K*i+Z*Q+J;if(0<j&&j<d&&0<V&&V<L){var E=~~V*d+~~j;
l[r]=H[E]}else l[r]=0;r++}else for(var Q=W.y+.5;Q<g;Q++)for(var i=W.x+.5;i<t;i++){var N=1/(u*i+C*Q+1),j=(y*i+f*Q+b)*N,V=(K*i+Z*Q+J)*N;
if(M){j=Math.max(.001,Math.min(d-1,j));V=Math.max(.001,Math.min(L-1,V))}if(0<j&&j<d&&0<V&&V<L){var E=Math.floor(V)*d+Math.floor(j);
l[r]=H[E]}else l[r]=0;r++}};z.S.Gv=function(h){var R=h[4]-h[5]*h[7],d=h[2]*h[7]-h[1],L=h[1]*h[5]-h[2]*h[4],$=h[5]*h[6]-h[3],W=h[0]-h[2]*h[6],M=h[3]*h[2]-h[0]*h[5],x=h[3]*h[7]-h[4]*h[6],t=h[1]*h[6]-h[0]*h[7],g=1/(h[0]*h[4]-h[1]*h[3]);
return[R*g,d*g,L*g,$*g,W*g,M*g,x*g,t*g]};z.S.wq=function(h,R){var d=h[0],L=h[1],$=h[2],W=h[3],M=h[4],x=h[5],t=h[6],g=h[7],r=R[0],l=R[1],H=R[2],y=R[3],f=R[4],b=R[5],K=R[6],Z=R[7],J=[d*r+L*y+$*K,d*l+L*f+$*Z,d*H+L*b+$,W*r+M*y+x*K,W*l+M*f+x*Z,W*H+M*b+x,t*r+g*y+K,t*l+g*f+Z],u=1/(t*H+g*b+1);
for(var C=0;C<8;C++)J[C]*=u;return J};z.S.pg=function(h,R,d,L,$,W,M,x){var t=h,g=R,H=0,y=0,f=0,b=0;h-=.499999;
R-=.499999;var r=Math.floor(h),l=Math.floor(R);if(x==0){var K=l*L+r,Z=r>=0&&r<L,J=r+1>=0&&r+1<L,u=l>=0&&l<$,C=l+1>=0&&l+1<$;
if(Z&&u)H=d[K];if(J&&u)y=d[K+1];if(Z&&C)f=d[K+L];if(J&&C)b=d[K+L+1]}else if(x==1){var Q=r<0?0:r>L-1?L-1:r,i=r<-1?0:r>L-2?L-1:r+1,j=l<0?0:l>$-1?$-1:l,V=l<-1?0:l>$-2?$-1:l+1;
H=d[j*L+Q];y=d[j*L+i];f=d[V*L+Q];b=d[V*L+i]}else{var Q=(r+50*L)%L,i=(r+50*L)%L,j=(l+50*$)%$,V=(l+50*$)%$;
H=d[j*L+Q];y=d[j*L+i];f=d[V*L+Q];b=d[V*L+i]}var E=h-r,N=R-l,n=(1-N)*(1-E)*(H>>>24),a=(1-N)*E*(y>>>24),I=N*(1-E)*(f>>>24),q=N*E*(b>>>24),k=n+a+I+q,F=n*(H&255)+a*(y&255)+I*(f&255)+q*(b&255),o=n*(H>>>8&255)+a*(y>>>8&255)+I*(f>>>8&255)+q*(b>>>8&255),G=n*(H>>>16&255)+a*(y>>>16&255)+I*(f>>>16&255)+q*(b>>>16&255);
if(k==0)W[M]=0;else{var w=1/k;F=~~(F*w+.5);o=~~(o*w+.5);G=~~(G*w+.5);k=~~(k+.5);W[M]=k<<24|G<<16|o<<8|F}};
z.S.Vj=function(h,R,d,L,$,W){var M=h-.499999,x=R-.499999,t=~~M,g=~~x,r=M-t,l=x-g,H=(1-l)*(1-r),y=(1-l)*r,f=l*(1-r),b=l*r,K=g*L+t<<2,Z=(g+1)*L+t<<2,J=H*d[K]+y*d[K+4]+f*d[Z]+b*d[Z+4],u=H*d[K+1]+y*d[K+5]+f*d[Z+1]+b*d[Z+5],C=H*d[K+2]+y*d[K+6]+f*d[Z+2]+b*d[Z+6],Q=H*d[K+3]+y*d[K+7]+f*d[Z+3]+b*d[Z+7];
W[0]=J;W[1]=u;W[2]=C;W[3]=Q};z.S.Vw=function(h,R,d,L,$,W,M,x,t,g,r,l){var H=new Uint32Array(h.buffer),y=new Uint32Array(L.buffer),f=(1+2*g)/$,b=[],K=[];
for(var Z=0;Z<$;Z++){var J=-.25+g-Z*f;b.push(Math.cos(2*Math.PI*J)*l/r);b.push(Math.sin(2*Math.PI*J)/r)}M*=R;
x*=d;for(var u=0;u<W;u++){var C=Math.pow(u/W,t)*W;for(var Z=0;Z<$;Z++){var Q=M+b[Z<<1]*C,i=x+b[(Z<<1)+1]*C,j=~~(.5+(Q<0?0:Q>R-1?R-1:Q)),V=~~(.5+(i<0?0:i>d-1?d-1:i));
y[u*$+Z]=H[V*R+j]}}};z.S.Vp=function(h,R,d,L,$,W,M,x,t,g,r,l){var H=new Uint32Array(h.buffer),y=new Uint32Array(L.buffer),f=1/l,b=[],K=d*4,Z=1/K;
for(var J=0;J<K;J++)b.push(Math.pow(J*Z,1/t)*d*r);M*=$;x*=W;for(var J=0;J<W;J++)for(var u=0;u<$;u++){var C=f*(u-M),Q=J-x,i=1.75-Math.atan2(Q,C)*(1/(2*Math.PI));
i=i-~~i;i=(i+g)*(1/(1+2*g));var j=Math.sqrt(C*C+Q*Q);j=b[~~(j*4)];z.S.pg(i*R+.5,j+.5,H,R,d,y,J*$+u,1)}};
z.i={pI:function(h,R){var d=~~(.499+h*R);return d<0?0:d>R?R:d},zwt:function(h,R,d,L,$,W,M,x){var t=d[0],g=d[1],r=d[2],l=d[3],H=L.k,y=L.$,f=new Float64Array(H*4+8),b=new Float64Array(H*4+8);
for(var K=0,Z=0;K<y;K++){var J=f;f=b;b=J;b.fill(0);for(var u=0;u<H;u++,Z++){var C=u+$,Q=K+W,i=t*C+g*Q,j=r*C+l*Q,V=0,n=0;
if(x==0)V=i+.5;else if(x==1)V=2*Math.sqrt(i*i+j*j);else if(x==2)V=(Math.PI+Math.atan2(-j,-i))/(2*Math.PI);
else if(x==3)V=Math.abs(i*2);else if(x==4)V=2*(Math.abs(i)+Math.abs(j));var E=z.i.pI(V,M)*4,N=u*4;for(var a=0;
a<4;a++){var I=Math.max(0,Math.min(254.999,R[E+a]+f[N+4+a])),q=Math.floor(I);if(Math.random()<I-q)q++;
var k=I-q;f[N+8+a]=k*(7/16);b[N+0+a]=k*(3/16);b[N+4+a]=k*(5/16);b[N+8+a]=k*(1/16);n|=q<<a*8}h[Z]=n}}},Y:[function(h,R,d,L,$,W,M){var x=d[0],t=d[1],g=d[2],r=d[3],l=L.k,H=L.$;
for(var y=0,f=0;y<H;y++)for(var b=0;b<l;b++,f++){var K=b+$,Z=y+W,J=x*K+t*Z,u=g*K+r*Z,C=J+.5;h[f]=R[z.i.pI(C,M)]}},function(h,R,d,L,$,W,M){var x=d[0],t=d[1],g=d[2],r=d[3],l=L.k,H=L.$;
for(var y=0,f=0;y<H;y++)for(var b=0;b<l;b++,f++){var K=b+$,Z=y+W,J=x*K+t*Z,u=g*K+r*Z,C=2*Math.sqrt(J*J+u*u);
h[f]=R[z.i.pI(C,M)]}},function(h,R,d,L,$,W,M){var x=d[0],t=d[1],g=d[2],r=d[3],l=L.k,H=L.$;for(var y=0,f=0;
y<H;y++)for(var b=0;b<l;b++,f++){var K=b+$,Z=y+W,J=x*K+t*Z,u=g*K+r*Z,C=(Math.PI+Math.atan2(-u,-J))/(2*Math.PI);
h[f]=R[z.i.pI(C,M)]}},function(h,R,d,L,$,W,M){var x=d[0],t=d[1],g=d[2],r=d[3],l=L.k,H=L.$;for(var y=0,f=0;
y<H;y++)for(var b=0;b<l;b++,f++){var K=b+$,Z=y+W,J=x*K+t*Z,u=g*K+r*Z,C=Math.abs(J*2);h[f]=R[z.i.pI(C,M)]}},function(h,R,d,L,$,W,M){var x=d[0],t=d[1],g=d[2],r=d[3],l=L.k,H=L.$;
for(var y=0,f=0;y<H;y++)for(var b=0;b<l;b++,f++){var K=b+$,Z=y+W,J=x*K+t*Z,u=g*K+r*Z,C=2*(Math.abs(J)+Math.abs(u));
h[f]=R[z.i.pI(C,M)]}}]};z.i.zif=function(h,R){return h+.5};z.i.zio=function(h,R){return 2*Math.sqrt(h*h+R*R)};
z.i.zic=function(h,R){return(Math.PI+Math.atan2(-R,-h))/(2*Math.PI)};z.i.ziv=function(h,R){return Math.abs(h*2)};
z.i.zja=function(h,R){return 2*(Math.abs(h)+Math.abs(R))};z.i.zD=function(h,R,d,L,$,W,M,x,t,g,r,l){if(h.Clrs==null)return;
var H=new Uint32Array(R.buffer),y=1023,f=z.i.KY(h.Clrs.v,t,g);if(l){var b=z.i.zwj(h,f,y+1,M);z.i.zwt(H,b,L,d,d.x-$,d.y-W,y,x);
return}var K=z.i.V_(h,f,y+1,M);if(x<5){z.i.Y[x](H,K,L,d,d.x-$,d.y-W,y)}else{var Z=new Uint8Array(K.buffer),J=d.k,u=d.$,C=r.GI-r.NX,Q=1/C,i=r.wK.k-d.k>>1,j=r.wK.$-d.$>>1,V=r.wK.k,E=-.6*Q,N=(-.6+.4)*Q,n=(-.6+2*.4)*Q,a=(-.6+3*.4)*Q;
for(var I=0,q=0;I<u;I++)for(var k=0;k<J;k++,q+=4){var F=0,o=0,G=0,w=0,U=(I+j)*V+k+i,B=(r.ju[U]-r.NX)*Q,D=0;
if(B<=0||B>=1){D=(B<=0?0:y)<<2;R[q]=Z[D];R[q+1]=Z[D+1];R[q+2]=Z[D+2];R[q+3]=Z[D+3];continue}D=Math.max(0,Math.min(y-1,Math.round((B+E)*y)))<<2;
o+=Z[D];G+=Z[D+1];w+=Z[D+2];F+=Z[D+3];D=Math.max(0,Math.min(y-1,Math.round((B+N)*y)))<<2;o+=Z[D];G+=Z[D+1];
w+=Z[D+2];F+=Z[D+3];D=Math.max(0,Math.min(y-1,Math.round((B+n)*y)))<<2;o+=Z[D];G+=Z[D+1];w+=Z[D+2];F+=Z[D+3];
D=Math.max(0,Math.min(y-1,Math.round((B+a)*y)))<<2;o+=Z[D];G+=Z[D+1];w+=Z[D+2];F+=Z[D+3];R[q]=o>>>2;
R[q+1]=G>>>2;R[q+2]=w>>>2;R[q+3]=F>>>2}}};z.i.KY=function(h,R,d){var L=[];for(var $=0;$<h.length;$++){var W;
if(h[$].v.Type.v.Clry=="FrgC")W={H:R>>16&255,N:R>>8&255,W:R&255};else if(h[$].v.Type.v.Clry=="BckC")W={H:d>>16&255,N:d>>8&255,W:d&255};
else W=z.i.IZ(h[$].v.Clr.v);L.push(W)}return L};z.i.IZ=function(h){var R,d=h.classID;if(d=="RGBC")R={H:h.Rd.v,N:h.Grn.v,W:h.Bl.v};
else if(d=="HSBC"){R=z.Ed(h.H.v.val/360,h.Strt.v/100,h.Brgh.v/100);R.H*=255;R.N*=255;R.W*=255}else if(d=="CMYC"){var L=100-h.Cyn.v,$=100-h.Mgnt.v,W=100-h.Ylw.v,M=100-h.Blck.v,x=255*L*M*1e-4,t=255*(.2*L+.8*$)*M*1e-4,g=255*(.2*$+.8*W)*M*1e-4;
R={H:x,N:t,W:g}}else if(d=="Grsc")R={H:255-h.Gry.v,N:255-h.Gry.v,W:255-h.Gry.v};else if(d=="LbCl"){R=z.Yi(h.Lmnc.v,h.A.v,h.B.v)}else console.log(h);
if(isNaN(R.H))R.H=R.N=R.W=0;return R};z.i.ZR=function(h){return{classID:"RGBC",Rd:{t:"doub",v:h.H},Grn:{t:"doub",v:h.N},Bl:{t:"doub",v:h.W}}};
z.i.zwj=function(h,R,d,L){var $=[],W=1/(d-0);for(var M=0;M<d;M++){var x=M*4,t=z.i.Vg(h,R,(L?d-1-M:M)*W);
$[x]=t[0];$[x+1]=t[1];$[x+2]=t[2];$[x+3]=t[3]}return $};z.i.V_=function(h,R,d,L){var $=new Uint32Array(d),W=1/(d-0);
for(var M=0;M<d;M++)$[M]=z.i.$G(h,R,(L?d-1-M:M)*W);return $};z.i.Vg=function(h,R,d){var L=4096,$=1/4096,W=h.Intr.v*$,M=h.Clrs.v,x=h.Trns.v,t=M.length-1,g=x.length-1,r=-1,l=0,H=0,y=0,f=0;
while(r<g&&x[r+1].v.Lctn.v<=d*L)r++;if(r==-1){l=x[0].v.Opct.v.val*(255/100)}else if(r==g){l=x[r].v.Opct.v.val*(255/100)}else{var b=z.i.VZ(x,$,r,d,W);
l=(b*x[r].v.Opct.v.val+(1-b)*x[r+1].v.Opct.v.val)*(255/100)}r=-1;while(r<t&&M[r+1].v.Lctn.v<=d*L)r++;
if(r==-1){var K=R[0];H=K.H;y=K.N;f=K.W}else if(r==t){var K=R[r];H=K.H;y=K.N;f=K.W}else{var Z=R[r],J=R[r+1],u=z.i.VZ(M,$,r,d,W);
H=u*Z.H+(1-u)*J.H;y=u*Z.N+(1-u)*J.N;f=u*Z.W+(1-u)*J.W}return[H,y,f,l]};z.i.$G=function(h,R,d){var L=z.i.Vg(h,R,d),$=~~(.5+L[0]),W=~~(.5+L[1]),M=~~(.5+L[2]),x=~~(.5+L[3]);
return x<<24|M<<16|W<<8|$};z.i.VZ=function(h,R,d,L,$){if(h.length==2)$*=.5;var W=h[d].v.Lctn.v*R,M=h[d+1].v.Lctn.v*R,x=W+h[d+1].v.Mdpn.v*.01*(M-W),t;
if(L<x)t=.5*(L-W)/(x-W);else t=.5+.5*(L-x)/(M-x);t=.5+.5*($*Math.cos(Math.PI*t)+(1-$)*(1-2*t));return t};
z.i.FO=function(h,R){var d=Math.PI*h.Angl.v.val/180,L=h.Scl.v.val/100,$=h.Ofst.v,W=$.Hrzn.v.val/100,M=$.Vrtc.v.val/100,x=Math.cos(d),t=-Math.sin(d),g=.5*R.$,r=g*(x/t),l=Math.sqrt(g*g+r*r),H=.5*R.k,y=H*(t/x),f=Math.sqrt(H*H+y*y),b=Math.min(l,f)*L,K=R.x+R.k/2+W*R.k,Z=R.y+R.$/2+M*R.$;
return[new kY(K,Z),new kY(K+x*b,Z+t*b)]};z.i.ZM=function(h,R,d,L){var $=R.x-h.x,W=-(R.y-h.y),M=Math.sqrt($*$+W*W),x=Math.atan2(W,$),t=Math.cos(x),g=-Math.sin(x),r=.5*d.$,l=r*(t/g),H=Math.sqrt(r*r+l*l),y=.5*d.k,f=y*(g/t),b=Math.sqrt(y*y+f*f),K=M/Math.min(H,b),Z=(h.x-d.x-d.k/2)/d.k,J=(h.y-d.y-d.$/2)/d.$;
L.Angl.v.val=180*x/Math.PI;L.Scl.v.val=K*100;var u=L.Ofst.v;u.Hrzn.v.val=Z*100;u.Vrtc.v.val=J*100};z.i.z_=function(h,R){for(var d=0;
d<h.length;d++){var L=h[d],$=Math.round(L[0]*4096),W=L[1],M=L[2];if(M==null)M=1;var x=z.i.ZR({H:W[0]*255,N:W[1]*255,W:W[2]*255});
R.Clrs.v[d]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:$},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:x},Type:{t:"enum",v:{Clry:"UsrS"}}}};
R.Trns.v[d]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:$},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(M*100)}}}}}};
z.WR={};z.WR.zC=function(h,R,d,L,$){var W=!1,f=1,q=0,k=0,P=0,up=0;if(!R.nF($)){var M=R.DM($),x=z.h(M.s()*4);
z.bt(h,R,x,M);h=x;R=M}var t=z.h(R.s());z.mF(d,$,t,R);z.round(t);$=$.hc(R);var g=$.k,r=$.$,l=g*3<r?2:1,H=r*3<g?2:1;
if($.s()*(l*2+1)*(H*2+1)<R.s()){var M=new A($.x-g*l,$.y-r*l,g*(l*2+1),r*(H*2+1)).hc(R),x=z.h(M.s()*4);
z.bt(h,R,x,M);var y=z.h(M.s());z.mF(t,R,y,M);R=M;h=x;t=y}while((R.k+R.$)/2/f>400)f++;var b=h,K=R,Z=t,J=Math.floor(K.k/f),u=Math.floor(K.$/f);
h=z.h(J*u*4);z.scale._$(b,K.k,K.$,h,J,u,1/f);t=z.h(J*u);z.scale.nh(Z,K.k,K.$,t,J,u,1/f);z.round(t,1);
var C=z.Xb(t,new A(0,0,J,u));if(C.dp())return;var Q=Math.round((C.k+C.$)/2/15),i=Date.now(),j=z.h(J*u*4);
z.zbK(h,j);var V=Int16Array,E=new V(J*u*24),N=new V(64),n=new V(64),a=new V(64),I=new V(64);for(var F=3;
F<u-4;F++)for(var o=3;o<J-4;o++){var G=F*J+o;if(t[G]==255)continue;if(z.WR.zDH(j,t,o,F,J,u,N,n,a)!=0)continue;
z.WR.FR(N,I);E[q]=o;E[q+1]=F;z.WR.kW(N,E,q+4,12);q+=16;z.WR.FR(n,I);z.WR.kW(n,E,q,4);q+=4;z.WR.FR(a,I);
z.WR.kW(a,E,q,4);q+=4;var w=E[q-24+5],U=E[q-24+6];E[q-24+5]=E[q-24+20];E[q-24+6]=E[q-24+16];E[q-24+16]=w;
E[q-24+20]=U;k++}if(k==0)return;if(W)console.log(Date.now()-i,"FWHT computed");i=Date.now();var B=[];
z.WR.FQ(0,k-1,B,E,new V(2*24));if(W)console.log(Date.now()-i,"KD tree computed");i=Date.now();var D=new Float32Array(J*u*4);
for(var v=0;v<k;v++){var O=v,uk=z.WR.zDp(O,E,B,Q);if(uk==-1)continue;var ut=O*24,ua=uk*24,uu=E[ut],uW=E[ut+1],kV=E[ua],p=E[ua+1];
P+=z.WR.getError(ua,ut,E,1e99);var _=kV-uu,uB=p-uW;D[(u+uB)*2*J+(J+_)]+=1}if(W)console.log(Date.now()-i,"NN found");
i=Date.now();var ub=[],uq=1/(2*J);for(var v=0;v<D.length;v++){if(D[v]>0){var F=Math.floor(v*uq),o=v-F*2*J;
ub.push({x:o-J,y:F-u,a:D[v],LF:-1})}}ub.sort(function(un,us){return us.a-un.a});var uF=new Int32Array(J*u),ue=[];
for(var v=0;v<J*u;v++){if(t[v]==255){uF[v]=up;ue.push(v%J,Math.floor(v/J));up++}else if(h[(v<<2)+3]<200){uF[v]=-2}else{uF[v]=-1}}var ui=z.WR.zDi(J,u,ub,uF,ue,up);
if(ui==null){return}var zd=ui.fg,top=ui.top;zd=z.WR.zwv(zd,h,J,u,top,uF,ue,up);if(W)console.log(Date.now()-i,"optimal labeling found");
i=Date.now();var M=$.clone();M.si(1,1);M=M.hc(K);var uN=z.h(M.s()*4),u_=z.h(M.s());z.bt(b,K,uN,M);var za=K.k,uZ=K.$;
for(var F=0;F<uZ;F++)for(var o=0;o<za;o++){if(Z[F*za+o]==0)continue;var uj=Math.min(Math.floor(o/f),J-1),uw=Math.min(Math.floor(F/f),u-1),tI=uF[uw*J+uj],ug=zd[tI],uO=top[ug],uC=o+uO.x*f,ux=F+uO.y*f,zu=ux*za+uC<<2,uL=(F-M.y+K.y)*M.k+(o-M.x+K.x)<<2;
uN[uL]=b[zu];uN[uL+1]=b[zu+1];uN[uL+2]=b[zu+2];uN[uL+3]=b[zu+3];uN[uL+3]=b[zu+3];u_[uL>>2]=ug+1}if(W)console.log(Date.now()-i,"copied back");
i=Date.now();z.Zr.zC(uN,u_,M,null,1e3);if(W)console.log(Date.now()-i,"poisson smooth");i=Date.now();
z.bt(uN,M,L,$)};z.WR.VC=function(h,R,d,L,$,W){return z.WR.Zh(h+$.x,R+$.y,d,L)&&W[(R+$.y)*d+(h+$.x)]==-1?0:1e9};
z.WR.zwv=function(h,R,d,L,top,$,W,M){var x=Date.now(),t=[-1,0,0,-1,1,0,0,1],g=1e99,r=[],l=[],H=2*(M*2*3+M*2),y=null,f=0,b=0,K=0,Z=1e99;
while(!0&&Date.now()<x+12e3){K++;var J=null,u=g;for(var C=0;C<top.length;C++){var Q=top[C],i=0,j=M+2,V=0;
for(var E=0;E<M;E++){var N=W[E*2],n=W[E*2+1],a=top[h[E]],I=z.WR.VC(N,n,d,L,Q,$),q=h[E]==C?1e9:z.WR.VC(N,n,d,L,a,$);
for(var k=0;k<4;k++){if(k==0&&N==0||k==1&&n==0||k==2&&N==d-1||k==3&&n==L-1)continue;var F=t[2*k],o=t[2*k+1],G=N+F,w=n+o,U=$[w*d+G];
if(U==-2){}else if(U==-1){I+=3*z.WR.W_(G+Q.x,w+Q.y,G,w,d,L,R,$);I+=2*z.WR.W_(G+Q.x+F,w+Q.y+o,G+F,w+o,d,L,R,$);
q+=3*z.WR.W_(G+a.x,w+a.y,G,w,d,L,R,$);q+=2*z.WR.W_(G+a.x+F,w+a.y+o,G+F,w+o,d,L,R,$)}else if(k>1){if(h[E]==h[U]){var B=0;
B+=z.WR.W_(N+a.x,n+a.y,N+Q.x,n+Q.y,d,L,R,$);B+=z.WR.W_(G+a.x,w+a.y,G+Q.x,w+Q.y,d,L,R,$);r[i]=E;r[i+1]=U;
l[i]=B;l[i+1]=B;i+=2}else{var D=top[h[U]],P=j,v=0,O=0,uk=0;j++;v+=z.WR.W_(N+a.x,n+a.y,N+Q.x,n+Q.y,d,L,R,$);
v+=z.WR.W_(G+a.x,w+a.y,G+Q.x,w+Q.y,d,L,R,$);O+=z.WR.W_(N+D.x,n+D.y,N+Q.x,n+Q.y,d,L,R,$);O+=z.WR.W_(G+D.x,w+D.y,G+Q.x,w+Q.y,d,L,R,$);
uk+=z.WR.W_(N+D.x,n+D.y,N+a.x,n+a.y,d,L,R,$);uk+=z.WR.W_(G+D.x,w+D.y,G+a.x,w+a.y,d,L,R,$);r[i]=E;r[i+1]=P;
l[i]=v;l[i+1]=v;i+=2;r[i]=U;r[i+1]=P;l[i]=O;l[i+1]=O;i+=2;r[i]=P;r[i+1]=M+1;l[i]=uk;l[i+1]=0;i+=2}}}r[i]=M;
r[i+1]=E;l[i]=I;l[i+1]=0;i+=2;r[i]=E;r[i+1]=M+1;l[i]=q;l[i+1]=0;i+=2;V+=Math.min(I,q)}if(V>u)continue;
var ut=z.Ik.zT(j,i,M,M+1,r,l,u);if(ut.jd<u){u=ut.jd;var ua=h.slice(0);z.WR.zDq(ua,i,r,ut.Le,C,M);J=ua}}if(u*1>=g){break}g=u;
h=J;if((K&3)==0){if(u*1.03>=Z)break;Z=u}if((K&3)==0){var uu=0*top.length;for(var E=0;E<top.length&&top.length>uu;
E++){if(h.indexOf(E)!=-1)continue;top.splice(E,1);for(var U=0;U<h.length;U++)if(h[U]>E)h[U]--;E--}}}return h};
z.WR.zDq=function(h,R,d,L,$,W){for(var M=0;M<L.length;M++){var x=L[M]<<1,t=0,g=0;if(x<R){t=d[x];g=d[x+1]}else{g=d[x];
t=d[x+1]}if(t==W&&h[g]!=$)h[g]=$}};z.WR.V$=function(top,h,R,d,L,$,W,M,x){for(var t=0;t<R.length;t++){var g=R[t],r=!0;
if(M!=null&&!(z.WR.Zh(M+g.x,x+g.y,$,W)&&d[$*(x+g.y)+M+g.x]==-1))continue;if(g.LF==-1)g.LF=z.WR.zDE(g,d,L,$,W);
if(g.LF<=0)continue;for(var l=0;l<top.length;l++){var H=top[l],y=g.x-H.x,f=g.y-H.y;if(y*y+f*f<h){r=!1;
break}}if(r)return g}return null};z.WR.zDE=function(h,R,d,L,$){var W=0;for(var M=0;M<d.length;M+=2){var x=d[M]+h.x,t=d[M+1]+h.y;
if(z.WR.Zh(x,t,L,$)&&R[L*t+x]==-1)W++}return W/(d.length>>1)};z.WR.zDi=function(h,R,d,L,$,W){var top=[];
for(var M=0;M<60;M++){var x=z.WR.V$(top,25,d,L,$,h,R);if(x==null)break;else top.push(x)}if(top.length==0)return null;
var t=[];for(var M=0;M<W;M++){var g=$[M*2],r=$[M*2+1],l=-1,H=0;while(!0){H++;var y=Math.random();l=Math.floor(y*.99999*top.length);
var f=top[l],b=g+f.x,K=r+f.y;if(z.WR.Zh(b,K,h,R)&&L[K*h+b]==-1)break;if(H>100){var x;x=z.WR.V$(top,0,d,L,$,h,R,g,r);
if(x==null)return null;top.push(x);H=0}}t.push(l)}return{top:top,fg:t}};z.WR.W_=function(h,R,d,L,$,W,M,x){if(h==d&&R==L)return 0;
if(h<0||R<0||h>=$||R>=W||d<0||L<0||d>=$||L>=W||x[R*$+h]!=-1||x[L*$+d]!=-1)return 1e7;var t=R*$+h<<2,g=L*$+d<<2,r=M[t]-M[g],l=M[t+1]-M[g+1],H=M[t+2]-M[g+2];
return 1+(r*r+l*l+H*H)};z.WR.Zh=function(h,R,d,L){return h>=0&&h<d&&R>=0&&R<L};z.WR.zDp=function(h,R,d,L){var $=24*h,W=R[$],M=R[$+1],x=L*L,t=0,H=1e9;
while(d[t]!=99)if(R[$+d[t]]<d[t+1])t=d[t+2];else t=d[t+3];var g=d[t+1],r=d[t+2],l=-1;for(var y=g;y<=r;
y++){var t=y,f=t*24,b=R[f],K=R[f+1];if((b-W)*(b-W)+(K-M)*(K-M)<x)continue;var Z=z.WR.getError(f,$,R,H);
if(Z<H){H=Z;l=t}}return l};z.WR.getError=function(h,R,d,L){var $=0;for(var W=4;W<24;W+=4){var M=d[R+W]-d[h+W],x=d[R+W+1]-d[h+W+1],t=d[R+W+2]-d[h+W+2],g=d[R+W+3]-d[h+W+3];
$+=M*M+x*x+t*t+g*g;if($>=L)return $+1}return $};z.WR.FQ=function(h,R,d,L,$){var W=16,y=0;if(R-h<=W){d.push(99,h,R);
return}z.WR.oY(h,R,L,$);var M=-1,x=-1;for(var t=4;t<24;t++){var g=$[2*t+1]-$[2*t];if(g>x){x=g;M=t}}var r=h+R>>1,l=z.WR.zDn(r,h,R,L,M),H=-1;
for(var t=h;t<=R;t++)if(L[24*t+M]==l){if(H==-1)H=t;y=t}if(h+8<H&&H-h>R-y)r=H;else if(y+1<R-8)r=y+1;else if(R-h<64){d.push(99,h,R);
return}else r=r;var f=d.length;d.push(M,l,0,0);d[f+2]=f+4;z.WR.FQ(h,r-1,d,L,$);d[f+3]=d.length;z.WR.FQ(r,R,d,L,$)};
z.WR.oY=function(h,R,d,L){for(var $=0;$<48;$+=4){L[$]=3e4;L[$+1]=-3e4;L[$+2]=3e4;L[$+3]=-3e4}for(var $=h;
$<=R;$++){var W=$*24;for(var M=0;M<24;M++){var x=d[W+M],t=L[M<<1],g=L[(M<<1)+1];if(x<t)L[M<<1]=x;if(x>g)L[(M<<1)+1]=x}}};
z.WR.Fn=function(h,R,d){var L=0,$=0;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;
$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;
$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;
$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;
$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;
$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;
$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;
$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;
$++;L=d[h+$];d[h+$]=d[R+$];d[R+$]=L;$++};z.WR.Fx=function(h,R,d,L){var $=d+L>>>1,W=h[24*$+R];while(d<=L){while(h[24*d+R]<W)d++;
while(h[24*L+R]>W)L--;if(d<=L){if(h[24*d+R]!=h[24*L+R])z.WR.Fn(d*24,L*24,h);d++;L--}}return d};z.WR.zDn=function(h,R,d,L,$){var W=0;
while(R!=d){W=z.WR.Fx(L,$,R,d);if(h<W)d=W-1;else R=W}return L[h*24+$]};z.WR.kW=function(h,R,d,L){for(var $=0;
$<L;$++)R[d+$]=h[$]};z.WR.zDH=function(h,R,d,L,$,W,M,x,t){var g=(L-3)*$+(d-3),r=g<<2;for(var l=0;l<8;
l++){if(R[g]+R[g+1]+R[g+2]+R[g+3]+R[g+4]+R[g+5]+R[g+6]+R[g+7]!=0||h[r+3]<200||h[r+7]<200||h[r+11]<200||h[r+15]<200||h[r+19]<200||h[r+23]<200||h[r+27]<200||h[r+31]<200)return 1;
var H=l<<3;M[H+0]=h[r+0];x[H+0]=h[r+1];t[H+0]=h[r+2];M[H+1]=h[r+4];x[H+1]=h[r+5];t[H+1]=h[r+6];M[H+2]=h[r+8];
x[H+2]=h[r+9];t[H+2]=h[r+10];M[H+3]=h[r+12];x[H+3]=h[r+13];t[H+3]=h[r+14];M[H+4]=h[r+16];x[H+4]=h[r+17];
t[H+4]=h[r+18];M[H+5]=h[r+20];x[H+5]=h[r+21];t[H+5]=h[r+22];M[H+6]=h[r+24];x[H+6]=h[r+25];t[H+6]=h[r+26];
M[H+7]=h[r+28];x[H+7]=h[r+29];t[H+7]=h[r+30];r+=$<<2;g+=$}return 0};z.WR.FR=function(h,R){R[0]=h[32]+h[0];
R[1]=h[33]+h[1];R[2]=h[34]+h[2];R[3]=h[35]+h[3];R[4]=h[36]+h[4];R[5]=h[37]+h[5];R[6]=h[38]+h[6];R[7]=h[39]+h[7];
R[8]=h[40]+h[8];R[9]=h[41]+h[9];R[10]=h[42]+h[10];R[11]=h[43]+h[11];R[12]=h[44]+h[12];R[13]=h[45]+h[13];
R[14]=h[46]+h[14];R[15]=h[47]+h[15];R[16]=h[48]+h[16];R[17]=h[49]+h[17];R[18]=h[50]+h[18];R[19]=h[51]+h[19];
R[20]=h[52]+h[20];R[21]=h[53]+h[21];R[22]=h[54]+h[22];R[23]=h[55]+h[23];R[24]=h[56]+h[24];R[25]=h[57]+h[25];
R[26]=h[58]+h[26];R[27]=h[59]+h[27];R[28]=h[60]+h[28];R[29]=h[61]+h[29];R[30]=h[62]+h[30];R[31]=h[63]+h[31];
R[32]=h[0]-h[32];R[33]=h[1]-h[33];R[34]=h[2]-h[34];R[35]=h[3]-h[35];R[36]=h[4]-h[36];R[37]=h[5]-h[37];
R[38]=h[6]-h[38];R[39]=h[7]-h[39];R[40]=h[8]-h[40];R[41]=h[9]-h[41];R[42]=h[10]-h[42];R[43]=h[11]-h[43];
R[44]=h[12]-h[44];R[45]=h[13]-h[45];R[46]=h[14]-h[46];R[47]=h[15]-h[47];R[48]=h[16]-h[48];R[49]=h[17]-h[49];
R[50]=h[18]-h[50];R[51]=h[19]-h[51];R[52]=h[20]-h[52];R[53]=h[21]-h[53];R[54]=h[22]-h[54];R[55]=h[23]-h[55];
R[56]=h[24]-h[56];R[57]=h[25]-h[57];R[58]=h[26]-h[58];R[59]=h[27]-h[59];R[60]=h[28]-h[60];R[61]=h[29]-h[61];
R[62]=h[30]-h[62];R[63]=h[31]-h[63];h[0]=R[16]+R[0];h[1]=R[17]+R[1];h[2]=R[18]+R[2];h[3]=R[19]+R[3];
h[4]=R[20]+R[4];h[5]=R[21]+R[5];h[6]=R[22]+R[6];h[7]=R[23]+R[7];h[8]=R[24]+R[8];h[9]=R[25]+R[9];h[10]=R[26]+R[10];
h[11]=R[27]+R[11];h[12]=R[28]+R[12];h[13]=R[29]+R[13];h[14]=R[30]+R[14];h[15]=R[31]+R[15];h[16]=R[0]-R[16];
h[17]=R[1]-R[17];h[18]=R[2]-R[18];h[19]=R[3]-R[19];h[20]=R[4]-R[20];h[21]=R[5]-R[21];h[22]=R[6]-R[22];
h[23]=R[7]-R[23];h[24]=R[8]-R[24];h[25]=R[9]-R[25];h[26]=R[10]-R[26];h[27]=R[11]-R[27];h[28]=R[12]-R[28];
h[29]=R[13]-R[29];h[30]=R[14]-R[30];h[31]=R[15]-R[31];R[0]=h[8]+h[0];R[1]=h[9]+h[1];R[2]=h[10]+h[2];
R[3]=h[11]+h[3];R[4]=h[12]+h[4];R[5]=h[13]+h[5];R[6]=h[14]+h[6];R[7]=h[15]+h[7];R[8]=h[0]-h[8];R[9]=h[1]-h[9];
R[10]=h[2]-h[10];R[11]=h[3]-h[11];R[12]=h[4]-h[12];R[13]=h[5]-h[13];R[14]=h[6]-h[14];R[15]=h[7]-h[15];
h[0]=R[4]+R[0];h[1]=R[5]+R[1];h[2]=R[6]+R[2];h[3]=R[7]+R[3];h[4]=R[0]-R[4];h[5]=R[1]-R[5];h[6]=R[2]-R[6];
h[7]=R[3]-R[7];h[8]=R[12]+R[8];h[9]=R[13]+R[9];h[10]=R[14]+R[10];h[11]=R[15]+R[11];h[12]=R[8]-R[12];
h[13]=R[9]-R[13];h[14]=R[10]-R[14];h[15]=R[11]-R[15];R[0]=h[2]+h[0];R[1]=h[3]+h[1];R[2]=h[0]-h[2];R[3]=h[1]-h[3];
R[4]=h[6]+h[4];R[5]=h[7]+h[5];R[6]=h[4]-h[6];R[7]=h[5]-h[7];R[8]=h[10]+h[8];R[9]=h[11]+h[9];R[10]=h[8]-h[10];
R[11]=h[9]-h[11];R[12]=h[14]+h[12];R[13]=h[15]+h[13];R[14]=h[12]-h[14];R[15]=h[13]-h[15];h[0]=R[1]+R[0];
h[1]=R[0]-R[1];h[2]=R[3]+R[2];h[3]=R[2]-R[3];h[4]=R[5]+R[4];h[5]=R[4]-R[5];h[6]=R[7]+R[6];h[7]=R[6]-R[7];
h[8]=R[9]+R[8];h[9]=R[8]-R[9];h[10]=R[11]+R[10];h[11]=R[10]-R[11];h[12]=R[13]+R[12];h[13]=R[12]-R[13];
h[14]=R[15]+R[14];h[15]=R[14]-R[15]};z.WR.zjM=function(){var h="",R=64,d="v",L="t",$="a",W=5,M,x,t;for(M=R>>1;
M>0;M>>=1,W--){for(x=0;x<R;x++){t=(x>>W&1)!=0;if(t){h+=L+"["+x+"] = "+d+"["+(-M+x)+"] - "+d+"["+x+"];  "}else{h+=L+"["+x+"] = "+d+"["+(M+x)+"] + "+d+"["+x+"];  "}}$=d;
d=L;L=$;h+="\n"}console.log(h)};z.WR.zjh=function(h,R,d){var L=R,$=d,W=L,M=0,t,g,r;while(h>>M!=2)M++;
var x=M;for(t=h>>1;t>0;t>>=1,M--){for(g=0;g<h;g++){r=(g>>M&1)!=0;if(r)$[g]=L[-t+g]-L[g];else $[g]=L[t+g]+L[g]}W=L;
L=$;$=W}if((x&1)==1)for(t=0;t<h;t++)d[t]=L[t]};z.e_={};z.e_.FL=function(h,R,d,L,$,W,M,x,t){var g=Date.now(),r=new Uint32Array(h.buffer),l=new Uint32Array(R.buffer),H=M/d,y=x/L,f=1/H,b=1/y,K=new Float64Array(2),Z=3,J=1/Z,u=1/(Z*Z),C=0,Q=0,i=d,j=L;
if($){C=$.x;Q=$.y;i=$.k;j=$.$}for(var V=0;V<j;V++)for(var E=0;E<i;E++){var N=C+E,n=Q+V,a=n*d+N,I=a<<1,q=a<<2;
z.e_.zpB(W,M,x,(N+.5)*H,(n+.5)*y,K);var k=K[0]*f,F=K[1]*b;if(k==0&&F==0)l[a]=r[a];else{z.S.pg(N+k+.5,n+F+.5,r,d,L,l,a,t)}}};
z.e_.zpB=function(h,R,d,L,$,W){L-=.499999;$-=.499999;var M=~~L,x=~~$,t=L-M,g=$-x,r=(1-g)*(1-t),l=(1-g)*t,H=g*(1-t),y=g*t,f=M<R-1?M+1:M,b=x<d-1?x+1:x,K=x*R+M<<1,Z=x*R+f<<1,J=b*R+M<<1,u=b*R+f<<1;
W[0]=r*h[K]+l*h[Z]+H*h[J]+y*h[u];W[1]=r*h[K+1]+l*h[Z+1]+H*h[J+1]+y*h[u+1]};z.e_.zpq=function(h,R,d,L,$){var W=1/h,M=[-1,1,-h,h],x=L.length;
for(var t=0;t<x;t++){var g=L[t],r=g<<1,l=t<<1,H=~~(g*W),y=g-h*H,f=d[r],b=d[r+1],K=0,Z=0;if(y!=0&&y!=h-1){var J=g-1<<1,u=g+1<<1,C=d[J],Q=d[u],i=d[J+1],j=d[u+1],V=f-(C+Q)*.5,E=b-(i+j)*.5;
K-=V*$;Z-=E*$}if(H!=0&&H!=R-1){var J=g-h<<1,u=g+h<<1,C=d[J],Q=d[u],i=d[J+1],j=d[u+1],V=f-(C+Q)*.5,E=b-(i+j)*.5;
K-=V*$;Z-=E*$}d[r]=f+K;d[r+1]=b+Z}};z.e_.zpF=function(h,R){var d=h+","+R;if(z.e_.Vx==d)return z.e_.VR;
var L=z.e_.VR=[];z.e_.Vx=d;for(var $=0;$<=1e3;$++){var W=$*.001,M=Math.sqrt(W),x=Math.exp(-4*M),t=.96*(1-M*M),g=R*((1-h)*x+h*t);
L[$]=g}return L};z.e_.Vx="";z.e_.VR=[];z.e_.zpd=function(h,R,d,L,$,W,M,x,t,g,r,l,H){var y=Math.max(0,Math.floor($-M-1)),f=Math.min(R,Math.ceil($+M+1)),b=Math.max(0,Math.floor(W-M-1)),K=Math.min(d,Math.ceil(W+M+1)),Z=2*R,J=M*M,u=1/M,C=0;
if(H&&(L==3||L==6))t=-t;var Q=z.e_.zpF(x,t);for(var i=b;i<K;i++)for(var j=y;j<f;j++){var V=i*R+j,E=V<<1,N=($-j)*u,n=(W-i)*u,a=N*N+n*n;
if(a<1){l[C]=V;var I=Q[~~(a*1e3)];if(L==1){h[E]=h[E]*(1-I*.05);h[E+1]=h[E+1]*(1-I*.05)}else{var q=0,k=0,G,w,U,B;
if(L==0){q=g*I;k=r*I}else if(L==2){}else if(L==3){q=I*n;k=-I*N}else if(L==4){q=I*N;k=I*n}else if(L==5){q=-I*N;
k=-I*n}else if(L==6){q=r*I;k=-g*I}var F=h[E],o=h[E+1];if(j==0||j!=R-1&&q<0){G=1+h[E+2]-F;U=h[E+3]-o}else{G=F-h[E-2]+1;
U=o-h[E-1]}if(i==0||i!=d-1&&k<0){w=h[E+Z]-F;B=1+h[E+Z+1]-o}else{w=F-h[E-Z];B=o-h[E-Z+1]+1}h[E]=-(G*q+w*k-F);
h[E+1]=-(U*q+B*k-o)}C++}}};z.e_.zjb=function(h){var R=h[0],d=h[0],L=h[1],$=h[1];for(var W=0;W<h.length;
W+=2){var M=h[W],x=h[W+1];if(M<R)R=M;else if(M>d)d=M;if(x<L)L=x;else if(x>$)$=x}return[R,L,d,$]};z.zpE=function(h,R,d,L,$){function W(kV,p,_,uB){return Math.sqrt((kV-_)*(kV-_)+(p-uB)*(p-uB))}function M(kV,p){return kV>=0&&kV<R&&p>=0&&p<d}function x(kV){if(kV<0)return 0;
if(kV>=R)return R-1;return kV}function t(kV){if(kV<0)return 0;if(kV>=d)return d-1;return kV}function g(v,kV){var p=kV[3]*(1/255),_=L[v]+kV[0]*p;
if(_>255)_=255;L[v]=_;_=L[v+1]+kV[1]*p;if(_>255)_=255;L[v+1]=_;_=L[v+2]+kV[2]*p;if(_>255)_=255;L[v+2]=_}function r(kV,p,_){if(!B(kV,p))return;
if(_[3]<0)_[3]=0;g((p*R+kV)*4,_)}function l(kV){var p=kV.slice(0,3);p[3]=0;return p}var H=R/800;function y(kV){return Math.round(kV*H)}function f(){for(var v=0;
v<=300;v++){P[v]=b(v)}}function b(d){var kV=.8,p=.2,_=kV*p,uB=d/60%2-1,ub=_*(1-uB*uB),uq=p-_,uF;if(d<60){uF=[_+uq,ub,0]}else if(d<120){uF=[ub,_,0]}else if(d<180){uF=[0,_,ub]}else if(d<240){uF=[0,ub,_]}else if(d<300){uF=[ub,0,_]}else{uF=[_,0,ub]}return[(uF[0]+uq)*255,(uF[1]+uq)*255,(uF[2]+uq)*255]}function K(d){return P[~~d]}function Z(kV){return 1-J(kV)}function J(kV){return kV-~~kV}function u(kV,p,_,uB){w(kV,p,_,0,p+1,1,uB)}function C(kV,p,_,uB,ub,uq){w(kV,p,_,0,uB,1,ub,uq)}function Q(kV){for(var v=0;
v<L.length;v+=4){g(v,kV)}}function i(kV,p,_,uB,ub,uq,uF,ue){j(kV,p,_,uB,ub,1,uq,uF,ue)}function j(kV,p,_,uB,ub,uq,uF,ue,up){if(uq==null)uq=.5;
if(uF==null)uF=0;if(ue==null)ue=0;if(up==null)up=!1;var ui=kV.x,zd=kV.y,uN=_.slice(0),u_=~~(_[3]*uk);
uB=uB*uk;if(!up){p=U(p);ub=U(ub);uF=U(uF);ue=U(ue)}var za=x(ui-p),uZ=x(ui+p);for(var uj=za;uj<=uZ;uj++){var uw=uj-ui,tI=Math.floor(Math.sqrt(p*p-uw*uw)),ug=t(zd-tI),uO=t(zd);
for(var uC=ug;uC<=uO;uC++){var ux=W(uj,uC,ui,zd);if(ux>p||ux<=p-ub)break;var zu=(ux-p+ub)/ub;uN[3]=u_-uB*(uq==1?zu:Math.pow(zu,uq));
g((uC*R+uj)*4,uN)}ug=t(zd+tI);for(var uC=ug;uC>uO;uC--){var ux=W(uj,uC,ui,zd);if(ux>p||ux<=p-ub)break;
var zu=(ux-p+ub)/ub;uN[3]=u_-uB*(uq==1?zu:Math.pow(zu,uq));g((uC*R+uj)*4,uN)}}if(uF>0){w(kV,p+uF,uN,uN[3],uF,1,0,0,!0)}if(ue>0){w(kV,p-ub,D(_),-_[3],ue,1,0,0,!0)}}function V(kV,p,_,uB,ub,uq){w(kV,p,_,_[3],p+1,1,uB,ub,uq)}function E(kV,p,_,uB,ub){if(ub==null)ub=!1;
var uq=kV.x,uF=kV.y;uB*=uk;if(!ub){p=U(p);_=U(_)}var ue=x(uq-p),up=x(uq+p);for(var ui=ue;ui<up;ui++){var zd=ui-uq,uN=~~Math.sqrt(p*p-zd*zd),u_=t(uF-uN),za=t(uF);
for(var uZ=u_;uZ<=za;uZ++){var uj=W(ui,uZ,uq,uF);if(uj>p||uj<=p-_)break;var uw=(p-uj)/_,tI=K(300*uw);
tI[3]=uB;g((uZ*R+ui)*4,tI)}u_=t(uF+uN);for(var uZ=u_;uZ>za;uZ--){var uj=W(ui,uZ,uq,uF);if(uj>p||uj<=p-_)break;
var uw=(p-uj)/_,tI=K(300*uw);tI[3]=uB;g((uZ*R+ui)*4,tI)}}}function N(O,kV){var p=O.ji,_=O.LP,uB=kV.slice(0),ub=kV[3]*uk,uq=Math.abs(_.y-p.y)>Math.abs(_.x-p.x);
if(uq){var uF=p.x;p.x=p.y;p.y=uF;uF=_.x;_.x=_.y;_.y=uF}if(p.x>_.x){var uF=p;p=_;_=uF}var ue=_.x-p.x,up=_.y-p.y,ui=ue==0?1:up/ue,zd=Math.round(p.x),uN=p.y+ui*(zd-p.x),u_=Z(p.x+.5),za=zd,uZ=~~uN;
if(uq){uB[3]=ub*Z(uN)*u_;r(uZ,za,uB);uB[3]=ub*J(uN)*u_;r(uZ+1,za,uB)}else{uB[3]=ub*Z(uN)*u_;r(za,uZ,uB);
uB[3]=ub*J(uN)*u_;r(za,uZ+1,uB)}var uj=uN-ui;zd=Math.round(_.x);uN=_.y+ui*(zd-_.x);u_=J(_.x+.5);var uw=zd,tI=~~uN;
if(uq){uB[3]=ub*Z(uN)*u_;r(tI,uw,uB);uB[3]=ub*J(uN)*u_;r(tI+1,uw,uB)}else{uB[3]=ub*Z(uN)*u_;r(uw,tI,uB);
uB[3]=ub*J(uN)*u_;r(uw,tI+1,uB)}if(uq){for(var ug=za+1;ug<=uw-1;ug++){uB[3]=ub*Z(uj);r(~~uj,ug,uB);uB[3]=ub*J(uj);
r(~~uj+1,ug,uB);uj+=ui}}else{for(var ug=za+1;ug<=uw-1;ug++){uB[3]=ub*Z(uj);r(ug,~~uj,uB);uB[3]=ub*J(uj);
r(ug,~~uj+1,uB);uj+=ui}}}function n(kV,p,_,uB){for(var v=0;v<4;v++){var ub=kV.je(p+1.3*v,_);N(ub,uB,1)}}function kY(kV,p){this.x=Math.round(kV);
this.y=Math.round(p)}var a=Math.PI/180;kY.prototype.je=function(kV,p){kV=kV*a;var _=this.x+p*Math.cos(kV),uB=this.y+p*Math.sin(kV);
return new I(this.x,this.y,_,uB)};kY.prototype.zpa=function(kV,p){kV=kV*a;var _=this.HF+p*Math.cos(kV),uB=this.zqo+p*Math.sin(kV);
return new kY(_,uB)};function I(kV,p,_,uB){this.ji=new kY(kV,p);this.LP=new kY(_,uB)}I.prototype.Lz=function(kV){var p=kV*this.ji.x+(1-kV)*this.LP.x,_=kV*this.ji.y+(1-kV)*this.LP.y;
return new kY(p,_)};var q=i,k=V,F=u,o=C,G=E,w=j,U=y,B=M,D=l,P=[];f();for(var v=0;v<h.length;v++){L[v]=h[v]}var O=new I(R*$[2],d*$[3],R/2,d/2),uk=$[1],ut=[];
ut[0]=function ua(){var kV=[80,40,15,60],_=0,uB=0;F(O.Lz(1.4),260,kV,10);F(O.Lz(1),100,[240,50,50,30],30);
k(O.Lz(1),60,[255,40,0,40]);var p=[255,255,255,255];w(O.Lz(1),70,p,p[3],58,.5);F(O.Lz(1),12,p);p[3]=40;
q(O.Lz(1),150,p,p[3],150);for(var v=0;v<40;v++){_+=Math.random()*25;uB=Math.random()*U(300)+U(100);var ub=O.Lz(1).je(_,uB);
N(O.Lz(1).je(_,uB),[110,110,110,30])}k(O.Lz(1),130,[255,255,255,8]);var uq=[170,30,23,70];o(O.Lz(1),70,uq,1,3,3);
var uF=[60,60,130,40];F(O.Lz(.47),44,uF,5);F(O.Lz(.43),22,uF,3);uF[3]=16;F(O.Lz(.53),15,uF,2);var ue=[138,94,42,100];
F(O.Lz(.2),16,ue,2);var up=[130,255,170,180];k(O.Lz(0),4,up);k(O.Lz(-.25),5,up);ue=[150,90,0,50];q(O.Lz(-.45),55,D(ue),-ue[3],40,2);
F(O.Lz(-.42),35,ue,2);F(O.Lz(-.5),15,ue,2);G(O.Lz(-1.28),145,11,70);var ui=K(0);ui[3]=50;q(O.Lz(-1.28),149,ui,ui[3],4);
ui=K(300);ui[3]=50;q(O.Lz(-1.28),155-1,D(ui),-ui[3],3);var zd=[130,130,10,50];o(O.Lz(-1),73,zd,3,2);
var uN=[40,130,70,40];q(O.Lz(-1),70,D(uN),-uN[3],35);uN=[40,170,60,50];F(O.Lz(-.7),25,uN,4);var uN=[70,110,50,60];
q(O.Lz(1.3),30,D(uN),-uN[3],11,3);uF=[0,50,210,80];k(O.Lz(-.72),20,uF)};ut[1]=function uu(){k(O.Lz(1),150,[240,70,70,60]);
F(O.Lz(1),100,[200,60,60,40],30);var kV=[255,255,255,255],p=0,_=0;w(O.Lz(1),75,kV,kV[3],63);F(O.Lz(1),12,kV);
k(O.Lz(1),270,[200,200,200,20],10);for(var v=0;v<10;v++){p+=10+Math.random()*40;_=Math.random()*U(250)+U(80);
var uB=O.Lz(1).je(p,_);N(uB,[110,110,110,35])}p=5;_=100;for(var v=0;v<12;v++){p+=30;n(O.Lz(1),p,_,[90,90,90,40])}var ub=[150,40,23,100];
o(O.Lz(1),70,ub,1,3,3);var uq=[30,100,60,40];k(O.Lz(-.9),180,[255,255,255,20]);F(O.Lz(-.9),140,uq,15);
var uF=[170,80,25,15];o(O.Lz(-.9),120,uF,1,4,4);var ue=[110,240,190,200];k(O.Lz(-.6),3,ue);ue[3]=100;
k(O.Lz(-.6),7,ue);var up=[230,120,40,85];k(O.Lz(-.73),9,up);var ui=[60,60,190,50];F(O.Lz(.3),28,ui,6);
ui[3]=25;F(O.Lz(.34),20,ui,3)};ut[2]=function uW(){var kV=[255,255,255,255],_=0,uB=0;F(O.Lz(1),13,kV);
w(O.Lz(1),150,kV,kV[3],137);var p=[120,80,35,20];F(O.Lz(1.4),260,p,10);for(var v=0;v<40;v++){_+=5+Math.random()*30;
uB=Math.random()*U(300);N(O.Lz(1).je(_,uB),[110,110,110,20])}var ub=[10,30,255,30];F(O.Lz(1),70,ub,50);
var uq=[15,90,170,15];F(O.Lz(1.5),60,uq);var uF=[220,220,20,50];F(O.Lz(-1.15),8,uF,2);var kV=[255,255,255,40];
k(O.Lz(-1.18),6,kV);k(O.Lz(-1.18),4,kV);uF=[110,110,10,8];q(O.Lz(-1.2),32,D(uF),-uF[3],20,3);var ue=[5,0,16,255];
for(var v=0;v<4;v++){F(O.Lz(-1.36),10,ue,3)}var up=[90,200,150,20],ui=up.slice(0);ui[3]*=2;F(O.Lz(-1.32),7,ui,3);
F(O.Lz(-1.36),7,ui,3);F(O.Lz(-1.4),7,ui,3);var kV=[230,230,230,100];k(O.Lz(-1.36),2,kV);kV[3]=3;F(O.Lz(-.55),10,kV);
uF=[120,100,10,18];F(O.Lz(-.55),160,uF,8);F(O.Lz(-.55),80,uF,4);up[3]=3;ui[3]=6;q(O.Lz(-.49),13,D(ui),-ui[3],13,2);
q(O.Lz(-.55),13,D(ui),-ui[3],13,2);up[3]=20;F(O.Lz(.15),25,up,3);uF[3]=100;k(O.Lz(-.52),3,uF);uF=[200,200,50,40];
F(O.Lz(.27),1,uF,4);var zd=[150,40,23,30];q(O.Lz(1),80,D(zd),-zd[3],2,1)};return ut[$[0]]()};z.lh={};
z.lh.VJ=function(h){var R=~~(h+.5);return R<0?0:R>255?255:R};z.lh.transform=function(h,R,d){var L=z.lh.VJ,$=h.H.length;
for(var W=0;W<$;W++){var M=h.H[W],x=h.N[W],t=h.W[W];R.H[W]=L(d[0]*M+d[1]*x+d[2]*t+d[3]*255);R.N[W]=L(d[4]*M+d[5]*x+d[6]*t+d[7]*255);
R.W[W]=L(d[8]*M+d[9]*x+d[10]*t+d[11]*255)}};z.lh.FJ=function(h,R,d){var L=z.lh.VJ,$=h.length;for(var W=0;
W<$;W+=4){var M=h[W],x=h[W+1],t=h[W+2];R[W]=L(d[0]*M+d[1]*x+d[2]*t+d[3]*255);R[W+1]=L(d[4]*M+d[5]*x+d[6]*t+d[7]*255);
R[W+2]=L(d[8]*M+d[9]*x+d[10]*t+d[11]*255)}};z.lh.Fs=function(h){var R=h[0]+h[1]+h[2],d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(R==1){var L=h.indexOf(1);d[L]=d[L+4]=d[L+8]=1}else{d[0]=h[0];d[5]=h[1];d[10]=h[2]}return d};z.lh.z$=function(h,R,d){return[1,0,0,h,0,1,0,R,0,0,1,d,0,0,0,1]};
z.lh.zx=function(h,R,d){return[h,0,0,0,0,R,0,0,0,0,d,0,0,0,0,1]};z.lh.zjw=function(h){return[h[0],h[1],h[2],h[4],h[5],h[6],h[8],h[9],h[10]]};
z.lh.Hw=function(h){return[h[0],h[1],h[2],0,h[3],h[4],h[5],0,h[6],h[7],h[8],0,0,0,0,1]};z.lh.ZB=function(h,R){return[h[0]*R[0]+h[1]*R[1]+h[2]*R[2]+h[3]*R[3],h[4]*R[0]+h[5]*R[1]+h[6]*R[2]+h[7]*R[3],h[8]*R[0]+h[9]*R[1]+h[10]*R[2]+h[11]*R[3],h[12]*R[0]+h[13]*R[1]+h[14]*R[2]+h[15]*R[3]]};
z.lh.i_=function(h){var R=[];R[0]=h[0];R[1]=h[4];R[2]=h[8];R[3]=h[12];R[4]=h[1];R[5]=h[5];R[6]=h[9];
R[7]=h[13];R[8]=h[2];R[9]=h[6];R[10]=h[10];R[11]=h[14];R[12]=h[3];R[13]=h[7];R[14]=h[11];R[15]=h[15];
return R};z.lh.multiply=function(h,R){var d=[];d[0]=h[0]*R[0]+h[1]*R[4]+h[2]*R[8]+h[3]*R[12];d[1]=h[0]*R[1]+h[1]*R[5]+h[2]*R[9]+h[3]*R[13];
d[2]=h[0]*R[2]+h[1]*R[6]+h[2]*R[10]+h[3]*R[14];d[3]=h[0]*R[3]+h[1]*R[7]+h[2]*R[11]+h[3]*R[15];d[4]=h[4]*R[0]+h[5]*R[4]+h[6]*R[8]+h[7]*R[12];
d[5]=h[4]*R[1]+h[5]*R[5]+h[6]*R[9]+h[7]*R[13];d[6]=h[4]*R[2]+h[5]*R[6]+h[6]*R[10]+h[7]*R[14];d[7]=h[4]*R[3]+h[5]*R[7]+h[6]*R[11]+h[7]*R[15];
d[8]=h[8]*R[0]+h[9]*R[4]+h[10]*R[8]+h[11]*R[12];d[9]=h[8]*R[1]+h[9]*R[5]+h[10]*R[9]+h[11]*R[13];d[10]=h[8]*R[2]+h[9]*R[6]+h[10]*R[10]+h[11]*R[14];
d[11]=h[8]*R[3]+h[9]*R[7]+h[10]*R[11]+h[11]*R[15];d[12]=h[12]*R[0]+h[13]*R[4]+h[14]*R[8]+h[15]*R[12];
d[13]=h[12]*R[1]+h[13]*R[5]+h[14]*R[9]+h[15]*R[13];d[14]=h[12]*R[2]+h[13]*R[6]+h[14]*R[10]+h[15]*R[14];
d[15]=h[12]*R[3]+h[13]*R[7]+h[14]*R[11]+h[15]*R[15];return d};z.lh.Gv=function(h){var R=[];R[0]=h[5]*h[10]*h[15]-h[5]*h[14]*h[11]-h[6]*h[9]*h[15]+h[6]*h[13]*h[11]+h[7]*h[9]*h[14]-h[7]*h[13]*h[10];
R[1]=-h[1]*h[10]*h[15]+h[1]*h[14]*h[11]+h[2]*h[9]*h[15]-h[2]*h[13]*h[11]-h[3]*h[9]*h[14]+h[3]*h[13]*h[10];
R[2]=h[1]*h[6]*h[15]-h[1]*h[14]*h[7]-h[2]*h[5]*h[15]+h[2]*h[13]*h[7]+h[3]*h[5]*h[14]-h[3]*h[13]*h[6];
R[3]=-h[1]*h[6]*h[11]+h[1]*h[10]*h[7]+h[2]*h[5]*h[11]-h[2]*h[9]*h[7]-h[3]*h[5]*h[10]+h[3]*h[9]*h[6];
R[4]=-h[4]*h[10]*h[15]+h[4]*h[14]*h[11]+h[6]*h[8]*h[15]-h[6]*h[12]*h[11]-h[7]*h[8]*h[14]+h[7]*h[12]*h[10];
R[5]=h[0]*h[10]*h[15]-h[0]*h[14]*h[11]-h[2]*h[8]*h[15]+h[2]*h[12]*h[11]+h[3]*h[8]*h[14]-h[3]*h[12]*h[10];
R[6]=-h[0]*h[6]*h[15]+h[0]*h[14]*h[7]+h[2]*h[4]*h[15]-h[2]*h[12]*h[7]-h[3]*h[4]*h[14]+h[3]*h[12]*h[6];
R[7]=h[0]*h[6]*h[11]-h[0]*h[10]*h[7]-h[2]*h[4]*h[11]+h[2]*h[8]*h[7]+h[3]*h[4]*h[10]-h[3]*h[8]*h[6];R[8]=h[4]*h[9]*h[15]-h[4]*h[13]*h[11]-h[5]*h[8]*h[15]+h[5]*h[12]*h[11]+h[7]*h[8]*h[13]-h[7]*h[12]*h[9];
R[9]=-h[0]*h[9]*h[15]+h[0]*h[13]*h[11]+h[1]*h[8]*h[15]-h[1]*h[12]*h[11]-h[3]*h[8]*h[13]+h[3]*h[12]*h[9];
R[10]=h[0]*h[5]*h[15]-h[0]*h[13]*h[7]-h[1]*h[4]*h[15]+h[1]*h[12]*h[7]+h[3]*h[4]*h[13]-h[3]*h[12]*h[5];
R[11]=-h[0]*h[5]*h[11]+h[0]*h[9]*h[7]+h[1]*h[4]*h[11]-h[1]*h[8]*h[7]-h[3]*h[4]*h[9]+h[3]*h[8]*h[5];R[12]=-h[4]*h[9]*h[14]+h[4]*h[13]*h[10]+h[5]*h[8]*h[14]-h[5]*h[12]*h[10]-h[6]*h[8]*h[13]+h[6]*h[12]*h[9];
R[13]=h[0]*h[9]*h[14]-h[0]*h[13]*h[10]-h[1]*h[8]*h[14]+h[1]*h[12]*h[10]+h[2]*h[8]*h[13]-h[2]*h[12]*h[9];
R[14]=-h[0]*h[5]*h[14]+h[0]*h[13]*h[6]+h[1]*h[4]*h[14]-h[1]*h[12]*h[6]-h[2]*h[4]*h[13]+h[2]*h[12]*h[5];
R[15]=h[0]*h[5]*h[10]-h[0]*h[9]*h[6]-h[1]*h[4]*h[10]+h[1]*h[8]*h[6]+h[2]*h[4]*h[9]-h[2]*h[8]*h[5];var d=h[0]*R[0]+h[1]*R[4]+h[2]*R[8]+h[3]*R[12];
for(var L=0;L<16;L++)R[L]/=d;return R};z.lh.zj_=function(h){var R=[],d=h[5]*h[10]*h[15]-h[5]*h[14]*h[11]-h[6]*h[9]*h[15]+h[6]*h[13]*h[11]+h[7]*h[9]*h[14]-h[7]*h[13]*h[10],L=-h[4]*h[10]*h[15]+h[4]*h[14]*h[11]+h[6]*h[8]*h[15]-h[6]*h[12]*h[11]-h[7]*h[8]*h[14]+h[7]*h[12]*h[10],$=h[4]*h[9]*h[15]-h[4]*h[13]*h[11]-h[5]*h[8]*h[15]+h[5]*h[12]*h[11]+h[7]*h[8]*h[13]-h[7]*h[12]*h[9],W=-h[4]*h[9]*h[14]+h[4]*h[13]*h[10]+h[5]*h[8]*h[14]-h[5]*h[12]*h[10]-h[6]*h[8]*h[13]+h[6]*h[12]*h[9];
return h[0]*d+h[1]*L+h[2]*$+h[3]*W};z.lh.FX=z.lh.Hw([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
z.lh.zjA=z.lh.Hw([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
z.lh.zpQ=z.lh.Gv(z.lh.FX);z.Ik={};z.Ik._n=new Uint32Array(1);z.Ik.VX=function(h,R,d,L,$,W){var M=new Uint32Array(h),x=0,t=z.Ik._n;
if(t.length<R*4)z.Ik._n=t=new Uint32Array(R*4);var g=new Float64Array(t.buffer);for(var r=0;r<R;r+=2){var l=$[r],H=$[r+1],y=W[r],f=W[r+1];
t[x]=H;g[x+2>>1]=y;t[x+1]=M[l];M[l]=x+1;x+=4;t[x]=l;g[x+2>>1]=f;t[x+1]=M[H];M[H]=x+1;x+=4}return{oB:t,zSf:g,zwL:M}};
z.Ik.zT=function(h,R,d,L,$,W,M){var x=1,t=z.Ik.VX(h,R,d,L,$,W),g=t.oB,r=t.zSf,l=t.zwL,H=new Uint32Array(h),y=new z.Ik.da(h),b=1,C=0;
y.push(d);y.push(L);var f=new z.Ik.da(h),K=new Uint8Array(h),Z=new Uint32Array(h);K[d]=1;K[L]=2;var J=new Uint32Array(h),u=new Uint32Array(h);
u[d]=u[L]=0;J[d]=J[L]=1;while(!0){var Q=-1,a=0,o=1e30;while(!y.Zq()&&Q==-1){var i=y.top(),j=K[i],V=l[i]-1;
while(V!=-1){var E=g[V],N=K[E],n=V^j-1<<2;if(r[n+2>>1]!=0){if(N==0){z.Ik.FV(i,V,E,K,Z,u,J);y.push(E)}else if(N==j&&J[E]<=J[i]&&u[E]>u[i])z.Ik.FV(i,V,E,K,Z,u,J);
else if(N!=j){Q=n}}V=g[V+1]-1}if(Q!=-1)break;y.pop()}if(Q==-1){break}b++;var I=Q;while(I!=-1){H[a]=I;
a++;I=Z[g[I^4]]-1}var q=a>>1;for(var k=0;k<q;k++){var F=H[k];H[k]=H[a-k-1];H[a-k-1]=F}I=Z[g[Q]]-1;while(I!=-1){H[a]=I^4;
a++;I=Z[g[I^4]]-1}for(var k=0;k<a;k++)o=Math.min(o,r[H[k]+2>>1]);C+=o;if(C>=M)return{Le:null,jd:C};for(var k=0;
k<a;k++){var G=H[k],w=G^4,i=g[w],E=g[G];r[G+2>>1]-=o;r[w+2>>1]+=o;if(r[G+2>>1]==0&&K[i]==K[E]){if(K[i]==1){Z[E]=0;
f.push(E)}if(K[i]==2){Z[i]=0;f.push(i)}}}while(!f.Zq()){var i=f.pop(),j=K[i],V=l[i]-1,U=j==1?4:0,B=0,D=0,P=1e9;
while(V!=-1){var E=g[V],v=V^4,n=V^U;if(K[E]==j&&r[n+2>>1]>0&&z.Ik.zpC(E,d,L,Z,g,b,J,u)+1<P){B=E;D=v;
P=u[E]+1}V=g[V+1]-1}if(D!=0){z.Ik.FV(B,D,i,K,Z,u,J);continue}V=l[i]-1;while(V!=-1){var E=g[V],n=V^U;
if(K[E]==j){if(r[n+2>>1]>0){y.push(E)}if(Z[E]==V+1){Z[E]=0;f.push(E)}}V=g[V+1]-1}K[i]=0;y.remove(i)}}var O=[];
for(var k=0;k<R;k+=2){var i=$[k],E=$[k+1];if(K[i]==1&&K[E]!=1){O.push(k>>1)}if(K[E]==1&&K[i]!=1){O.push(R+k>>1)}}return{Le:O,jd:C}};
z.Ik.FV=function(h,R,d,L,$,W,M){L[d]=L[h];$[d]=R+1;W[d]=W[h]+1;M[d]=M[h]};z.Ik.zpC=function(h,R,d,L,$,W,M,x){var t=h,g=L[h]-1,r=0;
while(g!=-1&&M[h]!=W){h=$[g^4];g=L[h]-1;r++}if(g==-1&&h!=R&&h!=d)return 1e9;var l=x[h]+r;r=0;g=L[t]-1;
while(t!=h){x[t]=l-r;r++;M[t]=W;t=$[g^4];g=L[t]-1}return l};z.Ik.zjQ=function(h,R,d,L,$,W){var M=z.Ik.VX(h,R,d,L,$,W),x=M.oB,t=M.zSf,g=M.zwL,r=0,l=0,H=new Uint32Array(h*2),y=new z.Ik.Vy(h),f=0;
while(!0){y.reset();y.push(d);for(var b=0;b<h;b++)H[b<<1]=0;while(!y.Zq()){var K=y.pop(),Z=g[K]-1;while(Z!=-1){f=x[Z];
if(H[f<<1]==0&&t[Z+2>>1]>0&&f!=d){H[f<<1]=K+1;H[(f<<1)+1]=Z;y.push(f)}Z=x[Z+1]-1}if(H[L<<1]!=0){break}}if(H[L<<1]==0){break}var J=1e30;
f=L;while(!0){var u=H[f<<1]-1;if(u==-1)break;var C=H[(f<<1)+1];J=Math.min(J,t[C+2>>1]);f=u}f=L;while(!0){var u=H[f<<1]-1;
if(u==-1)break;var C=H[(f<<1)+1],Q=C^4;t[C+2>>1]-=J;t[Q+2>>1]+=J;f=u}r+=J}var i=[];for(var b=0;b<R;b+=2){var u=$[b],f=$[b+1];
if((H[u<<1]!=0||u==d)&&H[f<<1]==0&&f!=d){i.push(b>>1)}if((H[f<<1]!=0||f==d)&&H[u<<1]==0&&u!=d){i.push(R+b>>1)}}return{Le:i,jd:r}};
z.Ik.Vy=function(h){h|=h>>1;h|=h>>2;h|=h>>4;h|=h>>8;h|=h>>16;this.Iv=new Uint32Array(h+1);this.hk=h;
this.Kz=0;this.Kt=0};z.Ik.Vy.prototype={push:function(h){var R=this.Kt;this.Iv[R]=h;this.Kt=R+1&this.hk},pop:function(){var h=this.Kz,R=this.Iv[h];
this.Kz=h+1&this.hk;return R},Zq:function(){return this.Kz==this.Kt},reset:function(){this.Kz=0;this.Kt=0}};
z.Ik.da=function(h){h|=h>>1;h|=h>>2;h|=h>>4;h|=h>>8;h|=h>>16;this.Iv=new Uint32Array(h+1);this.LN=new Uint32Array(h+1);
this.hk=h;this.Kz=0;this.Kt=0};z.Ik.da.prototype={top:function(){return this.Iv[this.Kz]},zjK:function(){return this.Iv[this.Kt]},push:function(h){if(this.LN[h]!=0)return;
this.LN[h]=this.Kt+1;var R=this.Kt;this.Iv[R]=h;this.Kt=R+1&this.hk},pop:function(){var h=this.Kz,R=this.Iv[h];
this.LN[R]=0;this.Kz=h+1&this.hk;return R},Zq:function(){return this.Kz==this.Kt},remove:function(h){var R=this.LN[h]-1;
if(R==-1)return;this.LN[h]=0;if(R==this.Kz){this.pop();return}var d=this.pop();this.Iv[R]=d;this.LN[d]=R+1},Pl:function(h){return h+this.hk+1&this.hk}};
z.Ik.Vf=function(h,R,d){var L=z.Ik.Fx(h,R,d);if(R<L-1)z.Ik.Vf(h,R,L-1);if(L<d)z.Ik.Vf(h,L,d)};z.Ik.Fx=function(h,R,d){var L=h[R+d>>>1];
while(R<=d){while(h[R]<L)R++;while(h[d]>L)d--;if(R<=d){z.Ik.Fn(h,R,d);R++;d--}}return R};z.Ik.Fn=function(h,R,d){var L=h[R];
h[R]=h[d];h[d]=L};z.qK={};z.qK.zpv=function(h){for(var R=0;R<h.length;R++)z.qK.Ze(h,R)};z.qK.Ze=function(h,R){h[R].v.keyShapeInvalidated={t:"bool",v:!0}};
z.qK.z_E=function(h){for(var R=0;R<h.length;R++)h[R].v.keyOriginIndex.v=R};z.qK.uv=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
z.qK.Vo=function(h){h=h.v;var R={Rctn:2,Ln:4,Elps:5},d=R[h.classID],L=h.topLeft?z.qK.Vc(h):null,$=null,W=0;
if(d==4){var M=h.Strt.v,x=h.End.v;$=[M.Hrzn.v.val,M.Vrtc.v.val,x.Hrzn.v.val,x.Vrtc.v.val];W=h.Wdth.v.val}if(d==null)return null;
return z.qK.Wg(d,d==4?null:z.qK.dk(h),L,$,W)};z.qK.Hx=function(h,R,d,L,$,W){var M={classID:h,unitValueQuadVersion:{t:"long",v:1}};
if(R)z.qK._C(M,["Left","Top","Rght","Btom"],R);if(d)z.qK._C(M,["topLeft","topRight","bottomRight","bottomLeft"],d);
if(h=="Ln"){M.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:L[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:L[1]}}}},M.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:L[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:L[3]}}}},M.Wdth={t:"UntF",v:{type:"#Pxl",val:$}}}if(W)M.Nm={t:"TEXT",v:W};
return{t:"Objc",v:M}};z.qK.Wg=function(h,R,d,L,$){var W=z.qK.uv(),M=W.v;delete M.keyShapeInvalidated;
M.keyOriginType={t:"long",v:h};M.keyOriginResolution={t:"doub",v:75};if(h==4){M.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:L[0]},Vrtc:{t:"doub",v:L[1]}}};
M.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:L[2]},Vrtc:{t:"doub",v:L[3]}}};R=[Math.min(L[0],L[2]),Math.min(L[1],L[3]),Math.max(L[0],L[2]),Math.max(L[1],L[3])];
M.keyOriginLineWeight={t:"doub",v:$},M.keyOriginLineArrowSt={t:"bool",v:!1};M.keyOriginLineArrowEnd={t:"bool",v:!1};
M.keyOriginLineArrWdth={t:"doub",v:0};M.keyOriginLineArrLngth={t:"doub",v:0};M.keyOriginLineArrConc={t:"long",v:0}}var x={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
M.keyOriginShapeBBox={t:"Objc",v:x};z.qK.dh(M,R);if(d!=null){var t={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
M.keyOriginRRectRadii={t:"Objc",v:t};z.qK.dF(M,d)}return W};z.qK.V=function(h,R,d,L){var $=z.S.Vi(R),W=z.S.VE(R),M=Math.max(Math.abs(R[0]),Math.abs(R[1])),x=Math.max(Math.abs(R[3]),Math.abs(R[4]));
for(var t=0;t<h.length;t++){var g=h[t].v,r=g.keyShapeInvalidated;if(r&&r.v||g.keyOriginType==null)continue;
if(d.length!=0&&d.indexOf(t)==-1)continue;var l=g.keyOriginType.v;if(!$||!W||L&&l==2&&Math.abs(1-M/x)>.01){z.qK.Ze(h,t);
continue}var H=z.qK.ZT(g);z.S.apply(R,H);z.qK.dh(g,[Math.min(H[0],H[2]),Math.min(H[1],H[3]),Math.max(H[0],H[2]),Math.max(H[1],H[3])]);
if(l==2){var y=z.qK.dq(g),f=new um(R[0],R[1],R[3],R[4],0,0);f.ST();if(f.r$==0){y.push(y.shift());f.rotate(Math.PI/2);
f.ST()}if(f.r$<0){var b=y[0];y[0]=y[1];y[1]=b;b=y[2];y[2]=y[3];y[3]=b}if(f.Cv<0){var b=y[0];y[0]=y[3];
y[3]=b;b=y[1];y[1]=y[2];y[2]=b}if(L)for(var K=0;K<4;K++)y[K]=y[K]*M;z.qK.dF(g,y)}if(l==4){g.keyOriginLineWeight.v*=M;
var Z=z.qK.Vv(g);z.S.apply(R,Z);z.qK.z_G(g,Z)}}};z.qK.Zi=function(h,R){var d=R.r;for(var L=0;L<h.length;
L++){var $=h[L].v,W=$.keyShapeInvalidated,H;if(W&&W.v||$.keyOriginType==null)continue;var M=$.keyOriginType.v,x=z.qK.ZT($),t=x[0],g=x[1],r=x[2],l=x[3];
if(M==1)H=z.t.WB.Rect(t,g,r-t,l-g,0);else if(M==2){var y=z.qK.dq($);H=z.t.WB.Rect(t,g,r-t,l-g,y)}else if(M==4){var f=z.qK.Vv($);
H=z.t.WB.GF(f[0],f[1],f[2],f[3],$.keyOriginLineWeight.v)}else if(M==5)H=z.t.WB.Rc(t,g,r-t,l-g);var b=z.t._r(d,L),K=z.t.dY(d,L);
H[2].uH=d[b].uH;var Z=d;d=d.slice(0,b);for(var J=2;J<H.length;J++)d.push(H[J]);for(var J=b+K;J<Z.length;
J++)d.push(Z[J])}R.r=d;R.RT=!0};z.qK.wy=function(h){var R=1e9,d=-R,L=1e9,$=-L,W=null,M=h.lH(),x=M[0],t=M[1];
for(var g=0;g<t.length;g++){var r=x[t[g]],l=r.add.vogk;if(l==null)continue;var H=r.add.vmsk.f;for(var y=0;
y<l.length;y++){var f=l[y].v,b=f.keyShapeInvalidated;if(b&&b.v||f.keyOriginType==null)continue;if(t.length==1&&H.length!=0&&H.indexOf(y)==-1)continue;
var K=f.keyOriginType.v;if(K!=4){var Z=z.qK.ZT(f);R=Math.min(R,Z[0]);L=Math.min(L,Z[1]);d=Math.max(d,Z[2]);
$=Math.max($,Z[3])}if(K==2&&W==null){W=z.qK.dq(f)}}}return[R<d?[R,L,d,$]:null,W]};z.qK.z_w=function(h,R,d){var L=z.qK.wy(h)[0],$;
if(L){var W=new um;W.translate(-L[0],-L[1]);W.scale(1/(L[2]-L[0]),1/(L[3]-L[1]));W.scale(R[2]-R[0],R[3]-R[1]);
W.translate(R[0],R[1]);$=z.S.iE(W)}var M=h.lH(),x=M[0],t=M[1];for(var g=0;g<t.length;g++){var r=x[t[g]],l=r.add.vogk;
if(l==null)continue;var H=r.add.vmsk.f;for(var y=0;y<l.length;y++){var f=l[y].v,b=f.keyShapeInvalidated;
if(b&&b.v||f.keyOriginType==null)continue;if(t.length==1&&H.length!=0&&H.indexOf(y)==-1)continue;var K=f.keyOriginType.v;
if(K!=4&&R[0]!=null){var R=z.qK.ZT(f);z.S.apply($,R);z.qK.dh(f,R)}if(K==2&&d!=null){z.qK.dF(f,d)}}}};
z.qK.ZT=function(h){return z.qK.dk(h.keyOriginShapeBBox.v)};z.qK.dk=function(h){var R=h.Left.v.val,d=h.Rght.v.val,L=h.Top.v.val,$=h.Btom.v.val;
return[R,L,d,$]};z.qK.dh=function(h,R){z.qK._C(h.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],R)};
z.qK.dq=function(h){return z.qK.Vc(h.keyOriginRRectRadii.v)};z.qK.Vc=function(h){var R=[],d=["topLeft","topRight","bottomRight","bottomLeft"];
for(var L=0;L<4;L++)R.push(h[d[L]].v.val);return R};z.qK.dF=function(h,R){z.qK._C(h.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],R)};
z.qK._C=function(h,R,d){for(var L=0;L<4;L++)if(d[L]!=null)h[R[L]]={t:"UntF",v:{type:"#Pxl",val:d[L]}}};
z.qK.Vv=function(h){var R=h.keyOriginLineStart.v,d=h.keyOriginLineEnd.v;return[R.Hrzn.v,R.Vrtc.v,d.Hrzn.v,d.Vrtc.v]};
z.qK.z_G=function(h,R){var d=h.keyOriginLineStart.v,L=h.keyOriginLineEnd.v;d.Hrzn.v=R[0];d.Vrtc.v=R[1];
L.Hrzn.v=R[2];L.Vrtc.v=R[3]};z.G={};z.G.clone=function(h){return{D:h.D.slice(0),B:h.B.slice(0)}};z.G.VY=function(h){if(h.length<6)return!0;
var R=h.length-4;for(var d=0;d<R;d+=2)if(!z.G.dE(h[d],h[d+1],h[d+2],h[d+3],h[d+4],h[d+5]))return!1;if(!z.G.dE(h[R],h[R+1],h[R+2],h[R+3],h[0],h[1]))return!1;
if(!z.G.dE(h[R+2],h[R+3],h[0],h[1],h[2],h[3]))return!1;return!0};z.G.dE=function(h,R,d,L,$,W){return(R-L)*($-d)+(d-h)*(W-L)>=0};
z.G.de=function(h){var R={},d=null,L=0,$={M:2,L:2,Q:4,C:6};for(var W=0;W<h.D.length;W++){var M=h.D[W];
if(M.charAt(0)=="#"){if(R[M]==null)R[M]={B:[],D:[]};d=R[M]}else if(M!="X"){d.D.push(M);var x=$[M];if(x==null)x=0;
for(var t=0;t<x;t++)d.B.push(h.B[L+t]);L+=x}}return R};z.G.yp=function(h,R){h=z.G.zs(h);var d=h.B,L=h.D,$=0,W=[],M=null;
for(var x=0;x<L.length;x++){var t=L[x];if(t=="M"){M={zwJ:$,_E:0,oe:!1};W.push(M);$+=2}if(t=="C"){M._E++;
$+=6}if(t=="Z"){M.oe=!0}}var g=[];for(var x=0;x<W.length;x++)if(W[x]._E!=0)g.push(W[x]);W=g;for(var x=0;
x<W.length;x++){var r=W[x],l=r.zwJ,H=l+2+r._E*6,f=0;r.Re=z.G.oY(d,l,H);var y=d[l]==d[H-2]&&d[l+1]==d[H-1];
for(var b=0;b<r._E;b++){var K=l+b*6,Z=K+6;f+=(d[Z]-d[K])*(d[Z+1]+d[K+1])}if(r._E==2){var J=function(O,uk,ut){var ua=1-ut;
return ua*ua*ua*O[uk]+3*ua*ua*ut*O[uk+2]+3*ua*ut*ut*O[uk+4]+ut*ut*ut*O[uk+6]},u=d[l],C=d[l+1],Q=d[l+6],i=d[l+7],j=d[l+6],V=d[l+7],E=J(d,l,.5),N=J(d,l+1,.5),n=J(d,l+6,.5),a=J(d,l+7,.5);
f=(E-u)*(N-C)+(Q-E)*(i-N)+(n-Q)*(a-i)+(j-n)*(V-a)}if(!y)f+=(d[l]-d[H-2])*(d[l+1]+d[H-1]);r.oI=f<=0}for(var x=0;
x<W.length-1;x++)for(var K=x+1;K<W.length;K++){var I=W[x],q=W[K];if(q.Re.nF(I.Re)){W[x]=q;W[K]=I}}var k=W.length==0?!0:W[0].oI,F=[{type:6},{type:8,all:0}];
for(var x=0;x<W.length;x++){var r=W[x],l=r.zwJ,H=l+2+r._E*6,y=d[l]==d[H-2]&&d[l+1]==d[H-1],o=r.oe||y?0:3,G=r.oI==k&&!R?1:0;
if(!R&&x!=0){if(W[x-1].Re.nF(r.Re)&&W[x-1].oI!=r.oI)G=0;for(var K=0;K<W.length;K++)if(K!=x&&W[K].Re.nF(r.Re))G=0}F.push({type:o,length:r._E+(y?0:1),uH:G,pa:2});
for(var K=0;K<r._E;K++){var $=l+K*6,w=new kY(d[$],d[$+1]),U=new kY(d[$+2],d[$+3]),B;if(K==0){if(y)B=new kY(d[H-4],d[H-3]);
else B=w.clone()}else B=new kY(d[$-2],d[$-1]);F.push({type:o+2,MW:B,O:w,dD:U})}if(!y){var D=new kY(d[H-2],d[H-1]);
F.push({type:o+2,MW:new kY(d[H-4],d[H-3]),O:D,dD:D.clone()})}}for(var K=0;K<F.length;K++){var P=F[K];
if(P.type>5||P.type==0||P.type==3)continue;var v=P.MW.PC(P.O)||P.dD.PC(P.dD);if(!v){var I=P.MW.x*(P.O.y-P.dD.y)+P.O.x*(P.dD.y-P.MW.y)+P.dD.x*(P.MW.y-P.O.y);
if(Math.abs(I)<1e-6)v=!0}if(v)P.type--}return F};z.G.yJ=function(){function h(L,$,W,M){if(!M&&L.dD.PC(L.O)&&$.MW.PC($.O)){W.B.push($.O.x,$.O.y);
W.D.push("L")}else{W.B.push(L.dD.x,L.dD.y,$.MW.x,$.MW.y,$.O.x,$.O.y);W.D.push("C")}}function R(L,$,W,M,x,t){var g=$[W];
L.B.push(g.O.x,g.O.y);L.D.push("M");for(var r=W;r<W+M-1;r++)h($[r],$[r+1],L,t);if(!x)h($[r],$[W],L,t)}function d(L,$){if($==null)$=!1;
var W={B:[],D:[]};for(var M=0;M<L.length;M++){if(L[M].type>5)continue;var x=L[M].length;if(x==0)continue;
if(M==L.length-1)break;var t=L[M].type==3;R(W,L,M+1,x,t,$);if(!t)W.D.push("Z");M+=x}return W}return d}();
z.G.zjY=function(h){var R=h.B,d=[],L,$=0;for(var W=0;W<h.D.length;W++){var M=h.D[W];if(M=="C"){L.push(R[$++],R[$++],R[$++],R[$++],R[$++],R[$++])}else if(M=="Z"){}else{L=[];
if(M!="M"){L.push(M);W++}L.push(R[$++],R[$++]);d.push(L)}}return d};z.G.ZU=function(h,R,d,L){if(L==null)L=1e9;
var $=1e9,W=0;for(var M=0;M<h.length;M+=2){var x=R-h[M],t=d-h[M+1],g=x*x+t*t;if(g<$){$=g;W=M>>>1}}return $<L*L?W:-1};
z.G.dj=function(h,R,d,L){for(var $=0;$<h.length;$+=2){var W=h[$],M=h[$+1],x=R[$],t=R[$+1];d[$]=W+(x-W)*L;
d[$+1]=M+(t-M)*L}};z.G.V=function(h,R,d){for(var L=0;L<h.length;L+=2){var $=h[L],W=h[L+1];d[L]=$*R.r$+W*R.DS+R.RZ;
d[L+1]=$*R.W+W*R.Cv+R.fA}};z.G.oY=function(h,R,d){if(R==null)R=0;if(d==null)d=h.length;var L=99999999999,$=-L,W=99999999999,M=-W;
for(var x=R;x<d;x+=2){var t=h[x],g=h[x+1];L=Math.min(L,t);W=Math.min(W,g);$=Math.max($,t);M=Math.max(M,g)}return new A(L,W,$-L,M-W)};
z.G.VV=function(h,R){var d=Math.max(R.x,Math.min(R.x+R.k,h.x)),L=Math.max(R.y,Math.min(R.y+R.$,h.y)),$=h.x-d,W=h.y-L;
return Math.sqrt($*$+W*W)};z.G.Hv=function(h){if(h.dp())return new A(Math.floor(h.x),Math.floor(h.y),Math.ceil(h.k),Math.ceil(h.$));
var R=Math.floor(h.x),d=Math.ceil(h.x+h.k),L=Math.floor(h.y),$=Math.ceil(h.y+h.$);return new A(R,L,d-R,$-L)};
z.G.yl=function(h){return z.G.Hv(z.G.oY(h))};z.G.ii=function(h){var R=h.x,d=h.y,L=h.x+h.k,$=h.y+h.$;
return{D:["M","L","L","L","Z"],B:[R,d,L,d,L,$,R,$]}};z.G.concat=function(h,R,d){if(d==null)d=new um;
for(var L=0;L<R.B.length;L+=2){var $=R.B[L],W=R.B[L+1];h.B.push($*d.r$+W*d.DS+d.RZ);h.B.push($*d.W+W*d.Cv+d.fA)}for(var L=0;
L<R.D.length;L++)h.D.push(R.D[L])};z.G.zs=function(h){var R=h.B,d=[],L=[],$=0,W=0,M=0,x=0,t=0,g=0,r=0,l=0,H=0;
for(var y=0;y<h.D.length;y++){var f=h.D[y];if(f=="M"){W=R[$];M=R[$+1];$+=2;L.push(f);d.push(W,M)}else if(f=="C"){x=R[$];
t=R[$+1];g=R[$+2];r=R[$+3];l=R[$+4];H=R[$+5];$+=6;L.push(f);d.push(x,t,g,r,l,H);W=l;M=H}else if(f=="Q"){x=R[$];
t=R[$+1];g=R[$+2];r=R[$+3];$+=4;var b=x-W,K=t-M,Z=g-x,J=r-t;L.push("C");d.push(W+2/3*b,M+2/3*K,x+1/3*Z,t+1/3*J,g,r);
W=g;M=r}else if(f=="L"){x=R[$];t=R[$+1];$+=2;var u=x-W,C=t-M;L.push("C");d.push(W,M,x,t,x,t);W=x;M=t}else L.push(f)}return{D:L,B:d}};
z.G.z_$=function(h){var R=h.B,d=[],L=[],$=0;for(var W=0;W<h.D.length;W++){var M=h.D[W];if(M=="Q"){var x=R[$-2],t=R[$-1],g=R[$],r=R[$+1],l=R[$+2],H=R[$+3];
$+=4;var y=g-x,f=r-t,b=l-g,K=H-r;L.push("C");d.push(x+2/3*y,t+2/3*f,g+1/3*b,r+1/3*K,l,H)}else{var Z=0;
if(M=="M"||M=="L")Z=2;else if(M=="C")Z=6;for(var J=0;J<Z;J++)d.push(R[$+J]);$+=Z;L.push(M)}}return{D:L,B:d}};
z.G.zo=function(h,R){var d=h.B,L=[],$=[],W=0,M=0,x=0,t=0,g=0,r=0,l=0,H=0,y=0;for(var f=0;f<h.D.length;
f++){var b=h.D[f];if(b=="M"){M=d[W];x=d[W+1];W+=2;$.push(b);L.push(M,x)}else if(b=="C"){t=d[W];g=d[W+1];
r=d[W+2];l=d[W+3];H=d[W+4];y=d[W+5];W+=6;z.G.dP(M,x,t,g,r,l,H,y,R,$,L,0);M=H;x=y}else $.push(b)}return{D:$,B:L}};
z.G.dP=function(h,R,d,L,$,W,M,x,t,g,r,l){var H=Math.sqrt((M-h)*(M-h)+(x-R)*(x-R)),y=Math.sqrt((M-$)*(M-$)+(x-W)*(x-W))+Math.sqrt(($-d)*($-d)+(W-L)*(W-L))+Math.sqrt((d-h)*(d-h)+(L-R)*(L-R)),f=(H+y)/2;
if(f<=t){g.push("C");r.push(d,L,$,W,M,x)}else{var b=0,K=0,Z=0,J=0,u=0,C=0,Q=0,i=0,j=0,V=0,E=0,N=0,n=0;
K=(h+d)/2;Z=(R+L)/2;J=(d+$)/2;u=(L+W)/2;C=($+M)/2;Q=(W+x)/2;i=(K+J)/2;j=(Z+u)/2;V=(J+C)/2;E=(u+Q)/2;
N=(i+V)/2;n=(j+E)/2;z.G.dP(h,R,K,Z,i,j,N,n,t,g,r,l+1);z.G.dP(N,n,V,E,C,Q,M,x,t,g,r,l+1)}};z.G.dG=function(h,R){var d=h.length-2,L=h[0],$=h[1],W=h[d],M=h[d+1],x=W-L,t=M-$,g=1/Math.sqrt(x*x+t*t),r=W*$-M*L,l=-1,H=-1;
for(var y=2;y<d;y+=2){var f=h[y],b=h[y+1],K=Math.abs(t*f-x*b+r)*g;if(K>H){H=K;l=y}}if(H<R)return[L,$,W,M];
var Z=z.G.dG(h.slice(0,l+2),R),J=z.G.dG(h.slice(l),R);for(var y=2;y<J.length;y++)Z.push(J[y]);return Z};
z.G.zGu=function(){var h=function(L,$,W,M,x,t){return($-M)*(x-W)+(W-L)*(t-M)>=0},R=function(L,$,W,M,x,t,g,r){var l=g-W,H=r-M,y=x-W,f=t-M,b=L-W,K=$-M,Z=l*l+H*H,J=l*y+H*f,u=l*b+H*K,C=y*y+f*f,Q=y*b+f*K,i=1/(Z*C-J*J),j=(C*u-J*Q)*i,V=(Z*Q-J*u)*i;
return j>=0&&V>=0&&j+V<1},d=function(L){var $=L.length>>>1,x=0;if($<3)return[];var W=[],M=[];for(var x=0;
x<$;x++)M.push(x);var t=$;while(t>3){var g=M[(x+0)%t],r=M[(x+1)%t],l=M[(x+2)%t],H=L[2*g],y=L[2*g+1],f=L[2*r],b=L[2*r+1],K=L[2*l],Z=L[2*l+1],J=!1;
if(h(H,y,f,b,K,Z)){J=!0;for(var u=0;u<t;u++){var C=M[u];if(C==g||C==r||C==l)continue;if(R(L[2*C],L[2*C+1],H,y,f,b,K,Z)){J=!1;
break}}}if(J){W.push(g,r,l);M.splice((x+1)%t,1);t--;x=0}else if(x++>3*t)break}W.push(M[0],M[1],M[2]);
return W};return d}();z.G.zGr=function(h,R){var d={},L={D:[],B:[]};for(var $=0;$<R.length;$+=3){var W=R[$]*2,M=R[$+1]*2,x=R[$+2]*2;
z.G.dm(h,W,M,L,d);z.G.dm(h,W,x,L,d);z.G.dm(h,M,x,L,d)}return L};z.G.dm=function(h,R,d,L,$){if(R>d){var W=d;
d=R;R=W}if($[R+","+d])return;$[R+","+d]=!0;L.D.push("M","L");L.B.push(h[R],h[R+1],h[d],h[d+1])};z.G.tm=function(h,R){var d=[],L=h.length;
for(var $=0;$<L;$+=2){var W=h[$],M=h[$+1],x=h[($+2)%L],t=h[($+3)%L];if(t<M){var g=M;M=t;t=g}if(M<R&&R<t){var r=(R-M)/(t-M);
d.push(W+r*(x-W))}}d.sort(function(l,H){return l-H});return d};z.G.zGY=function(h,R){var d=R.slice(0),L=h.length/2,$=[],W=[];
for(var M=0;M<L;M++){var x=(M+1)%L,t=h[2*M]-h[2*x],g=h[2*M+1]-h[2*x+1];W[M]=Math.sqrt(t*t+g*g)}for(var M=0;
M<L;M++){var r=(M-1+L)%L,x=(M+1)%L,l=R[M],H=l+R[r],y=l+R[x];if(H!=0)d[M]=Math.min(d[M],W[r]*l/H);if(y!=0)d[M]=Math.min(d[M],W[M]*l/y)}for(var M=0;
M<L;M++){var x=(M+1)%L,f=(M+2)%L,b=d[M],K=d[x],Z=h[2*M],J=h[2*M+1],u=h[2*x],C=h[2*x+1],Q=h[2*f],i=h[2*f+1],j=W[M],V=W[x],E=z.G.tQ(Z,J,u,C,Q,i,b,K,j,V);
$.push(E[0],E[1],E[0],E[1],E[2],E[3]);$.push(E[2],E[3],E[4],E[5],E[6],E[7])}return $};z.G.tQ=function(h,R,d,L,$,W,M,x,t,g){if(t==null)t=Math.sqrt((d-h)*(d-h)+(L-R)*(L-R));
if(g==null)g=Math.sqrt(($-d)*($-d)+(W-L)*(W-L));var r=.553,l=0,H=0,y=0,f=0;if(t!=0){l=(d-h)/t;H=(L-R)/t}if(g!=0){y=($-d)/g;
f=(W-L)/g}var b=h+M*l,K=R+M*H,Z=d-x*l,J=L-x*H;return[b,K,Z,J,d-x*l*(1-r),L-x*H*(1-r),d+x*y*(1-r),L+x*f*(1-r),d+x*y,L+x*f]};
z.Zr=function(){};z.Zr.zC=function(h,R,d,L,$){var W=d.k,M=d.$,x=W*M,t=new Int32Array(x),g=0;for(var r=0;
r<x;r++)if(R[r]!=0){t[r]=g;g++}else if(h[(r<<2)+3]<200){t[r]=-2}else t[r]=-1;if(g==0)return;var l=new z.ZX(g,g),H=new Array(3*g),y=new Array(3*g);
for(var r=0;r<y.length;r++)y[r]=H[r]=0;var f=1/255,b=[-W,-1,1,W],K=[],Z=[];for(var J=0;J<M;J++)for(var u=0;
u<W;u++){var C=J*W+u,Q=C<<2,r=t[C],i=r*3,j=0,V=0,E=0;if(r==-1||r==-2)continue;for(var N=0;N<4;N++){if(N==2){V=E;
K[E]=0;Z[E]=r;E++}var n=C+b[N],a=n<<2,I=t[n];if(N==0&&J==0||N==1&&u==0||N==2&&u==W-1||N==3&&J==M-1||I==-2)continue;
j++;if(I==-1){H[i+0]+=h[a+0];H[i+1]+=h[a+1];H[i+2]+=h[a+2]}else{K[E]=-1;Z[E]=I;E++;if(R[C]==R[n]){H[i+0]+=h[Q+0]-h[a+0];
H[i+1]+=h[Q+1]-h[a+1];H[i+2]+=h[Q+2]-h[a+2]}}}K[V]=j;l.oz(K,Z,E)}for(var r=0;r<x;r++)if(t[r]!=-1){var q=r<<2,k=t[r],F=k*3;
y[F]=h[q+0];y[F+1]=h[q+1];y[F+2]=h[q+2]}var o=Date.now();l.zgN(y,H,L,$);console.log(Date.now()-o);for(var r=0;
r<x;r++){var k=t[r],G=k*3,q=r<<2;if(k==-1||h[q+3]!=255)continue;h[q+0]=~~(.5+Math.max(0,Math.min(255,y[G+0])));
h[q+1]=~~(.5+Math.max(0,Math.min(255,y[G+1])));h[q+2]=~~(.5+Math.max(0,Math.min(255,y[G+2])))}};z.rect={};
z.rect.ty=function(h,R){var d=[h],L=[];for(var $=0;$<R.length;$++){var W=R[$],M=!1;for(var x=$+1;x<R.length;
x++){var t=R[x];if(t[0]<=W[0]&&t[1]<=W[1]&&W[2]<=t[2]&&W[3]<=t[3]){M=!0;break}}if(!M)L.push(W)}R=L;for(var $=0;
$<R.length;$++){var W=R[$];for(var x=0;x<d.length;x++){var t=d[x],g=Math.max(W[0],t[0]),r=Math.min(W[2],t[2]),l=Math.max(W[1],t[1]),H=Math.min(W[3],t[3]);
if(g<r&&l<H){var y=[];if(t[1]<W[1]){var f=t.slice(0);f[3]=W[1];y.push(f)}if(t[0]<W[0]){var b=t.slice(0);
b[1]=l;b[2]=W[0];y.push(b)}if(W[2]<t[2]){var K=t.slice(0);K[1]=l;K[0]=W[2];y.push(K)}if(W[3]<t[3]){var Z=[g,H,r,t[3]];
y.push(Z)}if(y.length!=0){d[x]=y[0];for(var J=1;J<y.length;J++)d.push(y[J])}}}d.push(W);d=z.rect.zmz(d)}d.sort(function(W,t){return W[1]!=t[1]?W[1]-t[1]:W[0]-t[0]});
return d};z.rect.zmz=function(h){h=h.slice(0);for(var R=0;R<h.length;R++){var d=h[R],L=null;if(d[4]!=null)continue;
for(var $=0;$<h.length;$++){var W=h[$];if(R==$||W[4]!=null)continue;var M=d[0]==W[0],x=d[1]==W[1],t=d[2]==W[2],g=d[3]==W[3];
if(x&&g&&(d[2]==W[0]||d[0]==W[2])){L=[Math.min(d[0],W[0]),d[1],Math.max(d[2],W[2]),d[3]]}if(M&&t&&(d[3]==W[1]||d[1]==W[3])){L=[d[0],Math.min(d[1],W[1]),d[2],Math.max(d[3],W[3])]}if(L){h[R]=L;
h.splice($,1);break}}if(L){R--}}return h};z.rect.nW=function(h){var R=new A;for(var d=0;d<h.length;d++)R=R.DM(h[d]);
return R};z.rect.zmu=function(h,R){var d=z.rect.nW,L=new UnionFind(h.length),j=1e3,V=1e3;for(var $=0;
$<h.length;$++)for(var W=$+1;W<h.length;W++){if(!R)continue;var M=h[$],x=h[W],H=1e9,y=1e9;if(M.Yf(x)){L.link($,W);
continue}var t=M.x+M.k,g=M.y+M.$,r=x.x+x.k,l=x.y+x.$;if((t<x.x||r<M.x)&&(g<x.y||l<M.y))continue;if(!(g<x.y||l<M.y))H=Math.min(Math.abs(t-x.x),Math.abs(M.x-r));
if(!(t<x.x||r<M.x))y=Math.min(Math.abs(g-x.y),Math.abs(M.y-l));var f=Math.min(H,y),b=Math.min(M.k,M.$,x.k,x.$);
if(f<.3*b)L.link($,W)}var K=[],Z={};for(var $=0;$<h.length;$++){var J=L.find($),u=h[$];if(Z[J]==null){Z[J]=K.length;
K.push([])}K[Z[J]].push(u)}var C=[],Q=[];for(var $=0;$<K.length;$++){C.push(d(K[$]));var i=d(K[$]);i.Pl=$;
Q.push(i)}Q.sort(function(G,w){return Math.max(w.$,w.k)-Math.max(G.$,G.k)});var E=new NETXUS.RectanglePacker(j,V);
while(!0){var N=!1;E.reset(j,V);for(var $=0;$<Q.length;$++){var n=E.findCoords(Q[$].k,Q[$].$);if(n){Q[$].x=n.x;
Q[$].y=n.y}else{j=Math.floor(j*1.1);V=Math.floor(V*1.1);N=!0;break}}if(N)continue;break}for(var $=0;
$<K.length;$++){var a=Q[$],I=a.Pl,q=C[I],k=K[I],F=a.x-q.x,o=a.y-q.y;for(var W=0;W<k.length;W++)k[W].offset(F,o)}};
z.ru=function(){};z.ru.Tx=Math.floor(16*window.devicePixelRatio);z.ru.dO={};z.ru.Ua=0;z.ru.tz=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
z.ru.zmB=["px","in","cm","mm","%"];z.ru.tv=function(h,R,d){var L=R.EY,$=[1,L,L/2.54,L/25.4,R.k/100][d];
return h*$};z.ru.fS=function(h,R,d,L,$){var W=d.UU.CQ,M=[1,R,R/2.54,R/25.4,L/100][W],x=[2,3,2,1,2][W];
h=h/M;var t=Math.round(h),g=W==0&&Math.abs(h-t)<1e-6?t+"":h.toFixed(x);if($)g+=" "+z.ru.zmB[W];return g};
z.ru.zmq=function(h,R,d,L){var $=d.UU.CQ,W=[1,R,R/2.54,R/25.4,L/100][$];h=parseFloat(h)*W;return h};
z.ru.zm$=function(h,R){var d=Math.round(z.ru.Tx*.5);z.ru.Ua=d;var L=document.createElement("canvas");
L.width=L.height=d;var $=L.getContext("2d");$.font=d*1.5+"px monospace";var W="0 1 2 3 4 5 6 7 8 9 -".split(" ");
for(var M=0;M<W.length;M++){$.fillStyle="#"+z.zJ(R);$.fillRect(0,0,d,d);$.fillStyle="#"+z.zJ(h);$.fillText(W[M],0,d);
z.ru.dO[W[M]]=$.getImageData(0,0,d,d).data}};z.ru.zmr=function(h,R,d){var L=0,$=0,W=4*z.ru.Tx;for(var M=9;
M>=0;M--){var x=Math.pow(10,M);if(5*x*h<=W){L=5*x;$=10;break}if(2*x*h<=W){L=2*x;$=4;break}if(1*x*h<=W){L=1*x;
$=10;break}}if(L==0){L=1;$=10}var t=Math.ceil(L*h),g=z.h(t*z.ru.Tx*4);z._M(g,4278190080|d);for(var M=0;
M<z.ru.Tx;M++)z.ru.dQ(g,4*M*t,R);for(var M=0;M<t;M++)z.ru.dQ(g,4*((z.ru.Tx-1)*t+M),R);if(L==2)$=2;if(L==5)$=5;
if(L>1||L==1&&t>20)for(var M=1;M<$;M++)z.ru.zml(g,M*(t/$),t,(M&1)==1?.8:.7,R);return{tG:g,step:L}};z.ru.zml=function(h,R,d,L,$){var R=Math.round(R);
for(var W=Math.round(z.ru.Tx*L);W<z.ru.Tx-1;W++)z.ru.dQ(h,4*(W*d+R),$)};z.ru.dQ=function(h,R,d){h[R+0]=d>>16&255;
h[R+1]=d>>8&255;h[R+2]=d&255};z.ru.zAq=function(h,R,d){var L=R&255,$=R>>8&255,W=R>>16&255,Z,J,u,C;R=Math.round(L*.6)<<16|Math.round($*.6)<<8|Math.round(W*.6);
z.ru.zm$(Math.round(L*.8)<<16|Math.round($*.8)<<8|Math.round(W*.8),d);var M=this.zmr(h.P,R,d),x=h.Px(0,0),t=h.Px(h.C.k,h.C.$),g=Math.floor(x.x/M.step)*M.step,r=Math.ceil(t.x/M.step)*M.step,l=Math.floor(x.y/M.step)*M.step,H=Math.ceil(t.y/M.step)*M.step,y=h.Ia(g,l),f=h.Ia(r,l),b=M.step*h.P,K=Math.ceil(b);
Z=h.Lx.data;J=new A(0,0,h.C.k,z.ru.Tx);u=new A(0,0,K,z.ru.Tx);C=new A(0,Math.round(z.ru.Tx*.08),z.ru.Ua,z.ru.Ua);
for(var Q=0;Q<(r-g)/M.step;Q++){u.x=Math.round(y.x+Q*b);z.bt(M.tG,u,Z,J,u);var i=(g+Q*M.step).toString(10);
for(var j=0;j<i.length;j++){C.x=u.x+3+j*Math.round(z.ru.Ua*.8);var V=z.ru.dO[i[j]];z.bt(V,C,Z,J,C)}}var E=new Uint32Array(M.tG.buffer),N=new Uint32Array(M.tG.length);
for(var n=0;n<K;n++)for(var a=0;a<z.ru.Tx;a++){N[n*z.ru.Tx+a]=E[a*K+n]}M.tG=new Uint8Array(N.buffer);
Z=h.jJ.data;J=new A(0,0,z.ru.Tx,h.C.$);u=new A(0,0,z.ru.Tx,K);C=new A(Math.round(z.ru.Tx*.2),0,z.ru.Ua,z.ru.Ua);
for(var Q=0;Q<(H-l)/M.step;Q++){u.y=Math.round(y.y+Q*b);z.bt(M.tG,u,Z,J,u);var i=Math.abs(l+Q*M.step).toString(10);
for(var j=0;j<i.length;j++){C.y=u.y+3+j*Math.round(z.ru.Ua*1.15);var V=z.ru.dO[i[j]];z.bt(V,C,Z,J,C)}}};
z.scale={};z.scale.Bv=document.createElement("canvas");z.scale.FT=z.scale.Bv.getContext("2d");z.scale.zAS=document.createElement("canvas");
z.scale.zjV=z.scale.zAS.getContext("2d");z.scale.fY=function(h,R,d){var L=z.scale.Bv,$=z.scale.FT;L.width=R;
L.height=d;var W=new ImageData(new Uint8ClampedArray(h.buffer),R,d);$.putImageData(W,0,0);return $.createPattern(L,"repeat")};
z.scale.zPh=function(h,R,d,L,$,W,M,x){var t=z.scale.MM(h,d,L,$,W,M,x);z.ss(t.data,R)};z.scale.zAm=function(h,R,d,L,$,W,M,x){var t=z.scale.MM(h,d,L,$,W,M,x);
z.kW(t.data,R)};z.scale.MM=function(h,R,d,L,$,W,M){var x=z.scale.Bv,t=z.scale.FT;x.width=R;x.height=d;
t.rect(0,0,R,d);t.translate(W,M);t.scale(L,$);t.fillStyle=h;t.fill();return t.getImageData(0,0,R,d)};
z.scale.nh=function(h,R,d,L,$,W,M){if(M<1)z.scale.zAx(h,R,d,L,$,W,Math.round(1/M));else z.scale.zAI(h,R,d,L,$,W,M)};
z.scale._$=function(h,R,d,L,$,W,M,x){if(x)x=x.hc(new A(0,0,R,d));h=new Uint32Array(h.buffer);L=new Uint32Array(L.buffer);
if(M<1)z.scale.zOh(h,R,d,L,$,W,Math.round(1/M),x);else z.scale.zAV(h,R,d,L,$,W,M)};z.scale.zAI=function(h,R,d,L,$,W,M){for(var x=0;
x<d;x++)for(var t=0;t<R;t++){var g=h[x*R+t],r=Math.min(M,$-t*M),l=Math.min(M,W-x*M);for(var H=0;H<l;
H++)for(var y=0;y<r;y++)L[(M*x+H)*$+M*t+y]=g}};z.scale.zAx=function(h,R,d,L,$,W,M){for(var x=0;x<W;x++)for(var t=0;
t<$;t++){var g=0,r=Math.min(M,R-t*M),l=Math.min(M,d-x*M);for(var H=0;H<l;H++)for(var y=0;y<r;y++)g+=h[(M*x+H)*R+(M*t+y)];
L[x*$+t]=Math.round(g/(r*l))}};z.scale.zAV=function(h,R,d,L,$,W,M){for(var x=0;x<d;x++)for(var t=0;t<R;
t++){var g=h[x*R+t],r=Math.min(M,$-t*M),l=Math.min(M,W-x*M);for(var H=0;H<l;H++)for(var y=0;y<r;y++)L[(M*x+H)*$+M*t+y]=g}};
z.scale.zOh=function(h,R,d,L,$,W,M,x){var t=0,g=$,r=0,l=W;if(x){t=Math.floor(x.x/M);g=Math.ceil((x.x+x.k)/M);
r=Math.floor(x.y/M);l=Math.ceil((x.y+x.$)/M)}for(var H=r;H<l;H++)for(var y=t;y<g;y++){var f=0,b=0,K=0,Z=0,J=Math.min(M,R-y*M),u=Math.min(M,d-H*M);
for(var C=0;C<u;C++)for(var Q=0;Q<J;Q++){var i=h[(M*H+C)*R+M*y+Q],j=i>>>24;f+=j;b+=j*(i>>>16&255);K+=j*(i>>>8&255);
Z+=j*(i&255)}if(f!=0){var V=1/f;L[H*$+y]=f/(J*u)<<24|b*V<<16|K*V<<8|Z*V}else L[H*$+y]=0}};z.z={};z.z.zOF=function(h,R,d){var L=128,$=0,W=d.k,M=d.$;
for(var x=0;x<M;x++)for(var t=0;t<W;t++){if(h[$]>=L&&(t==0||h[$-1]<L||(t==W-1||h[$+1]<L)||(x==0||h[$-W]<L)||(x==M-1||h[$+W]<L)))R[$]=255;
$++}};z.z.zOj=function(h,R,d,L){var $=new Uint32Array([4278190080,4294967295]),W=d.k,M=d.$,x=0,t=0,g=W,r=M;
if(L){x=L.x-d.x;t=L.y-d.y;g=x+L.k;r=t+L.$}var l=new Uint8Array(R.buffer),H=new Uint32Array(R.buffer);
for(var y=t;y<r;y++)for(var f=x;f<g;f++){var b=y*W+f;if((h[b]&128)!=0&&(y==0||(h[b-W]&128)==0||f==0||(h[b-1]&128)==0||f==W-1||(h[b+1]&128)==0||y==M-1||(h[b+W]&128)==0)){H[b]=$[(f+y&4)>>>2]}}};
z.z.zOP=function(h,R,d,L,$,W){var M=d.k,x=d.$,t=0,g=0,r=M,l=x;if(L){t=L.x-d.x;g=L.y-d.y;r=t+L.k;l=g+L.$}var H=new Uint8Array(R.buffer),y=new Uint32Array(R.buffer);
for(var f=g;f<l;f++)for(var b=t;b<r;b++){var K=f*M+b,Z=h[K];if($==1)y[K]=255-Z>>>1<<24|W;else y[K]=255<<24|(Z<<16|Z<<8|Z)}};
z.QT={};z.QT.dn=function(h,R,d){var L,$;if(d=="front"){L=h.rect.clone();$=z.QT.zgE}if(d=="union"){L=h.rect.DM(R.rect);
$=z.QT.DM}if(d=="difference"){L=R.rect.clone();$=z.QT.zge}if(d=="intersection"){L=h.rect.hc(R.rect);
$=z.QT.hc}if(d=="xor"){L=h.rect.DM(R.rect);$=z.QT.zgi}if(L.dp())return null;var W=z.h(L.s());z.mF(R.channel,R.rect,W,L);
var M=z.h(L.s());z.mF(h.channel,h.rect,M,L);$(M,W,W);var x=z.Xb(W,L);if(x.dp())return null;if(!x.PC(L)){var t=z.h(x.s());
z.mF(W,L,t,x);W=t;L=x}return{channel:W,rect:L}};z.QT.zgE=function(h,R,d){for(var L=0;L<h.length;L++)d[L]=h[L]};
z.QT.DM=function(h,R,d){for(var L=0;L<h.length;L++)d[L]=Math.min(h[L]+R[L],255)};z.QT.zge=function(h,R,d){for(var L=0;
L<h.length;L++)d[L]=Math.max(R[L]-h[L],0)};z.QT.hc=function(h,R,d){var L=1/255;for(var $=0;$<h.length;
$++)d[$]=h[$]*R[$]*L};z.QT.zgi=function(h,R,d){var L=1/255;for(var $=0;$<h.length;$++)d[$]=Math.min(h[$]+R[$],255)-h[$]*R[$]*L};
z.ZX=function(h,R){this.j=[];this.pm=[0];this.Qa=[];this.Lr=[];this.jT=[0];this.jV=[];this.LY=[];this.rows=h;
this.cols=R};z.ZX.prototype.clone=function(){var h=this,R=h.rows,d=h.cols,L=new z.ZX(R,d);L.j=h.j.slice(0);
L.pm=h.pm.slice(0);L.Qa=h.Qa.slice(0);L.Lr=h.Lr.slice(0);L.jT=h.jT.slice(0);L.jV=h.jV.slice(0);L.LY=h.LY.slice(0);
return L};z.ZX.prototype.oz=function(h,R,d){var L=this.pm.length-1;for(var $=0;$<d;$++){var W=h[$],M=R[$];
this.j.push(W);this.Qa.push(M);if(M==L){this.LY.push(W==0?0:1/W)}else{this.Lr.push(W);this.jV.push(M)}}this.pm.push(this.j.length);
this.jT.push(this.Lr.length)};z.ZX.prototype.tM=function(h,R){var d=this,L=d.rows,$=d.j,W=d.Qa;if(R==null)R=new Array(L);
for(var M=0;M<L;M++){var x=d.pm[M],t=d.pm[M+1],g=0;while((t-x&3)!=0){g+=$[x]*h[W[x]];x++}for(var r=x;
r<t;r+=4)g+=$[r]*h[W[r]]+$[r+1]*h[W[r+1]]+$[r+2]*h[W[r+2]]+$[r+3]*h[W[r+3]];R[M]=g}return R};z.ZX.prototype.multiply=function(h){return this.dC(h.i_())};
z.ZX.prototype.dC=function(h){var R=this,d=R.rows,L=R.cols,$=h.rows,W=new z.ZX(d,$),M=R.Qa,x=h.Qa;for(var t=0;
t<d;t++){var g=[],r=[],l=R.pm[t],H=R.pm[t+1];for(var y=0;y<$;y++){var f=h.pm[y],b=h.pm[y+1],K=0,Z=l,J=f;
while(Z<H&&J<b){var u=Math.max(M[Z],x[J]);while(Z<H&&M[Z]<u)Z++;while(J<b&&x[J]<u)J++;if(Z<H&&J<b&&M[Z]==x[J])K+=R.j[Z++]*h.j[J++]}if(K!=0){g.push(K);
r.push(y)}}W.oz(g,r,g.length)}return W};z.ZX.prototype.i_=function(){var h=this.rows,R=this.cols,d=[];
for(var L=0;L<R;L++)d.push([[],[]]);var $=this.j,W=this.pm,M=this.Qa;for(var L=0;L<h;L++){var x=W[L],t=W[L+1];
for(var g=x;g<t;g++){var r=d[M[g]];r[0].push($[g]);r[1].push(L)}}var l=new z.ZX(R,h);for(var L=0;L<R;
L++)l.oz(d[L][0],d[L][1],d[L][1].length);return l};z.ZX.prototype.q$=function(){var h=this.rows,R=this.cols,d=new Array(h),L=this.j,$=this.pm,W=this.Qa;
for(var M=0;M<h;M++){var x=d[M]=new Array(R);for(var t=0;t<R;t++)x[t]=0;var g=$[M],r=$[M+1];for(var l=g;
l<r;l++)x[W[l]]=L[l]}return d};z.ZX.prototype.d$=function(h,R,d,L,$){function W(j,R,V,E){var N=j.length;
for(var n=0;n<N;n++)E[n]=j[n]-R[n]*V}function M(j,R,V,E){var N=j.length,n=0;while((N-n&3)!=0){E[n]=j[n]+R[n]*V;
n++}for(var a=n;a<N;a+=4){E[a]=j[a]+R[a]*V;E[a+1]=j[a+1]+R[a+1]*V;E[a+2]=j[a+2]+R[a+2]*V;E[a+3]=j[a+3]+R[a+3]*V}}function x(j,R,V){var E=j.length;
for(var N=0;N<E;N++)V[N]=j[N]*R[N]}function t(j,R){var V=j.length,E=0,N=0;while((V-E&3)!=0){N+=j[E]*R[E];
E++}for(var n=E;n<V;n+=4)N+=j[n]*R[n]+j[n+1]*R[n+1]+j[n+2]*R[n+2]+j[n+3]*R[n+3];return N}var g=L!=null?2:1,r=Date.now(),l=0,H=this,y=h.slice(0),f=h.slice(0);
H.tM(h,f);W(R,f,1,y);var b=this.LY;if(g==0){b=y.slice(0);b.fill(1)}var K=y.slice(0);x(b,y,K);var Z=K.slice(0),J=t(y,K);
while(!0){H.tM(Z,f);var u=J/t(Z,f);M(h,Z,u,h);W(y,f,u,y);if((l&7)==0&&Math.sqrt(t(y,y))<d)break;if(g<=1)x(b,y,K);
else{var C=y.slice(0);L.zMs(C,y);$.zMX(K,C)}var Q=t(y,K),i=Q/J;M(K,Z,i,Z);J=Q;l++}};z.ZX.prototype.zPb=function(h,R,d,L){var $=Date.now(),W=1.96,t=0;
if(d==null)d=5e-6;if(L==null)L=1e9;var M=1-W,x=this.rows,g=this.Lr,r=this.jT,l=this.jV,H=this.LY;while(!0){var y=0;
for(var f=0;f<x;f++){var b=R[f],K=r[f],Z=r[f+1];if(Z-K==4)b-=g[K]*h[l[K]]+g[K+1]*h[l[K+1]]+g[K+2]*h[l[K+2]]+g[K+3]*h[l[K+3]];
else for(var J=K;J<Z;J++)b-=g[J]*h[l[J]];var u=h[f]*M+H[f]*b*W,C=u-h[f];y+=C*C;h[f]=u}if(y/x<d||Date.now()>$+L)break}};
z.ZX.prototype.zgN=function(h,R,d,L){var $=Date.now(),W=1.96,t=0;if(d==null)d=5e-5;if(L==null)L=1e9;
var M=1-W,x=this.rows,g=this.Lr,r=this.jT,l=this.jV,H=this.LY;while(!0){var y=0;for(var f=0;f<x;f++){var b=f*3,K=R[b],Z=R[b+1],J=R[b+2],u=r[f],C=r[f+1];
for(var Q=u;Q<C;Q++){var i=g[Q],j=l[Q]*3;K-=i*h[j+0];Z-=i*h[j+1];J-=i*h[j+2]}var V=H[f]*W,E=h[b+0]*M+K*V,N=h[b+1]*M+Z*V,n=h[b+2]*M+J*V,a=E-h[b+0],I=N-h[b+1],q=n-h[b+2];
y+=.4*a*a+.5*I*I+.1*q*q;h[b+0]=E;h[b+1]=N;h[b+2]=n}if(y/x<d||Date.now()>$+L)break}};z.LV={};z.LV.Ud=function(h,R,d){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:h},Vrtc:{t:"doub",v:R},Cnty:{t:"bool",v:d}}}};
z.LV.V=function(h,R){for(var d=0;d<h.length;d++){var L=h[d].v,$=R.Ny(new kY(L.Hrzn.v,L.Vrtc.v));L.Hrzn.v=Math.round($.x);
L.Vrtc.v=Math.round($.y)}};z.LV.cz={};z.LV.cz.zT=function(h,R){var d=h.length;for(var L=0;L<d;L++){var $=0,W=Number.NEGATIVE_INFINITY;
for(var M=L;M<d;M++)if(Math.abs(h[M][L])>W){$=M;W=Math.abs(h[M][L])}z.LV.cz.zIk(h,L,$);for(var M=L+1;
M<d;M++){if(h[L][L]==0)return 1;var x=h[M][L]/h[L][L];for(var t=L;t<d+1;t++)h[M][t]-=h[L][t]*x}}for(var M=d-1;
M>=0;M--){if(h[M][M]==0)return 1;var g=h[M][d]/h[M][M];R[M]=g;for(var t=M-1;t>=0;t--){h[t][d]-=h[t][M]*g;
h[t][M]=0}}return 0};z.LV.cz.zgg=function(h,R){var d=[];for(var L=0;L<h;L++){d.push([]);for(var $=0;
$<R;$++)d[L].push(0)}return d};z.LV.cz.zPe=function(h){for(var R=0;R<h.length;R++)console.log(JSON.stringify(h[R]))};
z.LV.cz.zIk=function(h,R,d){var L=h[R];h[R]=h[d];h[d]=L};z.LV.Mu=function(h,R,d){var L=h.length-1,$=z.LV.cz.zgg(L+1,L+2);
for(var W=1;W<L;W++){$[W][W-1]=1/(h[W]-h[W-1]);$[W][W]=2*(1/(h[W]-h[W-1])+1/(h[W+1]-h[W]));$[W][W+1]=1/(h[W+1]-h[W]);
$[W][L+1]=3*((R[W]-R[W-1])/((h[W]-h[W-1])*(h[W]-h[W-1]))+(R[W+1]-R[W])/((h[W+1]-h[W])*(h[W+1]-h[W])))}$[0][0]=2/(h[1]-h[0]);
$[0][1]=1/(h[1]-h[0]);$[0][L+1]=3*(R[1]-R[0])/((h[1]-h[0])*(h[1]-h[0]));$[L][L-1]=1/(h[L]-h[L-1]);$[L][L]=2/(h[L]-h[L-1]);
$[L][L+1]=3*(R[L]-R[L-1])/((h[L]-h[L-1])*(h[L]-h[L-1]));z.LV.cz.zT($,d)};z.LV.zIu=function(h,R,d,L){if(h<=R[0])return d[0];
if(h>=R[R.length-1])return d[R.length-1];var $=1;while(R[$]<h)$++;var W=R[$],M=R[$-1],x=d[$],t=d[$-1],g=(h-M)/(W-M),r=L[$-1]*(W-M)-(x-t),l=-L[$]*(W-M)+(x-t),H=(1-g)*t+g*x+g*(1-g)*(r*(1-g)+l*g);
return H};z.LV.Mb=function(h,R,d,L){var $={_Z:[h[0]],_X:[R[0]],oZ:[]};L[0]=$;for(var W=1;W<h.length-1;
W++){$._Z.push(h[W]);$._X.push(R[W]);if(d[W]==!1){z.LV.Mu($._Z,$._X,$.oZ);$={_Z:[h[W]],_X:[R[W]],oZ:[]}}L[W]=$}$._Z.push(h[W]);
$._X.push(R[W]);z.LV.Mu($._Z,$._X,$.oZ);L[W]=$};z.LV.Md=function(h,R,d,L){if(h<=R[0])return d[0];if(h>=R[R.length-1])return d[R.length-1];
var $=1;while(R[$]<h)$++;var W=L[$-1];return z.LV.zIu(h,W._Z,W._X,W.oZ)};z.LV.Mm=function(h){var R={_Z:[],_X:[],Ja:[]};
for(var d=0;d<h.length;d++){R._Z[d]=h[d].v.Hrzn.v;R._X[d]=h[d].v.Vrtc.v;R.Ja[d]=h[d].v.Cnty?h[d].v.Cnty.v:!0}return R};
z.LV.tW=function(h,R,d){var L=0,$=255;if(d){L=-1e9;$=1e9}var W=z.LV.Mm(h),M=[];z.LV.Mb(W._Z,W._X,W.Ja,M);
var x=[];for(var t=0;t<R;t++)x[t]=1/255*Math.max(L,Math.min($,z.LV.Md(t*(255/(R-1)),W._Z,W._X,M)));return x};
z.LV.zIW=function(h,R,d){var L=Math.round(h.length/20),$=R-h.length,W=d?(h[L]-h[0])/L:0,M=d?h[0]-$*W:h[h.length-1],x=[];
for(var t=0;t<$;t++)x.push(M+t*W);return d?x.concat(h):h.concat(x)};z.LV.Gt=function(h,R,d){var L=z.LV.Mm(h),$=[];
z.LV.Mb(L._Z,L._X,L.Ja,$);var W=new Uint8Array(R),M=R/256;for(var x=0;x<R;x++)W[x]=Math.max(0,Math.min(R-1,z.LV.Md(x*M,L._Z,L._X,$)));
if(d){W[0]=0;if(W[1]>100)W[1]=.4*W[1];if(W[2]>150)W[1]=.7*W[2]}return W};z.LV.MQ=function(h,R){var d=new Uint8Array(h.length);
for(var L=0;L<h.length;L++)d[L]=R[h[L]];return d};z.LV.cv=function(h,R,d){var L=e.X("canvas","");L.width=R;
L.height=d;var $=L.getContext("2d"),W=z.LV.Gt(h,256);$.scale(R/255,d/255);$.fillStyle="#fff";$.fillRect(0,0,255,255);
$.fillStyle="#333";$.beginPath();$.moveTo(0,255);for(var M=0;M<W.length;M++)$.lineTo(M,255-W[M]);$.lineTo(255,255);
$.closePath();$.fill();return L.toDataURL()};z.style={};z.style.stroke=function(h,R,d,L){var $=d.k,W=d.$,M=new Float64Array($*W);
z.style.Gb(h,M,$,W);z.style.dx(R,d,M,d,L)};z.style.dx=function(h,R,d,L,$){var W=R.hc(L),M=W.k,x=W.$;
$+=.5;var t=W.x-R.x,g=W.y-R.y,r=R.k,l=W.x-L.x,H=W.y-L.y,y=L.k;for(var f=0;f<x;f++){var b=(f+H)*y+l,K=(f+g)*r+t;
for(var Z=0;Z<M;Z++){var J=Math.max(0,Math.min(1,$-d[b+Z]));h[K+Z]=Math.round(J*255)}}};z.style.zPo=function(h,R,d,L){for(var $=0;
$<d;$++)for(var W=0;W<R;W++){var M=$*R+W,x=0,t=0,g=h[M];if(W==0||$==0){x=h[M+1]-g;t=h[M+R]-g}else if(W==d-1||$==R-1){x=g-h[M-1];
t=g-h[M-R]}else{x=h[M+1]-h[M-1];t=h[M+R]-h[M-R]}if(x!=0||t!=0){var r=1/Math.sqrt(x*x+t*t);x*=r;t*=r}L[M+M]=x;
L[M+M+1]=t}};z.style.Gb=function(h,R,d,L){var $=0,W=d*L;for(var M=0;M<W;M++)$|=h[M];if($==0){R.fill(1e9);
return}var x=z.style.dR(h,d,L);for(var t=0;t<L;t++)for(var g=0;g<d;g++){var M=t*d+g,r=x[M*2],l=x[M*2+1],H=(t+l)*d+g+r;
if(r==0&&l==0){R[M]=0;continue}var y=Math.sqrt(r*r+l*l),f=h[H]*(1/255),b=1/y,K=Math.abs(r)*b,Z=Math.abs(l)*b;
if(Z>K){var J=Z;Z=K;K=J}R[M]=y+z.style.zIh(K,Z,f)}};z.style.zIh=function(h,R,d){return(.5-d)*h};z.style.dR=function(h,R,d,L){if(L==null){L=!0;
for(var $=0;$<h.length;$++)L=L&&(h[$]==0||h[$]==255)}var W=new Int16Array(R*d*2);if(L)z.style.zIB(h,W,R,d);
else z.style.zIb(h,W,R,d);return W};z.style.zIb=function(h,R,d,L){var $=d*L;for(var W=0;W<$;W++)if(h[W]==0){R[W*2]=16383;
R[W*2+1]=16383}for(var M=1;M<=L-1;M++){var W=M*d;for(var x=0;x<=d-1;x++)z.style.MC(R,h,d,W+x<<1,-1);
for(var x=1;x<=d-1;x++)z.style.ne(R,h,d,W+x<<1,-1);for(var x=d-2;x>=0;x--)z.style.ne(R,h,d,W+x<<1,1)}for(var M=L-2;
M>=0;M--){var W=M*d;for(var x=0;x<=d-1;x++)z.style.MC(R,h,d,W+x<<1,1);for(var x=1;x<=d-1;x++)z.style.ne(R,h,d,W+x<<1,-1);
for(var x=d-2;x>=0;x--)z.style.ne(R,h,d,W+x<<1,1)}};z.style.ne=function(h,R,d,L,$){var W=(L>>>1)+$<<1,M=h[L],x=h[L+1],t=h[W]+$,g=h[W+1],r=t*t+g*g,l=M*M+x*x;
if(g!=16383&&(M==16383||Math.sqrt(r)+(.5-R[(L>>>1)+g*d+t]*(1/255))<Math.sqrt(l)+(.5-R[(L>>>1)+x*d+M]*(1/255)))){h[L]=t;
h[L+1]=g}};z.style.MC=function(h,R,d,L,$){var W=(L>>>1)+$*d<<1,M=h[L],x=h[L+1],t=h[W],g=h[W+1]+$,r=t*t+g*g,l=M*M+x*x;
if(t!=16383&&(M==16383||Math.sqrt(r)+(.5-R[(L>>>1)+g*d+t]*(1/255))<Math.sqrt(l)+(.5-R[(L>>>1)+x*d+M]*(1/255)))){h[L]=t;
h[L+1]=g}};z.style.zIB=function(h,R,d,L){var $=d*L;for(var W=0;W<$;W++)if(h[W]==0){R[W*2]=16383;R[W*2+1]=16383}for(var M=1;
M<=L-1;M++){var W=M*d;for(var x=0;x<=d-1;x++)z.style.MT(R,h,d,W+x<<1,-1);for(var x=1;x<=d-1;x++)z.style.n_(R,h,d,W+x<<1,-1);
for(var x=d-2;x>=0;x--)z.style.n_(R,h,d,W+x<<1,1)}for(var M=L-2;M>=0;M--){var W=M*d;for(var x=0;x<=d-1;
x++)z.style.MT(R,h,d,W+x<<1,1);for(var x=1;x<=d-1;x++)z.style.n_(R,h,d,W+x<<1,-1);for(var x=d-2;x>=0;
x--)z.style.n_(R,h,d,W+x<<1,1)}};z.style.n_=function(h,R,d,L,$){var W=(L>>>1)+$<<1,M=h[L],x=h[L+1],t=h[W]+$,g=h[W+1],r=t*t+g*g,l=M*M+x*x;
if(g!=16383&&(M==16383||r<l)){h[L]=t;h[L+1]=g}};z.style.MT=function(h,R,d,L,$){var W=(L>>>1)+$*d<<1,M=h[L],x=h[L+1],t=h[W],g=h[W+1]+$,r=t*t+g*g,l=M*M+x*x;
if(t!=16383&&(M==16383||r<l)){h[L]=t;h[L+1]=g}};z.style.zNh=function(h,R,d,L,$){var W=d*L,M=(d+L+1)*1.01;
for(var x=0;x<W;x++)if(h[x]<=$)R[x]=M;for(var t=1;t<d;t++)R[t]=Math.min(R[t],R[t-1]);for(var g=1;g<L;
g++){var x=g*d;R[x]=Math.min(R[x],Math.min(R[x-d]+1,R[x-d+1]+Math.SQRT2));for(var t=1;t<d-1;t++){var r=R[++x],l=Math.min(R[x-1]+1,Math.min(R[x-d-1]+Math.SQRT2,Math.min(R[x-d]+1,R[x-d+1]+Math.SQRT2)));
if(l<r)R[x]=l}x++;R[x]=Math.min(R[x],Math.min(R[x-1]+1,Math.min(R[x-d-1]+Math.SQRT2,R[x-d]+1)))}for(var t=d-2;
t>=0;t--)R[t+W-d]=Math.min(R[t+W-d],R[t+W-d+1]);for(var g=L-2;g>=0;g--){var x=g*d+d-1;R[x]=Math.min(R[x],Math.min(R[x+d]+1,R[x+d-1]+Math.SQRT2));
for(var t=d-2;t>=1;t--){var r=R[--x],l=Math.min(R[x+1]+1,Math.min(R[x+d-1]+Math.SQRT2,Math.min(R[x+d]+1,R[x+d+1]+Math.SQRT2)));
if(l<r)R[x]=l}x--;R[x]=Math.min(R[x],Math.min(R[x+1]+1,Math.min(R[x+d]+1,R[x+d+1]+Math.SQRT2)))}};z.style.zNm=function(h,R,d,L,$){var W=new Int32Array(d*L);
z.style.zIv(h,W,d,L,$);z.style.zIl(W,R,d,L)};z.style.zIv=function(h,R,d,L,$){var W=new Int32Array(L);
for(var M=0;M<d;M++){var x=d+L;for(var t=L-1;t>=0;t--){if(h[t*d+M]>$)x=0;else x++;W[t]=x}x=d+L;for(var t=0;
t<L;t++){if(h[t*d+M]>$)x=0;else x++;R[t*d+M]=x<W[t]?-x:W[t]}}};z.style.zIl=function(h,R,d,L){var $=(d+L)*(d+L),W=new Float64Array(d),M=new Uint16Array(d);
for(var x=0;x<L;x++){var t=x*d,g=0;M[0]=0;W[0]=-$;W[1]=+$;for(var r=1;r<d;r++){var l=h[r+t]*h[r+t]+r*r,H=(l-(h[M[g]+t]*h[M[g]+t]+M[g]*M[g]))/(2*r-2*M[g]);
while(H<=W[g]){g--;H=(l-(h[M[g]+t]*h[M[g]+t]+M[g]*M[g]))/(2*r-2*M[g])}g++;M[g]=r;W[g]=H;W[g+1]=$}g=0;
for(var r=0;r<d;r++){while(W[g+1]<r)g++;var y=M[g]-r,f=h[M[g]+t],b=x*d+r<<1;R[b]=y;R[b+1]=f}}};z.style.dL=function(h,R,d){if(d)for(var L=0;
L<h.length;L++){var $=h[L];if($>0)h[L]=Math.max(0,Math.min(255,$+R*2*(z.style.yM(L)-128)))}else for(var L=0;
L<h.length;L++){var $=h[L];if($>0)h[L]=Math.max(0,Math.min(255,$+Math.min($*3,R*2*(z.style.yM(L)-128))))}};
z.style.yM=function(h){h=h^61^h>>16;h=h+(h<<3);h=h^h>>4;h=h*668265261;h=h^h>>15;return h&255};z.Mz={};
z.Mz.cH=function(h,R,d){var L=h.canvas,$=e.p(),W=Math.floor;if(L.width!=W(R*$)||L.height!=W(d*$))e.PH(L,R,d,h)};
z.Mz.te=function(h,R,d,L,$,W){z.Mz.cH(h,R,d);if(W==null)W=!1;var M=$.channel,x=$.rect,t=!$.isEnabled;
R=Math.floor(R*e.p());d=Math.floor(d*e.p());if(R*d==0)return;var g=h.createImageData(R,d),r=g.data,l=1/R,H=1/d;
for(var y=0;y<d;y++)for(var f=0;f<R;f++){var b=y*R+f,K=b*4,Z=Math.round(L.x+f*l*L.k),J=Math.round(L.y+y*H*L.$),u=0;
if(Z<x.x||Z>=x.x+x.k||J<x.y||J>=x.y+x.$)u=$.color;else u=M[(J-x.y)*x.k+(Z-x.x)];u=255*(255-$.wX)+u*$.wX>>>8;
if(W)u=170+Math.round(.4*(u-170));r[K]=u;r[K+1]=u;r[K+2]=u;r[K+3]=255}h.putImageData(g,0,0);if(t)z.Mz.dJ(h,R,d)};
z.Mz.zQ_=function(h,R,d,L){h.fillStyle="#eeeeee";h.fillRect(.6*R,.6*d,R,d);h.lineWidth=1.5;var $=.65*R,W=.95*R,M=.65*d,x=.95*d,t=.75*R,g=.85*R,r=.75*d,l=.85*d;
h.beginPath();h.moveTo($,M);h.lineTo(W,M);h.lineTo(W,x);h.lineTo($,x);h.lineTo($,M);h.moveTo(t,r);h.lineTo(g,r);
h.lineTo(g,l);h.lineTo(t,l);h.lineTo(t,r);h.closePath();h.stroke()};z.Mz.MH=[];z.Mz.zQI=function(h,R,d){var L,$,W,M=e.p();
R=Math.floor(M*R);d=Math.floor(M*d);L=Math.ceil(Math.max(R,d)*.35);$=R-L;W=d-L;var x=z.Mz.MH[L];if(x==null){h.save();
h.scale(1/M,1/M);h.fillStyle="#eeeeee";h.fillRect($,W,R,d);h.lineWidth=1;h.strokeRect($+2.5,W+2.5,R-$-5,d-W-5);
var t=h.createImageData(3,3);z._M(t.data,4278190080);t.data[4*4]=t.data[4*4+1]=t.data[4*4+2]=238;h.putImageData(t,$+1,W+1);
h.putImageData(t,R-4,W+1);h.putImageData(t,$+1,d-4);h.putImageData(t,R-4,d-4);h.restore();z.Mz.MH[L]=h.getImageData($,W,R,d)}else h.putImageData(x,$,W)};
z.Mz.zQZ=function(h,R,d,L,$){z.Mz.cH(h,R,d);R=Math.floor(R*e.p());d=Math.floor(d*e.p());var W=R/L.k;
if(R*d==0)return;h.fillStyle="#999999";h.setTransform(1,0,0,1,0,0);h.clearRect(0,0,R,d);var M=z.Mz.hW;
if(M==null){M=z.Mz.hW=JSON.parse(JSON.stringify(uz.ri.default));M.strokeEnabled.v=!0}M.strokeStyleLineWidth.v.val=1*e.p()/W;
h.fillStyle="#ffffff";h.scale(W,W);z.t.Ea($.r,h,0,0);z.t.Ea($.r,h,0,0,M)};z.Mz.vw=null;z.Mz.tS=function(h,R,d,L,$,W,M,x){z.Mz.cH(h,R,d);
R=Math.floor(R*e.p());d=Math.floor(d*e.p());if(R*d==0)return;var t=Math.max(R,d),g=z.Mz.vw;if(g==null||g.width<t||g.height<t){z.Mz.vw=g=h.createImageData(t,t)}t=g.width;
var r=g.data,l=L.k/R,H=L.$/d,y=1/255,f=W.x,b=W.x+W.k,K=W.y,Z=W.y+W.$;for(var J=0;J<d;J++)for(var u=0;
u<R;u++){var C=J*t+u,Q=C*4,i=~~(L.x+u*l),j=~~(L.y+J*H),V=z.Yd(J,u,2);if(i<f||i>=b||j<K||j>=Z){r[Q]=V;
r[Q+1]=V;r[Q+2]=V;r[Q+3]=255}else{var E=(j-W.y)*W.k+(i-W.x)<<2,N=$[E+3]*y;r[Q]=$[E+0]*N+V*(1-N);r[Q+1]=$[E+1]*N+V*(1-N);
r[Q+2]=$[E+2]*N+V*(1-N);r[Q+3]=255}}if(x!=null)for(var J=0;J<r.length;J+=4)r[J]=r[J+1]=r[J+2]=r[J+x];
h.putImageData(g,0,0);if(M)z.Mz.dJ(h,R,d)};z.Mz.zQH=function(h,R,d,L){z.Mz.cH(h,R,d);h.fillStyle=z.Mz.IZ(L.Clr.v);
h.fillRect(0,0,R,d);z.Mz.dr(h,R,d)};z.Mz.MX=null;z.Mz.zQX=function(h,R,d,L){z.Mz.cH(h,R,d);var $=h.canvas.width,W=h.canvas.height,M=z.Mz.MX;
if(M==null||M.width!=$||M.height!=W){h.fillStyle="#ffffff";h.fillRect(0,0,R,d);h.fillStyle="#000000";
h.font=""+d*.7+"px serif";h.fillText("T",(R-d*.43)/2,d*.75);h.fillText("T",(R-d*.43)/2,d*.75);z.Mz.MX=h.getImageData(0,0,$,W)}else h.putImageData(M,0,0)};
z.Mz.zQc=function(h,R,d){z.Mz.cH(h,R,d);h.clearRect(0,0,R,d);h.font=d*.7+"px serif";h.fillText(":(",(R-d*.43)/2,d*.7)};
z.Mz.zQv=function(h,R,d,L){z.Mz.cH(h,R,d);var $=uJ.get(L),W=uP.get(uJ.names[$]).substring(0,3);h.fillStyle="#ffffff";
h.fillRect(0,0,R,d);h.fillStyle="#000000";h.font=d*.55+"px sans-serif";var M=h.measureText(W);h.fillText(W,(R-M.width)/2,d*.67);
h.fillRect(0,0,R,d*.1);h.fillRect(0,d*.9,R,d*.1)};z.Mz.zQY=function(h,R,d,L){z.Mz.cH(h,R,d);var $=h.canvas.width,W=h.canvas.height,M=h.getImageData(0,0,$,W);
z.i.zD(L.Grad.v,new Uint8Array(M.data.buffer),new A(0,0,$,W),[1/$,0,0,1/W],$/2,W/2,!1,0,16711680,65280);
h.putImageData(M,0,0);z.Mz.dr(h,R,d)};z.Mz.zKu=function(h,R,d,L,$){z.Mz.cH(h,R,d);var W=h,M=uS.$V(L.Ptrn.v,$.add.Patt),x=M.e;
z.Mz.tS(h,R,d,x,M.tP,x,!1);z.Mz.dr(W,R,d)};z.Mz.dJ=function(h,R,d){h.strokeStyle="#bb0000";h.lineWidth=3;
h.beginPath();h.moveTo(R*.15,d*.15);h.lineTo(R*.85,d*.85);h.moveTo(R*.85,d*.15);h.lineTo(R*.15,d*.85);
h.closePath();h.stroke()};z.Mz.dJ=function(h,R,d){h.strokeStyle="#bb0000";h.lineWidth=3;h.beginPath();
h.moveTo(R*.15,d*.15);h.lineTo(R*.85,d*.85);h.moveTo(R*.85,d*.15);h.lineTo(R*.15,d*.85);h.closePath();
h.stroke()};z.Mz.dr=function(h,R,d){h.fillStyle="#eeeeee";h.fillRect(0,d*.75,R,d*.25);h.beginPath();
h.moveTo(0,d*.75);h.lineTo(R,d*.75);h.moveTo(R*.1,d*.875);h.lineTo(R*.9,d*.875);h.moveTo(R*.65,d*.825);
h.lineTo(R*.65,d*.95);h.closePath();h.stroke()};z.Mz.IZ=function(h){var R=z.i.IZ(h),d=Math.round(R.H)<<16|Math.round(R.N)<<8|Math.round(R.W);
return"#"+z.zJ(d)};z.t={};z.t.Uc=function(h,R,d){var L=[],$=-1;for(var W=0;W<h.length;W++){var M=h[W];
if((M.type==0||M.type==3)&&M.uH!=-1)$++;if(M.type>5||M.type==0||M.type==3)continue;if(R!=null&&R.indexOf($)==-1)continue;
if(d!=null&&d.indexOf(W)==-1)continue;L.push(M.MW.x);L.push(M.MW.y);L.push(M.O.x);L.push(M.O.y);L.push(M.dD.x);
L.push(M.dD.y)}return L};z.t.dv=function(h,R,d,L){var $=0,W=-1;for(var M=0;M<R.length;M++){var x=R[M];
if((x.type==0||x.type==3)&&x.uH!=-1)W++;if(x.type>5||x.type==0||x.type==3)continue;if(d!=null&&d.indexOf(W)==-1)continue;
if(L!=null&&L.indexOf(M)==-1)continue;x.MW.qC(h[$],h[$+1]);x.O.qC(h[$+2],h[$+3]);x.dD.qC(h[$+4],h[$+5]);
$+=6}};z.t._B=function(h,R,d,L){var $=z.t.Uc(h,d,L);z.G.V($,R,$);z.t.dv($,h,d,L)};z.t.zKe=function(h,R,d,L){var $=z.t.Uc(h,d,L);
z.S.apply(R,$);z.t.dv($,h,d,L)};z.t.zKP=function(h,R,d,L){if(d==null&&L==null){var $=z.t.zKO(h,40);for(var W=0;
W<$.length;W++)h[W]=$[W]}var M=z.t.Uc(h,d,L);z.be.apply(R,M,z.G.oY(M));z.t.dv(M,h,d,L)};z.t.zKO=function(h,R){var d=[];
for(var L=0;L<h.length;L++){var $=h[L];if($.type>5){d.push(JSON.parse(JSON.stringify($)));continue}var W=z.t.zKg(h,L+1,$.length);
W=z.G.zo(W,R);var M=z.t.zKI(W);L+=$.length;$=JSON.parse(JSON.stringify($));$.length=M.length;d.push($);
for(var x=0;x<M.length;x++)d.push(M[x])}return d};z.t.zKg=function(h,R,d){var L={D:["M"],B:[]},$=h[R],W=h[R+d-1];
L.B.push($.O.x,$.O.y);for(var M=1;M<d;M++){var x=h[R+M-1],t=h[R+M];L.D.push("C");L.B.push(x.dD.x,x.dD.y,t.MW.x,t.MW.y,t.O.x,t.O.y)}L.D.push("C");
L.B.push(W.dD.x,W.dD.y,$.MW.x,$.MW.y,$.O.x,$.O.y);return L};z.t.zKI=function(h){var R=[],d=h.D,L=h.B,$=0,W=L.length;
R.push({type:2,MW:new kY(L[W-4],L[W-3]),O:new kY(L[0],L[1]),dD:new kY(L[2],L[3])});for(var M=0;M<d.length-2;
M++){var x=M*6+4;R.push({type:2,MW:new kY(L[x],L[x+1]),O:new kY(L[x+2],L[x+3]),dD:new kY(L[x+4],L[x+5])})}return R};
z.t.zKR=function(h){for(var R=0;R<h.length;R++){if(h[R].type>5)continue;var d=h[R].length;if(!(d==4||d==6||d==8)){R+=d;
continue}for(var L=0;L<d;L++){var $=h[R+1+L],W=h[R+1+(L+1)%d],M=Math.min($.O.x,W.O.x),x=Math.min($.O.y,W.O.y),t=0,g=0;
if($.O.x<W.O.x){t=$.O.y-x;g=t-(W.O.x-M)}else{t=W.O.y-x;g=t-($.O.x-M)}if(Math.abs(g)<.2*t)return t}}return-1};
z.t.wZ=function(h,R){var d=null,L=-1;for(var $=0;$<h.length;$++){if(h[$].type>5)continue;var W=h[$].length;
if((h[$].type==0||h[$].type==3)&&h[$].uH!=-1)L++;if(R!=null&&R.indexOf(L)==-1)continue;if($==h.length-1)break;
var M=h[$].type==3;if(d==null)d=z.t.Mo(h,$+1,W,M);else{var x=z.t.Mo(h,$+1,W,M);if(R!=null||h[$].uH==0||h[$].uH==-1||h[$].uH==1){var t=Math.min(d.x,x.x),g=Math.min(d.y,x.y),r=Math.max(d.x+d.k,x.x+x.k),l=Math.max(d.y+d.$,x.y+x.$);
d.x=t;d.y=g;d.k=r-t;d.$=l-g}else if(h[$].uH==2)d=d;else if(h[$].uH==3)d=d.hc(x)}$+=W}if(d==null||d.k<0||d.$<0)d=new A(0,0,0,0);
return d};z.t.zZw=new Float64Array(4);z.t.Mo=function(h,R,d,L){var $=z.t.zZw;$[0]=1e30;$[1]=1e30;$[2]=-1e30;
$[3]=-1e30;var W=h[R+d-1];if(!L)z.t.MY(W.O.x,W.O.y,W.dD.x,W.dD.y,h[R].MW.x,h[R].MW.y,h[R].O.x,h[R].O.y,$);
for(var M=R;M<R+d-1;M++){var x=h[M],t=h[M+1];if(x.O.PC(x.dD)&&t.MW.PC(t.O)){$[0]=Math.min($[0],Math.min(x.O.x,t.O.x));
$[1]=Math.min($[1],Math.min(x.O.y,t.O.y));$[2]=Math.max($[2],Math.max(x.O.x,t.O.x));$[3]=Math.max($[3],Math.max(x.O.y,t.O.y))}else z.t.MY(x.O.x,x.O.y,x.dD.x,x.dD.y,t.MW.x,t.MW.y,t.O.x,t.O.y,$)}return new A($[0],$[1],$[2]-$[0],$[3]-$[1])};
z.t.MY=function(h,R,d,L,$,W,M,x,t){var g=1e30,r=1e30,l=-1e30,H=-1e30,y=40,f=d-h,b=L-R,K=$-d,Z=W-L,J=M-$,u=x-W,C=1/y;
for(var Q=0;Q<y+1;Q++){var i=Q*C,j=h+i*f,V=R+i*b,E=d+i*K,N=L+i*Z,n=$+i*J,a=W+i*u,I=j+i*(E-j),q=V+i*(N-V),k=E+i*(n-E),F=N+i*(a-N),o=I+i*(k-I),G=q+i*(F-q);
if(o<g)g=o;if(G<r)r=G;if(o>l)l=o;if(G>H)H=G}t[0]=Math.min(t[0],g);t[1]=Math.min(t[1],r);t[2]=Math.max(t[2],l);
t[3]=Math.max(t[3],H)};z.t.kg=function(h,R){var d=h.length-3,L=R%d,$=Math.floor(L);if(R<0||$>=d)return null;
var W=h[3+$],M=h[3+($+1)%d],x=W.O,t=W.dD,g=M.MW,r=M.O,l=L-$,H=1-l,y=H*H*H*x.x+3*H*H*l*t.x+3*H*l*l*g.x+l*l*l*r.x,f=H*H*H*x.y+3*H*H*l*t.y+3*H*l*l*g.y+l*l*l*r.y;
return new kY(y,f)};z.t.uc=function(h){var R=2,d=z.t.iG(h),L=!1,$=!1;for(var W=2;W<h.length;W++){var M=h[W].uH;
if(M!=null){if(M==2||M==0)L=!0;if(M==-1)$=!0}}if($){var x=z.G.yJ(h);return{Lm:Typr.U.pathToSVG({crds:x.B,cmds:x.D},R),RH:L?1:0}}if(L&&h.length<5e3&&d>1)h=z.t.dl(h);
var x=z.G.yJ(h);return{Lm:Typr.U.pathToSVG({crds:x.B,cmds:x.D},R),RH:L?1:0}};z.t.dl=function(h){z.t.tJ();
var R,d=z.t.dV(h),L=[];for(var $=0;$<d.length;$++){var W=d[$][0],M=d[$][1];if(Math.abs(W.area)<1e-5)L.push(W);
else if(R==null)R=W;else{R=R[M](W);R.remove()}}if(R==null)R=new paper.CompoundPath(L);else{if(R.segments)R=new paper.CompoundPath(R);
for(var $=0;$<L.length;$++){R.children.push(L[$])}}var x=h.slice(0,2);x=x.concat(z.t.uY(R));if(x[2])x[2].uH=1;
for(var $=3;$<x.length;$++)if(x[$].uH!=null)x[$].uH=-1;return x};z.t.tJ=function(){if(z.t.zmw==null){var h=e.X("canvas");
paper.setup(h);z.t.zmw=!0}};z.t.zZK=function(h,R){z.t.tJ();var d=[],L=z.t.dV(h),$=new paper.Path.Rectangle(new paper.Rectangle(R.x,R.y,R.k,R.$));
$.remove();$.fillColor=new paper.Color(1,0,0);for(var W=0;W<L.length;W++)if($.intersects(L[W][0])||$.contains(L[W][0].segments[0].point))d.push(W);
return d};z.t.F$=function(h,R,d,L){z.t.tJ();var $=d?{curves:!0,tolerance:L}:null,W=new paper.Point(R.x,R.y),M=z.t.dV(h);
for(var x=M.length-1;x>=0;x--){var t=M[x][0],g=t.hitTest(W,$);if(g!=null)return{KW:x,DE:d?g.location.index:null}}return{KW:-1}};
z.t.nO=function(h,R){var d=[[],[],[]];for(var L=0;L<h.length;L++){var $=h[L];if($.type>5||$.type==0||$.type==3)continue;
if(R.hR($.O))d[0].push(L);if(R.hR($.MW))d[1].push(L);if(R.hR($.dD))d[2].push(L)}return d};z.t.zZx=function(h,R,d){var L=d.slice(0),$=[null,null],W=-1,t=null;
for(var M=2;M<h.length;M++){if((h[M].type==0||h[M].type==3)&&h[M].uH!=-1)W++;$[M]=d[W]}d=$;var x=h.slice(0,2);
$=d.slice(0,2);for(var M=2;M<h.length;M++){if(h[M].type==0||h[M].type==3){t=h[M];x.push(t);$.push(d[M])}else{if(R.indexOf(M)==-1){x.push(h[M]);
$.push(d[M])}else{t.length--;z.qK.Ze(d,M)}}}for(var M=2;M<x.length;M++){var g=x[M];if(g.type!=0&&g.type!=3)continue;
if(g.length==0){if(x[M+1]&&x[M+1].uH==-1){x[M+1].uH=g.uH}$.splice(M,1);x.splice(M,1);M--}}for(var M=0;
M<L.length;M++)if($.indexOf(L[M])==-1){L.splice(M,1);M--}return x};z.t.zZT=function(h,R){var d=h.slice(0,2),L=-1;
for(var $=2;$<h.length;$++){if((h[$].type==0||h[$].type==3)&&h[$].uH!=-1)L++;if(R.indexOf(L)==-1)d.push(h[$])}return d};
z.t.zZr=function(h,R){var d=h.slice(0,2),L=-1;for(var $=2;$<h.length;$++){if((h[$].type==0||h[$].type==3)&&h[$].uH!=-1)L++;
if(R.indexOf(L)!=-1)d.push(h[$])}return d};z.t.zSN=function(h){var R=0;for(var d=0;d<h.length;d++)if(h[d].type==0||h[d].type==3)R=d;
return h[R]};z.t.iG=function(h){var R=-1;for(var d=0;d<h.length;d++)if((h[d].type==0||h[d].type==3)&&h[d].uH!=-1)R++;
return R+1};z.t._r=function(h,R){var d=-1;for(var L=0;L<h.length;L++)if((h[L].type==0||h[L].type==3)&&h[L].uH!=-1){d++;
if(d==R)return L}return-1};z.t.ul=function(h,R){var d=-1;for(var L=0;L<h.length;L++)if((h[L].type==0||h[L].type==3)&&h[L].uH!=-1){if(L>=R)return d;
d++}return d};z.t.dY=function(h,R){var d=-1,L=0;for(var $=0;$<h.length;$++){if((h[$].type==0||h[$].type==3)&&h[$].uH!=-1)d++;
if(d==R)L++}return L};z.t.uY=function(h){var R=h.segments?[h]:h.children,d=[];for(var L=0;L<R.length;
L++){var $=R[L],W=$.segments,M=$.closed?0:3,x=d.length,t=null;if(W.length<=1)continue;d.push({type:M,length:W.length,uH:0,pa:2});
for(var g=0;g<W.length;g++){var r=W[g],l=new kY(r.handleIn.x,r.handleIn.y),H=new kY(r.handleOut.x,r.handleOut.y),y=new kY(r.point.x,r.point.y),f={type:M+1,MW:y.add(l),O:y,dD:y.add(H)};
if(t==null)t=f;d.push(f);if(g+1==W.length&&kY.ZW(t.O,f.O)<1e-5){d.pop();d[x].length--;t.MW=f.MW;if(M==3)for(var b=x;
b<d.length;b++)d[b].type-=3}}}return d};z.t.dV=function(h){z.t.tJ();var R=[],d,L=new paper.Color(1,0,0);
for(var $=0;$<h.length;$++){if(h[$].type>5)continue;var W=h[$].length,M;if($==h.length-1)break;var x=h[$].type==3;
if($==2){if(!z.t.tT(h))M="subtract";else M="unite"}else{if(h[$].uH==0)M="exclude";if(h[$].uH==1)M="unite";
if(h[$].uH==2)M="subtract";if(h[$].uH==3)M="intersect"}if(h[$].uH!=-1)d=[];for(var t=0;t<W;t++){var g=h[$+1+t],r=g.MW.FZ(g.O),l=g.dD.FZ(g.O);
d.push([[g.O.x,g.O.y],[r.x,r.y],[l.x,l.y]])}if(h[$+1+W]==null||h[$+1+W].uH!=-1){var H=new paper.Path(d);
H.remove();H.closed=!x;H.fillRule="evenodd";H.fillColor=L;R.push([H,M])}$+=W}return R};z.t.nZ=function(h){for(var R=0;
R<h.length;R++){var d=h[R];if(d.O==null)continue;if(!d.O.PC(d.MW)||!d.O.PC(d.dD))return!1}return!0};
z.t.zSS=function(h){if(h.length<=5)return 0;var R=0,d=h.length-3-1;for(var L=0;L<d;L++){var $=h[3+L],W=h[3+L+1];
if($.type==0||W.type==0)return 0;R+=(W.O.x-$.O.x)*($.O.y+W.O.y)}R+=(h[3].O.x-h[3+d].O.x)*(h[3+d].O.y+h[3+1].O.y);
return-R*.5};z.t.tT=function(h){if(h.length==2)return h[1].all==0;var R=h[2];if(h[1].all==1){if(R.uH==1||R.uH==3)return!0;
return!1}else{if(R.uH==1||R.uH==3||R.uH==0)return!0;return!1}};z.t.zZs=0;z.t.WQ=0;z.t.zSw=0;z.t.znW=function(h,R,d,L){if(d.dp())return;
var $=d.s(),C=16384;z.t.zZs+=$;if($>z.t.WQ){z.t.WQ=$}var W=d.k,M=d.$;if(L==null&&z.t.nZ(h)){var x=!0;
for(var t=2;t<h.length;)if(h[t].length==2)t+=3;else{x=!1;break}if(x){return}if(z.t.WK(h)){R.fill(255);
var g=z.t.wZ(h);if(g.s()!=$){var r=1-(g.x-d.x),l=1-(g.y-d.y),H=1-(d.x+d.k-(g.x+g.k)),y=1-(d.x+d.$-(g.x+g.$)),f=~~(r*255),b=~~(H*255),K=~~(l*255),Z=~~(y*255);
R.fill(K,0,W);R[0]=~~(r*l*255);R[W-1]=~~(H*l*255);for(var t=W;t<$;t+=W){R[t]=f;R[t+W-1]=b}R.fill(Z,(M-1)*W,M*W);
R[$-W]=~~(r*y*255);R[$-1]=~~(H*y*255)}return}}var J=z.Ou,u=z.C,Q=Math.ceil(W/C),i=Math.ceil(M/C),j=Math.ceil(W/Q),V=Math.ceil(M/ i),E=Date.now();
for(var N=0;N<i;N++)for(var n=0;n<Q;n++){var a=n*j,I=N*V,q=j,k=V;J.width=q;J.height=k;if(!z.t.tT(h))u.fillRect(0,0,q,k);
z.t.Ea(h,u,-d.x-a,-d.y-I,L);var F=new Uint8Array(u.getImageData(0,0,q,k).data.buffer);if(q==W&&k==M)z.nP(F,R,3);
else z.qm(F,new A(a,I,q,k),R,new A(0,0,W,M))}};z.t.Ea=function(h,R,d,L,$){if($!=null&&$.fillEnabled.v){var W=!1,M=!1,x=0;
for(var t=0;t<h.length;t++){var g=h[t].uH;if(g!=null)x++;if(g==-1)W=!0;if(g>0)M=!0}if(!W&&x<20)h=z.t.dl(h)}for(var t=0;
t<h.length;t++){if(h[t].type>5)continue;var r=h[t].length;if(r==0)continue;if(t==h.length-1)break;var l=h[t].type==3;
if(t==2){if(!z.t.tT(h))R.globalCompositeOperation="destination-out";else R.globalCompositeOperation="source-over"}else{var g=h[t].uH;
if(g!=-1&&$==null){var H=["xor","source-over","destination-out","source-in"][g];R.globalCompositeOperation=H}}if(h[t].uH!=-1){R.beginPath();
if($){var y=$.strokeStyleLineWidth.v.val,f=$.strokeStyleLineAlignment.v.strokeStyleLineAlignment,b=$.strokeStyleLineCapType.v.strokeStyleLineCapType,K=$.strokeStyleLineJoinType.v.strokeStyleLineJoinType,Z=$.strokeStyleMiterLimit.v,J=[],u=$.strokeStyleLineDashSet.v;
for(var C=0;C<u.length;C++)J.push(u[C].v.val*y);R.setLineDash(J);R.lineCap=["butt","round","square"][uz.ri.OK.indexOf(b)];
R.lineJoin=["miter","round","bevel"][uz.ri.join.indexOf(K)];R.lineWidth=uz.ri.OJ.indexOf(f)==1?y:y*=2;
R.miterLimit=Z}}z.t.znD(R,h,t+1,r,d,L,l);if(l){}else R.closePath();if(h[t+1+r]==null||h[t+1+r].uH!=-1){if($)R.stroke();
else R.fill("evenodd")}t+=r}};z.t.znD=function(h,R,d,L,$,W,M){var x=R[d],t=null;h.moveTo(x.O.x+$,x.O.y+W);
for(var g=d;g<d+L-1;g++){x=R[g];t=R[g+1];h.bezierCurveTo(x.dD.x+$,x.dD.y+W,t.MW.x+$,t.MW.y+W,t.O.x+$,t.O.y+W)}if(!M){x=R[g];
t=R[d];h.bezierCurveTo(x.dD.x+$,x.dD.y+W,t.MW.x+$,t.MW.y+W,t.O.x+$,t.O.y+W)}};z.t.nC=function(h,R,d){var L=[],$=d?4:1,W=!1;
if(R!=null)for(var M=0;M<R.length;M++)if(R[M]!=0){W=!0;break}if(R!=null&&W){var x=z.G.zGY(h,R),t=x.length/6;
for(var M=0;M<t;M++){var g=M*6,r=(M-1+t)%t*6,l=x[g],H=x[g+1],y=x[g+2],f=x[g+3],b=x[r+4],K=x[r+5];L.push({type:$,MW:new kY(b,K),O:new kY(l,H),dD:new kY(y,f)})}}else{for(var M=0;
M<h.length;M+=2){var Z=new kY(h[M],h[M+1]);L.push({type:$,MW:Z.clone(),O:Z.clone(),dD:Z.clone()})}}return L};
z.t.Ez=function(h,R){z.t.tJ();var d=new paper.Path;d.remove();var L=h.length-1,$=Math.sqrt((h[L-1]-h[0])*(h[L-1]-h[0])+(h[L]-h[1])*(h[L]-h[1]))<3;
d.closed=$;for(var W=0;W<h.length;W+=2)d.add(new paper.Point(h[W],h[W+1]));d.simplify(R);var M=[{type:6},{type:8,all:0}];
M=M.concat(z.t.uY(d));return M};z.t.znQ=function(h,R,d){var L=h[R].length,$=h[R].type,W=0,M=h.slice(R+1,R+1+L);
for(var x=0;x<L;x++){var t=d[x];if(t!=0){var g=M[(x-1+L)%L].O,r=M[(x+0+L)%L].O,l=M[(x+1+L)%L].O;t=Math.min(t,kY.ZW(g,r)/2,kY.ZW(r,l)/2);
var H=z.G.tQ(g.x,g.y,r.x,r.y,l.x,l.y,0,t),y={type:$+1,MW:new kY(H[2],H[3]),O:new kY(H[2],H[3]),dD:new kY(H[4],H[5])},f={type:$+1,MW:new kY(H[6],H[7]),O:new kY(H[8],H[9]),dD:new kY(H[8],H[9])};
h.splice(R+W+1,1,y,f);W++;h[R].length++}W++}};z.t.nZ=function(h){for(var R=0;R<h.length;R++){var d=h[R],L=d.type;
if(L==1||L==2||L==4||L==5)if(!d.O.PC(d.MW)||!d.O.PC(d.dD))return!1}return!0};z.t.WK=function(h){if(h.length!=7||!z.t.nZ(h))return!1;
for(var R=0;R<4;R++){var d=!0;for(var L=0;L<4;L++){var $=h[3+(R+L&3)],W=h[3+(R+L+1&3)];if($.O.x!=W.O.x&&$.O.y!=W.O.y)d=!1}if(d)return!0}return!1};
z.t.WB={};z.t.WB.rb=function(h,R,d){var L=[{type:6},{type:8,all:0}],$=null;L.push({type:d?3:0,uH:1,length:0,Qu:0,Qb:0,pa:1});
if(R==0)$==null;else if(R instanceof Array)$=R;else{$=[];for(var W=0;W<h.length;W+=2)$.push(R)}L=L.concat(z.t.nC(h,$,d));
L[2].length=L.length-3;return L};z.t.WB.zCM=function(h,R,d,L,$){var W=[],M=[],x=.553,t=1,g=-1;W.push({type:1,MW:new kY(0,x),O:new kY(0,0),dD:new kY(0,-x)});
$+=2;for(var r=0;r<$;r++){var l={type:1};if(r==0){l.O=new kY(1,-1);l.MW=new kY(1-x,-1);l.dD=new kY(1+x,-1)}else{var H=-(r+2)*Math.PI/2,y=1+((r&1)==1?r-1:r),f=Math.sin(H),b=Math.cos(H);
t+=y*(f-b);g+=y*(b+f);l.O=new kY(t,g);l.MW=new kY(t+y*b*x,g-y*f*x);if((r&1)==1)y+=2;l.dD=new kY(t-y*b*x,g+y*f*x)}var K={type:1,MW:new kY(-l.dD.x,-l.dD.y),O:new kY(-l.O.x,-l.O.y),dD:new kY(-l.MW.x,-l.MW.y)};
W.push(l);if(r<$-2)M.push(K)}M.reverse();W=W.concat(M);var Z=[{type:6},{type:8,all:0}];Z.push({type:0,uH:1,length:W.length,Qu:0,Qb:0,pa:1});
Z=Z.concat(W);var J=new um(d/$,0,0,d/$,0,0);J.rotate(L);J.translate(h,R);z.t._B(Z,J);return Z};z.t.WB.Rect=function(h,R,d,L,$){var W=[h,R,h+d,R,h+d,R+L,h,R+L];
return z.t.WB.rb(W,$)};z.t.WB.Eh=function(h,R,d,L,$,W){var M=[],x=2*Math.PI/$;for(var t=0;t<$;t++)M.push(Math.cos(t*x),Math.sin(t*x));
var g=new um(d,0,0,d,0,0);g.rotate(L);g.translate(h,R);z.G.V(M,g,M);return z.t.WB.rb(M,W)};z.t.WB.zCB=function(h,R,d,L,$,W,M){var x=[],t=Math.PI/$;
for(var g=0;g<$*2;g++){var r=(g&1)==0?1:M;x.push(r*Math.cos(g*t),r*Math.sin(g*t))}var l=new um(d,0,0,d,0,0);
l.rotate(L);l.translate(h,R);z.G.V(x,l,x);return z.t.WB.rb(x,W)};z.t.WB.GF=function(h,R,d,L,$){return z.t.WB.WZ(0,h,R,d,L,$)};
z.t.WB.zCq=function(h,R,d,L,$,W){return z.t.WB.WZ(1,h,R,d,L,$,W)};z.t.WB.WZ=function(h,R,d,L,$,W,M){var x=Math.sqrt((L-R)*(L-R)+($-d)*($-d)),t;
W/=2;if(h==0)t=[-W,0,W,0,W,x,-W,x];else{var g=W*2*M*1.3/1.5,r=W*M;t=[-W,0,W,0,W,x-g,r,x-g,0,x,-r,x-g,-W,x-g]}var l=new um(1,0,0,1,0,0);
l.rotate(Math.atan2(-$+d,L-R)+Math.PI/2);l.translate(R,d);z.G.V(t,l,t);return z.t.WB.rb(t,0)};z.t.WB.Rc=function(h,R,d,L){var $=[{type:6},{type:8,all:0}],l=.553;
$.push({type:0,uH:1,length:4,Qu:0,Qb:0,pa:1});var W=h,M=R,x=h+d,t=R+L,h=(W+x)/2,R=(M+t)/2,g=(W-x)/2,r=(M-t)/2;
$.push({type:1,MW:new kY(h-l*g,R-r),O:new kY(h,R-r),dD:new kY(h+l*g,R-r)});$.push({type:1,MW:new kY(h+g,R-l*r),O:new kY(h+g,R),dD:new kY(h+g,R+l*r)});
$.push({type:1,MW:new kY(h+l*g,R+r),O:new kY(h,R+r),dD:new kY(h-l*g,R+r)});$.push({type:1,MW:new kY(h-g,R+l*r),O:new kY(h-g,R),dD:new kY(h-g,R-l*r)});
return $};z.t.WB.zCN=function(h,R,d,L,$){var W=[{type:6},{type:8,all:0}];W.push({type:3,uH:1,length:5,Qu:0,Qb:0,pa:1});
var M=($-L)/4;for(var x=0;x<5;x++){var t=x*M,g=Math.cos(t),r=Math.sin(t),l=.553*(M/(Math.PI/2)),H=r*l,y=-g*l,f=new kY(g,r);
W.push({type:4,MW:x==0?f.clone():new kY(g+H,r+y),O:f,dD:x==4?f.clone():new kY(g-H,r-y)})}var b=new um;
b.rotate(-L);b.scale(d,d);b.translate(h,R);z.t._B(W,b);return W};z.Mp={};z.Mp.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
z.Mp.Lp=function(h){var R=h.warpStyle.v.warpStyle;if(R=="warpNone")return!0;else if(R=="warpCustom"){var d=!1,L=h.customEnvelopeWarp.v.meshPoints.v.arr,$=L[0].arr,W=L[1].arr;
for(var M=0;M<4;M++)for(var x=0;x<4;x++){if(Math.abs($[M]-$[x*4+M])>1||Math.abs(W[M*4]-W[M*4+x])>1)d=!0}return!d}else return h.warpValue.v==0&&h.warpPerspective.v==0&&h.warpPerspectiveOther.v==0};
z.Mp.h=function(h){var R={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(h){R.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:h.y}},Left:{t:"UntF",v:{type:"#Pxl",val:h.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:h.y+h.$}},Rght:{t:"UntF",v:{type:"#Pxl",val:h.x+h.k}}}};
R.uOrder={t:"long",v:4};R.vOrder={t:"long",v:4}}return R};z.Mp.zCZ=function(h,R,d,L){for(var $=0;$<h.length;
$+=2){var W=h[$],M=h[$+1],x=(W-R.x)/R.k,t=(M-R.y)/R.$,g=(1-d)/2,r=1-g,l=g+x*(r-g);t=.5+(t-.5)*l*2;var H=(1-L)/2,y=1-H,f=H+t*(y-H);
x=.5+(x-.5)*f*2;W=R.x+x*R.k;M=R.y+t*R.$;h[$]=W;h[$+1]=M}};z.Mp.Wn=function(h,R){var d=[],L=[];for(var $=0;
$<h.length;$+=2){d.push(h[$]);L.push(h[$+1])}var W=[];W.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:d});
W.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:L});R.warpStyle.v.warpStyle="warpCustom";R.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:W}}}}};
z.Mp.Qs=function(h,R){if(R==null){var d=h.bounds.v,L=d.Left.v.val,$=d.Rght.v.val,W=d.Top.v.val,M=d.Btom.v.val;
R=new A(L,W,$-L,M-W)}if(R.dp())R.k=R.$=1;var x=[],t=h.warpStyle.v.warpStyle;if(t=="warpCustom"){var g=h.customEnvelopeWarp.v.meshPoints.v.arr,r=g[0].arr,l=g[1].arr;
for(var H=0;H<16;H++)x.push(r[H],l[H])}else x=z.Mp.Mp(R,t,h.warpRotate.v.Ornt=="Hrzn",h.warpValue.v/100,h.warpPerspective.v/100,h.warpPerspectiveOther.v/100);
return x};z.Mp.Mp=function(h,R,d,L,$,W){var M=z.be.h(h.x,h.y,h.k,h.$);if(R=="warpNone")return M;var x=JSON.parse(JSON.stringify(h)),t=new um;
if(!d){t.translate(-h.x,-h.y);t.rotate(-Math.PI/2);t.translate(h.$,0);z.G.V(M,t,M);h=new A(0,0,h.$,h.k);
M=z.be.YY(M,!1)}z.Mp.zCU(M,h,R,L,$,W);if(!d){M=z.be.YY(M,!0);h=x;t.Gv();z.G.V(M,t,M)}if(L==0)z.Mp.zCZ(M,h,$,W);
else{var t=new um(1/h.k,0,0,1/h.$,-h.x,-h.y);t.translate(-.5,-.5);z.G.V(M,t,M);z.Mp.zaE(M,W,$);t.Gv();
z.G.V(M,t,M)}return M};z.Mp.zCU=function(h,R,d,L,$,W){for(var M=0;M<4;M++){for(var x=0;x<4;x++){var t=2*(4*M+x),g=h[t]-R.x,r=h[t+1]-R.y,l=g,H=r;
if(L!=0){var y=R.k/2,f=R.$/2;l-=y;H-=f;var b=l,K=l,Z=-f,J=f,u=Math.abs(L),C=Math.tan((1-u)*Math.PI/2),Q=Math.sqrt(C*C+1),i=Math.atan2(1,C),j=l/y*i,V=y*Q,E=y*Q+R.$,N=Math.cos(i),n=Math.sin(i),a=z.Mp.zax(N,n),I=z.Mp.zav(N,n),q=-C*y+a*V;
if(d=="warpArc"){b=Math.sin(j)*E;Z=C*y-Math.cos(i)*E+f;K=Math.sin(j)*V;J=C*y-Math.cos(i)*V+f;if(x==1||x==2){b=x==1?-I*E:I*E;
K=x==1?-I*V:I*V;Z=C*y+f-a*E;J=C*y+f-a*V}if(L<0){var k=b;b=K;K=k;k=Z;Z=-J;J=-k}}if(d=="warpArcLower"){if(x==1||x==2){K=x==1?-I*V:I*V;
J=L<0?f-q:f+q}}if(d=="warpArcUpper"||d=="warpArch"||d=="warpBulge"){if(x==1||x==2){b=x==1?-I*V:I*V;Z=L<0?-f+q:-f-q}if(d=="warpArch"){K=b;
J=Z+2*f}if(d=="warpBulge"){K=b;J=-Z}}if(d=="warpFish"||d=="warpFlag"||d=="warpWave"){if(x==1){Z-=L*4*f;
J+=L*4*f}if(x==2){Z+=L*4*f;J-=L*4*f}if(d=="warpFlag"||d=="warpWave")Z=J-2*f}if(d=="warpRise"){if(x<2)Z=-f+L*f*4;
J=Z+2*f}var F=(H+f)/R.$;l=b+F*(K-b);H=Z+F*(J-Z);if(d=="warpWave"){if(M==0)H=-f;if(M==3)H=f;if(M==1||M==2)H=2*f*(M/3-.5)*(1/3)+H*(2/3)}if(d=="warpFisheye"){if((M==1||M==2)&&(x==1||x==2)){l=l+4*l*L;
H=H+4*H*L}}if(d=="warpInflate"){var o=2/3;if((M==1||M==2)&&(x==1||x==2)){l=l+.5*l*L;H=H+.5*H*L}else if(M==1||M==2)l=l+o*l*L;
else if(x==1||x==2)H=H+o*H*L}if(d=="warpSqueeze"){var o=2/3;if((M==1||M==2)&&(x==1||x==2)){if(L>0)l=l-o*l*L;
else H=H+o*H*L}else if(M==1||M==2)l=l-o*l*L;else if(x==1||x==2)H=H+o*H*L}if(d=="warpTwist"){if((M==1||M==2)&&(x==1||x==2)){var G=L*Math.PI/2,Q=1+Math.abs(L)*2,w=l*Math.cos(G)-H*Math.sin(G),U=l*Math.sin(G)+H*Math.cos(G);
l=w*Q;H=U*Q}}if(d=="warpShellLower"||d=="warpShellUpper"){if(d=="warpShellUpper"){M=3-M;H=-H}if(M>2||M==2&&(x==0||x==3)){if(L>0){var B=V+M/3*2*f;
l=Math.sin(j)*B;H=-C*y-f+Math.cos(j)*B;if(x==1||x==2){l=x==1?-I*B:I*B;H=-C*y-f+a*B}}else{if((x==1||x==2)&&M==3){l=x==1?-I*V:I*V;
H=C*y-a*V+f}else if(M==2){H=f-f*(2/3)*Math.cos(j);l=l+f*(2/3)*Math.sin(j)}}}if(d=="warpShellUpper"){M=3-M;
H=-H}}l+=y;H+=f}g=l,r=H;h[t]=g+R.x;h[t+1]=r+R.y}}};z.Mp.zaE=function(h,R,d){var L=[];for(var $=0;$<4;
$++)L.push(1-d+$/3*2*d);var W=[];for(var $=0;$<4;$++)W.push(1-R+$/3*2*R);var M=[0,0,0,0],x=[0,0,0,0];
for(var t=0;t<4;t++)for(var $=0;$<4;$++){var g=2*(4*t+$),r=h[g],l=h[g+1];M[$]+=r/4;x[$]+=l/4}for(var t=0;
t<4;t++)for(var $=0;$<4;$++){var H=L[$],g=2*(4*t+$),r=h[g],l=h[g+1],y=M[$],f=x[$];h[g]=y+H*(r-y);h[g+1]=f+H*(l-f)}var b=h.slice(0);
for(var t=0;t<4;t++)for(var $=1;$<3;$++){var g=2*(4*t+$),r=h[g],l=h[g+1],K=g+($==1?-2:2),Z=h[K],J=h[K+1];
h[g]=r-Z;h[g+1]=l-J}var u=h[0],C=h[1],Q=h[8],i=h[9],j=h[16],V=h[17],E=h[24],N=h[25],n=h[6],a=h[7],I=h[14],q=h[15],k=h[22],F=h[23],o=h[30],G=h[31],w=n-u,U=a-C,B=I-Q,D=q-i,P=k-j,v=F-V,O=o-E,uk=G-N;
for(var t=0;t<4;t++){var ut=2*t*4,ua=0,uu=0,uW=t==1?.33:.66,kV=1-uW;if(t==0){ua=w;uu=U}if(t==1){ua=kV*w+uW*-O;
uu=kV*U+uW*-uk}if(t==2){ua=kV*w+uW*-O;uu=kV*U+uW*-uk}if(t==3){ua=-O;uu=-uk}h[ut]=h[ut]+ua/2;h[ut+1]=h[ut+1]+uu/2;
h[ut+6]=h[ut+6]-ua/2;h[ut+7]=h[ut+7]-uu/2}for(var t=0;t<4;t++)for(var $=1;$<3;$++){var g=2*(4*t+$),r=h[g],l=h[g+1],K=g+($==1?-2:2),Z=h[K],J=h[K+1],H=2*t/3;
h[g]=Z+H*r;h[g+1]=J+H*l}for(var t=1;t<3;t++)for(var $=1;$<3;$++){var g=2*(4*t+$),r=h[g],l=h[g+1],p=t==1?-8:-16,_=t==1?16:8,uB=h[g+p],ub=h[g+p+1],uq=h[g+_],uF=h[g+_+1],H=t/3;
r=(1-H)*uB+H*uq;l=(1-H)*ub+H*uF;h[g]=r;h[g+1]=l}z.G.dj(b,h,h,R)};z.Mp.zax=function(h,R){return(4-h)*(1/3)};
z.Mp.zav=function(h,R){return(1-h)*(3-h)/(3*R)};z.tV={};z.tV.nh=function(h,R,d,L,$,W,M,x,t,g){var r=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],l=1/t,H=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],y=new Uint32Array(6);
for(var f=0;f<x;f++){for(var b=0;b<M;b++){var K=3*(f*M+b),Z=f+W,J=b+$;y[0]=0;y[1]=0;y[2]=0;y[3]=0;y[4]=0;
y[5]=0;for(var u=0;u<16;u+=2){var C=J+H[u],Q=Z+H[u+1],i=C-t*~~(C*l),j=Q-t*~~(Q*l),V=g[j*t+i];y[V]+=h[Q*R+C];
y[V+3]++}var C=J,Q=Z,i=C-t*~~(C*l),j=Q-t*~~(Q*l),V=g[j*t+i];y[V]=h[Z*R+J];y[V+3]=1;L[K]=y[0]*r[y[3]];
L[K+1]=y[1]*r[y[4]];L[K+2]=y[2]*r[y[5]]}}};z.tV.WC=function(h,R,d){for(var L=0;L<d;L+=2)h[R+L]=h[R+L+1];
R=R+d;for(var L=0;L<d;L+=2)h[R+L+1]=h[R+L]};z.tV.hF=function(h,R,d,L){for(var $=0;$<L;$+=2){var W=R+$*d;
h[W]=h[W+d];h[W+d+1]=h[W+1]}};z.tV.hd=function(h,R,d,L,$,W){var M=L[$],x=L[$+1],t=L[W],g=L[W+1],r=x+t>>>1;
h[R]=h[R+3]=h[d]=h[d+3]=M;h[R+1]=r;h[R+4]=x;h[d+1]=t;h[d+4]=r;h[R+2]=h[R+5]=h[d+2]=h[d+5]=g};z.tV.zzs=function(h,R,d,L,$,W){var M=W*3;
for(var x=0;x<W;x+=2){var t=R+x,g=$+x*3;z.tV.hd(L,g,g+M,h,t,t+d)}};z.tV.ztE=function(h,R,d,L,$,W,M){var x=W*3;
for(var t=0;t<M;t+=2){var g=R+t*d,r=$+t*W*3;z.tV.hd(L,r,r+x,h,g,g+d)}};z.tV.hD=function(h,R,d){var L=h[R-d-d],$=h[R-d],W=h[R-2],M=h[R-1],x=h[R],t=h[R+1],g=h[R+2],r=h[R+d],l=h[R+d+d],H=Math.abs($-r),y=Math.abs(M-t),f=Math.abs(x-L)*2+H,b=Math.abs(x-g)*2+y,K=Math.abs(x-W)*2+y,Z=Math.abs(x-l)*2+H,J=Math.min(f,Math.min(b,Math.min(K,Z)));
if(J==f)return $*3+r+x-L>>2;if(J==b)return t*3+M+x-g>>2;if(J==K)return M*3+t+x-W>>2;return r*3+$+x-l>>2};
z.tV.Gj=function(h,R,d,L,$){if(h<R&&R<d||h>R&&R>d)return~~(.5+L+($-L)*(R-h)/(d-h));else return(L+$>>1)+(R+R-h-d>>2)};
z.tV.hI=function(h,R,d,L){var $=R[d-L-1],W=R[d-L+1],M=R[d],x=R[d+L-1],t=R[d+L+1],g=h[d-L-1],r=h[d-L+1],l=h[d],H=h[d+L-1],y=h[d+L+1],f=Math.abs(r-H)+Math.abs(h[d-L-L+2]-l)+Math.abs(l-h[d+L+L-2])+Math.abs(W-M)+Math.abs(M-x),b=Math.abs(g-y)+Math.abs(h[d-L-L-2]-l)+Math.abs(l-h[d+L+L+2])+Math.abs($-M)+Math.abs(M-t);
if(f<b)return z.tV.Gj(W,M,x,r,H);else return z.tV.Gj($,M,t,g,y)};z.tV.nL=function(h,R,d,L,$,W){h[R+0]=d[$];
h[R+1]=L[$];h[R+2]=z.tV.hI(d,L,$,W)};z.tV.nJ=function(h,R,d,L,$,W){var M=L[$];h[R+0]=z.tV.Gj(L[$-1],M,L[$+1],d[$-1],d[$+1]);
h[R+1]=M;h[R+2]=z.tV.Gj(L[$-W],M,L[$+W],d[$-W],d[$+W])};z.tV.nT=function(h,R,d,L,$,W){var M=L[$];h[R+0]=z.tV.Gj(L[$-W],M,L[$+W],d[$-W],d[$+W]);
h[R+1]=M;h[R+2]=z.tV.Gj(L[$-1],M,L[$+1],d[$-1],d[$+1])};z.tV.nX=function(h,R,d,L,$,W){h[R+0]=z.tV.hI(d,L,$,W);
h[R+1]=L[$];h[R+2]=d[$]};z.tV.ztP=function(h,R,d,L,$,W,M,x,t){var g=Date.now(),r=2,l=R-2,H=2;if(($&1)==1){r++;
l--}var y=d-2;if((W&1)==1){H++;y--}if(t==1||t==3){r++;l--}var f=h.slice(0);z.tV.WC(f,0,R);z.tV.hF(f,0,R,d);
z.tV.hF(f,R-2,R,d);z.tV.WC(f,(d-2)*R,R);for(var b=H;b<y;b+=2)for(var K=r;K<l;K+=2){var Z=b*R+K,J=z.tV.hD(f,Z,R),u=z.tV.hD(f,Z+R+1,R);
f[Z]=Math.max(0,J);f[Z+R+1]=Math.max(0,u)}var C=M,Q=x;if(W+x==d){Q-=2;z.tV.zzs(h,(d-2)*R+$,R,L,(x-2)*M*3,M)}if($+M==R){C-=2;
z.tV.ztE(h,W*R+$+M-2,R,L,(M-2)*3,M,x)}if(t==0)for(var b=0;b<Q;b+=2)for(var K=0;K<C;K+=2){var i=(b+W)*R+K+$,j=(b*M+K)*3;
z.tV.nL(L,j,h,f,i,R);z.tV.nJ(L,j+3,h,f,i+1,R);i+=R;j+=3*M;z.tV.nT(L,j,h,f,i,R);z.tV.nX(L,j+3,h,f,i+1,R)}else if(t==1)for(var b=0;
b<Q;b+=2)for(var K=0;K<C;K+=2){var i=(b+W)*R+K+$,j=(b*M+K)*3;z.tV.nJ(L,j,h,f,i,R);z.tV.nL(L,j+3,h,f,i+1,R);
i+=R;j+=3*M;z.tV.nX(L,j,h,f,i,R);z.tV.nT(L,j+3,h,f,i+1,R)}else if(t==2)for(var b=0;b<Q;b+=2)for(var K=0;
K<C;K+=2){var i=(b+W)*R+K+$,j=(b*M+K)*3;z.tV.nX(L,j,h,f,i,R);z.tV.nT(L,j+3,h,f,i+1,R);i+=R;j+=3*M;z.tV.nJ(L,j,h,f,i,R);
z.tV.nL(L,j+3,h,f,i+1,R)}else if(t==3)for(var b=0;b<Q;b+=2)for(var K=0;K<C;K+=2){var i=(b+W)*R+K+$,j=(b*M+K)*3;
z.tV.nT(L,j,h,f,i,R);z.tV.nX(L,j+3,h,f,i+1,R);i+=R;j+=3*M;z.tV.nL(L,j,h,f,i,R);z.tV.nJ(L,j+3,h,f,i+1,R)}};
z.raw={};z.raw.ztX=function(h){var R=h.width,d=h.height,L=Date.now(),$=z.raw.zMA(h),W=0,M=0;z.raw.Ee(2,h,$,R,d);
var x=R,t=d;if(h.t50829){var g=h.t50829;W=g[1];M=g[0];x=g[3];t=g[2]}if(h.t50719){var r=h.t50719;W+=r[0]>>1<<1;
M+=r[1]>>1<<1}if(h.t50720){var l=h.t50720;x=W+l[0];t=M+l[1]}var H=x-W,y=t-M,f=new Float32Array(H*y*3);
if(h.t277[0]==1){var b=h.t33421;if(b.length!=2||b[0]!=2||b[1]!=2){console.log("Unknown CFA pattern size",b);
z.tV.nh($,R,d,f,W,M,H,y,b[0],h.t33422)}else{var K=h.t33422.join(","),Z=0;if(K=="0,1,1,2")Z=0;else if(K=="1,0,2,1")Z=1;
else if(K=="2,1,1,0")Z=2;else if(K=="1,2,0,1")Z=3;else throw"Unknown CFA pattern "+K;if((H&1)!=0||(y&1)!=0)throw"e";
z.tV.ztP($,R,d,f,W,M,H,y,Z)}}else{for(var J=0;J<y;J++)for(var u=0;u<H;u++){var C=((J+M)*R+u+W)*3,Q=(J*H+u)*3;
f[Q+0]=$[C+0];f[Q+1]=$[C+1];f[Q+2]=$[C+2]}}var i=f,j=f.length,V=z.raw.zMg(h),E=1/V;for(var N=0;N<j;N+=3){f[N]=Math.min(1,i[N]*E);
f[N+1]=Math.min(1,i[N+1]*E);f[N+2]=Math.min(1,i[N+2]*E)}z.raw.Ee(3,h,f,H,y);var n=h.io,a=H,I=y;if(n==1||n==9){}else{var q=z.raw.hZ(n,H,y),Q=0;
a=q[0];I=q[1];var k=f.slice(0);for(var J=0;J<I;J++)for(var u=0;u<a;u++){var F=q[2]*u+q[3]*J+q[4],o=q[5]*u+q[6]*J+q[7],C=(o*H+F)*3;
f[Q]=k[C];f[Q+1]=k[C+1];f[Q+2]=k[C+2];Q+=3}}return{tP:f,hh:a,hq:I}};z.raw.hZ=function(h,R,d){var L=R,$=d;
if(h==3)return[R,d,-1,0,R-1,0,-1,d-1];else if(h==6)return[d,R,0,1,0,-1,0,d-1];else if(h==8)return[d,R,0,-1,R-1,1,0,0];
else throw"unknown orientation "+h};z.raw.EE=function(h,R,d,L){var $=h.tP,W=Math.round($.length/3),M=hj.zud(L[0],L[1]),x=z.raw.zkh(d,M),t=z.lh.multiply(z.lh.FX,x),g=Math.pow(2,L[2]+(d.t50730?d.t50730[0]:0));
t=z.lh.multiply(t,z.lh.zx(g,g,g));var r=d.t50728,l=[r[1]/r[0],r[2]/r[0],r[0]/r[1],r[2]/r[1],r[0]/r[2],r[1]/r[2]],H=new Float64Array(1e3);
for(var y=0;y<1e3;y++){var f=y*(1/999);f=y==999?1:z.qj(y*(1/999));f=z.raw.eC.zty(f,L[3]/100);H[y]=f}var b=Date.now();
for(var y=0;y<W;y++){var K=y<<2,Z=K-y,J=$[Z],u=$[Z+1],C=$[Z+2];if(u>=.92){var Q=Math.min(J,C);if(Q==J){u=Math.max(u,l[0]*J);
C=Math.max(C,l[1]*J)}else{J=Math.max(J,l[4]*C);u=Math.max(u,l[5]*C)}}var i=t[0]*J+t[1]*u+t[2]*C,j=t[4]*J+t[5]*u+t[6]*C,V=t[8]*J+t[9]*u+t[10]*C;
if(i<0)i=0;else if(i>1)i=1;if(j<0)j=0;else if(j>1)j=1;if(V<0)V=0;else if(V>1)V=1;i=H[~~(i*999)];j=H[~~(j*999)];
V=H[~~(V*999)];R[K]=~~(.5+i*255);R[K+1]=~~(.5+j*255);R[K+2]=~~(.5+V*255)}};z.raw.eC={zty:function(h,R){var d=.5-.5*Math.cos(h*3.2),L=0;
if(R>0){var $=h*.2;L=$*h+(1-$)*d}else{var W=Math.pow(h,.33);L=(1-W)*W+W*(h+(h-d)*.63)}var M=Math.abs(R);
return M*L+(1-M)*h},zSD:function(h,R){var d=0;if(R>0){var L=h*1.47,$=Math.pow(h,2.4);d=Math.min(1,$*h+(1-$)*L)}else{var L=h*.68,$=Math.pow(h,3);
d=$*h*.5+(1-$)*L}var W=Math.abs(R);return W*d+(1-W)*h},zSK:function(h,R){var d=0;if(R>0){var L=Math.pow(h,.3),$=h;
d=(1-h)*L+h*$}else{var L=Math.pow(h,2.5),W=h,$=h;d=Math.min(1,(1-W)*L+W*$)}var M=Math.abs(R);return M*d+(1-M)*h}};
z.raw.zMA=function(h){var R=h.width,d=h.height,L=R*d*h.t277,$=new Uint16Array(L),W=null,M=0;z.raw.zMo(h,$);
z.raw.Ee(1,h,$,R,d);if(h.t50712){W=h.t50712;M=W.length-1;if(W[M]>65535)throw"too big values"}var x=z.raw.hC(h),t=z.raw.hU(h);
if(W==null)for(var g=0;g<L;g++)$[g]=Math.max(0,$[g]-x);else for(var g=0;g<L;g++){var r=$[g];if(r>M)r=M;
r=W[r];$[g]=Math.max(0,r-x)}return $};z.raw.hC=function(h){var R=h.t50714,d=R?R[0]:0,L=h.t50715,$=h.t50716;
if(L)d+=L[0];if($)d+=$[0];return Math.round(d)};z.raw.hU=function(h){var R=null,d=0;if(h.t50712){R=h.t50712;
d=R.length-1}var L=h.t50717[0];if(R)L=Math.min(L,R[d]);return L};z.raw.zMg=function(h){var R=z.raw.hC(h),d=z.raw.hU(h);
return d-R};z.raw.zMo=function(h,R){var d=R.length,L=h.data,$=h.t258[0];if($!=16&&$!=14&&$!=12&&$!=10&&$!=8)throw"Unsupported Bits Per Sample:"+$;
$=Math.round(L.length*8/d);if($==16&&h.isLE){z.kW(L,R);return}for(var W=0;W<d;W+=2){var M=0,x=0,t=0;
if($==16){M=W<<1;x=L[M]<<8|L[M+1];t=L[M+2]<<8|L[M+3]}else if($==14){var g=W*14,r=g>>>3,l=L[r]<<24|L[r+1]<<16|L[r+2]<<8|L[r+3];
if((g&7)==0){x=l>>>18;t=l>>>4&16383}else{x=l>>>14&16383;t=l&16383}}else if($==12){M=W+(W>>>1);x=L[M]<<4|L[M+1]>>4;
t=(L[M+1]&15)<<8|L[M+2]}else if($==10){var g=W*10,r=g>>>3;if((g&7)==0){x=(L[r]<<2|L[r+1]>>6)&1023;t=(L[r+1]<<4|L[r+2]>>4)&1023}else{x=(L[r]<<6|L[r+1]>>2)&1023;
t=(L[r+1]<<8|L[r+2]>>0)&1023}}else if($==8){M=W;x=L[M];t=L[M+1]}R[W]=x;R[W+1]=t}};z.raw.Ee=function(h,R,d,L,$){var W=R["t"+[51008,51009,51022][h-1]],r=0;
if(W==null)return;var M=L*$,x=T.U,t=T.iA,g=new Uint8Array(W),l=T.U(g,r);r+=4;for(var H=0;H<l;H++){var y=x(g,r);
r+=4;var f=x(g,r);r+=4;var b=x(g,r);r+=4;var K=x(g,r);r+=4;if(!1){}else if(y==1&&h==3){var Z=r,J=x(g,Z);
Z+=4;var u=t(g,Z);Z+=8;var C=t(g,Z);Z+=8;var Q=t(g,Z);Z+=8;var i=t(g,Z);Z+=8;var j=t(g,Z);Z+=8;var V=t(g,Z);
Z+=8;Z+=(J-1)*8*6;var E=t(g,Z);Z+=8;var N=t(g,Z);Z+=8;var n=E*L,a=N*$,I=Math.max(n,L-n),q=Math.max(a,$-a),k=Math.sqrt(I*I+q*q),F=1/k,o=d.slice(0);
for(var G=0;G<$;G++)for(var w=0;w<L;w++){var U=(w+.5-n)*F,B=(G+.5-a)*F,D=U*U+B*B,P=u+C*D+Q*(D*D)+i*(D*D)*D,v=j*(2*U*B)+V*(D+2*U*U),O=V*(2*U*B)+j*(D+2*B*B),uk=~~(n+k*(P*U+v)),ut=~~(a+k*(P*B+O)),ua=(ut*L+uk)*3,uu=(G*L+w)*3;
d[uu]=o[ua];d[uu+1]=o[ua+1];d[uu+2]=o[ua+2]}}else if(y==3&&h==3){var Z=r,uW=t(g,Z);Z+=8;var kV=t(g,Z);
Z+=8;var p=t(g,Z);Z+=8;var _=t(g,Z);Z+=8;var uB=t(g,Z);Z+=8;var E=t(g,Z);Z+=8;var N=t(g,Z);Z+=8;var n=E*L,a=N*$,I=Math.max(n,L-n),q=Math.max(a,$-a),k=Math.sqrt(I*I+q*q),F=1/k;
for(var G=0;G<$;G++)for(var w=0;w<L;w++){var U=(w+.5-n)*F,B=(G+.5-a)*F,D=U*U+B*B,ub=1+(uW+(kV+(p+(_+uB*D)*D)*D)*D)*D,uu=(G*L+w)*3;
d[uu]=ub*d[uu];d[uu+1]=ub*d[uu+1];d[uu+2]=ub*d[uu+2]}}else if(y==4&&h==1){var Z=r,uq=x(g,Z);Z+=4;var uF=x(g,Z);
Z+=4;for(var ue=0;ue<M;ue++)if(d[ue]==uq)d[ue]=d[ue-2]+d[ue+2]>>1}else if(y==5&&h==1){var Z=r,up=x(g,Z);
Z+=4;var ui=x(g,Z);Z+=4;var zd=x(g,Z);Z+=4;for(var ue=0;ue<ui;ue++){var uN=x(g,Z);Z+=4;var u_=x(g,Z);
Z+=4;var ue=uN*L+u_;d[ue]=d[ue-2]+d[ue+2]>>1}}else if(y==7&&h==1){var Z=r,za=T.sB(g,Z);Z+=16;var uZ=x(g,Z);
Z+=4;var uj=x(g,Z);Z+=4;var uw=x(g,Z),tI=x(g,Z+4);Z+=8;var ug=x(g,Z);Z+=4;var uO=new Uint16Array(ug);
for(var ue=0;ue<ug;ue++)uO[ue]=T.BP(g,Z+2*ue);var uC=za.k,ux=za.$;for(var G=0;G<ux;G+=uw)for(var w=0;
w<uC;w+=tI){var ue=(za.y+G)*L+(za.x+w);d[ue]=uO[d[ue]]}}else if(y==9&&h==2){var Z=r,za=T.sB(g,Z),uG=!0;
Z+=16;var uZ=x(g,Z);Z+=4;var uj=x(g,Z);Z+=4;var uw=x(g,Z),tI=x(g,Z+4);Z+=8;var zu=x(g,Z),uL=x(g,Z+4);
Z+=8;var un=t(g,Z),us=t(g,Z+8);Z+=16;var Wa=t(g,Z),Wt=t(g,Z+8);Z+=16;var uV=x(g,Z);Z+=4;if(uV!=1)throw"more than one map plane";
var zZ=zu*uL,uU=new Float32Array(zZ);for(var zI=0;zI<zZ;zI++)uU[zI]=T.YR(g,Z+zI*4);for(var zI=0;zI<zZ;
zI++)if(uU[zI]!=1)uG=!1;if(!uG){var uC=za.k,ux=za.$,WW=.9999*(uL-1)/uC,Wq=.9999*(zu-1)/ux;for(var G=0;
G<ux;G+=uw)for(var w=0;w<uC;w+=tI){var ue=(za.y+G)*L+(za.x+w),uH=w*WW,Wp=G*Wq,tD=Math.floor(uH),zF=Math.floor(Wp),zO=uH-tD,Wr=Wp-zF,uu=zF*uL+tD,z_=uU[uu]*(1-zO)+uU[uu+1]*zO,Wz=uU[uu+uL]*(1-zO)+uU[uu+1+uL]*zO,Me=z_*(1-Wr)+Wz*Wr;
d[ue]=~~(d[ue]*Me+.5)}}}else console.log("Unknown opcode "+y+" in OpcodeList"+h+". Length: "+K);r+=K}};
z.raw.zkh=function(h,R){var d=hj.Bb(R),L=z.raw.hy(h,R),$=z.lh.Gv(L),W=hj.zuP(d,hj.Bb(hj.zuF)),M=z.lh.multiply(W,$);
return M};z.raw.zkK=function(h){var R=h.t50728.slice(0),L=1;R.push(0);var d={x:.34567,y:.3585};do{var $=z.lh.Gv(z.raw.hy(h,d)),W=z.lh.ZB($,R),M=hj.zuE(W);
L=Math.abs(d.x-M.x)+Math.abs(d.y-M.y);d=M}while(L>1e-7);return d};z.raw.hy=function(h,R){var d=hj.BW(R),L=z.raw.zuq,$=h.t50779?h.t50779[0]:0,W=L(h.t50721,h.t50722,h.t50778[0],$,d.LO),M=L(h.t50723,h.t50724,h.t50778[0],$,d.LO);
M=M||[1,0,0,0,1,0,0,0,1];var x=h.t50727?[h.t50727[0],0,0,0,h.t50727[1],0,0,0,h.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return z.lh.multiply(z.lh.Hw(x),z.lh.multiply(z.lh.Hw(M),z.lh.Hw(W)))};z.raw.zuq=function(h,R,d,L,$){if(!h&&!R){return null}else if(h&&!R){return h}else if($<d){return h}else if($>L){return R}else{var W=(1/$-1/L)/(1/d-1/L),M=1-W,x=[];
for(var t=0;t<9;t++)x[t]=h[t]*W+R[t]*M;return x}};var hj={};hj.zuF={x:.34567,y:.3585};hj.bw=[{H:0,hf:.18006,gE:.26352,BA:-.24341},{H:10,hf:.18066,gE:.26589,BA:-.25479},{H:20,hf:.18133,gE:.26846,BA:-.26876},{H:30,hf:.18208,gE:.27119,BA:-.28539},{H:40,hf:.18293,gE:.27407,BA:-.3047},{H:50,hf:.18388,gE:.27709,BA:-.32675},{H:60,hf:.18494,gE:.28021,BA:-.35156},{H:70,hf:.18611,gE:.28342,BA:-.37915},{H:80,hf:.1874,gE:.28668,BA:-.40955},{H:90,hf:.1888,gE:.28997,BA:-.44278},{H:100,hf:.19032,gE:.29326,BA:-.47888},{H:125,hf:.19462,gE:.30141,BA:-.58204},{H:150,hf:.19962,gE:.30921,BA:-.70471},{H:175,hf:.20525,gE:.31647,BA:-.84901},{H:200,hf:.21142,gE:.32312,BA:-1.0182},{H:225,hf:.21807,gE:.32909,BA:-1.2168},{H:250,hf:.22511,gE:.33439,BA:-1.4512},{H:275,hf:.23247,gE:.33904,BA:-1.7298},{H:300,hf:.2401,gE:.34308,BA:-2.0637},{H:325,hf:.24792,gE:.34655,BA:-2.4681},{H:350,hf:.25591,gE:.34951,BA:-2.9641},{H:375,hf:.264,gE:.352,BA:-3.5814},{H:400,hf:.27218,gE:.35407,BA:-4.3633},{H:425,hf:.28039,gE:.35577,BA:-5.3762},{H:450,hf:.28863,gE:.35714,BA:-6.7262},{H:475,hf:.29685,gE:.35823,BA:-8.5955},{H:500,hf:.30505,gE:.35907,BA:-11.324},{H:525,hf:.3132,gE:.35968,BA:-15.628},{H:550,hf:.32129,gE:.36011,BA:-23.325},{H:575,hf:.32931,gE:.36038,BA:-40.77},{H:600,hf:.33724,gE:.36051,BA:-116.45}];
hj.BW=function(h){var R=hj.bw,d=2*h.x/(1.5-h.x+6*h.y),L=3*h.y/(1.5-h.x+6*h.y),$=0,W=0,M=0;for(;M<31;
M++){$=L-R[M].gE-R[M].BA*(d-R[M].hf);if(M>0&&$<0){break}W=$}while(M>=R.length)M--;$/=Math.sqrt(1+R[M].BA*R[M].BA);
W/=Math.sqrt(1+R[M-1].BA*R[M-1].BA);var x=W/(W-$),t=1e6/((R[M].H-R[M-1].H)*x+R[M-1].H),g=d-((R[M].hf-R[M-1].hf)*x+R[M-1].hf),r=L-((R[M].gE-R[M-1].gE)*x+R[M-1].gE),l=Math.sqrt(1+R[M].BA*R[M].BA),H=1/l,y=R[M].BA/l,b=Math.sqrt(1+R[M-1].BA*R[M-1].BA),K=1/b,Z=R[M-1].BA/b,J=(H-K)*x+K,u=(y-Z)*x+Z,C=Math.sqrt(J*J+u*u);
J/=C;u/=C;var Q=(g*J+r*u)*-3e3;return{LO:t,on:Q}};hj.zud=function(h,R){var d=hj.bw,L=1e6/h,$=1;for(;
$<31;$++){if(L<d[$].H){break}}var W=(d[$].H-L)/(d[$].H-d[$-1].H),M=(d[$-1].hf-d[$].hf)*W+d[$].hf,x=(d[$-1].gE-d[$].gE)*W+d[$].gE,t=Math.sqrt(1+d[$].BA*d[$].BA),g=1/t,r=d[$].BA/t,l=Math.sqrt(1+d[$-1].BA*d[$-1].BA),H=1/l,y=d[$-1].BA/l,f=(H-g)*W+g,b=(y-r)*W+r,K=Math.sqrt(f*f+b*b);
f/=K;b/=K;M+=f*R/-3e3;x+=b*R/-3e3;return{x:1.5*M/(M-4*x+2),y:x/(M-4*x+2)}};hj.zuE=function(h){var R=h[0]+h[1]+h[2];
return{x:h[0]/R,y:h[1]/R}};hj.Bb=function(h){return{x:h.x/h.y,y:1,GM:(1-h.x-h.y)/h.y}};hj.zuP=function(h,R){var d=z.lh.Hw([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),L=[h.x,h.y,h.GM,0],$=[R.x,R.y,R.GM,0];
L=z.lh.ZB(d,L);$=z.lh.ZB(d,$);var W=$[0]/L[0],M=$[1]/L[1],x=$[2]/L[2],t=z.lh.Hw([W,0,0,0,M,0,0,0,x]),g=z.lh.Gv(d);
return z.lh.multiply(z.lh.multiply(g,t),d)};z.raw.eP={};z.raw.Ei=function(h){h*=8;var R=[8,10,12,14,16];
for(var d in z.raw.nv){var L=z.raw.nv[d];if(L.length==4)continue;var $=L[4],W=L[5];for(var M=0;M<R.length;
M++)if($*W*R[M]==h)return[d,R[M]]}var x=[[4e3,3e3]];for(var M=0;M<x.length;M++){var L=x[M],$=L[0],W=L[1];
for(var M=0;M<R.length;M++)if($*W*R[M]==h)return[L,R[M]]}return null};z.raw.zuN=function(h){var h=new Uint8Array(h);
for(var R=0;R<h.length;R+=2){var d=h[R];h[R]=h[R+1];h[R+1]=d}var L=z.raw.Ei(h.length),$=z.raw.nv[L[0]];
if($==null)$=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,L[0][0],L[0][1]];var W=$[4],M=$[5],x=Math.max($[2],116),t={data:h,io:1,width:W,height:M,t256:[W],t257:[M],t258:[L[1]],t277:[1],t33421:[2,2],t33422:z.raw.BJ[$[1]],t50706:[1,2,0,0],t50714:[x,x,x,x],t50717:[$[3]],t50721:$[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var R=0;R<9;R++)t.t50721[R]/=1e4;return t};z.raw.Bn=function(h){if(h==null||h.length==0||typeof h[0]=="number")return h;
var R=[];for(var d=0;d<h.length;d++)R[d]=h[d][1]==0?0:h[d][0]/h[d][1];return R};z.raw.BJ=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
z.raw.normalize=function(h,R){if(h.t50706!=null){var d=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var L=0;L<d.length;L++)if(h["t"+d[L]]!=null)h["t"+d[L]]=z.raw.Bn(h["t"+d[L]]);return}var $=h.t258[0],W=h.exifIFD,R=new Uint8Array(R);
h.t50706=[1,2,0,0];var M=h.t272[0].trim();if(M.indexOf(" ")==-1)M=h.t271[0].trim()+" "+M;h.t50708=[M];
var x=z.raw.nv,t=x[M.toLowerCase()];if(t==null)for(var g in x)if(M.toLowerCase().startsWith(g))t=x[g];
if(t==null)throw M;var r=t[2];h.t50714=[r,r,r,r];h.t50717=[t[3]];h.t50721=t[0].slice(0);for(var L=0;
L<9;L++)h.t50721[L]=h.t50721[L]*(1/1e4);h.t50723=[1,0,0,0,1,0,0,0,1];if(h.t50728==null)h.t50728=[.35,1,.6];
h.t50778=[17];if(h.t271[0].startsWith("SONY")){var l=UTIF["_bin"+(h.isLE?"LE":"BE")],H=h.t28688,u;if(JSON.stringify(H)!="[8000,10400,12900,14100]")console.log(H);
if(H){var y=[0,0,0,0,0,4095],f=new Uint16Array(16385);for(var L=0;L<4;L++){var b=H[L]>>>2;y[L+1]=b;if(b>4095)throw"e"}for(var L=0;
L<16385;L++)f[L]=L;for(var L=0;L<5;L++)for(var K=y[L]+1;K<=y[L+1];K++)f[K]=f[K-1]+(1<<L);var Z=R.length*8<h.width*h.height*$;
if(Z)h.t50712=f}else console.log("no curve");var J=h.dngPrvt;if(J){var C=J.t29184[0],Q=J.t29185[0],i=(h.isLE?T.KB:T.U)(J.t29217,0),j=new Uint32Array(R.slice(C,C+(Q&4294967292)).buffer),V=new Uint32Array(Q>>>2);
z.raw.zWp(j,V,Q>>>2,i);var E=new Uint8Array(C+Q);E.set(new Uint8Array(V.buffer),C);var N=[];UTIF._readIFD(l,E,C,N,0,!1);
var n=N.pop(),a=n.t29458;h.t50728=[a[1]/a[0],1,a[1]/a[3]];h.t50730=[.5];var I=n.t29891;h.t50829=[I[1],I[0],I[3],I[2]]}else if(W.makerNote&&W.makerNote.t8208){var u=W.makerNote,q=u.t8208,k=q.length,F=0,o=new Uint8Array(256);
for(var L=249;L<256;L++)o[L]=L;for(var L=0;L<249;L++)o[L*L*L%249]=L;for(var L=0;L<k;L++)q[L]=o[q[L]];
if(k==6604)F=612;else throw"e";var a=[];for(var L=0;L<3;L++)a.push(T.$q(q,F+L*2));console.log(a);h.t50728=[a[1]/a[0],1,a[1]/a[2]]}else console.log("no white balance");
if(h.width*h.height*1.5==h.t279[0]){r=r>>>2;h.t50714=[r,r,r,r];h.t50717=[t[3]>>>2]}}else if(h.t271[0].startsWith("Canon")){var R=h.data,G=R.slice(0),w=h.t50752,U=[],D=0;
if(w==null||w[0]==0&&w[1]==0)U.push(h.width);else{for(var L=0;L<w[0];L++)U.push(w[1]);U.push(w[2])}var B=h.width*2;
for(var P=0;P<U.length;P++){var v=U[P],O=2*D,uk=2*v;for(var ut=0;ut<h.height;ut+=2){var ua=ut*B+O,uu=h.height*O+(ut>>1)*uk*2;
for(var L=0;L<uk;L++){R[ua+L]=G[uu+L];R[ua+L+B]=G[uu+L+uk]}}D+=v}var u=W.makerNote;if(u.t16385){var uW=u.t224,_=0;
if(uW){h.t50719=[uW[5],uW[6]];h.t50720=[uW[7]+1-uW[5],uW[8]+1-uW[6]]}var kV=u.t16385,p=kV.length;if(p==582)_=1;
else if(p==653)_=2;else if(p==796)_=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(p)!=-1)_=4;
else if(p==5120){_=5;kV=new Int16Array(kV.slice(0).buffer)}else if(p==1273||p==1275)_=6;else if([1312,1313,1316,1506].indexOf(p)!=-1)_=7;
else if([1560,1592,1353,1602].indexOf(p)!=-1)_=8;else throw"e"+p;var uB=kV[0],ub=[null,[25,166],[34,286],[63,196],[63],[71,uB==-4?333:264],[63,251],[63,uB==10?504:728],[63,326]],F=ub[_][0],uq=ub[_][1];
if(_==4){if(kV[0]==2)uq=231;else if(kV[0]==3)uq=231;else if(kV[0]==4)uq=231;else if(kV[0]==5)uq=231;
else if(kV[0]==6)uq=231;else if(kV[0]==7)uq=231;else if(kV[0]==9)uq=231;else throw"e"}h.t50728=[kV[F+1]/kV[F],1,kV[F+1]/kV[F+3]];
var r=uq==null?1024:kV[uq];h.t50714=[r,r,r,r]}else{h.t50728=[.4,1,.6]}}else if(h.t271[0].startsWith("NIKON")){var u=W.makerNote,uF=h.isLE?T.$q:T.rR,u_=0,za=0,ug,Wa=0;
if(u.t61){var ue=u.t61,up=[];for(var L=0;L<4;L++)up[L]=ue[L]/Math.pow(2,14-$);h.t50714=up}if(u.t3585){var ui=u.t3585,L=0,C=22;
while(C<ui.length&&L!=-4){var zd=T.KB(ui,C);C+=4;C+=14;L=T.KB(ui,C)-4;C+=4;if(zd==1990472198){if(ui[C]!=0)throw"Flip"}if(zd==1990472199){var uN=T.$q(ui,C);
if(uN==0)h.io=1;else if(uN==270)h.io=8;else throw"e "+uN}C+=L}}if(u.t183){var uZ=u.t183,uj=[];for(var L=0;
L<6;L++)uj.push(uF(uZ,16+L*2));u_=uj[0];za=uj[1]}if(u.t3614){var uw=u.t3614;u_=T.KB(uw,8);za=T.KB(uw,12)}if(u_!=0){if(u_<za){var tI=u_;
u_=za;za=tI}var D=h.width-u_>>>1,ut=h.height-za>>>1;h.t50829=[ut,D,ut+za,D+u_]}if(u.t12){var uO=z.raw.Bn(u.t12);
ug=[1/uO[0],1,1/uO[1]]}else if(u.t151){var uC=z.raw.zhE(u,151),ux=uC[0],zu=uC[1],uL=uC[2];if(ux=="0100"&&zu>=80)throw"e";
else if(ux=="0103"&&zu>=26){var un=[];for(var L=0;L<4;L++)un.push(uF(uL,16+L*2));ug=[un[1]/un[0],1,un[3]/un[2]]}else if(ux=="0204"&&zu>=564||ux=="0205"&&zu>=284){var C=ux=="0204"?6:14,un=[];
for(var L=0;L<4;L++)un.push(uF(uL,C+L*2));ug=[un[1]/un[0],1,un[1]/un[3]]}else throw"e"}else console.log("no white balance info");
if(M=="NIKON D1")ug=[1,1,1];if(ug)h.t50728=ug;var us=u.t150?u.t150:u.t140;if(us){var Wt=us[Wa++],uV=us[Wa++],zI;
if(Wt==73||uV==88)Wa+=2110;Wa+=8;var zZ=1<<$&32767,uU=uF(us,Wa);Wa+=2;var f=[];if(uU>1)zI=Math.floor(zZ/(uU-1));
if(Wt==68&&uV==32&&zI>0){for(L=0;L<uU;L++){f[L*zI]=uF(us,Wa);Wa+=2}for(L=0;L<zZ;L++)f[L]=Math.floor((f[L-L%zI]*(zI-L%zI)+f[L-L%zI+zI]*(L%zI))/zI)}else if(Wt!=70&&uU<=16385){zZ=uU;
for(var L=0;L<uU;L++)f[L]=uF(us,Wa+2*L);Wa+=2*uU}if(f.length!=0)h.t50712=new Uint16Array(f)}}else if(M.startsWith("FujiFilm")){}else alert("Unknown camera "+M)};
z.raw.zWp=function(h,R,d,L){if(0==d)return;var $=new Uint32Array(128),W=new Uint8Array($.buffer),M=127,x=0,t=0;
for(var M=0;M<4;M++)$[M]=L=(L*15625>>>0)*3125+1>>>0;$[3]=$[3]<<1|($[0]^$[2])>>>31;for(var M=4;M<127;
M++)$[M]=($[M-4]^$[M-2])<<1|($[M-3]^$[M-1])>>>31;for(var M=0;M<127;M++)$[M]=T.U(W,M*4);for(;d>0;d--){$[M&127]=$[M+1&127]^$[M+1+64&127];
var g=$[M&127],r=h[x];r^=g;R[t]=r;x++;t++;M++}};z.raw.zWO=function(h,R){var d=T.UK(R,0,4),L=z.raw.zhA;
for(var $=0;$<L.length;$++)if(L[$][0]==h&&d.startsWith(L[$][1])&&(L[$][2]==0||L[$][2]==R.length))return L[$];
throw"e"};z.raw.zWL=function(h){if(h.t29==null)return[];var R=z.raw.zhK,d=z.raw.zhC,L=h.t29[0],$=0,x=0;
for(var W=0;W<L.length;W++){var M=L.charCodeAt(W);$=$*10+(48<=M&&M<=57?M-48:M%10)}var t=h.t167[0];for(var W=0;
W<4;W++)x^=t>>>(W<<3)&255;var g=R[$&255],r=d[x&255];return[g,r,96]};z.raw.zhE=function(h,R){var d=h["t"+R],L=d.length,$=z.raw.zWO(R,d),W=T.UK(d,0,4),M,x=$[4];
if(x==null)M=d.slice(4);else{M=new Uint8Array(L-x);var t=z.raw.zWL(h),g=t[0],r=t[1],l=t[2];for(var H=0;
H<M.length;H++){r=r+g*l++&255;M[H]=d[x++]^r}}return[W,L,M]};z.raw.zhA=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
z.raw.zhK=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
z.raw.zhC=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
z.raw.nv={"canon eos 100d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos rebel sl1":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos kiss x7":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos 200d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos rebel sl2":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos kiss x9":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos 300d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos digital rebel":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos kiss digital":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos d30":[[9805,-2689,-1312,-5803,13064,3068,-2438,3075,8775],1,126,4095],"canon eos d60":[[6188,-1341,-890,-7168,14489,2937,-2640,3228,8483],1,127,4e3],"canon eos 10d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,127,4e3],"canon eos 20d":[[6599,-537,-891,-8071,15783,2424,-1983,2234,7462],1,126,4095],"canon eos 30d":[[6257,-303,-1e3,-7880,15621,2396,-1714,1904,7046],1,127,3398],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos digital rebel xt":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos kiss digital n":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d digital":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 40d":[[6071,-747,-856,-7653,15365,2441,-2025,2553,7315],1,1021,13600],"canon eos 450d":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos digital rebel xsi":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss digital x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos 50d":[[4920,616,-593,-6493,13964,2784,-1774,3178,7005],3,1020,13653],"canon eos 60d":[[6719,-994,-925,-4408,12426,2211,-887,2129,6051],3,2026,14200],"canon eos 70d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2026,13653],"canon eos 80d":[[7457,-671,-937,-4849,12495,2643,-1213,2354,5492],1,512,11892],"canon eos 700d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos rebel t5i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos kiss x7i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos 750d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos kiss x8i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 800d":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos rebel t7i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos kiss x9i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos 760d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6s":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 8000d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 77d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 9000d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 500d":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos rebel t1i":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos kiss x3":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos 550d":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos rebel t2i":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos kiss x4":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos 600d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos rebel t3i":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos kiss x5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos 650d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos rebel t4i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos kiss x6i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos 5d":[[6347,-479,-972,-8297,15954,2480,-1968,2131,7649],1,127,3692],"canon eos 5d mark ii":[[4716,603,-830,-7798,15474,2480,-1496,1937,6651],3,1024,12995],"canon eos 5d mark iii":[[6722,-635,-963,-4287,12460,2028,-908,2162,5668],1,2060,16383],"canon eos 5d mark iv":[[6446,-366,-864,-4436,12204,2513,-952,2496,6348],1,2049,14448],"canon eos 5ds":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 5ds r":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 6d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2048,15e3],"canon eos 6d mark ii":[[6875,-970,-932,-4691,12459,2501,-874,1953,5809],1,2049,14558],"canon eos 7d":[[6844,-996,-856,-3876,11761,2396,-593,1772,6198],3,1025,8150],"canon eos 7d mark ii":[[7268,-1082,-969,-4186,11839,2663,-825,2029,5839],1,2047,13400],"canon eos 1000d":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos digital rebel xs":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos kiss digital f":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos 1100d":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos rebel t3":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos 1200d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos rebel t5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos kiss x70":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos 1300d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos rebel t6":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos kiss x80":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos 2000d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos rebel t7":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 1500d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 4000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos rebel t100":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 3000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 400d":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos digital rebel xti":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos kiss digital x":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos m":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos m2":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2026,13584],"canon eos m3":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2048,16e3],"canon eos m5":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m6":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m10":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2048,16e3],"canon eos m100":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos-1d":[[6806,-179,-1020,-8097,16415,1687,-3267,4236,7690],2,0,3588],"canon eos-1ds":[[4374,3631,-1743,-7520,15212,2472,-2892,3632,8161],2,0,3500],"canon eos d2000c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,96,4095],"canon eos-1d mark ii":[[6264,-582,-724,-8312,15948,2504,-1744,1919,8664],1,127,3700],"canon eos-1d mark ii n":[[6240,-466,-822,-8180,15825,2500,-1801,1938,8042],1,127,3700],"canon eos-1d mark iii":[[6291,-540,-976,-8350,16145,2311,-1714,1858,7326],1,1023,15100],"canon eos-1d mark iv":[[6014,-220,-795,-4109,12014,2361,-561,1824,5787],3,2e3,13e3],"canon eos-1ds mark ii":[[6517,-602,-867,-8180,15926,2378,-1618,1771,7633],3,126,4060],"canon eos-1ds mark iii":[[5859,-211,-930,-8255,16017,2353,-1732,1887,7448],1,1021,15100],"canon eos-1d x":[[6847,-614,-1014,-4669,12737,2139,-1197,2488,6846],1,2050,15100],"canon eos-1d x mark ii":[[7596,-978,-967,-4808,12571,2503,-1398,2567,5752],1,2048,14888],"canon powershot pro1":[[10062,-3522,-999,-7643,15117,2730,-765,817,7323],1,129,4095],"canon powershot g1":[[-4778,9467,2172,4743,-1141,4344,-5146,9908,6077,-1566,11051,557],0,31,1023],"canon powershot g2":[[9087,-2693,-1049,-6715,14382,2537,-2291,2819,7790],1,0,1023],"canon powershot g3":[[9212,-2781,-1073,-6573,14189,2605,-2300,2844,7664],1,0,4095],"canon powershot g3 x":[[9701,-3857,-921,-3149,11537,1817,-786,1817,5147],1,2047,16e3],"canon powershot g5":[[9757,-2872,-933,-5972,13861,2301,-1622,2328,7212],1,0,4095],"canon powershot g5 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g6":[[9877,-3775,-871,-7613,14807,3072,-1448,1305,7485],1,128,4095],"canon powershot g7 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,511,4e3],"canon powershot g7 x mark ii":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g1 x":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16383],"canon powershot g1 x mark ii":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16e3],"canon powershot g1 x mark iii":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon powershot g12":[[13244,-5501,-1248,-1508,9858,1935,-270,1083,4366],1,120,4095],"canon powershot g11":[[12177,-4817,-1069,-1612,9864,2049,-98,850,4471],1,120,4095],"canon powershot g10":[[11093,-3906,-1028,-5047,12492,2879,-1003,1750,5561],3,128,4095],"canon powershot g9":[[7368,-2141,-598,-5621,13254,2625,-1418,1696,5743],1,125,4095],"canon powershot g9 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g9 x mark ii":[[10056,-4131,-944,-2576,11143,1625,-238,1294,5179],1,2048,16e3],"canon powershot g15":[[7474,-2301,-567,-4056,11456,2975,-222,716,4181],3,500,2800],"canon powershot g16":[[8020,-2687,-682,-3704,11879,2052,-965,1921,5556],1,0,4095],"canon powershot sx1 is":[[6578,-259,-502,-5974,13030,3309,-308,1058,4970],1,125,4095],"canon powershot s30":[[10566,-3652,-1129,-6552,14662,2006,-2197,2581,7670],1,31,1023],"canon powershot s40":[[8510,-2487,-940,-6869,14231,2900,-2318,2829,9013],1,0,1023],"canon powershot s45":[[8163,-2333,-955,-6682,14174,2751,-2077,2597,8041],1,129,4095],"canon powershot s50":[[8882,-2571,-863,-6348,14234,2288,-1516,2172,6569],1,129,4095],"canon powershot s60":[[8795,-2482,-797,-7804,15403,2573,-1422,1996,7082],1,129,4095],"canon powershot s70":[[9976,-3810,-832,-7115,14463,2906,-901,989,7889],1,129,4095],"canon powershot s90":[[12374,-5016,-1049,-1677,9902,2078,-83,852,4683],1,125,4095],"canon powershot s95":[[13440,-5896,-1279,-1236,9598,1931,-180,1001,4651],1,125,4095],"canon powershot s100":[[7968,-2565,-636,-2873,10697,2513,180,667,4211],3,125,4095],"canon powershot s110":[[8039,-2643,-654,-3783,11230,2930,-206,690,4194],3,500,3072],"canon powershot s120":[[6961,-1685,-695,-4625,12945,1836,-1114,2152,5518],1,0,4e3],"canon powershot sx50 hs":[[12432,-4753,-1247,-2110,10691,1629,-412,1623,4926],1,127,4095],"canon powershot sx60 hs":[[13161,-5451,-1344,-1989,10654,1531,-47,1271,4955],1,128,4e3],"nikon d100":[[5902,-933,-782,-8983,16719,2354,-1402,1455,6464],2,0,4095],"nikon d1":[[16772,-4726,-2141,-7611,15713,1972,-2846,3494,9521],0,0,4095],"nikon d1h":[[7577,-2166,-926,-7454,15592,1934,-2377,2808,8606],0,0,4095],"nikon d1x":[[7702,-2245,-975,-9114,17242,1875,-2679,3055,8521],0,0,4095],"nikon d200":[[8367,-2248,-763,-8758,16447,2422,-1527,1550,8053],2,0,3880],"nikon d2h":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2hs":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2x":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d2xs":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d3":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,15892],"nikon d3s":[[8828,-2406,-694,-4874,12603,2541,-660,1509,7587],1,0,15520],"nikon d3x":[[7171,-1986,-648,-8085,15555,2718,-2170,2512,7457],1,0,15892],"nikon d300":[[9030,-1992,-715,-8465,16302,2255,-2689,3217,8069],1,0,15236],"nikon d300s":[[9030,-1992,-716,-8465,16302,2256,-2689,3217,8069],1,0,15236],"nikon d3000":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d3200":[[7013,-1408,-635,-5268,12902,2640,-1470,2801,7379],1,0,3880],"nikon d3300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3400":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d4":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5":[[9200,-3522,-992,-5755,13803,2117,-753,1486,6338],1,400,15520],"nikon z 6":[[8210,-2534,-683,-5355,13338,2212,-1143,1929,6464],1,1008,15520],"nikon z 7":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,1008,15520],"nikon df":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5100":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d3100":[[7911,-2167,-813,-5327,13150,2408,-1288,2483,7968],3,0,3880],"nikon d40":[[6992,-1668,-806,-8138,15748,2543,-874,850,7897],0,0,3880],"nikon d40x":[[8819,-2543,-911,-9025,16928,2151,-1329,1213,8449],3,0,3880],"nikon d50":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,400,15520],"nikon d5000":[[7309,-1403,-519,-8474,16008,2622,-2433,2826,8064],3,0,3767],"nikon d5200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d5300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3972],"nikon d5500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d5600":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d60":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d600":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d610":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d70":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d700":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,3972],"nikon d750":[[9020,-2890,-715,-4535,12436,2348,-934,1919,7086],1,150,3880],"nikon d7000":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d7100":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d7200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,600,15892],"nikon d7500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,100,3880],"nikon d70s":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d80":[[8629,-2410,-883,-9055,16940,2171,-1490,1363,8520],3,0,3880],"nikon d800":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d800e":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d810":[[9369,-3195,-791,-4488,12430,2301,-893,1796,6872],1,150,3880],"nikon d850":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,100,3880],"nikon d4s":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,192,3880],"nikon d90":[[7309,-1403,-519,-8474,16008,2622,-2434,2826,8064],3,0,3767],"nikon 1 j1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 j2":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,4095],"nikon 1 j3":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 j4":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 j5":[[7520,-2518,-645,-3844,12102,1945,-913,2249,6835],1,200,3800],"nikon 1 s1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 s2":[[6612,-1342,-618,-3338,11055,2623,-174,1792,5075],1,200,4095],"nikon 1 v1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 v2":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 v3":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 aw1":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon e5400":[[9349,-2987,-1001,-7919,15766,2266,-2098,2680,6839],0,0,4095],"nikon e5700":[[-5368,11478,2368,5537,-113,3148,-4969,10021,5782,778,9028,211],0,0,4095],"nikon coolpix p330":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p340":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,200,3800],"nikon coolpix a":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon coolpix b700":[[14387,-6014,-1299,-1357,9975,1616,467,1047,4744],1,200,4e3],"nikon coolpix p6000":[[9698,-3367,-914,-4706,12584,2368,-837,968,5801],1,0,4095],"nikon coolpix p7000":[[11432,-3679,-1111,-3169,11239,2202,-791,1380,4455],1,0,4095],"nikon coolpix p7100":[[11053,-4269,-1024,-1976,10182,2088,-526,1263,4469],1,0,3800],"nikon coolpix p7700":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p7800":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p1000":[[14294,-6116,-1333,-1628,10219,1637,-14,1158,5022],1,200,4095],"panasonic dmc-cm1":[[8770,-3194,-820,-2871,11281,1803,-513,1552,4434],1,142,4095],"panasonic dmc-fx150":[[9082,-2907,-925,-6119,13377,3058,-1797,2641,5609],0,15,3986],"panasonic dmc-fz28":[[10109,-3488,-993,-5412,12812,2916,-1305,2140,5543],0,15,3986],"panasonic dmc-fz150":[[11904,-4541,-1189,-2355,10899,1662,-296,1586,4289],3,145,3956],"panasonic dmc-fz200":[[8112,-2563,-740,-3730,11784,2197,-941,2075,4933],3,150,3956],"panasonic dmc-fz2000":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz2500":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz300":[[8378,-2798,-769,-3068,11410,1877,-538,1792,4623],3,143,4095],"panasonic dmc-g1":[[8199,-2065,-1056,-8124,16156,2033,-2458,3022,7220],3,15,3986],"panasonic dmc-g2":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-g10":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-gh1":[[6299,-1466,-532,-6535,13852,2969,-2331,3112,5984],3,0,3986],"panasonic dmc-gh3":[[6559,-1752,-491,-3672,11407,2586,-962,1875,5130],3,155,3956],"panasonic dmc-gh4":[[7122,-2108,-512,-3155,11201,2231,-541,1423,5045],0,142,4095],"panasonic dmc-gf1":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,15,3986],"panasonic dmc-gf2":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,150,3956],"panasonic dmc-gm1":[[6770,-1895,-744,-5232,13145,2303,-1664,2691,5703],0,143,3971],"panasonic dmc-gm5":[[8238,-3244,-679,-3921,11814,2384,-836,2022,5852],0,143,4095],"panasonic dmc-g3":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,143,3956],"panasonic dmc-g5":[[7798,-2562,-740,-3879,11584,2613,-1055,2248,5434],0,150,3956],"panasonic dmc-g6":[[8294,-2891,-651,-3869,11590,2595,-1183,2267,5352],0,142,3956],"panasonic dmc-g7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g70":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g8":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g80":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g81":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g85":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gf3":[[9051,-2468,-1204,-5212,13276,2121,-1197,2510,6890],3,150,3956],"panasonic dmc-gf5":[[8228,-2945,-660,-3938,11792,2430,-1094,2278,5793],3,150,3956],"panasonic dmc-gf6":[[8130,-2801,-946,-3520,11289,2552,-1314,2511,5791],2,150,3956],"panasonic dmc-gf7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gh2":[[7780,-2410,-806,-3913,11724,2484,-1018,2390,5298],3,15,3800],"panasonic dmc-fz35":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz38":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz45":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz40":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz70":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz72":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz100":[[16197,-6146,-1761,-2393,10765,1869,366,2238,5248],3,120,3986],"panasonic dmc-fz1000":[[7830,-2696,-763,-3325,11667,1866,-641,1712,4824],3,143,4095],"panasonic dmc-gx1":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,150,3956],"panasonic dmc-gx7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,150,3956],"panasonic dmc-gx8":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],3,143,4095],"panasonic dmc-gx85":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx80":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx7mk2":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-lf1":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,143,3971],"panasonic dmc-lx3":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx15":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx9":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx10":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"leica c (typ 112)":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,146,3956],"leica digilux 2":[[11340,-4069,-1275,-7555,15266,2448,-2960,3426,7685],1,0,4095],"leica d-lux 3":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica v-lux 1":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-l10":[[8025,-1942,-1050,-7920,15904,2100,-2456,3005,7039],3,0,3986],"panasonic dmc-fz30":[[10976,-4029,-1141,-7918,15491,2600,-1670,2071,8246],1,0,3971],"panasonic dmc-fz50":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-fz8":[[8986,-2755,-802,-6341,13575,3077,-1476,2144,6379],1,0,3986],"panasonic dmc-fz18":[[9932,-3060,-935,-5809,13331,2753,-1267,2155,5575],0,0,3986],"panasonic dmc-l1":[[8054,-1885,-1025,-8349,16367,2040,-2805,3542,7629],3,0,3986],"panasonic dmc-lx2":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica d-lux 4":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"leica d-lux 5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"panasonic dmc-lx7":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux 6":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux (typ 109)":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dmc-lx1":[[10704,-4187,-1230,-8314,15952,2501,-920,945,8927],1,0,3971],"panasonic dmc-lx100":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dc-lx100m2":[[8585,-3127,-833,-4005,12250,1953,-650,1494,4862],0,143,4095],"panasonic dmc-tz60":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz61":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-zs40":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz71":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-zs50":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz70":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz81":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-zs60":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz101":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tx1":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-fz82":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-gh5":[[7641,-2336,-605,-3218,11299,2187,-485,1338,5121],1,143,4095],"panasonic dc-gh5s":[[6929,-2355,-708,-4192,12534,1828,-1097,1989,5195],1,510,8e3],"panasonic dc-g9":[[7685,-2375,-634,-3687,11700,2249,-748,1546,5111],1,148,4095],"panasonic dc-gf9":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx800":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx850":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx9":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],0,143,4095],"panasonic dc-tz90":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-zs70":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz91":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz92":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz93":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-tz202":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-tz200":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"pentax k100d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,3950],"pentax k110d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax k100d super":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax *ist d":[[9651,-2059,-1189,-8881,16512,2487,-1460,1345,10687],1,128,4095],"pentax *ist dl":[[10829,-2838,-1115,-8339,15817,2696,-837,680,11939],1,128,4095],"pentax *ist dl2":[[10504,-2438,-1189,-8603,16207,2531,-1022,863,12242],1,127,3950],"pentax *ist ds":[[10371,-2333,-1206,-8688,16231,2602,-1230,1116,11282],1,128,3950],"pentax k10d":[[9566,-2863,-803,-7170,15172,2112,-818,803,9705],1,0,4095],"pentax k20d":[[9427,-2714,-868,-7493,16092,1373,-2199,3264,7180],0,0,4095],"pentax k200d":[[9186,-2678,-907,-8693,16517,2260,-1129,1094,8524],1,0,4095],"pentax k-s1":[[8512,-3211,-787,-4167,11966,2487,-638,1288,6054],1,32,4062],"pentax k-s2":[[8662,-3280,-798,-3928,11771,2444,-586,1232,6054],1,0,3839],"pentax k-70":[[8113,-2078,-1275,-4359,12953,1514,-1091,1955,6044],1,64,16319],"pentax k-1":[[8827,-2829,-1238,-3611,12203,1549,-897,1687,6291],1,64,16316],"pentax k-1 mark ii":[[8952,-2869,-1256,-3612,12204,1550,-934,1757,6549],1,64,16316],"pentax k-3":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15868],"pentax k-3 ii":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15865],"pentax k-5":[[8713,-2833,-743,-4342,11900,2772,-722,1543,6247],0,512,16383],"pentax k-5 ii":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,16383],"pentax k-5 ii s":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,15863],"pentax k-7":[[9142,-2947,-678,-8648,16967,1663,-2224,2898,8615],0,0,4095],"pentax k-m":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax k-x":[[8843,-2837,-625,-5025,12644,2668,-411,1234,7410],0,41,4095],"pentax k-r":[[9895,-3077,-850,-5304,13035,2521,-883,1768,6936],0,64,4e3],"pentax kp":[[8617,-3228,-1034,-4674,12821,2044,-803,1577,5728],1,128,16254],"pentax k2000":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax 645d":[[9814,-2716,-1439,-5049,13907,1166,-1830,3836,5706],0,0,15767],"pentax 645z":[[9551,-3012,-1235,-3685,12133,1721,-1019,1887,6544],1,1,16316],"samsung ex2f":[[10648,-3897,-1055,-2022,10573,1668,-492,1611,4742],1,0,4095],"samsung ex1":[[8898,-2498,-994,-3144,11328,2066,-760,1381,4576],1,0,16383],"samsung nx1":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung nx5":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx10":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx11":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx100":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx1000":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx1100":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx20":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx200":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx210":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx2000":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx30":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300m":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx3000":[[8060,-2933,-761,-4504,12890,1762,-630,1489,5227],2,0,4095],"samsung nx500":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung ek-gn120":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],3,0,4095],"samsung wb2000":[[12093,-3557,-1155,-1e3,9534,1733,-22,1787,4576],1,0,4095],"sony dsc-rx0":[[9396,-3507,-843,-2497,11111,1572,-343,1355,5089],1,800,16620],"sony dsc-rx10":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m2":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m3":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m4":[[7699,-2566,-629,-2967,11270,1928,-378,1286,4807],1,800,16380],"sony dsc-rx100":[[8651,-2754,-1057,-3464,12207,1373,-568,1398,4434],1,800,16620],"sony dsc-rx100m2":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m3":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m4":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5a":[[11176,-4700,-965,-4004,12184,2032,-763,1726,5876],1,800,16300],"sony dsc-rx100m6":[[7325,-2321,-596,-3494,11674,2055,-668,1562,5031],1,800,16300],"sony dsc-rx1r":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,512,33192],"sony dsc-rx1rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony dslr-a100":[[9437,-2811,-774,-8405,16215,2290,-710,596,7181],2,0,4095],"sony dslr-a200":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a230":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a290":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a300":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a330":[[9847,-3091,-929,-8485,16346,2225,-714,595,7103],1,0,4095],"sony dslr-a350":[[6038,-1484,-578,-9146,16746,2513,-875,746,7217],1,0,4095],"sony dslr-a380":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a390":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a450":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],1,500,16e3],"sony dslr-a500":[[6046,-1127,-278,-5574,13076,2786,-691,1419,7625],0,500,16600],"sony dslr-a550":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,512,16372],"sony dslr-a560":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,476,16596],"sony dslr-a580":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],0,520,16596],"sony dslr-a700":[[5775,-805,-359,-8574,16295,2391,-1943,2341,7249],0,520,16383],"sony dslr-a850":[[5413,-1162,-365,-5665,13098,2866,-608,1179,8440],0,500,15e3],"sony dslr-a900":[[5209,-1072,-397,-8845,16120,2919,-1618,1803,8654],1,520,16383],"sony nex-3":[[6907,-1256,-645,-4940,12621,2320,-1710,2581,6230],1,520,16360],"sony nex-3n":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5":[[6807,-1350,-342,-4216,11649,2567,-1089,2001,6420],1,520,16383],"sony nex-5n":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-5r":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5t":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,512,16300],"sony nex-6":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-7":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,512,16300],"sony nex-c3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-f3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16360],"sony ilce-3000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-3500":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5100":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6300":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-6500":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-7":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m2":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m3":[[7374,-2389,-551,-5435,13162,2519,-1006,1795,6552],1,512,16300],"sony ilce-7r":[[4913,-541,-202,-6130,13513,2906,-1564,2151,7183],1,512,16300],"sony ilce-7rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony ilce-7rm3":[[6640,-1847,-503,-5238,13010,2474,-993,1673,6527],1,512,16383],"sony ilce-7s":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-7sm2":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-9":[[6389,-1703,-378,-4562,12265,2587,-670,1489,6550],1,512,16383],"sony dsc-rx1":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16628],"sony slt-a33":[[6069,-1221,-366,-5221,12779,2734,-1024,2066,6834],1,520,16596],"sony slt-a35":[[5986,-1618,-415,-4557,11820,3120,-681,1404,6971],1,545,16596],"sony slt-a37":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16500],"sony slt-a55":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a55v":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a57":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16596],"sony slt-a58":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony slt-a65":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a65v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony ilca-77m2":[[5991,-1732,-443,-4100,11989,2381,-704,1467,5992],1,512,16300],"sony ilca-68":[[6435,-1903,-536,-4722,12449,2550,-663,1363,6517],1,512,16300],"sony ilca-99m2":[[6660,-1918,-471,-4613,12398,2485,-649,1433,6447],1,512,16300],"sony slt-a99":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sony slt-a99v":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sinar hy6":[[16442,-2956,-2422,-2877,12128,750,-1136,6066,4559],1,0,0],"fujifilm finepix s6000fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s100fs":[[11521,-4355,-1065,-6524,13767,3058,-1466,1984,6045],3,512,16383],"fujifilm finepix s200exr":[[11401,-4498,-1312,-5088,12751,2613,-838,1568,5941],1,519,16250],"fujifilm finepix f600exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f700":[[10004,-3219,-1201,-7036,15047,2107,-1863,2565,7736],3,0,16383],"fujifilm finepix f770exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f900exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix e550":[[11044,-3888,-1120,-7248,15168,2208,-1531,2277,8069],3,0,15875],"fujifilm is-1":[[21461,-10807,-1441,-2332,10599,1999,289,875,7703],3,0,15872],"fujifilm finepix s3pro":[[11807,-4612,-1294,-8927,16968,1988,-2120,2741,8006],3,0,15872],"fujifilm finepix s5pro":[[12300,-5110,-1304,-9117,17143,1998,-1947,2448,8100],3,0,15872],"fujifilm finepix s5600":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix e900":[[9183,-2526,-1078,-7461,15071,2574,-2022,2440,8639],3,0,15872],"fujifilm finepix s2pro":[[12492,-4690,-1402,-7033,15423,1647,-1507,2111,7697],3,128,4095],"fujifilm finepix s5000":[[8754,-2732,-1019,-7204,15069,2276,-1702,2334,6982],3,0,15872],"fujifilm finepix s5200":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix s5500":[[11940,-4431,-1255,-6766,14428,2542,-993,1165,7421],1,0,15872],"fujifilm finepix s6500fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s9500":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9000":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9600":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix s9600fd":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix hs10 hs11":[[12440,-3954,-1183,-1123,9674,1708,-83,1614,4086],0,50,3900],"fujifilm finepix hs20exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix hs30exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,258,3900],"fujifilm finepix hs50exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix x100":[[12161,-4457,-1069,-5034,12874,2400,-795,1724,6904],0,254,4e3],"fujifilm finepix x10":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,256,4e3],"fujifilm x-s1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,260,4e3],"fujifilm gfx 50s":[[11756,-4754,-874,-3056,11045,2305,-381,1457,6006],1,65,16383],"fujifilm x-pro1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-pro2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x70":[[10450,-4329,-878,-3217,11105,2421,-752,1758,6519],1,1024,16383],"fujifilm xf1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,257,4e3],"fujifilm x-e1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,255,4094],"fujifilm x20":[[11768,-4971,-1133,-4904,12927,2183,-480,1723,4605],3,257,4094],"fujifilm x30":[[12328,-5256,-1144,-4469,12927,1675,-87,1291,4351],3,257,4094],"fujifilm x100f":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x100s":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x100t":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-h1":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-m1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-a1":[[11086,-4555,-839,-3512,11310,2517,-815,1341,5940],1,256,4094],"fujifilm x-a2":[[10763,-4560,-917,-3346,11311,2322,-475,1135,5843],1,256,4094],"fujifilm x-a3":[[12407,-5222,-1086,-2971,11116,2120,-294,1029,5284],1,1024,16383],"fujifilm x-a5":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"fujifilm xq1":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm xq2":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm x-e2":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-e3":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1023,16383],"fujifilm x-e2s":[[11562,-5118,-961,-3022,11007,2311,-525,1569,6097],1,1024,16383],"fujifilm x-t1":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-t3":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t10":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t20":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-t30":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t100":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"minolta dimage a1":[[9274,-2547,-1167,-8220,16323,1943,-2273,2720,8340],1,0,3965],"minolta dimage 5":[[8983,-2942,-963,-6556,14476,2237,-2426,2887,8014],1,0,3965],"minolta dimage 7":[[9144,-2777,-998,-6676,14556,2281,-2470,3019,7744],1,0,3965],"minolta dimage 7i":[[10880,-3638,-1186,-6496,14313,2364,-2456,3092,7485],1,0,3965],"minolta dimage 7hi":[[11368,-3894,-1242,-6521,14358,2339,-2475,3056,7285],1,0,3965],"sony dsc-f828":[[7924,-1910,-777,-8226,15459,2998,-1517,2199,6818,-7242,11401,3481],0,495,16383],"sony dsc-hx99":[[13076,-5686,-1481,-4027,12851,1251,-167,725,4937],1,800,16300],"sony dsc-r1":[[8512,-2641,-694,-8042,15670,2526,-1821,2117,7414],2,511,16383],"mamiya zd":[[7645,2579,-1363,-8689,16717,2015,-3712,5941,5961],1,0,4e3],"leaf aptus 22":[[8236,1746,-1314,-8251,15953,2428,-3673,5786,5771],1,0,16191],"leaf credo 40":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 60":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 80":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf aptus-ii 5":[[1846,7955,-1222,-12994,19563,3596,-2035,3340,5136],2,0,15e3],"phase one p30":[[4516,-245,-37,-7020,14976,2173,-3206,4671,7087],2,0,16383],"phase one p65+":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"phase one iq140":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,65535],"phase one iq250":[[3984,0,0,0,1e4,0,0,0,7666],1,1024,65535],"kodak dcs pro slr/n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,4095],"kodak dcs pro 14n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs pro 14nx":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs460":[[10592,-2206,-967,-1944,11685,230,2206,670,1273],2,7,6664],"kodak dcs520c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,176,4095],"kodak dcs560c":[[20482,-7172,-3125,-1033,10410,-285,2542,226,3136],2,208,4095],"kodak dcs760c":[[16623,-6309,-1411,-4344,13923,323,2285,274,2926],2,0,3500],"kodak p880":[[12805,-4662,-1376,-7480,15267,2360,-1626,2194,7904],0,0,4095],"kodak easyshare z980 digital camera":[[11313,-3559,-1101,-3893,11891,2257,-1214,2398,4908],1,0,4095],"kodak z1015 is":[[11265,-4286,-992,-4694,12343,2647,-1090,1523,5447],0,0,4095],"epson r-d1":[[6827,-1878,-732,-8429,16012,2564,-704,592,7145],1,63,4095],"hasselblad cfv-50":[[5656,-659,-346,-3923,12306,1791,-1602,3509,5442],1,256,65535],"hasselblad h3d":[[3857,452,-46,-6008,14477,1596,-2627,4481,5718],1,0,31456],"hasselblad h5d-40":[[6159,-1402,-177,-5439,12762,3007,-955,2200,7104],1,256,62914],"hasselblad h5d-50c":[[4932,-835,141,-4878,11868,3437,-1138,1961,7067],1,256,62914],"canon powershot a610":[[15591,-6402,-1592,-5365,13198,2168,-1300,1824,5075],1,0,1023,2672,1968],"canon powershot s3 is":[[14062,-5199,-1446,-4712,12470,2243,-1286,2028,4836],1,0,1023,2888,2136],"canon powershot a620":[[15265,-6193,-1558,-4125,12116,2010,-888,1639,5220],1,0,1023,3152,2340],"canon powershot a720 is":[[14573,-5482,-1546,-1266,9799,1468,-1040,1912,3810],3,0,1023,3336,2480],"canon powershot a630":[[14201,-5308,-1757,-6087,14472,1617,-2191,3105,5348],1,0,1023,3344,2484],"canon powershot a640":[[13124,-5329,-1390,-3602,11658,1944,-1612,2863,4885],1,0,1023,3736,2772],"canon powershot a650":[[9427,-3036,-959,-2581,10671,1911,-1039,1982,4430],1,0,1023,4104,3048],"canon powershot sx110 is":[[14134,-5576,-1527,-1991,10719,1273,-1158,1929,3581],1,0,4095,3720,2772],"gitup git2":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,3200,65535,4608,3456],"gitup git2p":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,4160,65535,4624,3488],"paralenz dive camera":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,1024,16383,3840,2160],"sjcam sj6 legend":[[9489,-3814,-225,-6650,13742,3236,-627,797,7550],1,0,4095,4024,3036]};
z.Pw={};z.Pw.Pw=function(h,R,d,L,$){if(L==null)L=3;if($==null)$==!0;var W=h.k,M=h.$,x=1/W,t=W*M,g=Date.now(),r=!1,l=z.Pw.BY(d,W,M,255,128),H=z.Pw.BY(d,W,M,0,128),We=0;
if(r)console.log("extract contours",Date.now()-g);g=Date.now();var y=function(uV,zZ){var uU=uV<<2,zI=zZ<<2;
return R[uU]+R[uU+1]+R[uU+2]-(R[zI]+R[zI+1]+R[zI+2])};l.sort(y);H.sort(y);var f=z.h(t),b=z.h(t),K=[],Z=new Uint32Array(W*M);
Z.fill(4294967295);for(var J=0;J<t;J++)if(d[J]==0)b[J]=255;else if(d[J]==255)f[J]=255;else{Z[J]=K.length;
K.push(J)}var u=l.length,C=H.length,Q=K.length;function i(uV,zZ,uU,zI){var uG=uV.length,WW=new Array(uG*2);
for(var J=0;J<uG;J++){var G=uV[J],w=~~(G*zI),U=G-w*uU,us=G<<2;WW[J*2]=U<<16|w;WW[J*2+1]=zZ[us]<<16|zZ[us+1]<<8|zZ[us+2]}return WW}var j=i(l,R,W,x),V=i(H,R,W,x),E=i(K,R,W,x);
if(r)console.log("Itemize",Date.now()-g,"Unknown:",Q,u,C);g=Date.now();var N=z.style.dR(f,W,M,!0),n=z.style.dR(b,W,M,!0),a=new Array(Q),I=new Array(Q),q=new Array(Q),k=new Array(Q),F=new Array(Q);
if(r)console.log("Dist transform",Date.now()-g);g=Date.now();var o=z.Pw.jd;for(var J=0;J<Q;J++){var G=K[J],w=~~(G*x),U=G-w*W,B=N[G<<1],D=N[(G<<1)+1],P=Math.sqrt(B*B+D*D),v=n[G<<1],O=n[(G<<1)+1],uk=Math.sqrt(v*v+O*O);
a[J]=1/P;I[J]=1/uk;var ut=Math.floor(z.K.yM(G*17)*u),ua=Math.floor(z.K.yM(G*19)*C);q[J]=ut;k[J]=ua;F[J]=o(E[J*2],E[J*2+1],j[ut*2],j[ut*2+1],V[ua*2],V[ua*2+1],a[J],I[J],1e9)}var uu=[-W-1,-W,-W+1,-1,1,W-1,W,W+1];
while(Math.floor(Math.max(u,C)*Math.pow(.5,We))>1)We++;for(var uW=0;uW<L;uW++){var kV=0;for(var J=0;
J<Q;J++){var G=K[J],w=~~(G*x),U=G-w*W,p=a[J],_=I[J],uB=E[J*2],ub=E[J*2+1],uq=F[J],ut=q[J],ua=k[J],uN=1;
if(w!=0&&U!=0&&U!=W-1&&w!=M-1)for(var uF=0;uF<8;uF++){var ue=Z[G+uu[uF]];if(ue==4294967295)continue;
var up=q[ue],ui=k[ue];if(up==ut&&ui==ua)continue;var zd=o(uB,ub,j[up*2],j[up*2+1],V[ui*2],V[ui*2+1],p,_,uq);
if(zd<uq){uq=zd;ut=up;ua=ui}}for(var u_=0;u_<We;u_++){var za=~~(u*uN),uZ=~~(C*uN);uN*=.5;var uj=z.K.yM(G+uW*17+u_*31),uw=z.K.yM(G+uW*29+u_*63),tI=Math.max(0,ut-za),ug=Math.min(ut+za,u-1),uO=Math.max(0,ua-uZ),uC=Math.min(ua+uZ,C-1),up=tI+~~(uj*(ug-tI)),ui=uO+~~(uw*(uC-uO)),zd=o(uB,ub,j[up*2],j[up*2+1],V[ui*2],V[ui*2+1],p,_,uq);
if(zd<uq){uq=zd;ut=up;ua=ui}}F[J]=uq;q[J]=ut;k[J]=ua;kV+=uq}}if(r)console.log(kV);if(r)console.log("iterations",Date.now()-g);
g=Date.now();var ux=d.slice(0);for(var J=0;J<Q;J++){var zu=z.Pw.alpha(E[J*2+1],j[q[J]*2+1],V[k[J]*2+1]);
ux[K[J]]=~~(.5+255*zu)}ux=z.Cm.zhX(ux,R,new A(0,0,W,M),16,.01*.01);if(r)console.log("guided filter",Date.now()-g);
g=Date.now();if($)for(var J=0;J<t;J++)if(d[J]==255||d[J]==0)ux[J]=d[J];var uL=R.slice(0);for(var J=0;
J<Q;J++){var un=K[J],ut=l[q[J]],uq=F[J],us=un<<2,Wa=ux[un],Wt=(Wa>=250?un:ut)<<2;uL[us]=R[Wt];uL[us+1]=R[Wt+1];
uL[us+2]=R[Wt+2]}z.Gn(ux,uL,3);if(r)console.log(Date.now()-g);g=Date.now();return uL};z.Pw.jd=function(h,R,d,L,$,W,M,x,t){var g=h>>>16,r=h&65535,l=g-(d>>>16),H=r-(d&65535),y=g-($>>>16),f=r-($&65535),b=Math.sqrt(l*l+H*H)*M,K=Math.sqrt(y*y+f*f)*x;
if(b+K>=t)return 1e9;var Z=z.Pw.zhL(R,L,W);return Z+b+K};z.Pw.zhL=function(h,R,d){var L=h>>>16,$=h>>>8&255,W=h&255,M=R>>>16,x=R>>>8&255,t=R&255,g=d>>>16,r=d>>>8&255,l=d&255,H=z.Pw.alpha(h,R,d),y=L-(H*M+(1-H)*g),f=$-(H*x+(1-H)*r),b=W-(H*t+(1-H)*l);
return Math.sqrt(y*y+f*f+b*b)};z.Pw.alpha=function(h,R,d){var L=h>>>16,$=h>>>8&255,W=h&255,M=R>>>16,x=R>>>8&255,t=R&255,g=d>>>16,r=d>>>8&255,l=d&255,H=M-g,y=x-r,f=t-l,b=L-g,K=$-r,Z=W-l,J=H*H+y*y+f*f,u=J==0?.5:(b*H+K*y+Z*f)/J;
return Math.max(0,Math.min(1,u))};z.Pw.zSJ=function(h){};z.Pw.BY=function(h,R,d,L,$){var W=[],M=R-1,x=d-1;
for(var t=1;t<x;t++)for(var g=1;g<M;g++){var r=t*R+g;if(h[r]==L&&(h[r-R-1]==$||h[r-R]==$||h[r-R+1]==$||(h[r-1]==$||h[r+1]==$)||(h[r+R-1]==$||h[r+R]==$||h[r+R+1]==$)))W.push(r)}return W};
z.Cm={};z.Cm.zST=function(h,R,d,L,$){var W=d.k,M=d.$,x=W*M,t=z.Cm.qb,g=z.h(x*4),r;z._M(g,4294967295);
var l=d,H=h,y=R,f=L;z.Gn(h,g,0);r=z.Di(g,d);r=z.Di(r.tP,r.rect);l=r.rect;f=L>>>2;console.log(l,f);H=z.h(l.s());
z.nP(r.tP,H,0);z.Gn(R,g,0);r=z.Di(g,d);r=z.Di(r.tP,r.rect);y=z.h(l.s());z.nP(r.tP,y,0);var b=z.Cm.zhs(H,y,l,f,$),K=b[0],Z=b[1],J=new A(0,0,l.k*2,l.$*2);
K=t(K,l,J,!0);K=t(K,J,d,!0);Z=t(Z,l,J,!0);Z=t(Z,J,d,!0);var u=z.h(x);for(var C=0;C<x;C++)u[C]=Math.max(0,Math.min(255,Math.floor(.5+(K[C]*R[C]+255*Z[C]))));
return u};z.Cm.qb=function(h,R,d,L){var $=d.k,W=d.$,M=R.k,x=R.$,t=z.Cm.pg,g=new Float32Array($*W);for(var r=0;
r<x;r++){var l=(r+r)*$;for(var H=0;H<M;H++){if(!0||H==0||r==0||H==M-1||r==x-1)g[l]=g[l+1]=g[l+$]=g[l+$+1]=h[r*M+H];
else{g[l]=t(H+.25,r+.25,h,M,x);g[l+1]=t(H+.75,r+.25,h,M,x);g[l+$]=t(H+.25,r+.75,h,M,x);g[l+$+1]=t(H+.75,r+.75,h,M,x)}l+=2}}return g};
z.Cm.pg=function(h,R,d,L,$){h-=.499999;R-=.499999;var W=Math.floor(h),M=Math.floor(R),x=M*L+W,t=h-W,g=R-M,r=(1-g)*(1-t),l=(1-g)*t,H=g*(1-t),y=g*t;
if(d[x]==null||d[x+L+1]==null){console.log(h,R,L,$);throw"e"}return r*d[x+0]+l*d[x+1]+H*d[x+L+0]+y*d[x+L+1]};
z.Cm.zhs=function(h,R,d,L,$){var W=d.k,M=d.$,x=W*M,t=z.Cm.qB,g=z.Cm.h,r=z.blur.zd,l=z.Cm.Ej,R=t(R),h=t(h),H=g(x);
r(R,H,d,L);var y=g(x);r(h,y,d,L);var f=g(x);l(R,R,f);r(f,f,d,L);var b=g(x);l(R,h,b);r(b,b,d,L);var K=g(x),Z=g(x);
for(var J=0;J<x;J++){var u=H[J],C=y[J],Q=f[J]-u*u,i=b[J]-u*C,j=i/(Q+$),V=C-j*u;K[J]=j;Z[J]=V}var E=g(x);
r(K,E,d,L);var N=g(x);r(Z,N,d,L);return[E,N]};z.Cm.zhX=function(h,R,d,L,$){var W=d.k,M=d.$,x=W*M,t=z.Cm.qb,g=Date.now(),r=!1,l=d,H=h,y=R,f=L;
l=new A(0,0,W>>>2,M>>>2);f=L>>>2;H=z.Cm.zhc(h,W,M);y=z.Cm.zbI(R,W,M);if(r)console.log(Date.now()-g);
g=Date.now();var b=z.Cm.zbx(H,y,l,f,$),K=b[0],Z=b[1],J=b[2],u=b[3];if(r)console.log(Date.now()-g);g=Date.now();
var C=z.h(x);for(var Q=0;Q<M;Q++)for(var i=0;i<W;i++){var j=Q*W+i,V=(Q>>>2)*(W>>>2)+(i>>>2),E=j<<2,N=K[V]*R[E]+Z[V]*R[E+1]+J[V]*R[E+2]+u[V]*255;
C[j]=Math.max(0,Math.min(255,~~(.5+N)))}if(r)console.log(Date.now()-g);g=Date.now();return C};z.Cm.zhc=function(h,R,d){var L=R>>>2,$=d>>>2,W=z.h(R*d);
for(var M=0;M<$;M++)for(var x=0;x<L;x++)W[M*L+x]=h[M*R+x<<2];return W};z.Cm.zbI=function(h,R,d){var L=R>>>2,$=d>>>2,W=z.h(R*d*4);
for(var M=0;M<$;M++)for(var x=0;x<L;x++){var t=M*L+x<<2,g=M*R+x<<4;W[t]=h[g];W[t+1]=h[g+1];W[t+2]=h[g+2];
W[t+3]=h[g+3]}return W};z.Cm.zbx=function(h,R,d,L,$){var W=d.k,M=d.$,x=W*M,t=z.Cm.qB,g=z.Cm.h,r=z.blur.zd,l=z.Cm.Ej,h=t(h),H=new z.Zb(W*M);
z.ss(R,H);var R=[t(H.H),t(H.N),t(H.W)],y=z.Cm.zBc(h,R,d,L,$),f=g(x);r(h,f,d,L);var b=g(x);l(R[0],h,b);
r(b,b,d,L);var K=g(x);l(R[1],h,K);r(K,K,d,L);var Z=g(x);l(R[2],h,Z);r(Z,Z,d,L);var J=g(x),u=g(x),C=g(x),Q=g(x);
for(var i=0;i<x;i++){var j=f[i],V=y.Ls[i],E=y.Ll[i],N=y.Jt[i],n=b[i]-V*j,a=K[i]-E*j,I=Z[i]-N*j;J[i]=y.zDG[i]*n+y.JE[i]*a+y.JN[i]*I;
u[i]=y.JE[i]*n+y.zpA[i]*a+y.Jw[i]*I;C[i]=y.JN[i]*n+y.Jw[i]*a+y.zpf[i]*I;Q[i]=j-J[i]*V-u[i]*E-C[i]*N}r(J,J,d,L);
r(u,u,d,L);r(C,C,d,L);r(Q,Q,d,L);return[J,u,C,Q]};z.Cm.zBc=function(h,R,d,L,$){var W=d.k,M=d.$,x=W*M,t=z.Cm.h,g=z.blur.zd,r=z.Cm.Ej,l={};
l.Ls=t(x);g(R[0],l.Ls,d,L);l.Ll=t(x);g(R[1],l.Ll,d,L);l.Jt=t(x);g(R[2],l.Jt,d,L);var H=t(x);r(R[0],R[0],H);
g(H,H,d,L);var y=t(x);r(R[0],R[1],y);g(y,y,d,L);var f=t(x);r(R[0],R[2],f);g(f,f,d,L);var b=t(x);r(R[1],R[1],b);
g(b,b,d,L);var K=t(x);r(R[1],R[2],K);g(K,K,d,L);var Z=t(x);r(R[2],R[2],Z);g(Z,Z,d,L);l.zDG=H;l.JE=y;
l.JN=f;l.zpA=b;l.Jw=K;l.zpf=Z;for(var J=0;J<x;J++){var u=l.Ls[J],C=l.Ll[J],Q=l.Jt[J],i=H[J]-u*u+$,j=y[J]-u*C,V=f[J]-u*Q,E=b[J]-C*C+$,N=K[J]-C*Q,n=Z[J]-Q*Q+$,a=E*n-N*N,I=N*V-j*n,q=j*N-E*V,k=i*n-V*V,F=V*j-i*N,o=i*E-j*j,G=a*i+I*j+q*V,w=1/G;
l.zDG[J]=a*w;l.JE[J]=I*w;l.JN[J]=q*w;l.zpA[J]=k*w;l.Jw[J]=F*w;l.zpf[J]=o*w}return l};z.Cm.h=function(h){return new Float32Array(h)};
z.Cm.qB=function(h){var R=h.length,d=new Float32Array(R);for(var L=0;L<R;L++)d[L]=h[L]*(1/255);return d};
z.Cm.Ej=function(h,R,d){for(var L=0;L<h.length;L++)d[L]=h[L]*R[L]};z.tp={};z.tp.EP=function(h,R,d,L){var $=h[R]-d[L],W=h[R+1]-d[L+1],M=h[R+2]-d[L+2];
return Math.sqrt($*$+W*W+M*M)*(1/441.7)};z.tp.getSelection=function(h,R,d){var L=R*d,$=z.h(L),W=!1,M=Math.round(d*.7),x=1,t=new Uint32Array(12),g=z.h(12);
for(var r=0;r<M;r++)for(var l=0;l<R;l++){if(l<x||r<x||l>R-x-1||r>d-x-1){var H=r*R+l,y=H<<2,f=0;if(r<x)f=4;
else if(l>R-x-1)f=8;t[f]+=h[y];t[f+1]+=h[y+1];t[f+2]+=h[y+2];t[f+3]++;$[H]=255}}for(var H=0;H<12;H+=4)for(var b=0;
b<3;b++)g[H+b]=t[H+b]/t[H+3];var K=new Float32Array(L);for(var H=0;H<L;H++){var y=H*4,Z=z.tp.EP(h,y,g,0),J=z.tp.EP(h,y,g,4),u=z.tp.EP(h,y,g,8),C=Math.max(Z,Math.max(J,u));
K[H]=Z+J+u-C}z.tp.ED(K);var Q=Date.now(),i=new Float32Array(L),j=[],V=z.h(L);for(var H=0;H<3;H++){z.nP(h,V,H);
var E=new Uint16Array(L);j.push(E);z.tp.zBY(V,$,R,d,E)}if(W)console.log("MBD",Date.now()-Q);Q=Date.now();
for(var H=0;H<L;H++)i[H]=j[0][H]+j[1][H]+j[2][H];z.tp.ED(i);for(var H=0;H<L;H++)i[H]+=.4*K[H];var N=R>>>1,M=d>>>1,n=1/Math.sqrt(N*N+M*M);
for(var r=0;r<d;r++)for(var l=0;l<R;l++){var a=l-N,I=r-M,q=1-Math.sqrt(a*a+I*I)*n;i[r*R+l]*=q}if(W)console.log("Centeredness",Date.now()-Q);
Q=Date.now();for(var H=0;H<L;H++)$[H]=i[H]*255;var k=Math.round(R/120),F=Math.round(k*.8);if(W)console.log(k,F);
z.ee.Fe($,V,R,d,k,z.ee.FS,[]);$.set(V);if(W)console.log("erosion",Date.now()-Q);Q=Date.now();for(var H=0;
H<L;H++)i[H]=$[H];z.tp.ED(i);var o=z.h(256);for(var H=0;H<256;H++)o[H]=256/(1+Math.exp(-20*(H/255-.5)));
for(var H=0;H<L;H++){var G=~~(i[H]*255+.5);$[H]=o[G]}if(W)console.log("Simoid",Date.now()-Q);Q=Date.now();
return $};z.tp.ED=function(h){var R=h.length,d=0;for(var L=0;L<R;L++)d=Math.max(d,h[L]);var $=1/d;for(var L=0;
L<R;L++)h[L]=h[L]*$};z.tp.zBY=function(h,R,d,L,$){var W=d*L,M=h.slice(0),x=h.slice(0);for(var t=0;t<W;
t++)$[t]=R[t]==255?0:65535;z.tp.Fa(h,x,M,$,d,L);z.tp.FB(h,x,M,$,d,L);z.tp.Fa(h,x,M,$,d,L);z.tp.FB(h,x,M,$,d,L);
return $};z.tp.Fa=function(h,R,d,L,$,W){for(var M=1;M<$;M++)z.tp.GW(M,-1,h,R,d,L);for(var x=1;x<W;x++){z.tp.GW(x*$,-$,h,R,d,L);
for(var M=1;M<$;M++){var t=x*$+M;z.tp.GW(t,-1,h,R,d,L);z.tp.GW(t,-$,h,R,d,L)}}};z.tp.FB=function(h,R,d,L,$,W){for(var M=$-2;
M>=0;M--)z.tp.GW($*W-$+M,1,h,R,d,L);for(var x=W-2;x>=0;x--){z.tp.GW(x*$+$-1,$,h,R,d,L);for(var M=$-2;
M>=0;M--){var t=x*$+M;z.tp.GW(t,1,h,R,d,L);z.tp.GW(t,$,h,R,d,L)}}};z.tp.GW=function(h,R,d,L,$,W){var M=h+R,x=d[h],t=L[M],g=$[M];
if(t<x)t=x;else if(x<g)g=x;var r=t-g;if(W[M]!=65535&&r<W[h]){W[h]=r;L[h]=t;$[h]=g}};z.Rt={};z.Rt.filter=function(h,R,d,L){var $=R.k,W=R.$,M=$*W,x=L[0],t=L[1],g=L[2],r=L[3],l=L[4],H=L[5],y=L[6],f=Date.now(),b=new Float32Array($*W*4);
z.Rt.zqL(h,$,W,b);var K=Math.ceil(x*Math.sqrt(-2*Math.log(.1))),Z=new ArrayBuffer(M*4),J=new Float32Array(Z),u=new Float32Array(M),C=new Float32Array(M);
for(var Q=0;Q<M;Q++){var i=Q*4;J[Q]=b[i];u[Q]=b[i+1];C[Q]=b[i+2]}z.blur.JZ(J,J,R,K*1/2.4,2);z.blur.JZ(u,u,R,K*1/2.4,2);
z.blur.JZ(C,C,R,K*1/2.4,2);for(var Q=0;Q<M;Q++){var i=Q*4;b[i]=J[Q];b[i+1]=u[Q];b[i+2]=C[Q]}var j=new Uint8Array(Z);
for(var Q=0;Q<M;Q++){var i=Q*4,V=Q*4,J=b[i],u=b[i+1],C=b[i+2],E=Math.sqrt((J-C)*(J-C)+4*u*u),N=(J+C+E)*.5,n=(J+C-E)*.5,a=n-C,I=u,q=a*a+I*I;
if(q!=0){var k=Math.sqrt(q),F=1/k;a*=F;I*=F}j[V]=128+127*a;j[V+1]=128+127*I}var o=1.3*t+2,G=r*(2/10),w=h.slice();
if(c.BG){var U=new Float32Array([1/$,1/W]),B=c.GU(0,$,W);B.set(w);var D=c.GU(1,$,W);D.set(j);c.Cq(B,R);
if(l){B.Pj(R);c.filter.LA({type:c.filter.Nz,Qr:U,zmK:1/g,zmy:G},B.An)}B.Pj(R);c.filter.LA({type:c.filter.tH,Jp:D.zH,Qr:U,z_L:o,zGJ:2},B.An);
if(l){B.Pj(R);c.filter.LA({type:c.filter.PO,Qr:U,zmo:new Float32Array(y),zAz:H},B.An)}B.get(d)}else{if(l)z.Rt.dL(1/g,G,w,$,W);
z.Rt.tH(w,d,j,$,W,o);if(l)z.Rt.zqE($,W,d,y,H)}var P=M*4;for(var Q=3;Q<P;Q+=4)d[Q]=h[Q]};z.Rt.tH=function(h,R,d,L,$,W){var M=Math.ceil(2*W),x=-1/(2*W*W),t=[],g=1;
for(var r=0;r<M+20;r++)t[r]=Math.exp(r*r*x);var l=[0,0,0,0];for(var H=0;H<$;H++){for(var y=0;y<L;y++){var f=H*L+y,b=f*4,K=1,Z=h[b],J=h[b+1],u=h[b+2],C=h[b+3],Q=(d[b]-128)*(1/127),i=(d[b+1]-128)*(1/127),j=Q,V=i,E=y==0?.51:.49,N=H==0?.51:.49;
for(var r=0;r<2;r++){var n=y+E,a=H+N,I=0;while(I<M){if(n<.5||L-.5<n||a<.5||$-.5<a)break;var q=~~n,k=~~a,F=k*L+q,o=F*4,G=(d[o]-128)*(1/127),w=(d[o+1]-128)*(1/127);
if(G*j+w*V<0){G=-G;w=-w}j=G;V=w;n+=g*G;a+=g*w;if(n<.5||L-.5<n||a<.5||$-.5<a)break;var U=~~n,B=~~a,D=B*L+U<<2;
I+=g;var P=t[~~I];z.S.Vj(n,a,h,L,$,l);Z+=l[0]*P;J+=l[1]*P;u+=l[2]*P;C+=l[3]*P;K+=P}j=-Q;V=-i}var v=1/K;
R[b]=~~(.5+Z*v);R[b+1]=~~(.5+J*v);R[b+2]=~~(.5+u*v);R[b+3]=~~(.5+C*v)}}};z.Rt.zqE=function(h,R,d,L,$){for(var W=0;
W<R;W++)for(var M=0;M<h;M++){var x=W*h+M<<2,t=1+z.Rt.zqe(M,W,d,h,R,L)*$;d[x]=Math.max(0,Math.min(255,d[x]*t));
d[x+1]=Math.max(0,Math.min(255,d[x+1]*t));d[x+2]=Math.max(0,Math.min(255,d[x+2]*t))}};z.Rt.zqe=function(h,R,d,L,$,W){var M=d[(R*L+Math.max(0,h-1))*4+3],x=d[(R*L+Math.min(L-1,h+1))*4+3],t=d[(Math.max(0,R-1)*L+h)*4+3],g=d[(Math.min($-1,R+1)*L+h)*4+3],r=.7,l=(x-M)*(1/255),H=.7,y=(g-t)*(1/255),f=-l*H,b=-r*y,K=r*H,Z=Math.sqrt(f*f+b*b+K*K),J=1/Z,u=f*J,C=b*J,Q=K*J,i=W[0]*u+W[1]*C+W[2]*Q;
return i};z.Rt.dL=function(h,R,d,L,$){function W(x,g,r){return Math.max(g,Math.min(r,x))}for(var M=0;
M<$;M++)for(var x=0;x<L;x++){var t=z.Rt.zqZ(x+.5,M+.5,h,R);d[(M*L+x)*4+3]=Math.max(0,Math.min(255,t*255))}};
z.Rt.zqZ=function(h,R,d,L){function $(V,E,N){return(1-N)*V+N*E}var W=(h+613)*d,M=(R+117)*d,x=~~W,t=~~M,g=W-x,r=M-t,l=Math.sin(11),H=Math.cos(x)*l,y=Math.cos(x+1)*l,f=Math.cos(t)*l,b=Math.cos(t+1)*l,K=z.Rt.hash(H,f),Z=z.Rt.hash(y,f),J=z.Rt.hash(H,b),u=z.Rt.hash(y,b),C=$(K,Z,g),Q=$(J,u,g),i=$(C,Q,r);
i=i<.5?0:1;var j=i+L*z.Rt.hash(Math.cos(W)*l,Math.cos(M)*l);return j*(1/3)};z.Rt.hash=function(h,R){var d=Math.sin(h*11.697096+R*73.32456)*12157.47691;
return d-Math.floor(d)};z.Rt.zqL=function(h,R,d,L){var $=[-1,0,1,-2,0,2,-1,0,1],W=[-1,-2,-1,0,0,0,1,2,1],M=R-1,x=d-1,t=R*4;
for(var g=1;g<x;g++)for(var r=1;r<M;r++){var l=g*R+r,H=l*4,y=z.Rt._j(h,H,t,$),f=z.Rt._j(h,H,t,W),b=z.Rt._j(h,H+1,t,$),K=z.Rt._j(h,H+1,t,W),Z=z.Rt._j(h,H+2,t,$),J=z.Rt._j(h,H+2,t,W);
L[H]=y*y+b*b+Z*Z;L[H+1]=y*f+b*K+Z*J;L[H+2]=f*f+K*K+J*J}z.Rt.zFu(L,R,d)};z.Rt._j=function(h,R,d,L){return h[R-d-4]*L[0]+h[R-d]*L[1]+h[R-d+4]*L[2]+h[R-4]*L[3]+h[R]*L[4]+h[R+4]*L[5]+h[R+d-4]*L[6]+h[R+d]*L[7]+h[R+d+4]*L[8]};
z.Rt.zFu=function(h,R,d){function L(t,g,r){var l=g*4,H=r*4;t[H]=t[l];t[H+1]=t[l+1];t[H+2]=t[l+2]}var $=R-1,W=d-1;
L(h,R+1,0);L(h,2*R-2,R-1);for(var M=1;M<$;M++)L(h,R+M,M);for(var x=1;x<W;x++){L(h,x*R+1,x*R);L(h,x*R+R-2,x*R+R-1)}for(var M=1;
M<$;M++)L(h,(d-2)*R+M,(d-1)*R+M);L(h,(x-2)*R+1,(x-1)*R);L(h,(x-1)*R-2,x*R-1)};z.Ag={};z.Ag.Ep=function(h,R,d,L){var $=h[R*2],W=h[R*2+1],M=h[d*2],x=h[d*2+1],t=h[L*2],g=h[L*2+1];
return $*x+M*g+t*W-t*x-M*W-$*g};z.Ag.FE=function(h,R){var d=[],L=[],$=[],W={};for(var M=0;M<R.length;
M+=3){var x=~~(M*(1/3)),t=R[M+0],g=R[M+1],r=R[M+2],l=z.Ag.Ep(h,t,g,r);if(l>0){var H=g;g=r;r=H}var y=W[r+"-"+g],f=W[g+"-"+t],b=W[t+"-"+r],K=[r,y,x,null],Z=[g,f,x,K],J=[t,b,x,Z];
K[3]=J;if(y)y[1]=K;if(f)f[1]=Z;if(b)b[1]=J;W[r+"-"+t]=J;W[t+"-"+g]=Z;W[g+"-"+r]=K;d[t]=Z;$[M]=Z;d[g]=K;
$[M+1]=K;d[r]=J;$[M+2]=J;L[x]=Z}return{Qf:d,Qv:L,bG:$}};z.Ag.zFr=function(h){var R=[],d=h.Qv;for(var L=0;
L<d.length;L++){var $=d[L];R.push($[0]);$=$[3];R.push($[0]);$=$[3];R.push($[0])}return R};z.Ag.zdh=function(h,R,d,L){var $=h[R*2],W=h[R*2+1],M=h[d*2],x=h[d*2+1],t=h[L*2],g=h[L*2+1],r=M-$,l=x-W,H=t-$,y=g-W,f=r*($+M)+l*(W+x),b=H*($+t)+y*(W+g),K=2*(r*(g-x)-l*(t-M));
if(Math.abs(K)<1e-5){var Z=Math.min($,M,t),J=Math.min(W,x,g),u=(Math.max($,M,t)-Z)*.5,C=(Math.max(W,x,g)-J)*.5;
return[Z+u,J+C,u*u+C*C,1]}var Q=(y*f-l*b)/K,i=(r*b-H*f)/K,u=Q-$,C=i-W;return[Q,i,u*u+C*C,0]};z.Ag.zdE=function(h,R,d){var L=d[1],$=d[3],W=$[3],M=L[3],x=M[3],t=d[2],g=L[2],r=d[0],l=L[0],H=$[0],y=M[0],f=z.Ag.zdh(h,l,y,H),b=h[r*2]-f[0],K=h[r*2+1]-f[1],Z=b*b+K*K>f[2]&&f[3]==0&&z.Ag.Ep(h,y,r,H)<0&&z.Ag.Ep(h,H,l,y)<0;
if(Z){d[0]=H;L[0]=y;d[3]=W;W[3]=M;M[3]=d;L[3]=x;x[3]=$;$[3]=L;$[2]=g;M[2]=t;R.Qv[g]=x;R.Qv[t]=W;R.Qf[l]=M;
R.Qf[r]=$}return Z};z.Ag.qY=function(h,R,d){var L=h[R*2]-h[d*2],$=h[R*2+1]-h[d*2+1];return Math.sqrt(L*L+$*$)};
z.Ag.zdK=function(h,R,d){var L=d[1],$=d[3],W=$[3],M,x,t=d[2],g,r=d[0],l=W[0],H=$[0],y;if(L){M=L[3];x=M[3];
g=L[2];y=M[0]}var f=h.length>>>1;h[2*f]=(h[2*l]+h[2*r])*.5;h[2*f+1]=(h[2*l+1]+h[2*r+1])*.5;if(!0){var b=t,K=d,Z=R.Qv.length,J=[f,null,b,K],u=[H,J,Z,W];
J[1]=u;var C=[f,null,Z,u];$[3]=J;W[3]=C;W[2]=Z;R.Qv[b]=$;R.Qv[Z]=C;R.Qf[r]=$;R.Qf[H]=W;R.bG.push(J,u,C)}if(L){var Q=g,i=L,j=Z+1;
C[1]=i,i[1]=C;var V=[f,null,Q,i],E=[y,V,j,x];V[1]=E;var N=[f,K,j,E];K[1]=N;M[3]=V;x[3]=N;x[2]=j;R.Qv[Q]=M;
R.Qv[j]=x;R.Qf[l]=M;R.Qf[y]=x;R.bG.push(V,E,N)}R.Qf[f]=K};z.Ag.du=function(h,R){var d=0;while(!0){var L=d;
for(var $=0;$<R.bG.length;$++){var W=R.bG[$];if(W[1]==null)continue;var M=z.Ag.zdE(h,R,W);if(M){d++;
break}}if(L==d)break}return d!=0};z.Ag.zdf=function(h,R,d,L){var $=0;for(var W=0;W<L;W++){var M=null,x=0;
for(var t=0;t<R.bG.length;t++){var g=R.bG[t],r=z.Ag.qY(h,g[0],g[3][3][0])*(g[1]?1:2);if(r>x){M=g;x=r}}if(x>d){z.Ag.zdK(h,R,M);
$++}}return $!=0};z.Ag.zEq=function(h,R){var d=[],y=0;for(var L=0;L<h.length;L++)d.push(0);for(var L=0;
L<R.bG.length;L++){var $=R.bG[L],W=$[0],M=$[3][3][0],x=h[W*2],t=h[W*2+1],g=h[M*2],r=h[M*2+1],l=x-g,H=t-r;
d[W*2]+=-l;d[W*2+1]+=-H;d[M*2]+=l;d[M*2+1]+=H}for(var L=0;L<h.length;L+=2){var f=L>>>1,b=R.Qf[f],$=b,K=!0;
do{if($[1]==null){K=!1;break}$=$[1][3]}while($!=b);if(K){var Z=.02;h[L]+=Z*d[L];h[L+1]+=Z*d[L+1];y+=Z*(d[L]*d[L]+d[L+1]*d[L+1])}}return y};
z.Ag.zEj=function(h,R,d){var L=z.G.oY(h),$=z.Ag.FE(h,R);z.Ag.du(h,$);for(var W=0;W<300;W++){var M=!1,x=!1;
M=z.Ag.zdf(h,$,d,5);if(M)x=z.Ag.du(h,$);var t=z.Ag.zEq(h,$);if(!M&&!x&&t<1e-4){break}}return z.Ag.zFr($)};
z.Gx={};z.Gx.zEN=function(h,R){var d=h.length,L=h[0].length,$=R[0].length;if(L!=R.length)throw"e";if((L&1)!=0)throw"e";
var W=new Array(d);for(var M=0;M<d;M++)W[M]=new Array($);for(var M=0;M<d;M++){var x=h[M],t=W[M];for(var g=0;
g<$;g++){var r=0;for(var l=0;l<L;l+=2)r+=x[l]*R[l][g]+x[l+1]*R[l+1][g];t[g]=r}}return W};z.Gx.dW=function(h){var R=h.oC,d=h.by,L=h.eV,$=h.JG,W=h.hl,M=h.vv,x=h.bM,u,C,Q=0;
function t(p,_){var uB=p.length,ub=p[0].length,l=new Array(uB);for(var b=0;b<uB;b++){var uq=0;for(var uF=0;
uF<ub;uF++)uq+=p[b][uF]*_[uF];l[b]=uq}return l}function g(p){var _=new Array(p);for(var b=0;b<p;b++)_[b]=0;
return _}var r=d.length>>>1,l=g(R.Jm*2),H=g(R.Jm),y=g(R.Jm),f=Date.now();for(var b=0;b<h.Gd.length;b++){var K=R.zAt+b,Z=R.Hl*(M[b*2]+x[b*2]),J=R.Hl*(M[b*2+1]+x[b*2+1]);
l[K*2]=Z;l[K*2+1]=J;H[K]=Z;y[K]=J}R.zAe.d$($,R.zAi.tM(l),.01,u,C);for(var b=0;b<R.zGT.bG.length;b++){var i=R.zGT.bG[b],j=i[3][3][0],V=i[0],E=i[3][0],N=i[1]?i[1][3][0]:E;
if(i[1]&&j>V)continue;var n=d[j*2],a=d[j*2+1],I=d[V*2],q=d[V*2+1],k=$[j*2],F=$[j*2+1],o=$[V*2],G=$[V*2+1],w=$[E*2],U=$[E*2+1],B=$[N*2],D=$[N*2+1],P=[k,F,o,G,w,U];
if(i[1])P.push(B,D);var v=t(R.zAD[Q],P),O=v[0],uk=v[1],ut=1/Math.sqrt(O*O+uk*uk);O*=ut;uk*=ut;var ua=I-n,uu=q-a;
H[Q]=O*ua+uk*uu;y[Q]=-uk*ua+O*uu;Q++}var uW=new Array(r),kV=new Array(r);for(var b=0;b<r;b++){uW[b]=W[b*2];
kV[b]=W[b*2+1]}R.zmk.d$(uW,R.zmh.tM(H),.5);R.zmk.d$(kV,R.zmh.tM(y),.5);for(var b=0;b<r;b++){W[b*2]=uW[b];
W[b*2+1]=kV[b]}};z.Gx.ds=function(h){var R=h.by,d=h.eV,L=h.Gd,r=0,Z=0,ua=1e3;function $(uB){var ub=uB.length,uq=uB[0].length,uF=new Array(uq);
for(var l=0;l<uq;l++)uF[l]=new Array(ub);for(var l=0;l<uq;l++)for(var ut=0;ut<ub;ut++)uF[l][ut]=uB[ut][l];
return uF}function W(uB,ub){var uq=uB.length,uF=uB[0].length,ue=new Array(uq);for(var l=0;l<uq;l++)ue[l]=new Array(uF);
for(var l=0;l<uq;l++)for(var ut=0;ut<uF;ut++)ue[l][ut]=uB[l][ut]-ub[l][ut];return ue}var M=z.Gx.zEN,x=Date.now(),t=z.Ag.FE(R,d),g=R.length>>>1;
for(var l=0;l<t.bG.length;l++)r+=t.bG[l][1]?.5:1;var H=r+L.length,y=[],f=new z.ZX(H*2,g*2),b=new z.ZX(H,g),K=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],J=[],u=[];
for(var l=0;l<t.bG.length;l++){var C=t.bG[l],Q=C[3][3][0],i=C[0],j=C[3][0],V=C[1]?C[1][3][0]:j;if(C[1]&&Q>i)continue;
var E=R[Q*2],N=R[Q*2+1],n=R[i*2],a=R[i*2+1],I=R[j*2],q=R[j*2+1],k=R[V*2],F=R[V*2+1],o=[[E,N,1,0],[N,-E,0,1],[n,a,1,0],[a,-n,0,1],[I,q,1,0],[q,-I,0,1]];
if(C[1])o.push([k,F,1,0],[F,-k,0,1]);var G=$(o),w=M(linear.invert(M(G,o)),G);w.pop();w.pop();y.push(w);
var U=n-E,B=a-N,D=K[C[1]?1:0];D=W(D,M([[U,B],[B,-U]],w));var P=[Q*2,Q*2+1,i*2,i*2+1,j*2,j*2+1,V*2,V*2+1],v=C[1]?8:6,O=[];
for(var uk=0;uk<v;uk++)O.push([P[uk],D[0][uk],D[1][uk]]);O.sort(function(uB,ub){return uB[0]-ub[0]});
for(var ut=0;ut<2;ut++){for(var uk=0;uk<v;uk++){J[uk]=O[uk][0];u[uk]=O[uk][1+ut]}f.oz(u,J,v)}if(Q<i)b.oz([-1,1],[Q,i],2);
else b.oz([1,-1],[i,Q],2);Z++}for(var l=0;l<L.length;l++){var uu=L[l];f.oz([ua],[uu*2],1);f.oz([ua],[uu*2+1],1);
b.oz([ua],[uu],1)}var uW=f.i_(),kV=uW.dC(uW),p=b.i_(),_=p.dC(p);return{zAt:r,Jm:H,zAi:uW,zAe:kV,zmh:p,zmk:_,zGT:t,zAD:y,Hl:ua}};
z.Gx.zEg=function(h,R,d,L,$){var W=new A(0,0,R,d),M=z.h(W.s());z.nP(h,M,3);z.round(M,70);var x=z.Xb(M,W),t=[.1,.065,.035][L]*Math.max(x.k,x.$),g=$+1,r=R+g*2,l=d+g*2,H=new A(-g,-g,r,l),y=z.h(H.s());
z.mF(M,W,y,H);var f=y.slice(0);for(var b=0;b<$;b++){for(var K=1;K<l-1;K++){for(var Z=1;Z<r-1;Z++){var J=K*r+Z;
f[J]=y[J-r]|y[J-1]|y[J]|y[J+1]|y[J+r]}}var u=f;f=y;y=u}var C=kn.E_(y,r,l,Math.round(x.s()*5e-4)),Q=kn.lH(C),i=new um(1,0,0,1,-g,-g);
for(var J=0;J<Q.length;J++){var j=Q[J];z.G.V(j.path.B,i,j.path.B);j.by=z.Gx.zEI(j.path);j.eV=z.G.zGu(j.by);
j.eV=z.Ag.zEj(j.by,j.eV,t)}return Q};z.Gx.zEI=function(h){var R=[],d=h.B,L=h.D.length-1,$=0,W=0;for(var M=0;
M<L;M++){var x=M*6,t=d[x+6]-d[x+0],g=d[x+7]-d[x+1],r=Math.ceil(Math.sqrt(t*t+g*g));for(var l=0;l<r;l++){var H=l/r,y=1-H,f=y*y*y*d[x+0]+3*y*y*H*d[x+2]+3*y*H*H*d[x+4]+H*H*H*d[x+6],b=y*y*y*d[x+1]+3*y*y*H*d[x+3]+3*y*H*H*d[x+5]+H*H*H*d[x+7];
R.push(f,b);$=f;W=b}}R=z.G.dG(R,1);var K=[],Z=R.length;for(var x=0;x<Z;x+=2){var b=R.pop(),f=R.pop();
K.push(f,b)}return K};z.Gx.zEJ=function(h,R,d,L){function $(E,N,n,a,I){var q=I[E*2]-I[N*2],k=I[E*2+1]-I[N*2+1],F=Math.sqrt(q*q+k*k);
if(n[E].indexOf(N)==-1){n[E].push(N);a[E].push(F)}if(n[N].indexOf(E)==-1){n[N].push(E);a[N].push(F)}}var W=h.length>>>1,M=new Array(W);
if(d.length==0){M.fill(0);return M}var x=new Array(W),t=new Array(W);for(var g=0;g<W;g++){x[g]=[];t[g]=[]}for(var g=0;
g<R.length;g+=3){$(R[g],R[g+1],x,t,h);$(R[g],R[g+2],x,t,h);$(R[g+1],R[g+2],x,t,h)}var r=new Float64Array(W*2),l=new Uint32Array(W*2);
r.fill(1e9);var H=new Uint8Array(W);for(var y=0;y<d.length;y++){H.fill(0);var f=["---",[0,d[y]]];while(f.length!=1){var b=z.YZ.zFK(f),K=b[0],Z=b[1];
if(H[Z]==1)continue;var J=Z<<1;if(K<r[J]){r[J+1]=r[J];l[J+1]=l[J];r[J]=K;l[J]=y}else if(K<r[J+1]){r[J+1]=K;
l[J+1]=y}H[Z]=1;var u=x[Z],C=t[Z];for(var g=0;g<u.length;g++){var Q=u[g];if(H[Q]!=1){z.YZ.zFQ(f,[K+C[g],Q])}}}}for(var g=0;
g<W;g++){var J=g<<1,i=r[J],j=r[J+1],V=1/(i+j);M[g]=(1-i*V)*L[l[J]]+(1-j*V)*L[l[J+1]]}return M};z.Gx.zSH=function(h){var R={D:[],B:[]},d=[h];
while(d.length!=0){var L=d.pop(),$=L.Re;if(L.zAH instanceof Array||L.zAr instanceof Array){R.D.push("M","L","L","L","Z");
R.B.push($[0],$[1],$[2],$[1],$[2],$[3],$[0],$[3])}else d.push(L.zAH,L.zAr)}return R};z.Gx.sj=function(h,R,d,L,$,W,M){var x=d.k,t=d.$,g=Math.round(M.length/3),r=new Array(g);
for(var l=0;l<g;l++)r[l]=l;r.sort(function(y,f){return W[M[y*3]]-W[M[f*3]]});for(var l=0;l<g;l++){var H=r[l]*3;
z.Gx.zEv(M[H]*2,M[H+1]*2,M[H+2]*2,L,$,h,R,x,t)}};z.Gx.zEv=function(h,R,d,L,$,W,M,x,t){var g=z.Gx.df,r=[h,R,d,1.2,1.2,1.2,0],l=[0,0,0,0],H=$[h],y=$[h+1],f=$[R],b=$[R+1],K=$[d],Z=$[d+1],J=Math.max(0,Math.min(x-1,L[h])),u=Math.max(0,Math.min(x-1,L[R])),C=Math.max(0,Math.min(x-1,L[d])),Q=Math.max(0,Math.min(t-1,L[h+1])),i=Math.max(0,Math.min(t-1,L[R+1])),j=Math.max(0,Math.min(t-1,L[d+1])),V=f-H,E=b-y,N=K-H,n=Z-y,a=1/(V*n-N*E+1e-9),I=Math.max(0,Math.floor(Math.min(H,f,K))),q=Math.min(x,Math.ceil(Math.max(H,f,K))),k=Math.max(0,Math.floor(Math.min(y,b,Z))),F=Math.min(t,Math.ceil(Math.max(y,b,Z)));
for(var o=k;o<F;o++)for(var G=I;G<q;G++){var w=G+.5-H,U=o+.5-y,B=(w*n-N*U)*a,D=(V*U-w*E)*a;if(B>=0&&D>=0&&B+D<=1){var P=1-B-D,v=J*P+u*B+C*D,O=Q*P+i*B+j*D;
z.S.Vj(v,O,W,x,t,l);z.Gx.zew(l,M,o*x+G<<2)}}};z.Gx.zew=function(h,R,d){var L=R[d],$=R[d+1],W=R[d+2],M=R[d+3],x=1-h[3]*(1/255);
R[d]=~~(.5+h[0]+L*x);R[d+1]=~~(.5+h[1]+$*x);R[d+2]=~~(.5+h[2]+W*x);R[d+3]=~~(.5+h[3]+M*x)};z.Gx.df=function(){var h=function(d,L,$,W){var M=W[0],x=W[1],t=W[2],g=d[M+0],r=d[M+1],l=d[x+0],H=d[x+1],y=d[t+0],f=d[t+1],b=l-g,K=H-r,Z=y-g,J=f-r,u=L-g,C=$-r,Q=b*J-Z*K,i=1/(Q+1e-9),j=(u*J-Z*C)*i,V=(b*C-u*K)*i;
if(j>=0&&V>=0&&j+V<=1){W[3]=1-j-V;W[4]=j;W[5]=V;return 1}return 0},R=function(d,L,$,W){var M=[0,0,0,0,0,0];
for(var x=0;x<L.length;x+=3){M[0]=L[x]*2;M[1]=L[x+1]*2;M[2]=L[x+2]*2;if(h(d,$,W,M)==1)return!0}return!1};
return{zkc:h,zOt:R}}();z.Cg={};z.Cg.zeD=function(h,R,d,L,$){var W=z.Cg.Ex(h.buffer,R,d).Og,M=Date.now(),x=new Uint32Array(W.length);
for(var t=0;t<W.length;t++)x[t]=W[t].DS;var g=UPNG.quantize.getKDtree(new Uint8Array(x.buffer),L),r=[R,1,-R,-1,R+1,-R+1,-R-1,R-1,R+R,2,-R-R,-2,R+R-1,R+R+1,R+2,-R+2,-R-R+1,-R-R-1,-R-2,R-2,R+R+2,-R-R+2-R-R-2,R+R-2],l=new Uint8Array(R*d),H=h;
for(var y=0;y<d;y++)for(var f=0;f<R;f++){var t=y*R+f<<2,b=H[t]*(1/255),K=H[t+1]*(1/255),Z=H[t+2]*(1/255),J=H[t+3]*(1/255),u=z.Cg.Ca(g,b,K,Z,J,$);
if(u==null){var C=[],Q=0;while(Q<20){var i=y*R+f+r[Q]<<2,j=H[i]*(1/255),V=H[i+1]*(1/255),E=H[i+2]*(1/255),N=H[i+3]*(1/255),n=z.Cg.Ca(g,j,V,E,N,.005);
if(n!=null){if(C.indexOf(n)==-1){C.push(n);n.Pk=1}else n.Pk++}Q++}C.sort(function(J,Z){return Z.Pk-J.Pk});
while(C.length!=0&&C[C.length-1].Pk<3)C.pop();if(C.length==0)u=z.Cg.Ca(g,b,K,Z,J,100);else if(C.length==1)u=C[0];
else if(C.length==2){var a=C[0],I=C[1],q=a.est.q,k=I.est.q,F=k[0]-q[0],o=k[1]-q[1],G=k[2]-q[2],w=k[3]-q[3],U=b-q[0],B=K-q[1],D=Z-q[2],P=J-q[3],v=F*F+o*o+G*G+w*w,O=U*U+B*B+D*D+P*P,uk=(U*F+B*o+D*G+P*w)/v,ut=O-uk*uk*v;
if(ut<.5)u=uk<.5?a:I;else{u=z.Cg.Ca(g,b,K,Z,J,100)}}else{var a=C[0],I=C[1],ua=C[2],q=a.est.q,k=I.est.q,uu=ua.est.q,uW=q[0]-uu[0],kV=q[1]-uu[1],p=q[2]-uu[2],_=q[3]-uu[3],uB=k[0]-uu[0],ub=k[1]-uu[1],uq=k[2]-uu[2],uF=k[3]-uu[3],ue=uu[0]-b,up=uu[1]-K,ui=uu[2]-Z,zd=uu[3]-J,uN=uW*uW+kV*kV+p*p+_*_,u_=uW*uB+kV*ub+p*uq+_*uF,za=ue*uW+up*kV+ui*p+zd*_,uZ=uW*uB+kV*ub+p*uq+_*uF,uj=uB*uB+ub*ub+uq*uq+uF*uF,uw=ue*uB+up*ub+ui*uq+zd*uF,tI=1/(u_*uZ-uN*uj),uk=(uj*za-uw*u_)*tI,ug=(uw*uN-za*uZ)*tI,uO=1-uk-ug,uC=Math.max(uk,ug,uO);
if(uC==uk)u=a;else if(uC==ug)u=I;else u=ua}}l[t>>2]=u.ind}return{eV:l,Og:g[1]}};z.Cg.Ex=function(h,R,d){var L=[],$={},W=R-1,M=d-1,x=0,t=new Uint32Array(h),g=[-R-1,-R,-R+1,-1,1,R-1,R,R+1,R+R,2,-R-R,-2,R+R-1,R+R+1,R+2,-R+2,-R-R+1,-R-R-1,-R-2,R-2,R+R+2,-R-R+2-R-R-2,R+R-2];
for(var r=1;r<M;r++)for(var l=1;l<W;l++){var H=r*R+l,y=t[H],f=!0;for(var b=0;b<8;b++)f=f&&t[H+g[b]]==y;
if(f){x++;var K=$[y];if(K==null){$[y]=L.length;L.push({DS:y,$m:1})}else L[K].$m++}}return{Og:L,zOb:x}};
z.Cg.Ca=function(h,R,d,L,$,W){var M=UPNG.quantize.getNearest(h[0],R,d,L,$);return z.Cg.zeI(M,R,d,L,$)<W?M:null};
z.Cg.zeI=function(h,R,d,L,$){var W=h.est.q,M=R-W[0],x=d-W[1],t=L-W[2],g=$-W[3];return M*M+x*x+t*t+g*g};
z.Cg.zSU=function(h,R,d,L){var $=z.Cg.ze$(h,R,d,L),W=$.eV,M=$.Og,x=$.zOB,t=UPNG.quantize.getKDtree(new Uint8Array(x.buffer.slice(0)),200),g=[];
for(var r=0;r<M.length;r++){var l=M[r].Ql,H=l[0],y=l[1],f=l[2],b=l[3];if(Math.min(H,y,f,b)<0)throw"e";
var K=UPNG.quantize.getNearest(t[0],H/255,y/255,f/255,b/255);g.push(t[1].indexOf(K))}for(var r=0;r<R*d;
r++)W[r]=g[W[r]];return{eV:W,Og:t[1]}};z.Cg.ze$=function(h,R,d,L){var $=R*d,W=2*$,M=z.Cg.zeH(h,R,d),x=65535+1,t=new Uint32Array(x),l=0;
for(var g=0;g<W;g++)t[M[g]]++;var r=new Uint32Array(x);for(var g=0;g<x;g++){r[g]=l;l+=t[g]}var H=new Uint32Array(W);
for(var g=0;g<W;g++){var y=M[g];H[r[y]]=g;r[y]++}var f=new UnionFind($),b=new Uint16Array($),K=new Uint32Array($);
for(var g=0;g<$;g++)K[g]=1;var Z=$,J=1e5/(L*10);for(var u=0;u<W;u++){var C=H[u],Q=M[C];if(Q==65535)continue;
var g=C>>1,i=g+((C&1)==0?1:R),j=f.find(g),V=f.find(i),E=Math.min(b[j]+J/Math.sqrt(K[j]),b[V]+J/Math.sqrt(K[V]));
if(j!=V&&Q<=E){f.link(g,i);Z--;var N=f.find(g);K[N]=K[j]+K[V];b[N]=Q}}var n=[],a={},I=new Uint16Array($);
for(var g=0;g<$;g++){var N=f.find(g),q=a[N];if(q==null){a[N]=q=n.length;n.push({$m:0,Ql:[0,0,0,0]})}n[q].$m++;
for(var i=0;i<4;i++)n[q].Ql[i]+=h[(g<<2)+i];I[g]=q}var k=new Uint32Array(n.length);for(var g=0;g<n.length;
g++){var q=n[g];for(var i=0;i<4;i++)q.Ql[i]=Math.round(q.Ql[i]/q.$m);k[g]=q.Ql[3]<<24|q.Ql[2]<<16|q.Ql[1]<<8|q.Ql[0]}return{eV:I,Og:n,zOB:k}};
z.Cg.zeH=function(h,R,d){var L=new Uint16Array(R*d*2);for(var $=0;$<d;$++)for(var W=0;W<R;W++){var M=$*R+W;
L[M+M]=W<R-1?z.Cg.Ey(h,M,M+1):65535;L[M+M+1]=$<d-1?z.Cg.Ey(h,M,M+R):65535}return L};z.Cg.Ey=function(h,R,d){var L=R<<2,$=d<<2,W=h[L],M=h[L+1],x=h[L+2],t=h[L+3],g=h[$],r=h[$+1],l=h[$+2],H=h[$+3],y=W-g,f=M-r,b=x-l,K=t-H;
return y*y+f*f+b*b+K*K>>2};z.Cg.EV=function(){function h(Z,J,u,C,Q,i){var j=[],V=i,E=i,N=i>>>2;for(var n=0;
n<Q;n++)for(var a=0;a<C;a++){var I=~~((a+.5)*V),q=~~((n+.5)*E),k=1e9,F=Math.max(0,I-N),o=Math.min(J,I+N+1),G=Math.max(0,q-N),w=Math.min(u,q+N+1);
for(var U=G;U<w;U++)for(var B=F;B<o;B++){var D=R(Z,J,B,U);if(D<k){I=B;q=U;k=D}}var P=(q*J+I)*4;j.push(Z[P],Z[P+1],Z[P+2],I,q)}return j}function R(Z,J,u,C){var Q=(C*J+u)*4,i=J*4,j=d(Z,Q-4,Q)+d(Z,Q,Q+4),V=d(Z,Q-i,Q)+d(Z,Q,Q+i);
return j+V}function d(Z,J,u){var C=Z[J]-Z[u],Q=Z[J+1]-Z[u+1],i=Z[J+2]-Z[u+2];return C*C+Q*Q+i*i}var L=0,$=0;
function W(Z,J,u,C){$++;if(C<L)L=C;Z[C].push(J,u)}function M(Z){$--;while(Z[L].length==0)L++}function x(Z,J,u){L=0;
$=0;var C=J*u,Q=Math.round(Math.min(J,u)/50),i=30/Q,j=Math.floor(J/Q),V=Math.floor(u/Q),E=j*V,k=0,F=16;
if(E>65535)throw"e";var N=new Uint16Array(C);for(var n=0;n<C;n++)N[n]=65535;var a=h(Z,J,u,j,V,Q),I=[];
for(var n=0;n<1e3+u;n++)I.push([]);var q=[0,1,0,-1,-1,0,1,0],o=Math.min(V,5),G=new Uint32Array(E*6);
for(var w=0;w<V;w+=o){var U=Math.min(w+o+1,V);for(var B=w;B<U;B++)for(var D=0;D<j;D++){var n=B*j+D,P=n*5,v=a[P+4]<<16|a[P+3];
W(I,v,n,a[P+4]>>>F)}var O=Math.min(u,U*Q);if(w+o>=V)O=u;while($!=0){M(I);var uk=I[L].pop(),ut=I[L].pop(),ua=ut>>>16,uu=ut&65535,n=ua*J+uu;
if(N[n]==65535){var uW=uk*6,kV=n<<2;N[n]=uk;G[uW]+=Z[kV];G[uW+1]+=Z[kV+1];G[uW+2]+=Z[kV+2];G[uW+3]+=uu;
G[uW+4]+=ua;G[uW+5]++;var p=ua>>>F;if(ua!=O-1&&N[n+J]==65535)W(I,ua+1<<16|uu,uk,t(Z,J,i,uu,ua+1,G,uW)+p);
if(ua!=0&&N[n-J]==65535)W(I,ua-1<<16|uu,uk,t(Z,J,i,uu,ua-1,G,uW)+p);if(uu!=0&&N[n-1]==65535)W(I,ua<<16|uu-1,uk,t(Z,J,i,uu-1,ua,G,uW)+p);
if(uu!=J-1&&N[n+1]==65535)W(I,ua<<16|uu+1,uk,t(Z,J,i,uu+1,ua,G,uW)+p)}}if(O!=ua){var _=(w+o)*j;G.fill(0,_*6,(_+j)*6);
for(var ua=(w+o-2)*Q;ua<O;ua++)for(var uu=0;uu<J;uu++){var n=ua*J+uu;if(N[n]>=_){N[n]=65535}}}}return{eV:N,mT:E,PW:G}}z.Cg.Ez=function(Z,J,u,C,Q){var i=Z.mT,j=J*u,V=Z.PW,E=Z.eV,N=y(C,E,i,j),n=new UnionFind(i),G=0;
for(var a=1;a<u;a++)for(var I=1;I<J;I++){var q=a*J+I,k=E[q],F=0;if((F=E[q-1])!=k&&N[F]==N[k]&&g(V,0,k*6,F*6)<Q)n.link(k,F);
if((F=E[q-J])!=k&&N[F]==N[k]&&g(V,0,k*6,F*6)<Q)n.link(k,F)}var o=new Uint16Array(i);o.fill(65535);var w=new Uint16Array(i);
for(var q=0;q<i;q++){var U=n.find(q);if(o[U]==65535)o[U]=G++;w[q]=o[U]}var B=new Uint16Array(j);for(var q=0;
q<j;q++)B[q]=w[E[q]];return{eV:B,mT:G}};z.Cg.zOk=function(Z,J,u,C){var Q=z.h(u),i=J.length,j=0;for(var V=0;
V<i&&j!=3;V++){var E=C[V];if(E==0||E==255){var N=J[V],n=2-(E>>>7);Q[N]=j=Q[N]|n}}return j!=3};function t(Z,J,u,C,Q,i,j){var V=(Q*J+C)*4,E=i[j+5],N=1/E,n=Z[V]*E-i[j],a=Z[V+1]*E-i[j+1],I=Z[V+2]*E-i[j+2],q=C*E-i[j+3],k=Q*E-i[j+4],F=Math.sqrt(n*n+a*a+I*I),o=Math.sqrt(q*q+k*k);
return~~((F+u*o)*N+.5)}function g(Z,J,u,C){var Q=1/Z[u+5],i=1/Z[C+5],j=Z[u]*Q-Z[C]*i,V=Z[u+1]*Q-Z[C+1]*i,E=Z[u+2]*Q-Z[C+2]*i,N=Z[u+3]*Q-Z[C+3]*i,n=Z[u+4]*Q-Z[C+4]*i,a=Math.sqrt(j*j+V*V+E*E),I=Math.sqrt(N*N+n*n);
return~~(a+J*I+.5)}function r(Z,J,u){var C=z.Yw(Z,new A(0,0,J,u)),Q=C.rect.k,i=C.rect.$,j=x(C.tP,Q,i),V=j.eV,E=Date.now(),N=new Uint16Array(J*u);
N.fill(65535);for(var n=0;n<i;n++){for(var a=0;a<Q;a++){var I=n*Q+a,q=(n<<1)*J+(a<<1),k=V[I];if(V[I-Q]!=k||V[I-1]!=k||V[I+1]!=k||V[I+Q]!=k)k=65535;
N[q]=k;N[q+1]=k;N[q+J]=k;N[q+J+1]=k}}j.eV=N;return j}function l(Z,J){var u=0,C=Z.length;while(u!=C&&Z[u]!=J)u+=2;
return u==C?-1:u}function H(Z,J){if(J==Z.length-2){Z.pop();Z.pop()}else{Z[J+1]=Z.pop();Z[J]=Z.pop()}}z.Cg.zOA=function(Z,J,u,C,Q){var i=new Uint32Array(Q*4400),R=[];
for(var j=0;j<Q;j++)R.push([]);for(var V=0;V<u;V++)for(var E=0;E<J;E++){var j=V*J+E,N=j<<2,n=C[j],a=0,I=Z[N]>>>4,q=Z[N+1]>>>4,k=Z[N+2]>>>4;
i[n*4400+(I<<8|q<<4|k)]++;i[n*4400+4096]++;i[n*4400+4100+(I<<4|q)]++;i[n*4400+4360+I]++;if(E!=0&&(a=C[j-1])!=n&&l(R[n],a)==-1){R[n].push(a,0);
R[a].push(n,0)}if(V!=0&&(a=C[j-J])!=n&&l(R[n],a)==-1){R[n].push(a,0);R[a].push(n,0)}}for(var j=0;j<Q;
j++){var k=R[j];for(var F=0;F<k.length;F+=2)k[F+1]=K(i,j,k[F])}return[i,R]};function y(Z,J,u,C){var Q=z.h(u);
for(var i=0;i<C;i++){var j=Z[i];if(j==0||j==255)Q[J[i]]=2-(j>>>7)}return Q}z.Cg.zOO=function(Z,J,u,C,Q,i,j){var V=J*u,E=j[0],R=j[1],N=new UnionFind(C),n=y(Q,Z,C,V),a=-1,q=!0,k=0;
for(var I=0;I<C;I++)if(n[I]==1){if(a==-1)a=I;else N.link(I,a)}if(a==-1){for(var I=0;I<V;I++)i[I]=Q[I]==255?255:0;
return}while(q){while(q){q=!1;for(var I=0;I<C;I++){if(n[I]==0){var F=f(R[I]);if(n[F]==1){n[I]=n[F];q=!0;
N.link(I,F)}}}}q=!0;k=0;while(q){q=!1;for(var I=0;I<C;I++){if(n[I]==0){var F=f(R[I]);if(n[F]==0){var o=I*4400,G=F*4400;
for(var w=0;w<4400;w+=2){E[o+w]+=E[G+w];E[o+w+1]+=E[G+w+1]}b(R,E,I,F);k++;n[F]=3;q=!0;N.link(I,F)}}}}q=k!=0}var U=N.find(a);
for(var I=0;I<C;I++)n[I]=N.find(I)==U?255:0;for(var I=0;I<V;I++){i[I]=n[Z[I]]}for(var I=0;I<V;I++){var F=Q[I];
if(F==0||F==255)i[I]=F}};function f(Z){var J=0,u=0,C=Z.length;for(var Q=0;Q<C;Q+=2){var i=Z[Q+1];if(i>u){u=i;
J=Q}}return Z[J]}function b(R,Z,J,u){var C=R[J],Q=R[u];H(C,l(C,u));H(Q,l(Q,J));for(var i=0;i<Q.length;
i+=2){var j=Q[i],V=R[j];H(V,l(V,u));if(l(V,J)==-1){V.push(J,0);C.push(j,0)}}for(var i=0;i<C.length;i+=2){var j=C[i],V=R[j],E=K(Z,J,j);
C[i+1]=E;V[l(V,J)+1]=E}}function K(Z,J,u){var C=0,Q=4096,i=J*4400,j=u*4400;for(var V=0;V<16;V++){if(Z[i+4360+V]==0||Z[j+4360+V]==0)continue;
for(var E=0;E<16;E++){var N=V<<4|E;if(Z[i+4100+N]==0||Z[j+4100+N]==0)continue;var n=i+(N<<4),a=j+(N<<4);
for(var I=0;I<16;I++)C+=Math.sqrt(Z[n+I]*Z[a+I])}}var q=C/Math.sqrt(Z[i+Q]*Z[j+Q]);return~~(999.99999*q)}return x}();
var kn=function(){function h(){this.s=0;this._E=0;this.hE={};this.t$=[];this.o$=1e5;this.ox=1e5;this.oJ=-1;
this.oy=-1;this.color=0}function R($){this.he=$;this.jY=new Array($);this.DS=new Array($*6);this.zui=0;
this.Of=new Array($*2);this.alpha=new Array($);this.oc=new Array($);this.ca=new Array($)}function d($,W,M,x){function t(Z,J,$,W){return $[W*J+Z]}function g(K){var V=$.length;
while(K<V&&$[K]==0)K++;return K<V?K:-1}function r(Z,J,V){for(var K=2;K<5;K++){var E=0;for(var N=-K+1;
N<=K-1;N++){E+=t(Z+N,J+K-1,$,W)==V?1:-1;E+=t(Z+K-1,J+N-1,$,W)==V?1:-1;E+=t(Z+N-1,J-K,$,W)==V?1:-1;E+=t(Z-K,J+N,$,W)==V?1:-1}if(E>0)return 1;
else if(E<0)return 0}return 0}function l(V,f){var b=new h,Z=V,J=f,E=0,N=1,n;b.color=$[f*W+V];b.sign=t(V,f,$,W)==b.color?"+":"-";
while(1){b.t$.push(Z,J);if(Z>b.oJ)b.oJ=Z;if(Z<b.o$)b.o$=Z;if(J>b.oy)b.oy=J;if(J<b.ox)b.ox=J;b._E++;Z+=E;
J+=N;b.s-=Z*N;if(Z==V&&J==f)break;var a=t(Z+(E+N-1>>1),J+(N-E-1>>1),$,W)==b.color,I=t(Z+(E-N-1>>1),J+(N+E-1>>1),$,W)==b.color;
if(I&&!a){if(x.Ph=="right"||x.Ph=="black"&&b.sign=="+"||x.Ph=="white"&&b.sign=="-"||x.Ph=="majority"&&r(Z,J,b.color)||x.Ph=="minority"&&!r(Z,J,b.color)){n=E;
E=-N;N=n}else{n=E;E=N;N=-n}}else if(I){n=E;E=-N;N=n}else if(!a){n=E;E=N;N=-n}}return b}var H=0,y=[];
while(!0){var H=g(H);if(H==-1)break;var f=Math.floor(H/W),b=l(H-f*W,f);for(var K=0;K<b.t$.length-2;K+=2){var Z=b.t$[K],J=b.t$[K+1],u=J*W+Z;
if(Z==b.t$[K+2]&&J+1==b.t$[K+3]&&$[u]!=0)kn.fill(u,$,W,0)}if(b.s>x.zOU)y.push(b)}for(var K=0;K<y.length;
K++)y[K].parent=-1;var C=Date.now();for(var K=1;K<y.length;K++){var Q=y[K];for(var i=K-1;i>=0;i--){var j=y[i];
if(Q.o$<j.o$||Q.oJ>j.oJ||Q.ox<j.ox||Q.oy>j.oy)continue;if(!kn.zik(j.t$,Q.t$[0]+.5,Q.t$[1]+.5))continue;
Q.parent=i;break}}return y}function L($,W){function M(E,N,n,a,I){this.x=E;this.y=N;this.bu=n;this.bD=a;
this.bL=I}function x(E,N){return(N+E)%N}function t(E,N,n,a){return E*a-n*N}function g(E,N,n,a){return E*n+N*a}function r(E,N,n){if(E<=n)return E<=N&&N<n;
else return E<=N||N<n}function l(E,N,n){var a=0;a+=N*E[0]*N;a+=N*E[1]*n;a+=N*E[2];a+=n*E[3]*N;a+=n*E[4]*n;
a+=n*E[5];a+=E[6]*N;a+=E[7]*n;a+=E[8];return a}function H(E,N,n){return N+E*(n-N)}function y(E,N,n,a){var I=Math.sign(n-E),q=-Math.sign(a-N);
return I*(n-E)-q*(a-N)}function f(E,N){return Math.sqrt(E*E+N*N)}function b(E,N,n,a,I){var q=1-E;return q*q*q*N+3*(q*q*E)*n+3*(E*E*q)*a+E*E*E*I}function K(E,N,n,a,I,q,k,F){var o=t(E,N,k,F),G=t(n,a,k,F),w=t(I,q,k,F),U=o-2*G+w,B=-2*o+2*G,D=o,P=B*B-4*U*D;
if(U==0||P<0)return-1;var v=Math.sqrt(P),O=(-B+v)/(2*U),uk=(-B-v)/(2*U);if(O>=0&&O<=1)return O;else if(uk>=0&&uk<=1)return uk;
else return-1}function Z(V){var j,E,N;V.Pq=V.t$[0];V.zOZ=V.t$[1];V.Jn=[];var n=V.Jn;n.push(new M(0,0,0,0,0));
for(j=0;j<V._E;j++){E=V.t$[j<<1]-V.Pq;N=V.t$[(j<<1)+1]-V.zOZ;n.push(new M(n[j].x+E,n[j].y+N,n[j].bu+E*N,n[j].bD+E*E,n[j].bL+N*N))}}function J(V){var E=V._E,N=V.t$,n,a=new Array(E),I=new Array(E),q=new Array(4),k,F,o,G,w,U,B,D,P,v,O,j,uk,ut,ua,uu,uW,kV,p=0;
V.PE=new Array(E);for(j=E-1;j>=0;j--){if(N[j<<1]!=N[p<<1]&&N[(j<<1)+1]!=N[(p<<1)+1])p=j+1;I[j]=p}for(j=E-1;
j>=0;j--){var _=x(j+1,E)<<1;q[0]=q[1]=q[2]=q[3]=0;n=(3+3*(N[_]-N[j<<1])+(N[_+1]-N[(j<<1)+1]))/2;q[n]++;
k=0;F=0;o=0;G=0;p=I[j];ut=j;while(1){O=0;n=(3+3*Math.sign(N[p*2]-N[ut*2])+Math.sign(N[p*2+1]-N[ut*2+1]))/2;
q[n]++;if(q[0]&&q[1]&&q[2]&&q[3]){a[j]=ut;O=1;break}P=N[p*2]-N[j*2];v=N[p*2+1]-N[j*2+1];if(t(k,F,P,v)<0||t(o,G,P,v)>0){break}if(Math.abs(P)<=1&&Math.abs(v)<=1){}else{w=P+(v>=0&&(v>0||P<0)?1:-1);
U=v+(P<=0&&(P<0||v<0)?1:-1);if(t(k,F,w,U)>=0){k=w;F=U}w=P+(v<=0&&(v<0||P<0)?1:-1);U=v+(P>=0&&(P>0||v<0)?1:-1);
if(t(o,G,w,U)<=0){o=w;G=U}}ut=p;p=I[ut];if(!r(p,j,ut)){break}}if(O==0){B=Math.sign(N[p*2]-N[ut*2]);D=Math.sign(N[p*2+1]-N[ut*2+1]);
P=N[ut*2]-N[j*2];v=N[ut*2+1]-N[j*2+1];ua=t(k,F,P,v);uu=t(k,F,B,D);uW=t(o,G,P,v);kV=t(o,G,B,D);uk=1e7;
if(uu<0){uk=Math.floor(ua/-uu)}if(kV>0){uk=Math.min(uk,Math.floor(-uW/kV))}a[j]=x(ut+uk,E)}}uk=a[E-1];
V.PE[E-1]=uk;for(j=E-2;j>=0;j--){if(r(j+1,a[j],uk)){uk=a[j]}V.PE[j]=uk}for(j=E-1;r(x(j+1,E),uk,V.PE[j]);
j--){V.PE[j]=uk}}function u(V){function E(V,j,N){var I=V._E,P=V.t$,v=V.Jn,O,uk,ut,ua,uu,a,uW,kV,D,p,_,uB,ub,uq,uF=0;
if(N>=I){N-=I;uF=1}if(uF==0){O=v[N+1].x-v[j].x;uk=v[N+1].y-v[j].y;ua=v[N+1].bD-v[j].bD;ut=v[N+1].bu-v[j].bu;
uu=v[N+1].bL-v[j].bL;a=N+1-j}else{O=v[N+1].x-v[j].x+v[I].x;uk=v[N+1].y-v[j].y+v[I].y;ua=v[N+1].bD-v[j].bD+v[I].bD;
ut=v[N+1].bu-v[j].bu+v[I].bu;uu=v[N+1].bL-v[j].bL+v[I].bL;a=N+1-j+I}_=(P[j<<1]+P[N<<1])/2-P[0];uB=(P[(j<<1)+1]+P[(N<<1)+1])/2-P[1];
uq=P[N<<1]-P[j<<1];ub=-(P[(N<<1)+1]-P[(j<<1)+1]);uW=(ua-2*O*_)/a+_*_;kV=(ut-O*uB-uk*_)/a+_*uB;D=(uu-2*uk*uB)/a+uB*uB;
p=ub*ub*uW+2*ub*uq*kV+uq*uq*D;return Math.sqrt(p)}var j,N,n,a,I=V._E,q=new Array(I+1),k=new Array(I+1),F=new Array(I),o=new Array(I+1),G=new Array(I+1),w=new Array(I+1),U,B,D;
for(j=0;j<I;j++){D=x(V.PE[x(j-1,I)]-1,I);if(D==j){D=x(j+1,I)}if(D<j){F[j]=I}else{F[j]=D}}N=1;for(j=0;
j<I;j++){while(N<=F[j]){o[N]=j;N++}}j=0;for(N=0;j<I;N++){G[N]=j;j=F[j]}G[N]=I;n=N;j=I;for(N=n;N>0;N--){w[N]=j;
j=o[j]}w[0]=0;q[0]=0;for(N=1;N<=n;N++){for(j=w[N];j<=G[N];j++){B=-1;for(a=G[N-1];a>=o[j];a--){U=E(V,a,j)+q[a];
if(B<0||U<B){k[j]=a;B=U}}q[j]=B}}V.Ka=n;V.zgC=new Array(n);for(j=I,N=n-1;j>0;N--){j=k[j];V.zgC[N]=j}}function C(V){function E(V,j,U,F,o,ue){var a=V._E,up=V.Jn,ui=0,D;
while(U>=a){U-=a;ui+=1}while(j>=a){j-=a;ui-=1}while(U<0){U+=a;ui-=1}while(j<0){j+=a;ui+=1}var zd=up[U+1].x-up[j].x+ui*up[a].x,uN=up[U+1].y-up[j].y+ui*up[a].y,u_=up[U+1].bD-up[j].bD+ui*up[a].bD,za=up[U+1].bu-up[j].bu+ui*up[a].bu,uZ=up[U+1].bL-up[j].bL+ui*up[a].bL,B=U+1-j+ui*a;
F[ue]=zd/B;F[ue+1]=uN/B;var uj=(u_-zd*zd/B)/B,uw=(za-zd*uN/B)/B,tI=(uZ-uN*uN/B)/B,ug=(uj+tI+Math.sqrt((uj-tI)*(uj-tI)+4*uw*uw))/2;
uj-=ug;tI-=ug;if(Math.abs(uj)>=Math.abs(tI)){D=Math.sqrt(uj*uj+uw*uw);if(D!=0){o[ue]=-uw/D;o[ue+1]=uj/D}}else{D=Math.sqrt(tI*tI+uw*uw);
if(D!=0){o[ue]=-tI/D;o[ue+1]=uw/D}}if(D==0){o[ue]=o[ue+1]=0}}var N=V.Ka,n=V.zgC,a=V._E,I=V.t$,q=V.Pq,k=V.zOZ,F=new Array(N*2),o=new Array(N*2),G=new Array(N),w=new Array(3),j,U,B,D,uk,ut,ua,uu,uW,kV,p;
V.hE=new R(N);for(j=0;j<N;j++){U=n[x(j+1,N)];U=x(U-n[j],a)+n[j];F[j<<1]=0;F[(j<<1)+1]=0;o[j<<1]=0;o[(j<<1)+1]=0;
E(V,n[j],U,F,o,j<<1)}for(j=0;j<N;j++){G[j]=[0,0,0,0,0,0,0,0,0];var P=o[j<<1]*o[j<<1]+o[(j<<1)+1]*o[(j<<1)+1],v=1/P;
if(P!=0){w[0]=o[(j<<1)+1];w[1]=-o[j<<1];w[2]=-w[1]*F[(j<<1)+1]-w[0]*F[j<<1];for(D=0;D<3;D++){G[j][D*3+0]=w[D]*w[0]*v;
G[j][D*3+1]=w[D]*w[1]*v;G[j][D*3+2]=w[D]*w[2]*v}}}var O=[0,0,0,0,0,0,0,0,0];for(j=0;j<N;j++){O[0]=O[1]=O[2]=O[3]=O[4]=O[5]=O[6]=O[7]=O[8]=O[9]=0;
var _=I[n[j]<<1]-q,uB=I[(n[j]<<1)+1]-k,ub=0,uq=0;U=x(j-1,N);for(D=0;D<9;D+=3){O[D+0]=G[U][D+0]+G[j][D+0];
O[D+1]=G[U][D+1]+G[j][D+1];O[D+2]=G[U][D+2]+G[j][D+2]}while(1){var uF=O[0]*O[4]-O[1]*O[3];if(uF!=0){ub=(-O[2]*O[4]+O[5]*O[0])/uF;
uq=(O[2]*O[3]-O[5]*O[0])/uF;break}if(O[0]>O[4]){w[0]=-O[1];w[1]=O[0]}else if(O[4]){w[0]=-O[4];w[1]=O[3]}else{w[0]=1;
w[1]=0}var P=w[0]*w[0]+w[1]*w[1],v=1/P;w[2]=-w[1]*uB-w[0]*_;for(D=0;D<3;D++){O[D*3+0]+=w[D]*w[0]*v;O[D*3+1]+=w[D]*w[1]*v;
O[D*3+2]+=w[D]*w[2]*v}}uk=Math.abs(ub-_);ut=Math.abs(uq-uB);if(uk<=.5&&ut<=.5){V.hE.Of[j<<1]=ub+q;V.hE.Of[(j<<1)+1]=uq+k;
continue}ua=l(O,_,uB);uW=_;kV=uB;if(O[0]!=0){for(p=0;p<2;p++){uq=uB-.5+p;ub=-(O[1]*uq+O[2])/O[0];uk=Math.abs(ub-_);
uu=l(O,ub,uq);if(uk<=.5&&uu<ua){ua=uu;uW=ub;kV=uq}}}if(O[4]!=0){for(p=0;p<2;p++){ub=_-.5+p;uq=-(O[3]*ub+O[5])/O[4];
ut=Math.abs(uq-uB);uu=l(O,ub,uq);if(ut<=.5&&uu<ua){ua=uu;uW=ub;kV=uq}}}for(D=0;D<2;D++){for(B=0;B<2;
B++){ub=_-.5+D;uq=uB-.5+B;uu=l(O,ub,uq);if(uu<ua){ua=uu;uW=ub;kV=uq}}}V.hE.Of[j<<1]=uW+q;V.hE.Of[(j<<1)+1]=kV+k}}function Q(V){var E=V.hE.he,N=V.hE,j,n,a,I,q,k,F,o,G;
for(j=0;j<E;j++){n=x(j+1,E);a=x(j+2,E);var w=N.Of[j<<1],U=N.Of[(j<<1)+1],B=N.Of[a<<1],D=N.Of[(a<<1)+1],P=N.Of[n<<1],v=N.Of[(n<<1)+1],O=H(.5,B,P),uk=H(.5,D,v);
q=y(w,U,B,D);if(q!=0){I=t(P-w,v-U,B-w,D-U)/q;I=Math.abs(I);k=I>1?1-1/I:0;k=k*(1/.75)}else{k=4/3}N.oc[n]=k;
var ut=3*n<<1;if(k>=W.zOf){N.jY[n]=0;N.DS[ut+0]=N.DS[ut+1]=0;N.DS[ut+2]=P;N.DS[ut+3]=v;N.DS[ut+4]=O;
N.DS[ut+5]=uk}else{if(k<.55){k=.55}else if(k>1){k=1}var ua=.5+.5*k;N.jY[n]=1;N.DS[ut]=H(ua,w,P);N.DS[ut+1]=H(ua,U,v);
N.DS[ut+2]=H(ua,B,P);N.DS[ut+3]=H(ua,D,v);N.DS[ut+4]=O;N.DS[ut+5]=uk}N.alpha[n]=k;N.ca[n]=.5}N.zga=1}function i(V){function E(){this.Pi=0;
this.Jx=0;this.JR=0;this.JL=0;this.JJ=0;this.BA=0;this.ix=0;this.alpha=0}function N(V,j,w,uO,uC,uu,uW){var a=V.hE.he,ux=V.hE.DS,zu=V.hE.Of;
if(j==w)return 1;var uL=j,P=x(j+1,a),un=x(uL+1,a),u_=zu[j<<1],za=zu[(j<<1)+1],us=zu[P<<1],Wa=zu[(P<<1)+1],Wt=uu[un];
if(Wt==0)return 1;var uV=f(u_-us,za-Wa);for(uL=un;uL!=w;uL=un){var un=x(uL+1,a),zZ=x(uL+2,a),uU=zu[un<<1],zI=zu[(un<<1)+1],uG=zu[zZ<<1],WW=zu[(zZ<<1)+1];
if(uu[un]!=Wt)return 1;if(Math.sign(t(us-u_,Wa-za,uG-uU,WW-zI))!=Wt)return 1;if(g(us-u_,Wa-za,uG-uU,WW-zI)<uV*f(uU-uG,zI-WW)*-.999847695156)return 1}var Wq=x(j,a)*3+2<<1,uH=x(j+1,a)<<1,Wp=x(w,a)<<1,tD=x(w,a)*3+2<<1,uF=ux[Wq],ue=ux[Wq+1],zF=zu[uH],zO=zu[uH+1],Wr=zu[Wp],z_=zu[Wp+1],Wz=ux[tD],Me=ux[tD+1],kV=zu[0],p=zu[1];
Wq=w*3+2<<1;var zp=ux[Wq],MB=ux[Wq+1],v=uW[w]-uW[j];v-=t(zp-kV,MB-p,zp-kV,MB-p)/2;if(j>=w){v+=uW[a]}var Wj=zF-uF,WA=zO-ue,MA=Wr-uF,zi=z_-ue,MR=Wz-uF,uv=Me-ue,zM=t(Wj,WA,MA,zi),hZ=t(Wj,WA,MR,uv),zr=t(MA,zi,MR,uv),tA=zM+zr-hZ;
if(hZ==zM)return 1;var ua=zr/(zr-tA),ut=hZ/(hZ-zM),zA=hZ*ua/2;if(zA==0)return 1;var tj=v/zA,O=2-Math.sqrt(4-tj/.3);
uO.Jx=H(ua*O,uF,zF);uO.JR=H(ua*O,ue,zO);uO.JL=H(ut*O,Wz,Wr);uO.JJ=H(ut*O,Me,z_);uO.alpha=O;uO.BA=ua;
uO.ix=ut;zF=uO.Jx;zO=uO.JR;Wr=uO.JL;z_=uO.JJ;uO.Pi=0;for(uL=x(j+1,a);uL!=w;uL=un){un=x(uL+1,a);var Md=zu[uL<<1],MI=zu[(uL<<1)+1],uU=zu[un<<1],zI=zu[(un<<1)+1];
ua=K(zF-uF,zO-ue,Wr-zF,z_-zO,Wz-Wr,Me-z_,uU-Md,zI-MI);if(ua<-.5)return 1;var WD=b(ua,uF,zF,Wr,Wz),zD=b(ua,ue,zO,z_,Me),uV=f(uU-Md,zI-MI);
if(uV==0)return 1;var kJ=t(uU-Md,zI-MI,WD-Md,zD-MI)/uV;if(Math.abs(kJ)>uC)return 1;if(g(uU-Md,zI-MI,WD-Md,zD-MI)<0||g(Md-uU,MI-zI,WD-uU,zD-zI)<0){return 1}uO.Pi+=kJ*kJ}for(uL=j;
uL!=w;uL=un){un=x(uL+1,a);var Wq=uL*3+2<<1,uH=un*3+2<<1,tK=ux[Wq],WK=ux[Wq+1],WV=ux[uH],WT=ux[uH+1];
ua=K(zF-uF,zO-ue,Wr-zF,z_-zO,Wz-Wr,Me-z_,WV-tK,WT-WK);if(ua<-.5)return 1;var WD=b(ua,uF,zF,Wr,Wz),zD=b(ua,ue,zO,z_,Me),uV=f(WV-tK,WT-WK);
if(uV==0)return 1;var kJ=t(WV-tK,WT-WK,WD-tK,zD-WK)/uV,MO=t(WV-tK,WT-WK,zu[un<<1]-tK,zu[(un<<1)+1]-WK)/uV;
MO*=.75*V.hE.alpha[un];if(MO<0){kJ=-kJ;MO=-MO}if(kJ<MO-uC)return 1;if(kJ<MO){uO.Pi+=(kJ-MO)*(kJ-MO)}}return 0}var n=V.hE,a=n.he,I=n.Of,q=new Array(a+1),k=new Array(a+1),F=new Array(a+1),o=new Array(a+1),G,j,w,U,B=new E,D,P,v,O,uk,ut,ua,uu=new Array(a),uW=new Array(a+1);
for(j=0;j<a;j++){if(n.jY[j]=="CURVE"){var kV=I[x(j-1,a)<<1],p=I[(x(j-1,a)<<1)+1],_=I[j<<1],uB=I[(j<<1)+1],ub=I[x(j+1,a)<<1],uq=I[(x(j+1,a)<<1)+1];
uu[j]=Math.sign(t(_-kV,uB-p,ub-_,uq-uB))}else{uu[j]=0}}v=0;uW[0]=0;var uF=n.Of[0],ue=n.Of[1];for(j=0;
j<a;j++){P=x(j+1,a);if(n.jY[P]=="CURVE"){O=n.alpha[P];var up=j*3+2<<1,ui=P*3+2<<1,zd=n.DS[up],uN=n.DS[up+1],u_=I[P<<1],za=I[(P<<1)+1],uZ=n.DS[ui],uj=n.DS[ui+1];
v+=.3*O*(4-O)*t(u_-zd,za-uN,uZ-zd,uj-uN)/2;v+=t(zd-uF,uN-ue,uZ-uF,uj-ue)/2}uW[j+1]=v}q[0]=-1;k[0]=0;
F[0]=0;for(w=1;w<=a;w++){q[w]=w-1;k[w]=k[w-1];F[w]=F[w-1]+1;for(j=w-2;j>=0;j--){U=N(V,j,x(w,a),B,W.zgu,uu,uW);
if(U){break}if(F[w]>F[j]+1||F[w]==F[j]+1&&k[w]>k[j]+B.Pi){q[w]=j;k[w]=k[j]+B.Pi;F[w]=F[j]+1;o[w]=B;B=new E}}}G=F[a];
uk=new R(G);ut=new Array(G);ua=new Array(G);w=a;for(j=G-1;j>=0;j--){var uw=x(w,a),tI=j*3+0<<1,ug=uw*3+0<<1;
if(q[w]==w-1){uk.jY[j]=n.jY[uw];uk.DS[tI]=n.DS[ug];uk.DS[tI+1]=n.DS[ug+1];uk.DS[tI+2]=n.DS[ug+2];uk.DS[tI+3]=n.DS[ug+3];
uk.DS[tI+4]=n.DS[ug+4];uk.DS[tI+5]=n.DS[ug+5];uk.Of[j<<1]=n.Of[uw<<1];uk.Of[(j<<1)+1]=n.Of[(uw<<1)+1];
uk.alpha[j]=n.alpha[uw];uk.oc[j]=n.oc[uw];uk.ca[j]=n.ca[uw];ut[j]=ua[j]=1}else{uk.jY[j]="CURVE";uk.DS[tI]=o[w].Jx;
uk.DS[tI+1]=o[w].JR;uk.DS[tI+2]=o[w].JL;uk.DS[tI+3]=o[w].JJ;uk.DS[tI+4]=n.DS[ug+4];uk.DS[tI+5]=n.DS[ug+5];
uk.Of[j<<1]=H(o[w].ix,n.DS[ug+4],I[uw<<1]);uk.Of[(j<<1)+1]=H(o[w].ix,n.DS[ug+5],I[(uw<<1)+1]);uk.alpha[j]=o[w].alpha;
uk.oc[j]=o[w].alpha;ut[j]=o[w].ix;ua[j]=o[w].BA}w=q[w]}for(j=0;j<G;j++){P=x(j+1,G);uk.ca[j]=ut[j]/(ut[j]+ua[P])}uk.zga=1;
V.hE=uk}for(var j=0;j<$.length;j++){var V=$[j];Z(V);J(V);u(V);C(V);Q(V);if(W.zOX)i(V)}}return{zOg:d,zOI:L}}();
kn.E_=function(h,R,d,L){var $={Ph:"minority",zOU:L,zOX:!0,zOf:1,zgu:.2},W=kn.zOg(h,R,d,$);kn.zOI(W,$);
return W};kn.lH=function(h){var R=[];for(var d=0;d<h.length;d++){var L=h[d],$=L.hE,W=["M"],M=[$.DS[($.he-1)*6+4],$.DS[($.he-1)*6+5]];
for(var x=0;x<$.he;x++){var t=x*6;if($.jY[x]==1){W.push("C");for(var g=0;g<6;g++)M.push($.DS[t+g])}else if($.jY[x]==0){W.push("L");
for(var g=2;g<4;g++)M.push($.DS[t+g])}}W.push("Z");R.push({parent:L.parent,color:L.color,path:{B:M,D:W}})}return R};
kn.zwM=function(h,R,d,L,$){function W(b){function K(t){var f="C "+(b.DS[t*3+0<<1]*R).toFixed(1)+" "+(b.DS[(t*3+0<<1)+1]*R).toFixed(1)+",";
f+=(b.DS[t*3+1<<1]*R).toFixed(1)+" "+(b.DS[(t*3+1<<1)+1]*R).toFixed(1)+",";f+=(b.DS[t*3+2<<1]*R).toFixed(1)+" "+(b.DS[(t*3+2<<1)+1]*R).toFixed(1)+" ";
return f}function Z(t){var C="L "+(b.DS[t*3+1<<1]*R).toFixed(1)+" "+(b.DS[(t*3+1<<1)+1]*R).toFixed(1)+" ";
C+=(b.DS[t*3+2<<1]*R).toFixed(1)+" "+(b.DS[(t*3+2<<1)+1]*R).toFixed(1)+" ";return C}var J=b.he,t,u="M"+(b.DS[(J-1)*3+2<<1]*R).toFixed(1)+" "+(b.DS[((J-1)*3+2<<1)+1]*R).toFixed(1)+" ";
for(t=0;t<J;t++){if(b.jY[t]==1){u+=K(t)}else if(b.jY[t]==0){u+=Z(t)}}return u}var d=d*R,L=L*R,M=h.length,x=[];
for(var t=0;t<256;t++)x.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var g="<svg id=\"svg\" version=\"1.1\" width=\""+d+"\" height=\""+L+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var t=0;t<M;t++){var r=$[h[t].color-1].zuJ.sD;if((r>>>24&255)==0)continue;g+="<path d=\"";var l=h[t].hE;
g+=W(l);var H=r>>0&255,y=r>>8&255,f=r>>16&255,r="rgb("+H+","+y+","+f+")";g+="\" fill=\""+r+"\" fill-rule=\"evenodd\"/>"}g+="</svg>";
return g};kn.zik=function(h,R,d){var L=h.length>>1,$,W=h[2*L-3]-d,M=h[2*L-2]-R,x=h[2*L-1]-d,t=x>W,r=0;
for(var g=0;g<L;g++){$=M;W=x;M=h[2*g]-R;x=h[2*g+1]-d;if(W==x)continue;t=x>W}for(var g=0;g<L;g++){$=M;
W=x;M=h[2*g]-R;x=h[2*g+1]-d;if(W<0&&x<0)continue;if(W>0&&x>0)continue;if($<0&&M<0)continue;if(W==x&&Math.min($,M)<=0)return!0;
if(W==x)continue;var l=$+(M-$)*-W/(x-W);if(l==0)return!0;if(l>0)r++;if(W==0&&t&&x>W)r--;if(W==0&&!t&&x<W)r--;
t=x>W}return(r&1)==1};kn.fill=function(h,R,d,L){var $=R[h],W=[h],M=0;while(M<W.length){var x=W[M];M++;
R[x]=L;if(R[x-d]==$){W.push(x-d);R[x-d]=254}if(R[x-1]==$){W.push(x-1);R[x-1]=254}if(R[x+1]==$){W.push(x+1);
R[x+1]=254}if(R[x+d]==$){W.push(x+d);R[x+d]=254}}};var c={};c.BG=!1;c.eW=!1;c.Gg=!1;c.Bv=document.createElement("canvas");
c.FT=null;c.Cz=null;c.j$=0;(function(){var h={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},R;
if(!R)R=c.Bv.getContext("webgl",h);if(!R)R=c.Bv.getContext("experimental-webgl",h);if(R){c.BG=!0;c.eW=!0;
c.FT=R;c.Cz=R.createFramebuffer();R.bindFramebuffer(R.FRAMEBUFFER,c.Cz);R.disable(R.BLEND);R.disable(R.DEPTH_TEST);
var d=R.createBuffer();R.bindBuffer(R.ARRAY_BUFFER,d);R.bufferData(R.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),R.STATIC_DRAW);
R.enableVertexAttribArray(0);R.vertexAttribPointer(0,2,R.FLOAT,!1,0,0)}}());c.zwB=function(h){h=h.replace(/\s\s+/g," ");
h=h.replace(/; /g,";");h=h.replace(/} /g,"}");h=h.replace(/ }/g,"}");h=h.replace(/{ /g,"{");h=h.replace(/ {/g,"{");
h=h.replace(/= /g,"=");h=h.replace(/ =/g,"=");h=h.replace(/\| /g,"|");h=h.replace(/ \|/g,"|");return h};
c.ziu=function(h){var R=c.FT;if(h>R.getParameter(R.MAX_TEXTURE_SIZE)){c.BG=!1;alert("Disabling WebGL")}};
c.GZ=function(h,R){return new Float32Array([(h.x-R.x)/R.k,(h.y-R.y)/R.$,h.k/R.k,h.$/R.$])};c.Me=function(){return this.Bv};
c.Cq=function(h,R){var d=c.FT;d.bindFramebuffer(d.FRAMEBUFFER,c.Cz);d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,h.zH,0);
d.viewport(0,0,h.k,h.$);if(R){d.enable(d.SCISSOR_TEST);d.scissor(R.x,R.y,R.k,R.$)}else d.disable(d.SCISSOR_TEST)};
c.ey=function(h,R,d){if(d)throw"error";var L=c.FT;L.disable(L.SCISSOR_TEST);L.bindFramebuffer(L.FRAMEBUFFER,null);
L.viewport(0,0,h,R);if(d){L.enable(L.SCISSOR_TEST);L.scissor(d.x,d.y,Math.round(d.k),Math.round(d.$))}else L.disable(L.SCISSOR_TEST)};
c.clear=function(){var h=c.FT;h.clearColor(0,0,0,0);h.clear(h.COLOR_BUFFER_BIT)};c.DW=function(h,R){if(R==null)R=0;
var d=(R>>>0&255)==0,L=(R>>>8&255)==0,$=(R>>>16&255)==0,W=(R>>>24&255)==0,M=(h>>>0&255)*(1/255),x=(h>>>8&255)*(1/255),t=(h>>>16&255)*(1/255),g=(h>>>24&255)*(1/255),l=c.FT;
l.colorMask(d,L,$,W);l.clearColor(M,x,t,g);l.clear(l.COLOR_BUFFER_BIT);l.colorMask(!0,!0,!0,!0)};c.qA=function(h,R,d,L,$){var W=R.hc(L);
if($)W=W.hc($);if(W.dp())return;var M=c.FT;c.Cq(h);M.bindTexture(M.TEXTURE_2D,d.zH);M.copyTexSubImage2D(M.TEXTURE_2D,0,W.x-L.x,W.y-L.y,W.x-R.x,W.y-R.y,W.k,W.$)};
c.GU=function(h,R,d){var L=c.jv[h];if(L==null||L.k!=R||L.$!=d){if(L)L.delete();L=new c.Zb(R,d)}c.jv[h]=L;
return L};c.jv=[];c.WF=function(){this.JT=null;this.tq=null};c.WF.Cc=null;c.WF.prototype.Nu=function(h){if(this.tq)return;
this.tq={};var R=c.FT,d=this.JT,L=this.tq;for(var $=0;$<h.length;$++){var W=h[$];L[W]=R.getUniformLocation(d,W)}};
c.WF.prototype.GR=function(){};c.WF.prototype.DA=function(h){var R=c.FT;for(var d=0;d<h.length;d+=2){R.uniform1i(h[d],d>>>1);
R.activeTexture(R["TEXTURE"+(d>>>1)]);R.bindTexture(R.TEXTURE_2D,h[d+1])}R.activeTexture(R.TEXTURE0)};
c.WF.prototype.Wf=function(h,R){var d=c.FT,L=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(L,h);d.compileShader(L);
if(!d.getShaderParameter(L,d.COMPILE_STATUS))console.log(d.getShaderInfoLog(L));var $=d.createShader(d.VERTEX_SHADER);
d.shaderSource($,R);d.compileShader($);if(!d.getShaderParameter($,d.COMPILE_STATUS))console.log(d.getShaderInfoLog($));
var W=d.createProgram();d.attachShader(W,$);d.attachShader(W,L);d.linkProgram(W);if(!d.getProgramParameter(W,d.LINK_STATUS))console.log("Could not initialise shaders");
this.JT=W};c.WF.prototype.GV=function(){if(c.WF.Cc!=this){c.FT.useProgram(this.JT);c.WF.Cc=this}};c.mE=function(h,R){c.jx++;
c.j$+=h*R;if(c.Gg)console.log("GL.Channels instances: "+c.jx+", memory: "+c.j$);var d=c.FT;this.k=h;
this.$=R;this.zH=d.createTexture();this.An=null;this.Ct(this.zH,h,R)};c.mE.prototype.Ct=function(h,R,d){var L=c.FT;
L.bindTexture(L.TEXTURE_2D,h);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.NEAREST);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST);
L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE);
L.texImage2D(L.TEXTURE_2D,0,L.ALPHA,R,d,0,L.ALPHA,L.UNSIGNED_BYTE,null)};c.mE.prototype.set=function(h){var R=c.FT;
R.bindTexture(R.TEXTURE_2D,this.zH);R.pixelStorei(R.UNPACK_ALIGNMENT,1);R.texImage2D(R.TEXTURE_2D,0,R.ALPHA,this.k,this.$,0,R.ALPHA,R.UNSIGNED_BYTE,h);
R.pixelStorei(R.UNPACK_ALIGNMENT,4)};c.mE.prototype.delete=function(){var h=c.FT;if(this.zH){h.deleteTexture(this.zH);
c.jx--;c.j$-=this.k*this.$}if(c.Gg)if(c.Gg)console.log("GL.Channels instances: "+c.jx+", memory: "+c.j$*4)};
c.jx=0;c.Zb=function(h,R,d){if(d==null)d=!1;c.jx++;c.j$+=h*R*4;if(c.Gg)console.log("GL.Channels instances: "+c.jx+", memory: "+c.j$);
var L=c.FT;this.zgW=d;this.k=h;this.$=R;this.zH=L.createTexture();this.An=null;this.Ct(this.zH,h,R)};
c.Zb.prototype.set=function(h,R){var d=c.FT;d.disable(d.SCISSOR_TEST);d.bindTexture(d.TEXTURE_2D,this.zH);
if(h==null||h instanceof Uint8Array){var L=this.k*this.$;if(R==null||R.s()*10>L)d.texImage2D(d.TEXTURE_2D,0,d.RGBA,this.k,this.$,0,d.RGBA,d.UNSIGNED_BYTE,h);
else{var $=z.h(R.s()*4);z.bt(h,new A(0,0,this.k,this.$),$,R);d.texSubImage2D(d.TEXTURE_2D,0,R.x,R.y,R.k,R.$,d.RGBA,d.UNSIGNED_BYTE,$)}}else d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,h)};
c.Zb.prototype.get=function(h){var R=c.FT;c.Cq(this);R.readPixels(0,0,this.k,this.$,R.RGBA,R.UNSIGNED_BYTE,h)};
c.Zb.prototype.Pj=function(h){if(h.dp())return;var R=c.FT;if(this.An==null){this.An=R.createTexture();
this.Ct(this.An,this.k,this.$);c.jx++;c.j$+=this.k*this.$*4}R.bindFramebuffer(R.FRAMEBUFFER,c.Cz);R.bindTexture(R.TEXTURE_2D,this.An);
if(h){var d=Math.max(h.x,0),L=Math.max(h.y,0);R.copyTexSubImage2D(R.TEXTURE_2D,0,d,L,d,L,h.k,h.$)}else R.copyTexImage2D(R.TEXTURE_2D,0,R.RGBA,0,0,this.k,this.$,0)};
c.Zb.prototype.Ct=function(h,R,d){var L=c.FT;L.bindTexture(L.TEXTURE_2D,h);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,this.zgW?L.LINEAR:L.NEAREST);
L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE);
L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE);L.texImage2D(L.TEXTURE_2D,0,L.RGBA,R,d,0,L.RGBA,L.UNSIGNED_BYTE,null)};
c.Zb.prototype.delete=function(){var h=c.FT;if(this.zH){h.deleteTexture(this.zH);c.jx--;c.j$-=this.k*this.$*4}if(this.An){h.deleteTexture(this.An);
c.jx--;c.j$-=this.k*this.$*4}if(c.Gg)if(c.Gg)console.log("GL.Channels instances: "+c.jx+", memory: "+c.j$)};
c.Zb.prototype.clone=function(){var h=c.FT,R=new c.Zb(this.k,this.$);c.Cq(this);h.bindTexture(h.TEXTURE_2D,R.zH);
h.copyTexImage2D(h.TEXTURE_2D,0,h.RGBA,0,0,this.k,this.$,0);return R};c.NR={ziS:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",ziw:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",EG:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",IV:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",jl:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",IY:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",qw:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",_t:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",zi_:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",QM:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",zix:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",wT:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",PF:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",uG:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",xP:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",RC:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",pc:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",Ed:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",Jk:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",KE:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn mi<0.0?0.0:(mi>1.0?1.0:mi);\t\t}"};
c.tC={Rj:{},Zy:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
c.tC.LA=function(h,R){var d=uJ.wV,L=[d.vf,d.Da,d.Dk,d.Db,d.DF,d.Du,d.Dh,d.HQ].indexOf(h.type),$=c.tC.Rj[h.type];
if($==null)$=c.tC.Rj[h.type]=new c.Rj[L];$.GV();$.GR(R,h);c.FT.drawArrays(c.FT.TRIANGLES,0,6)};c.Rj=[];
c.Rj[0]=function(){c.WF.call(this);this.JH={};var h="\t\t\tprecision mediump float;\t\t\t"+c.NR.qw+"\t\t\t"+c.NR.EG+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.Wf(h,c.tC.Zy)};c.Rj[0].prototype=new c.WF;c.Rj[0].prototype.GR=function(h,R){var d={H:R.Bx,N:R.lg,W:R.js,r$:z.h(R.Bx.length)},L=d.H.length;
if(this.JH["m"+L]==null){this.JH["m"+L]={zgh:new c.Zb(L,1),tP:z.h(L*4)}}var $=this.JH["m"+L];z.eB(d,$.tP,0);
var W=$.zgh;W.set($.tP);this.Nu(["source","map","toGray","presLum"]);var M=c.FT,x=this.tq;M.uniform1f(x.toGray,R.Ok?1:0);
M.uniform1f(x.presLum,R.OW?1:0);this.DA([x.source,h,x.map,W.zH])};c.Rj[1]=function(){c.WF.call(this);
this.zgl=new c.Zb(256,1);this.zKy=z.h(256*4);var h="\t\t\t\tprecision mediump float;\t\t\t\t"+c.NR.RC+"\t\t\t\t"+c.NR.uG+"\t\t\t\t"+c.NR.xP+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.Wf(h,c.tC.Zy)};c.Rj[1].prototype=new c.WF;c.Rj[1].prototype.GR=function(h,R){z.eB({H:R.zCp,N:R.Ja,W:R.zCO,r$:z.h(256)},this.zKy);
this.zgl.set(this.zKy);this.Nu(["source","map","cfa","cfb","colorize"]);var d=c.FT,L=this.tq;d.uniform1f(L.cfa,R.ztz);
d.uniform1f(L.cfb,R.JX);d.uniform1i(L.colorize,R.zk$);this.DA([L.source,h,L.map,this.zgl.zH])};c.Rj[2]=function(){c.WF.call(this);
var h="\t\t\tprecision mediump float;\t\t\t"+c.NR.RC+"\t\t\t"+c.NR.pc+"\t\t\t"+c.NR.Ed+"\t\t\t"+c.NR.uG+"\t\t\t"+c.NR.xP+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}";
this.Wf(h,c.tC.Zy)};c.Rj[2].prototype=new c.WF;c.Rj[2].prototype.GR=function(h,R){this.Nu(["source","vib","sat"]);
var d=c.FT,L=this.tq;d.uniform1f(L.vib,R.Ns[0]/100);d.uniform1f(L.sat,R.Ns[1]/100);this.DA([L.source,h])};
c.Rj[3]=function(){c.WF.call(this);var h="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.Wf(h,c.tC.Zy)};c.Rj[3].prototype=new c.WF;c.Rj[3].prototype.GR=function(h,R){this.Nu(["source","trf"]);
var d=c.FT,L=this.tq;d.uniformMatrix4fv(L.trf,!1,new Float32Array(z.lh.i_(R.lh)));this.DA([L.source,h])};
c.Rj[4]=function(){c.WF.call(this);var h="\t\t\tprecision mediump float; \t\t\t"+c.NR.Jk+"\t\t\t"+c.NR.RC+"\t\t\t"+c.NR.xP+"\t\t\t"+c.NR.uG+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+scl*shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + scl*shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + scl*shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Wf(h,c.tC.Zy)};c.Rj[4].prototype=new c.WF;c.Rj[4].prototype.GR=function(h,R){this.Nu(["source","mnm","mxm","shift","lim"]);
var d=c.FT,L=this.tq;d.uniform3fv(L.mnm,new Float32Array(R.hm));d.uniform3fv(L.mxm,new Float32Array(R.hA));
d.uniform3fv(L.shift,new Float32Array(R.shift));d.uniform1f(L.lim,R.KA);this.DA([L.source,h])};c.Rj[5]=function(){c.WF.call(this);
var h="\t\t\tprecision mediump float;\t\t\t"+c.NR.EG+"\t\t\t"+c.NR.IV+"\t\t\t"+c.NR.jl+"\t\t\t"+c.NR.uG+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Wf(h,c.tC.Zy)};c.Rj[5].prototype=new c.WF;c.Rj[5].prototype.GR=function(h,R){this.Nu(["source","cfs"]);
var d=c.FT,L=this.tq;d.uniform3fv(L.cfs,R.Dl);this.DA([L.source,h])};c.Rj[6]=function(){c.WF.call(this);
var h="\t\t\tprecision mediump float;\t\t\t"+c.NR.RC+"\t\t\t"+c.NR.IV+"\t\t\t"+c.NR.jl+"\t\t\t"+c.NR.uG+"\t\t\t"+c.NR.xP+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Wf(h,c.tC.Zy)};c.Rj[6].prototype=new c.WF;c.Rj[6].prototype.GR=function(h,R){this.Nu(["source","wght","prms"]);
var d=c.FT,L=this.tq,$=[R.on,R.zkR,R.qw,R.zup,R.Pq,R.zu_];d.uniform1fv(L.wght,new Float32Array(R.zuG));
d.uniform1fv(L.prms,new Float32Array($));this.DA([L.source,h])};c.Rj[7]=function(){c.WF.call(this);this.Jy={};
var h="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.Wf(h,c.tC.Zy)};c.Rj[7].prototype=new c.WF;c.Rj[7].prototype.GR=function(h,R){this.Nu(["source","lut","N"]);
var d=c.FT,L=this.tq,$=R.$m,W=R.Ry;if(this.Jy["m"+$]==null)this.Jy["m"+$]=new c.Zb($,$*$);var M=this.Jy["m"+$];
M.set(W);d.uniform1f(L.N,$);this.DA([L.source,h,L.lut,M.zH]);d.activeTexture(d.TEXTURE1);var x=d.LINEAR;
d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,x);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,x);
d.activeTexture(d.TEXTURE0)};c.filter={Cl:{},Zy:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",PO:0,Nz:1,tH:2,Ni:3};
c.filter.LA=function(h,R){var d=c.filter,L=[d.PO,d.Nz,d.tH,d.Ni].indexOf(h.type),$=c.filter.Cl[h.type];
if($==null)$=c.filter.Cl[h.type]=new c.Cl[L];$.GV();$.GR(R,h);c.FT.drawArrays(c.FT.TRIANGLES,0,6)};c.Cl=[0,0,0,0,0,0,0];
c.Cl[3]=function(){c.WF.call(this);var h="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.Wf(e.PT(h),e.PT(c.filter.Zy))};c.Cl[3].prototype=new c.WF;c.Cl[3].prototype.GR=function(h,R){this.Nu("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var d=c.FT,L=this.tq;d.uniform2fv(L.iwh,R.Qr);d.uniform1f(L.tdep,R.zgK);d.uniform1f(L.rrad,R.zgZ);d.uniform2fv(L.spec,R.zgH);
d.uniform3fv(L.nois,R.zgr);d.uniformMatrix4fv(L.poly0,!1,R.zgf);d.uniformMatrix4fv(L.poly1,!1,R.zIM);
this.DA([L.source,h])};c.Cl[0]=function(){c.WF.call(this);var h="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.Wf(e.PT(h),e.PT(c.filter.Zy))};c.Cl[0].prototype=new c.WF;c.Cl[0].prototype.GR=function(h,R){this.Nu(["source","iwh","ld","shine"]);
var d=c.FT,L=this.tq;d.uniform2fv(L.iwh,R.Qr);d.uniform3fv(L.ld,R.zmo);d.uniform1f(L.shine,R.zAz);this.DA([L.source,h,L.tang,R.Jp])};
c.Cl[1]=function(){c.WF.call(this);var h="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.Wf(e.PT(h),e.PT(c.filter.Zy))};c.Cl[1].prototype=new c.WF;c.Cl[1].prototype.GR=function(h,R){this.Nu(["source","iwh","isc","bristle"]);
var d=c.FT,L=this.tq;d.uniform2fv(L.iwh,R.Qr);d.uniform1f(L.isc,R.zmK);d.uniform1f(L.bristle,R.zmy);
this.DA([L.source,h])};c.Cl[2]=function(){c.WF.call(this);var h="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.Wf(e.PT(h),e.PT(c.filter.Zy))};c.Cl[2].prototype=new c.WF;c.Cl[2].prototype.GR=function(h,R){this.Nu(["source","tang","iwh","sigma","expo"]);
var d=c.FT,L=this.tq;d.uniform2fv(L.iwh,R.Qr);d.uniform1f(L.sigma,R.z_L);d.uniform1f(L.expo,R.zGJ);this.DA([L.source,h,L.tang,R.Jp]);
var $=d.LINEAR;d.activeTexture(d.TEXTURE0);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,$);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,$);
d.activeTexture(d.TEXTURE0)};c.K={};c.K.EA={};c.K.EO=null;c.K.Eg=null;c.K.EQ=null;c.K.NP=function(h,R,d,L,$,W,M,x){if(x==null)x=uS.Zo();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(h)==-1){M=M*x.fill;x.fill=1;x.style=!1}var t=h+(x.Qy?"1":"");
if(c.K.EA[t]==null)c.K.EA[t]=new c.K.Gh(h,x.Qy!=null);var g=c.K.EA[t],r=d.hc($).hc(W);r.offset(-$.x,-$.y);
if(r.dp())return;var l=c.FT;c.Cq(L,r);L.Pj(r);g.GV();g.GR(R.zH,L.An,c.GZ(d,$),M,x.fill,x.style?1:0,x.QX?1:0,x.Qy?new Float32Array(x.Qy):null);
l.drawArrays(l.TRIANGLES,0,6)};c.K.Cd=function(h,R,d,L,$,W,M,x,t,g){if(c.K.EO==null)c.K.EO=new c.K.MS(!0,!0);
if(c.K.Eg==null)c.K.Eg=new c.K.MS(!0,!1);if(c.K.EQ==null)c.K.EQ=new c.K.MS(!1,!0);var r=g?1:0,l=h?$?c.K.EO:c.K.Eg:c.K.EQ,H=R?R.hc(L).hc(x):L.hc(x);
if(H.dp())return;H.offset(-L.x,-L.y);var y=c.FT;c.Cq(d,H);d.Pj(H);l.GV();if(h==null)l.GR(null,d.An,$.zH,c.GZ(L,L),c.GZ(W,L),M/255,t,r);
else if($)l.GR(h.zH,d.An,$.zH,c.GZ(R,L),c.GZ(W,L),M/255,t,r);else l.GR(h.zH,d.An,null,c.GZ(R,L),null,M/255,t,r);
y.drawArrays(y.TRIANGLES,0,6)};c.K.zwi=function(h,R,d){if(c.K.zhn==null)c.K.zhn=new c.K.En;var L=c.K.zhn,$=new A(0,0,h.k,h.$),W=c.FT;
c.Cq(R);R.Pj($);L.GV();L.GR($,h.zH,R.An,d.zH);W.drawArrays(W.TRIANGLES,0,6)};c.K.eC={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
c.K.Gh=function(h,R){c.WF.call(this);var d="\t\t\tprecision mediump float;\t\t\t"+c.NR.EG+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(R?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+c.NR.IY+"\t\t\t"+c.NR.qw+"\t\t\t"+c.NR._t+"\t\t\t"+c.NR.ziS+"\t\t\t"+c.NR.ziw+"\t\t\t"+c.NR.zi_+"\t\t\t"+c.NR.QM+"\t\t\t"+c.NR.zix+"\t\t\t"+c.NR.wT+"\t\t\t"+c.NR.hash+"\t\t\t"+(R?c.NR.KE:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+c.K.eC[h]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",L="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(h=="diss")d+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else d+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(R?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.Wf(d,L)};c.K.Gh.prototype=new c.WF;c.K.Gh.prototype.GR=function(h,R,d,L,$,W,M,x){this.Nu("srct alpha source target fill style keepBGA blIf".split(" "));
var t=c.FT,g=this.tq;t.uniform4fv(g.srct,d);t.uniform1f(g.alpha,L);t.uniform1f(g.fill,$);t.uniform1f(g.style,W);
t.uniform1f(g.keepBGA,M);if(x)t.uniform4fv(g.blIf,x);this.DA([g.source,h,g.target,R])};c.K.MS=function(h,R){c.WF.call(this);
this.zWN=h;this.Jf=R;var d="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+c.NR.PF+"\t\t\t"+c.NR.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(h?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(R?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(h?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tgl_FragColor =  vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t}",L="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Wf(d,L)};c.K.MS.prototype=new c.WF;c.K.MS.prototype.GR=function(h,R,d,L,$,W,M,x){if(this.Jf)this.Nu("srct wrct wcolor awg dissv source target weight".split(" "));
else this.Nu(["srct","awg","dissv","source","target"]);var t=c.FT,g=this.tq;t.uniform4fv(g.srct,L);if(this.Jf){t.uniform4fv(g.wrct,$);
t.uniform1f(g.wcolor,W)}t.uniform1f(g.awg,M);t.uniform1f(g.dissv,x);var r=[g.source,h,g.target,R];if(this.Jf)r.push(g.weight,d);
this.DA(r)};c.K.En=function(){c.WF.call(this);var h="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",R="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Wf(h,R)};c.K.En.prototype=new c.WF;c.K.En.prototype.GR=function(h,R,d,L){this.Nu(["rct","prev","next","alpha"]);
var $=c.FT,W=this.tq;$.uniform4fv(W.rct,[0,0,1,1]);this.DA([W.prev,R,W.next,d,W.alpha,L])};function WH(){}WH.iN=function(h){var R=new Uint8Array(h),d=0,L={WU:[],kR:[],list:[]},$=T.BP(R,d);
d+=2;if($<=2){return WH.ziY(R)}var W=T.BP(R,d);d+=2;var M=T.UK(R,d,8);d+=8;var x=T.U(R,d);d+=4;if(x>0)L.WU=WH.Nw(R,d,x,W,$);
d+=x;var t=T.UK(R,d,8);d+=8;var g=T.U(R,d);d+=4;if(g>0)L.kR=WH.CE(R,d,g);d+=g;var r=T.UK(R,d,8);d+=8;
var l=T.U(R,d);d+=4;if(l>0){var H={};uR.kI(R,H,d+4);L.list=H.Brsh.v}d+=l;var y=L.list;for(var f=0;f<y.length;
f++){Wm.eP.check(y[f].v)}return L};WH.Ln=function(h,R){h.v.Nm.v=R};WH.ziY=function(h){var R={WU:[],kR:[],list:[]},d=0,L=T.BP(h,d);
d+=2;var $=T.BP(h,d);d+=2;for(var W=0;W<$;W++){var M=T.BP(h,d);d+=2;var x=T.U(h,d);d+=4;var t=d;if(M==2){var g={};
R.WU.push(g);var r=T.U(h,t);t+=4;var l=T.BP(h,t);t+=2;if(L==2){var H=T.$X(h,t);t+=4+H.length*2+2}g.id=zG.jO()+"-d71c-11e5-b1ae-a548a96e5f9f";
t++;t+=8;g.e=T.sB(h,t);t+=16;var y=T.BP(h,t);t+=2;var f=h[t];t++;g.channel=zW.MV(!1,y,h,g.e.k,g.e.$,t,f);
var b=Wm.db(g.id),K=b.Brsh.v;K.Dmtr.v.val=g.e.k;K.Spcn.v.val=l;R.list.push({t:"Objc",v:b})}d+=x}return R};
WH.FI=function(h){var R=new hK,d=0,L=0;T.yZ(R,d,6);d+=2;T.yZ(R,d,2);d+=2;T._F(R,d,"8BIMsamp");d+=8;d+=4;
L=d;d=WH.No(R,d,h.WU);T.Uz(R,L-4,d-L);T._F(R,d,"8BIMpatt");d+=8;d+=4;L=d;d=WH.CP(R,d,h.kR);T.Uz(R,L-4,d-L);
var $={classID:"null",Brsh:{t:"VlLs",v:h.list}};T._F(R,d,"8BIMdesc");d+=8;d+=4;L=d;T.Uz(R,d,16);d+=4;
d+=uR.II(R,$,d);T.Uz(R,L-4,d-L);return R.data.slice(0,d).buffer};WH.Nw=function(h,R,d,L,$){var W=T.U,M=T.sB,x=R+d,t=[];
while(R<x){var g={};t.push(g);var r=W(h,R);R+=4;var l=R,H=T.AW(h,R);R+=H.length;g.id=H.JO;if(L==1){R+=9;
g.e=M(h,R);R+=16}else{R+=7;var y=W(h,R);R+=4;g.e=M(h,R);R+=16;var f=W(h,R);R+=4;R+=f*4;var b=W(h,R);
R+=4;var K=W(h,R);R+=4;var Z=M(h,R);R+=16}var J=T.BP(h,R);R+=2;var u=h[R];R+=1;g.channel=zW.MV(!1,J,h,g.e.k,g.e.$,R,u);
if(r%4!=0)r+=4-r%4;R=l+r}return t};WH.No=function(h,R,d){var L=T.Uz,$=T.Yy;for(var W=0;W<d.length;W++){var M=d[W],x=R+4,g=56,l=1;
R+=4;T.kr(h,R,M.id);R+=M.id.length+2;h._b(R,1);h.data[R]=1;R+=3;L(h,R,3);R+=4;var t=R;R+=4;$(h,R,M.e);
R+=16;L(h,R,g);R+=4;R+=g*4;L(h,R-4,1);var r=R;R+=4;L(h,R,8);R+=4;$(h,R,M.e);R+=16;T.yZ(h,R,8);R+=2;h._b(R,1);
h.data[R]=l;R++;h._b(R,M.e.s()*2);R=zW.CT(M.channel,h.data,M.e.k,M.e.$,R,l);h._b(R,8);R+=8;var H=R-x;
L(h,x-4,H);L(h,t,H-49);L(h,r,H-305);if(H%4!=0)R+=4-H%4}return R};WH.CE=function(h,R,d){var L=R+d,$=[];
while(R<L){var W={},M=T.U(h,R);R+=4;var x=R;R=tc.Sj(h,R,W);if(!W.e.dp())$.push(W);if(M%4!=0)M+=4-M%4;
R=x+M}return $};WH.CP=function(h,R,d){for(var L=0;L<d.length;L++){var $=d[L];R+=4;var W=R;R=tc.SP(h,R,$);
var M=R-W;T.Uz(h,W-4,M);if(M%4!=0)W+=4-M%4;R=W+M}return R};function zb(){}zb.iN=function(h){var R=new Uint8Array(h),d=[],L=0,$=T.BP(R,L);
L+=2;if($!=4){throw"Unknown version of curves: "+$}var W=T.BP(R,L);L+=2;for(var M=0;M<W;M++){var x=zb.Nl(R,L);
L+=2+2*x.length;d.push(x)}if(L==R.length)return d;var t=T.UK(R,L,4);L+=4;var g=T.BP(R,L);L+=2;var r=T.BP(R,L);
L+=2;if(r!=0)throw"extra curves for channels";return d};zb.Mw=function(h,R,d){var L=R,$=[],W=h[R];R+=3;
var M=T.U(h,R);R+=4;for(var x=0;x<4;x++){var t=M>>>x&1;if(t){if(W==0){var g=zb.Nl(h,R);R+=2+2*g.length}else{var g=zb.zji(h,R);
R+=256}$.push(g)}else $.push(W==0?[0,0,255,255]:zb.zjz())}var r=u$.hx("curv");for(var x=0;x<4;x++){if(W==0){var l=$[x],H=[];
for(var y=0;y<l.length;y+=2)H.push(z.LV.Ud(l[y],l[y+1],!0));zb.Uk(r,x,H)}else zb.Uk(r,x,$[x])}return r};
zb.zjz=function(){var h=[];for(var R=0;R<256;R++)h.push(R);return h};zb.Uk=function(h,R,d){var L=tm.EC("CrvA",R);
if(d.length<256)L.Crv={t:"VlLs",v:d};else{L.Mpng={t:"VlLs",v:[]};for(var $=0;$<256;$++)L.Mpng.v[$]={t:"long",v:d[$]}}L={t:"Objc",v:L};
var W=h.Adjs.v,M=tm.N_(W,R);if(M==-1)W.push(L);else W[M]=L};zb.UA=function(h,R){var d=h.Adjs.v,L=tm.N_(d,R);
if(L==-1){if(d.length==0||d[0].v.Crv)return[z.LV.Ud(0,0,!0),z.LV.Ud(255,255,!0)];var $=[];for(var W=0;
W<256;W++)$.push(W);return $}var M=d[L].v,x=M.Crv;if(x)return x.v;var $=[];for(var W=0;W<256;W++)$.push(M.Mpng.v[W].v);
return $};zb.Nl=function(h,R){var d=[],L=T.BP(h,R);R+=2;for(var $=0;$<L;$++){var W=T.BP(h,R);R+=2;var M=T.BP(h,R);
R+=2;d.push(M,W)}return d};zb.zjd=function(h,R,d){var L=d.length/2;T.yZ(h,R,L);R+=2;for(var $=0;$<L;
$++){T.yZ(h,R,d[$*2+1]);R+=2;T.yZ(h,R,d[$*2+0]);R+=2}};zb.zji=function(h,R){var d=[];for(var L=0;L<256;
L++)d.push(h[R+L]);return d};zb.zjj=function(h,R,d){h._b(R,256);for(var L=0;L<256;L++)h.data[R+L]=d[L]};
zb.M_=function(h,R,d){var L=[];for(var $=0;$<4;$++){var W=zb.UA(d,$);if(W.length==256)L.push(W);else{var M=[];
for(var x=0;x<W.length;x++)M.push(W[x].v.Hrzn.v,W[x].v.Vrtc.v);L.push(M)}}var t=R,g=L[0].length==256?1:0;
h._b(R,3);h.data[R]=g;h.data[R+1]=0;h.data[R+2]=1;R+=3;T.Uz(h,R,15);R+=4;for(var $=0;$<4;$++){var r=L[$];
if(g==0){zb.zjd(h,R,r);R+=2+2*r.length}else{zb.zjj(h,R,r);R+=256}}return R-t};function zg(){}zg.Mw=function(h,R,d){var L={},$=T.BP(h,R);
R+=2;L.cu=h[R]==1;R++;R++;L.PL=[T.rR(h,R),T.rR(h,R+2),T.rR(h,R+4)];R+=6;L.PV=[T.rR(h,R),T.rR(h,R+2),T.rR(h,R+4)];
R+=6;L.KQ=[];for(var W=0;W<6;W++){var M={};M.ge=[T.rR(h,R),T.rR(h,R+2),T.rR(h,R+4),T.rR(h,R+6)];R+=8;
M.Tj=[T.rR(h,R),T.rR(h,R+2),T.rR(h,R+4)];R+=6;L.KQ.push(M)}var x=u$.hx("hue2"),t=L;if(x.Clrz==null)x.Clrz={t:"bool",v:!1};
x.Clrz.v=t.cu;for(var W=0;W<7;W++){var g=W==0?t.cu?t.PL:t.PV:t.KQ[W-1];zg.Uk(x,W,g)}return x};zg.zjr=function(h){return{classID:"Hst2",H:{t:"long",v:h[0]},Strt:{t:"long",v:h[1]},Lght:{t:"long",v:h[2]}}};
zg.N_=function(h,R){for(var d=0;d<h.length;d++){var L=h[d].v.LclR;if(R==0&&L==null||L!=null&&L.v==R)return d}return-1};
zg.Uk=function(h,R,d){var L=R==0?d:d.Tj,$=zg.zjr(L);if(R!=0){var W=d.ge;$.LclR={t:"long",v:R},$.BgnR={t:"long",v:W[0]};
$.BgnS={t:"long",v:W[1]};$.EndS={t:"long",v:W[2]};$.EndR={t:"long",v:W[3]}}$={t:"Objc",v:$};var M=h.Adjs.v,x=zg.N_(M,R);
if(x==-1)M.push($);else M[x]=$};zg.UA=function(h,R){var d=h.Adjs.v,L=zg.N_(d,R);if(L==-1){if(R==0)return[0,0,0];
else return[{ge:[315,345,15,45],Tj:[0,0,0]},{ge:[15,45,75,105],Tj:[0,0,0]},{ge:[75,105,135,165],Tj:[0,0,0]},{ge:[135,165,195,225],Tj:[0,0,0]},{ge:[195,225,255,285],Tj:[0,0,0]},{ge:[255,285,315,345],Tj:[0,0,0]}][R-1]}var $=d[L].v,W=[$.H.v,$.Strt.v,$.Lght.v];
if(R==0)return W;return{Tj:W,ge:[$.BgnR.v,$.BgnS.v,$.EndS.v,$.EndR.v]}};zg.M_=function(h,R,d){var L={cu:d.Clrz.v,KQ:[]};
L.PL=L.PV=zg.UA(d,0);for(var $=1;$<7;$++)L.KQ.push(zg.UA(d,$));var W=2+2+12+6*14,M=h.data;h._b(R,W);
T.Te(M,R,2);R+=2;M[R]=L.cu?1:0;R++;R++;T.$z(M,R+0,L.PL[0]);T.$z(M,R+2,L.PL[1]);T.$z(M,R+4,L.PL[2]);R+=6;
T.$z(M,R+0,L.PV[0]);T.$z(M,R+2,L.PV[1]);T.$z(M,R+4,L.PV[2]);R+=6;for(var $=0;$<6;$++){var x=L.KQ[$].ge,t=L.KQ[$].Tj;
T.$z(M,R+0,x[0]);T.$z(M,R+2,x[1]);T.$z(M,R+4,x[2]);T.$z(M,R+6,x[3]);R+=8;T.$z(M,R+0,t[0]);T.$z(M,R+2,t[1]);
T.$z(M,R+4,t[2]);R+=6}return W};function tm(){}tm.iN=function(h){var R=new Uint8Array(h),d=2,L=[];for(var $=0;
$<29;$++){var W=[];L.push(W);for(var M=0;M<5;M++)W.push(T.BP(R,d+$*10+M*2))}d+=29*10;if(d<R.length){var x=T.UK(R,d,4);
d+=4;var t=T.BP(R,d);d+=2;var g=T.BP(R,d);d+=2;var r=g-29;for(var $=0;$<r;$++){var W=[];L.push(W);for(var M=0;
M<5;M++)W.push(T.BP(R,d+$*10+M*2))}}var l=u$.hx("levl");for(var $=0;$<4;$++)tm.Uk(l,$,L[$]);return l};
tm.EC=function(h,R){var d=["Cmps","Rd","Grn","Bl"],L={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:d[R]}}]};
return{classID:h,Chnl:L}};tm.N_=function(h,R){var d={Cmps:0,Rd:1,Grn:2,Bl:3};for(var L=0;L<h.length;
L++){var $=h[L].v,W=d[$.Chnl.v[0].v.enum];if(W==R)return L}return-1};tm.Uk=function(h,R,d){var L=tm.EC("LvlA",R);
L.Inpt={t:"VlLs",v:[{t:"long",v:d[0]},{t:"long",v:d[1]}]};L.Otpt={t:"VlLs",v:[{t:"long",v:d[2]},{t:"long",v:d[3]}]};
L.Gmm={t:"doub",v:d[4]/100};L={t:"Objc",v:L};var $=h.Adjs.v,W=tm.N_($,R);if(W==-1)$.push(L);else $[W]=L};
tm.UA=function(h,R){var d=[0,255,0,255,100],L=h.Adjs.v,$=tm.N_(L,R);if($==-1)return d;var W=L[$].v;if(W.Inpt){d[0]=W.Inpt.v[0].v;
d[1]=W.Inpt.v[1].v}if(W.Otpt){d[2]=W.Otpt.v[0].v;d[3]=W.Otpt.v[1].v}if(W.Gmm){d[4]=Math.round(W.Gmm.v*100)}return d};
tm.FI=function(h,R){var d=[],$=0;for(var L=0;L<4;L++)d.push(tm.UA(R,L));while(d.length<29)d.push([0,255,0,255,100]);
h._b(0,2+10*29);T.Te(h.data,$,2);$+=2;for(var L=0;L<29;L++){var W=d[L];for(var M=0;M<5;M++)T.Te(h.data,$+L*10+M*2,W[M])}$+=29*10;
if(d.length==29)return $;h._b($,8+10*(d.length-29));T.wO(h.data,$,"Lvls");$+=4;T.Te(h.data,$,3);$+=2;
T.Te(h.data,$,d.length);$+=2;var x=d.length-29;for(var L=0;L<x;L++){var W=d[29+L];for(var M=0;M<5;M++)T.Te(h.data,$+L*10+M*2,W[M])}$+=10*x;
return $};function BN(){}BN.iN=function(h){var R=new Uint8Array(h),d=2,L={cW:[],KZ:[]},$=T.UK(R,d,4);
d+=4;var W=T.BP(R,d);d+=2;var M=T.U(R,d);d+=4;L.cW=WH.CE(R,d,M);d+=M;var x=T.U(R,d);d+=4;for(var t=0;
t<x;t++){var g=T.U(R,d);d+=4;var r=d,l={gN:{},rE:{}};L.KZ.push(l);d+=4;d+=uR.kI(R,l.gN,d);d+=4;d+=uR.kI(R,l.rE,d);
d=r+g;var H=l.rE.blendOptions,y=l.rE.Lefx;if(H&&Object.keys(H.v).length>1){}if(y){if(y.v.masterFXSwitch==null)y.v.masterFXSwitch={t:"bool",v:!0};
ty.CJ(y.v)}}return L};BN.Ln=function(h,R){h.gN.Nm.v=R};BN.FI=function(h){var R=new hK,d=0;T.yZ(R,d,2);
d+=2;T._F(R,d,"8BSL");d+=4;T.yZ(R,d,3);d+=2;var L=d;d+=4;d=WH.CP(R,d,h.cW);T.Uz(R,L,d-L-4);var $=h.KZ.length;
T.Uz(R,d,$);d+=4;for(var W=0;W<$;W++){d+=4;var M=d,x=h.KZ[W];T.Uz(R,d,16);d+=4;d+=uR.II(R,x.gN,d);var t=x.rE.Lefx;
if(t){x.rE.Lefx=JSON.parse(JSON.stringify(t));ty.EL(x.rE.Lefx.v)}T.Uz(R,d,16);d+=4;d+=uR.II(R,x.rE,d);
if(t)x.rE.Lefx=t;T.Uz(R,M-4,d-M)}return R.data.slice(0,d).buffer};function zC(){}zC.Mw=function(h,R,d){var L=T.BP(h,R);
R+=2;var $={};$.JY=T.BP(h,R)==1;R+=2;$.Jb=[];for(var W=0;W<10;W++){var M=[];$.Jb.push(M);for(var x=0;
x<4;x++)M.push(T.rR(h,R+x*2));R+=8}var t=u$.hx("selc");t.Mthd.v.CrcM=$.JY?"Absl":"Rltv";for(var W=1;
W<10;W++)zC.Uk(t,W-1,$.Jb[W]);return t};zC.Cn="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
zC.EC=function(h,R){var d=["Cmps","Rd","Grn","Bl"],L={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:d[R]}}]};
return{classID:h,Chnl:L}};zC.N_=function(h,R){var d=zC.Cn;for(var L=0;L<h.length;L++){var $=h[L].v,W=d.indexOf($.Clrs.v.Clrs);
if(W==R)return L}return-1};zC.Uk=function(h,R,d){var L=["Cyn","Mgnt","Ylw","Blck"],$={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:zC.Cn[R]}}};
for(var W=0;W<4;W++)$[L[W]]={t:"UntF",v:{type:"#Prc",val:d[W]}};$={t:"Objc",v:$};var M=h.ClrC.v,x=zC.N_(M,R);
if(x==-1)M.push($);else M[x]=$};zC.UA=function(h,R){var d=[0,0,0,0],L=h.ClrC.v,$=zC.N_(L,R);if($==-1)return d;
var W=["Cyn","Mgnt","Ylw","Blck"];for(var M=0;M<4;M++)if(L[$].v[W[M]])d[M]=L[$].v[W[M]].v.val;return d};
zC.M_=function(h,R,d){var L={JY:d.Mthd.v.CrcM=="Absl",Jb:[[0,0,0,0]]};for(var $=0;$<9;$++)L.Jb.push(zC.UA(d,$));
h._b(R,84);T.Te(h.data,R,1);R+=2;T.Te(h.data,R,L.JY?1:0);R+=2;for(var $=0;$<10;$++){var W=L.Jb[$];for(var M=0;
M<4;M++)T.$z(h.data,R+M*2,W[M]);R+=8}return 84};function WX(){}WX.hx=function(){return{Re:new A(0,0,50,50),gN:"",Kn:"play",r:z.t.WB.rb([.1,.1,.9,.5,.1,.9],0)}};
WX.iN=function(h){h=new Uint8Array(h);var R=0,d=[],L=Date.now(),$=T.UK(h,0,4);R+=4;var W=T.U(h,R);R+=4;
var M=T.U(h,R);R+=4;for(var x=0;x<M;x++){var t=T.$X(h,R);R+=t.length*2+4+2;if((t.length&1)==0)R+=2;var g=T.U(h,R);
R+=4;var r=T.U(h,R);R+=4;var l=R,H=T.AW(h,l).JO;l+=H.length+1;var y=T.sB(h,l);l+=16;var f=WX.CR(h,l,r-(l-R)),b=z.t.Uc(f),K=z.G.oY(b),Z=1/K.k,J=1/K.$;
z.t._B(f,new um(Z,0,0,J,-K.x*Z,-K.y*J));d.push({Kn:t,gN:H,r:f,Re:y});R+=r}return d};WX.Ln=function(h,R){h.Kn=R};
WX.FI=function(h){var R=new hK,d=0;T._F(R,d,"cush");d+=4;T.Uz(R,d,2);d+=4;T.Uz(R,d,h.length);d+=4;for(var L=0;
L<h.length;L++){var $=h[L],W=$.Kn+"\0";T.xS(R,d,W);d+=4+W.length*2;if((W.length&1)==1)d+=2;T.Uz(R,d,1);
d+=4;d+=4;var M=d;T.kr(R,d,$.gN);d+=$.gN.length+1;T.Yy(R,d,$.Re);d+=16;R._b(d,$.r.length*26);WX.E$(R.data,d,$.r,1,1);
d+=$.r.length*26;var x=d-M;if((x&3)!=0)x+=4-(x&3);T.Uz(R,M-4,x);d=M+x}return R.data.slice(0,d).buffer};
WX.CR=function(h,R,d,L,$){if(L==null)L=1;if($==null)$=1;var W=T.rR,M=T.zGU,x=[],t=Math.floor(d/26);for(var g=0;
g<t;g++){var r=R+g*26,l={},H=0;x.push(l);l.type=W(h,r);r+=2;if(l.type==6){H=24}if(l.type==8){l.all=W(h,r);
r+=2;H=22}if(l.type==0||l.type==3){l.length=W(h,r);r+=2;l.uH=W(h,r);r+=2;l.pa=W(h,r);r+=2;l.Qu=T.U(h,r);
r+=4;l.Qb=T.U(h,r);r+=4;H=10}if(l.type==1||l.type==2||l.type==4||l.type==5){var y,f;f=M(h,r);r+=4;y=M(h,r);
r+=4;l.MW=new kY(y*L,f*$);f=M(h,r);r+=4;y=M(h,r);r+=4;l.O=new kY(y*L,f*$);f=M(h,r);r+=4;y=M(h,r);r+=4;
l.dD=new kY(y*L,f*$);H=0}for(var b=0;b<H;b++)if(h[r+b]!=0){console.log("Unexpected non-zero byte!",l,b,h[r+b])}}return x};
WX.E$=function(h,R,d,L,$){var W=T.$z,M=T.SY,x=d.length;for(var t=0;t<x;t++){var g=R+t*26,r=d[t];W(h,g,r.type);
g+=2;if(r.type==6){}if(r.type==8)W(h,g,r.all);if(r.type==0||r.type==3){W(h,g,r.length);g+=2;W(h,g,r.uH);
g+=2;W(h,g,r.pa);g+=2}if(r.type==1||r.type==2||r.type==4||r.type==5){M(h,g,r.MW.y/$);g+=4;M(h,g,r.MW.x/L);
g+=4;M(h,g,r.O.y/$);g+=4;M(h,g,r.O.x/L);g+=4;M(h,g,r.dD.y/$);g+=4;M(h,g,r.dD.x/L);g+=4}}};function tC(){}tC.iN=function(h){var R=new Uint8Array(h),d=[],L=0;
L=tC.Sa(R,L,d);if(L+3<R.length){d=[];L=tC.Sa(R,L,d)}return d};tC.Sa=function(h,R,d){var L=T.BP,$=T.rR,W=L(h,R);
R+=2;var M=L(h,R);R+=2;for(var x=0;x<M;x++){var t=tC.UB(h,R);R+=10;if(W==2){t.LJ=T.$X(h,R);R+=4+t.LJ.length*2+2}d.push(t)}return R};
tC.UB=function(h,R){var d=T.BP,L=T.rR,$=d(h,R),y=null;R+=2;var W=d(h,R);R+=2;var M=d(h,R);R+=2;var x=d(h,R);
R+=2;var t=d(h,R);R+=2;var g=1/65535,r=255/65535,l=100/65535,H=255/1e4;if($==0)y={H:W*r,N:M*r,W:x*r};
else if($==1){y=z.Ed(W*g,M*g,x*g);y.H*=255;y.N*=255;y.W*=255}else if($==2)y=z.i.IZ({classID:"CMYC",Cyn:{t:"doub",v:100-W*l},Mgnt:{t:"doub",v:100-M*l},Ylw:{t:"doub",v:100-x*l},Blck:{t:"doub",v:100-t*l}});
else if($==7){var f=z.Yi(W/100,L(h,R-6)/100,L(h,R-4)/100);y=f}else if($==8){y={H:255-W*H,N:255-M*H,W:255-x*H}}else throw"e "+$+", ";
return y};tC.FI=function(h){var R=new hK,d=0,L=T.yZ;L(R,d,2);d+=2;L(R,d,h.length);d+=2;for(var $=0;$<h.length;
$++){var W=h[$];R._b(d,10);tC.Mx(R.data,d,W);d+=10;var M=(W.LJ?W.LJ:"")+"\0";T.xS(R,d,M);d+=4+M.length*2}return R.data.slice(0,d).buffer};
tC.Ln=function(h,R){h.LJ=R};tC.Mx=function(h,R,d){var L=65535/255,$=T.Te;$(h,R,0);$(h,R+2,Math.round(d.H*L));
$(h,R+4,Math.round(d.N*L));$(h,R+6,Math.round(d.W*L));$(h,R+8,0)};function tP(){}tP.iN=function(h){var R=new Uint8Array(h),d=4,L={};
L.zv=T.$X(R,d);d+=4+L.zv.length*2+2;L.exp=R[d++]==1;L.C=[];var $=T.U(R,d);d+=4;for(var W=0;W<$;W++){var M={};
L.C.push(M);M.KW=T.BP(R,d);d+=2;M.shift=R[d++]==1;M.zqG=R[d++]==1;M.color=T.BP(R,d);d+=2;M.zv=T.$X(R,d);
d+=4+M.zv.length*2+2;M.exp=R[d++]==1;M.C=[];var We=T.U(R,d);d+=4;for(var x=0;x<We;x++){var t={};M.C.push(t);
t.exp=R[d++]==1;t.n=R[d++]==1;t.zFP=R[d++]==1;t.zFH=R[d++];var g=T.UK(R,d,4);d+=4;if(g=="TEXT"){t.Mh=tP.Mr(R,d);
d+=4+t.Mh.length}else if(g=="long"){t.Mh=T.UK(R,d,4);d+=4}else throw"e";t.cb=tP.Mr(R,d);d+=4+t.cb.length;
var r=T.Uw(R,d);d+=4;if(r==-1){t.QZ={};var l=uR.kI(R,t.QZ,d);d+=l}}}console.log(L);var H=new Uint8Array(tP.FI(L));
for(var W=0;W<H.length;W++)if(H[W]!=R[W]){console.log(H.length,R.length);var y=4*(W>>>2)-16;console.log(T.$b(R,y,64));
console.log(T.$b(H,y,64));console.log(R.slice(y,y+64));console.log(H.slice(y,y+64));throw W}console.log(L);
return[L]};tP.Mr=function(h,R){var d=T.U(h,R);return T.UK(h,R+4,d)};tP.Si=function(h,R,d){T.Uz(h,R,d.length);
T._F(h,R+4,d)};tP.FI=function(h){var R=new hK,d=0;T.Uz(R,d,16);d+=4;T.xS(R,d,h.zv+"\0");d+=4+h.zv.length*2+2;
R._b(d,1);R.data[d++]=h.exp?1:0;var L=h.C.length;T.Uz(R,d,L);d+=4;for(var $=0;$<L;$++){var W=h.C[$];
T.yZ(R,d,W.KW);d+=2;R._b(d,2);R.data[d++]=W.shift?1:0;R.data[d++]=W.zqG?1:0;T.yZ(R,d,W.color);d+=2;T.xS(R,d,W.zv+"\0");
d+=4+W.zv.length*2+2;R._b(d,1);R.data[d++]=W.exp?1:0;var We=W.C.length;T.Uz(R,d,We);d+=4;for(var M=0;
M<We;M++){var x=W.C[M];R._b(d,4);R.data[d++]=x.exp?1:0;R.data[d++]=x.n?1:0;R.data[d++]=x.zFP?1:0;R.data[d++]=x.zFH;
var t=x.Mh=="LqFy"||x.Mh=="Avrg"||x.Mh=="GEfc"||x.Mh=="PbPl";T._F(R,d,t?"long":"TEXT");d+=4;if(!t){tP.Si(R,d,x.Mh);
d+=4+x.Mh.length}else{T._F(R,d,x.Mh);d+=4}tP.Si(R,d,x.cb);d+=4+x.cb.length;T.wC(R,d,x.QZ?-1:0);d+=4;
if(x.QZ){var g=uR.II(R,x.QZ,d);d+=g}}}return R.data.slice(0,d).buffer};function bO(){}bO.iN=function(h){var R=new Uint8Array(h),d=0,L=T.U(R,d),t;
d+=4;var $=T.UK(R,d,8);d+=8;var W=T.KB(R,d);d+=4;var M=T.KB(R,d);d+=4;var x=T.KB(R,d);d+=4;if(L==2){t=new Float32Array(h,32,h.byteLength-32>>>2)}else if(L==3||L==4){t=new Float32Array(M*x*2);
var g=0,r=0,l=!0;d=L==3?32:16+8+40;while(d<R.length){var H=T.KB(R,d);d+=4;if(l)r+=H;else{for(var y=0;
y<H;y++){t[g+r+y<<1]=T.eQ(R,d);t[(g+r+y<<1)+1]=T.eQ(R,d+4);d+=8}r+=H}l=!l;if(H!=0&&r==M){g+=M;r=0;l=!0;
if(g==M*x)break}}}else throw"unknown Mesh version: "+L;return{Hl:M,om:x,map:t}};bO.wA=function(h){var R=h.Hl,d=h.om,L=h.map,$=new Uint8Array(32+d*R*8+d*8),W=0,M=0;
T.Dr($,W,3);W+=4;T.wO($,W,"yfqLhseM");W+=8;T.RG($,W,2);W+=4;T.RG($,W,R);W+=4;T.RG($,W,d);W+=4;T.RG($,W,0);
W+=4;T.RG($,W,1);W+=4;for(var x=0;x<d;x++){T.RG($,W,0);W+=4;T.RG($,W,R);W+=4;for(var t=0;t<R;t++){T.eY($,W,L[M]);
T.eY($,W+4,L[M+1]);M+=2;W+=8}}return $.buffer};function qh(){}qh.iN=function(h){var R=new Uint8Array(h),d=0,L=T.UK(R,d,4);
d+=4;var $=T.BP(R,d);d+=2;var W=T.U(R,d);d+=4;var M=[];for(var x=0;x<W;x++){var t=T.U(R,d);d+=4;var g={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
M.push(g);var r=T.$X(R,d);g.Nm.v=r;d+=4+r.length*2+2;var l=T.BP(R,d);d+=2;var H=T.BP(R,d);d+=2;for(var y=0;
y<H;y++){var f=z.LV.Ud(0,0,!0);f.v.Vrtc.v=T.BP(R,d);d+=2;f.v.Hrzn.v=T.BP(R,d);d+=2;g.Crv.v.push(f)}if(t==1){}else if(t==2){for(var y=0;
y<H;y++){g.Crv.v[y].v.Cnty.v=R[d]==1;d+=1}}else throw"error";var b=T.U(R,d);d+=4;var K=T.U(R,d);d+=4}return M};
qh.Ln=function(h,R){h.Nm.v=R};qh.FI=function(h){var R=new hK,d=0;T._F(R,d,"8BFS");d+=4;T.yZ(R,d,1);d+=2;
T.Uz(R,d,h.length);d+=4;for(var L=0;L<h.length;L++){T.Uz(R,d,2);d+=4;var $=h[L];T.xS(R,d,$.Nm.v+"\0");
d+=4+$.Nm.v.length*2+2;T.yZ(R,d,2);d+=2;var W=$.Crv.v.length;T.yZ(R,d,W);d+=2;for(var M=0;M<W;M++){var x=$.Crv.v[M];
T.yZ(R,d,x.v.Vrtc.v);d+=2;T.yZ(R,d,x.v.Hrzn.v);d+=2}R._b(d,W);for(var M=0;M<W;M++){R.data[d]=$.Crv.v[M].v.Cnty.v;
d++}T.Uz(R,d,0);d+=4;T.Uz(R,d,0);d+=4}return R.data.slice(0,d).buffer};function tc(){}tc.iN=function(h){var R=new Uint8Array(h),d=4,L=T.BP(R,d);
d+=2;var $=T.U(R,d);d+=4;var W=[];for(var M=0;M<$;M++){var x={};W.push(x);d=tc.Sj(R,d,x)}return W};tc.Ln=function(h,R){h.name=R};
tc.FI=function(h){var R=new hK,d=0;T._F(R,d,"8BPT");d+=4;T.yZ(R,d,1);d+=2;T.Uz(R,d,h.length);d+=4;for(var L=0;
L<h.length;L++){d=tc.SP(R,d,h[L])}return R.data.slice(0,d).buffer};tc.Sj=function(h,R,d){var L=T.U(h,R);
R+=4;if(L!=1)alert("Unknown version of pattern");var $=T.U(h,R);R+=4;if($!=1&&$!=2&&$!=3)console.log("Unsupported mode of pattern: "+$);
var W=T.BP(h,R);R+=2;var M=T.BP(h,R);R+=2;d.e=new A(0,0,M,W);d.name=T.$X(h,R);R+=4+2*d.name.length+2;
var x=h[R];R++;d.id=T.UK(h,R,x);R+=d.id.length;var t=-1;if($==2){t=R;R+=3*256+4}var g=new z.Zb(M*W);
R=tc.zPW(h,R,g);if($==2){for(var r=0;r<g.H.length;r++){var l=3*g.H[r];g.H[r]=h[t+l+0];g.N[r]=h[t+l+1];
g.W[r]=h[t+l+2]}}d.tP=z.h(d.e.s()*4);z.eB(g,d.tP);return R};tc.SP=function(h,R,d){T.Uz(h,R,1);R+=4;T.Uz(h,R,3);
R+=4;T.yZ(h,R,d.e.$);R+=2;T.yZ(h,R,d.e.k);R+=2;T.xS(h,R,d.name+"\0");R+=4+2*d.name.length+2;T.Rw(h,R,d.id.length);
R++;T._F(h,R,d.id);R+=d.id.length;var L=new z.Zb(d.e.s());z.ss(d.tP,L);R=tc.zPq(h,R,L,d);return R};tc.zPW=function(h,R,d){var L=R,$={e:null,ro:[],zFs:null,NS:null},W=T.U(h,R);
R+=4;var M=T.U(h,R);R+=4;$.e=T.sB(h,R);R+=16;var x=T.U(h,R);R+=4;for(var t=0;t<x+2;t++){var g=T.U(h,R);
R+=4;if(g==0)continue;var r=T.U(h,R);R+=4;if(r==0)continue;var l=T.U(h,R);R+=4;var H=T.sB(h,R);R+=16;
var y=T.BP(h,R);R+=2;var f=h[R];R++;var b=zW.MV(!1,l,h,H.k,H.$,R,f);if(t<x)$.ro.push(b);if(t==x)$.zFs=b;
if(t==x+1)$.NS=b;R+=r-23}if(!$.e.dp()){if($.ro[0])d.H=$.ro[0];if($.ro[1])d.N=$.ro[1];else d.N=z.clone($.ro[0]);
if($.ro[2])d.W=$.ro[2];else d.W=z.clone($.ro[0]);if($.NS)d.r$=$.NS;else z.set(d.r$,255)}return R};tc.zPq=function(h,R,d,L){var $=R,W={e:L.e,ro:[d.H,d.N,d.W],zFs:null,NS:d.r$};
T.Uz(h,R,3);R+=4;T.Uz(h,R,0);R+=4;T.Yy(h,R,W.e);R+=16;T.Uz(h,R,24);R+=4;for(var M=0;M<24+2;M++){var x=R,t=M<3||M==25?1:0;
T.Uz(h,R,t);R+=4;if(t==0)continue;T.Uz(h,R,0);R+=4;T.Uz(h,R,8);R+=4;T.Yy(h,R,W.e);R+=16;T.yZ(h,R,8);
R+=2;T.Rw(h,R,1,1);R++;var g=M<3?W.ro[M]:W.NS;h._b(R,L.e.s()+2);R=zW.CT(g,h.data,L.e.k,L.e.$,R,1);T.Uz(h,x+4,R-x-8)}T.Uz(h,$+4,R-$-8);
return R};function hS(){}hS.iN=function(h){var R=new Uint8Array(h),d=0,L=T.UK(R,d,4);d+=4;var $=T.BP(R,d);
d+=2;var W=[];if($<=3){var M=T.BP(R,d);d+=2;for(var x=0;x<M;x++){var t=R[d++],g=T.UK(R,d,t);d+=t;var r=hS.SS(R,d,g),l=r[0];
d=r[1];W.push(l);d+=6}}else{var r={},H=uR.kI(R,r,d+4),y=r.GrdL.v;for(var x=0;x<y.length;x++)W[x]=y[x].v.Grad.v}return W};
hS.Ln=function(h,R){h.Nm.v=R};hS.FI=function(h){var R=new hK,d=0;T._F(R,d,"8BGR");d+=4;T.yZ(R,d,5);d+=2;
T.Uz(R,d,16);d+=4;var L={classID:"null",GrdL:{t:"VlLs",v:[]}},$=L.GrdL.v;for(var W=0;W<h.length;W++)$[W]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:h[W]}}};
d+=uR.II(R,L,d);return R.data.slice(0,d).buffer};hS.SS=function(h,R,d){var L={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{BA:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:d},Trns:{t:"VlLs",v:[]}},$=T.BP(h,R);
R+=2;if($==0)throw"e";for(var W=0;W<$;W++){var M=T.U(h,R),x=T.U(h,R+4),t=tC.UB(h,R+8),g={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:t.H},Grn:{t:"doub",v:t.N},Bl:{t:"doub",v:t.W}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:M},Mdpn:{t:"long",v:x}}};
L.Clrs.v.push(g);R+=20}var r=T.BP(h,R);R+=2;for(var W=0;W<r;W++){var M=T.U(h,R),x=T.U(h,R+4),l=T.BP(h,R+8),g={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*l/255)}},Lctn:{t:"long",v:M},Mdpn:{t:"long",v:x}}};
L.Trns.v.push(g);R+=10}return[L,R]};hS.zPO=function(h,R,d){var L=d.Clrs.v.length;T.yZ(h,R,L);R+=2;for(var $=0;
$<L;$++){var W=d.Clrs.v[$];T.Uz(h,R,W.v.Lctn.v);T.Uz(h,R+4,W.v.Mdpn.v);T.yZ(h,R+8,0);var M=z.i.ZR(z.i.IZ(W.v.Clr.v)),x=[M.Rd.v,M.Grn.v,M.Bl.v,0];
for(var t=0;t<4;t++)T.yZ(h,R+10+t*2,Math.round(65535*(x[t]/255)));R+=20}var g=d.Trns.v.length;T.yZ(h,R,g);
R+=2;for(var $=0;$<g;$++){var W=d.Trns.v[$];T.Uz(h,R,W.v.Lctn.v);T.Uz(h,R+4,W.v.Mdpn.v);T.yZ(h,R+8,Math.round(255*W.v.Opct.v.val/100));
R+=10}return R};function Bs(){}Bs.iN=function(h){var R=new Uint8Array(h),d=[],L=[],$=[],W=0,M=T.UK(R,W,4);
W+=4;var x=T.U(R,W);W+=4;var t=T.U(R,W);W+=4;while(W<R.length){var g=T.UK(R,W,4);W+=4;var r=T.UK(R,W,4);
W+=4;var l=T.U(R,W);W+=4;if(r=="tppa"){L=WH.CE(R,W,l);W+=l}else if(r=="tpbd"){$=WH.Nw(R,W,l,1,1);W+=l}else if(r=="tptp"){var H=T.U(R,W);
W+=4;for(var y=0;y<H;y++){var f=T.$X(R,W);W+=6+f.length*2;W+=4;var b={};W+=uR.kI(R,b,W);d.push([f,b])}while((W&3)!=0)W++}else{console.log(R.slice(W-8,W+64));
console.log(T.UK(R,W-8,64));throw r}}return{WU:$,kR:L,list:d}};Bs.Ln=function(h,R){h[0]=R};Bs.FI=function(h){var R=new hK,d=0;
T._F(R,d,"8BTP");d+=4;T.Uz(R,d,3);d+=4;T.Uz(R,d,1);d+=4;var L=[h.kR,h.WU,h.list];for(var $=0;$<3;$++){if(L[$].length==0)continue;
T._F(R,d,"8BIM");d+=4;var W=["tppa","tpbd","tptp"][$];T._F(R,d,W);d+=4;var M=d;d+=4;if(W=="tppa"){d=WH.CP(R,d,h.kR)}else if(W=="tpbd"){d=WH.No(R,d,h.WU)}else if(W=="tptp"){T.Uz(R,d,h.list.length);
d+=4;for(var x=0;x<h.list.length;x++){var t=h.list[x];T.xS(R,d,t[0]+"\0");d+=6+t[0].length*2;T.Uz(R,d,16);
d+=4;d+=uR.II(R,t[1],d)}}T.Uz(R,M,d-M-4);while((d&3)!=0)d++;R._b(d,0)}return R.data.slice(0,d).buffer};
function tZ(){}tZ.iN=function(h,R){var d=new Uint8Array(h),L;if(T.U(d,0)==d.length)L="icc";else if(d[0]=="<".charCodeAt(0))L="look";
else if(T.eh(d,"LUT_3D_SIZE")!=-1)L="cube";else L="3DL";if(L!="icc"){var $=tZ.zNS(d,L),W=tZ.zPC($[0],$[1]);
d=W}var M=[];for(var x=0;x<d.length;x++)M.push(d[x]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:R?R:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:M}}]};
tZ.FI=function(h){var R=h[0],d=new Uint8Array(R.profile.v);return d.buffer};tZ.Ln=function(h,R){h.Nm.v=R};
tZ.zPC=function(h,R){var d=new hK,L=128;d._b(0,128);var $=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var W=0;W<$.length;W++)d.data[W]=$[W];var M=["desc","A2B0"],x=M.length,t=128+4+x*12;T.Uz(d,L,x);
L+=4;for(var g=0;g<x;g++){var r=M[g];T._F(d,L,r);L+=4;T.Uz(d,L,t);L+=4;var l=t;if(r=="desc"){T._F(d,l,"mluc");
l+=4;l+=4;T.Uz(d,l,1);l+=4;T.Uz(d,l,12);l+=4;T._F(d,l,"enUS");l+=4;var H="ICC by Photopea\0",y=H.length*2+2;
T.Uz(d,l,y);l+=4;T.Uz(d,l,28);l+=4;d._b(l,y);for(var W=0;W<H.length;W++)d.data[l+W*2+1]=H.charCodeAt(W);
l+=y}if(r=="A2B0"){T._F(d,l,"mAB ");l+=4;l+=4;d._b(l,4);d.data[l]=3;d.data[l+1]=3;l+=4;d._b(l,4*5);l+=4*3;
T.Uz(d,l,l+8-t);l+=4;l+=4;d._b(l,20);d.data[l]=h;d.data[l+1]=h;d.data[l+2]=h;l+=16;d.data[l]=2;l+=4;
var f=h*h*h*3;d._b(l,f*2);for(var W=0;W<f;W++)T.Te(d.data,l+W*2,Math.max(0,Math.min(65535,Math.round(R[W]*65535))));
l+=f*2}var b=l-t;while((b&3)!=0)b++;T.Uz(d,L,b);L+=4;t+=b}T.Uz(d,0,t);return d.data.slice(0,t)};tZ.zNS=function(h,R){R="LUTFormat"+R.toUpperCase();
var d=[],L=0,$=T.fh(h,0,h.length),W="";for(var M=0;M<h.length&&W=="";M++){if(h[M]==10)W="\n";else if(h[M]==13){W="\r";
if(h[M+1]==10)W+="\n"}}if(R=="LUTFormatCUBE"){var x=$.split(W);for(var M=0;M<x.length;M++){if(x[M]==""||x[M][0]=="#")continue;
var t=x[M].split(" "),g=t[0];if(g=="LUT_3D_SIZE"){L=parseInt(t[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(g)!=-1)continue;
d.push(parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2]))}d=tZ.S_(L,d)}else if(R=="LUTFormat3DL"){var x=$.split(W),r=1/4095;
for(var M=0;M<x.length;M++){var l=x[M];if(l==""||l=="3DMESH"||l.startsWith("Mesh")||l[0]=="#")continue;
var t=l.split(" "),g=t[0];if(L==0){L=t.length;continue}d.push(parseFloat(t[0])*r,parseFloat(t[1])*r,parseFloat(t[2])*r)}}else if(R=="LUTFormatLOOK"){var H=new DOMParser,y=H.parseFromString($,"text/xml"),f=y.getElementsByTagName("LUT")[0],b=f.children[0].textContent;
L=parseInt(JSON.parse(b));var K=f.children[1].textContent;K=K.replace(/"/g,"").replace(/\s/g,"");var Z=3*L*L*L,J=Z*4,u=new Uint8Array(J);for(var M=0;M<J;M++){var C=K.charCodeAt(M*2),Q=K.charCodeAt(M*2+1),i=C<58?C-48:C-55,j=Q<58?Q-48:Q-55;u[M]=(i<<4)+j}for(var M=0;M<Z;M++)d.push(T.eQ(u,M<<2));d=tZ.S_(L,d)}else throw R;return[L,d]};tZ.S_=function(h,R){var d=[],L=h*h*h;for(var $=0;$<L;$++)d.push(0,0,0);for(var W=0;W<h;W++)for(var M=0;M<h;M++)for(var x=0;x<h;x++){var $=3*(x+M*h+W*h*h),t=3*(W+M*h+x*h*h);d[t]=R[$];d[t+1]=R[$+1];d[t+2]=R[$+2]}return d};function uR(){}uR.kI=function(h,R,d,L,$){var W=d,M;if($==null)$=0;var x=T.U(h,d);if(x==0){M="";d+=4}else{M=T.$X(h,d);d+=4+2*M.length+2}if(M!="")R.__name=M;R.classID=uR.GB(h,d);if(L)console.log("\t".repeat($),"- reading descriptor",R.classID,d);d+=uR.Gq(h,d);var t=T.Uw(h,d);d+=4;for(var g=0;g<t;g++){var r=uR.GB(h,d);d+=uR.Gq(h,d);var l=uR.SG(h,d,L,$);R[r]=l;d+=l.size;delete l.size}return d-W};uR.II=function(h,R,d,L){var $=d,W=R.__name;if(W==null)W="";W+="\0";T.xS(h,d,W);d+=4+2*W.length;uR.Gi(h,d,R.classID);d+=uR.Gq(h.data,d);T.wC(h,d,Object.keys(R).length-1-(R.__name==null?0:1));d+=4;for(var M in R){if(M=="classID")continue;if(M=="__name")continue;uR.Gi(h,d,M);d+=uR.Gq(h.data,d);d+=uR.SA(h,d,R[M])}return d-$};uR.SG=function(h,R,d,L){var $=R,W=T.UK(h,R,4);R+=4;var M={size:0,t:W,v:null};if(d)console.log("\t".repeat(L),"reading key",W,$);switch(W){case"obj ":case"VlLs":M.v=[];var x=T.U(h,R);R+=4;for(var t=0;t<x;t++){var g=uR.SG(h,R,d,L+1);R+=g.size;delete g.size;M.v.push(g)}break;case"UntF":M.v={type:T.UK(h,R,4),val:T.iA(h,R+4)};R+=12;break;case"doub":M.v=T.iA(h,R);R+=8;break;case"bool":M.v=h[R]==1;R+=1;break;case"long":M.v=T.Uw(h,R);R+=4;break;case"comp":M.v=T.Uw(h,R+4);R+=8;break;case"Objc":M.v={};var r=uR.kI(h,M.v,R,d,L+1);R+=r;break;case"TEXT":var l=T.U(h,R);if(l==0){M.v="";R+=4}else{M.v=T.$X(h,R);R+=4+M.v.length*2+2}break;case"enum":var H=uR.GB(h,R);R+=uR.Gq(h,R);var y=uR.GB(h,R);R+=uR.Gq(h,R);M.v={};M.v[H]=y;break;case"tdta":var f=T.Uw(h,R);R+=4;M.v=[];for(var t=0;t<f;t++)M.v.push(h[R+t]);R+=f;break;case"ObAr":var b=T.U(h,R);R+=4;var K=T.$X(h,R);R+=4+2*K.length+2;if(K!="")throw K;var J=uR.GB(h,R);R+=4+Math.max(4,J.length);M.v={classID:J,arr:[]};var u=T.U(h,R);R+=4;for(var t=0;t<u;t++){var J=uR.GB(h,R);R+=4+Math.max(4,J.length);var H=T.UK(h,R,4);R+=4;var C=T.UK(h,R,4);R+=4;var Q={id:J,type:H,uID:C,arr:[]};M.v.arr.push(Q);var i=T.U(h,R,4);R+=4;for(var j=0;j<i;j++){var V=T.iA(h,R);R+=8;Q.arr.push(V)}}break;case"Pth ":var E=R,f=T.U(h,R);R+=4;var N=T.UK(h,R,4);R+=4;var n=T.KB(h,R);R+=4;var a=T.z_O(h,R);R+=4+a.length*2;M.v={sig:N,pth:a};break;case"Clss":case"type":case"rele":var a=T.$X(h,R);R+=4+a.length*2+2;var I=uR.GB(h,R);R+=4+Math.max(4,I.length);M.v={classID:I};if(a!="")M.v.__name=a;if(W=="rele"){M.v.val=T.Uw(h,R);R+=4}break;case"prop":case"Enmr":case"indx":case"name":var q=uR.CL[W],a=T.$X(h,R);R+=4+a.length*2+2;if(a.length!=0){console.log(W,a);throw"e"}M.v={};for(var t=0;t<q.length;t++){var I=uR.GB(h,R);R+=4+Math.max(4,I.length);M.v[q[t]]=I}if(W=="name"){var a=T.$X(h,R);R+=4+a.length*2+2;M.v.val=a}if(W=="indx"){M.v.val=T.U(h,R);R+=4}break;case"alis":var f=T.U(h,R);R+=4;M.v=T.UK(h,R,f);R+=f;break;default:{console.log("unknown oskey: "+W+", "+$);throw"e";return M}}if(d){console.log("\t".repeat(L),M.v);console.log("\t".repeat(L),"======",R)}M.size=R-$;return M};uR.CL={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};uR.SA=function(h,R,d){var L=R,$=d.t;d=d.v;T._F(h,R,$);R+=4;switch($){case"obj ":case"VlLs":T.wC(h,R,d.length);R+=4;for(var W=0;W<d.length;W++){var M=uR.SA(h,R,d[W]);R+=M}break;case"UntF":T._F(h,R,d.type);T.yL(h,R+4,d.val);R+=12;break;case"doub":T.yL(h,R,d);R+=8;break;case"bool":T.Rw(h,R,d?1:0,1);R+=1;break;case"long":T.wC(h,R,d);R+=4;break;case"comp":T.wC(h,R+4,d);R+=8;break;case"Objc":var M=uR.II(h,d,R);R+=M;break;case"TEXT":T.xS(h,R,d+"\0");R+=4+d.length*2+2;break;case"enum":var x=Object.keys(d)[0],t=d[x];uR.Gi(h,R,x);R+=uR.Gq(h.data,R);uR.Gi(h,R,t);R+=uR.Gq(h.data,R);break;case"tdta":T.Uz(h,R,d.length);R+=4;T.AD(h,R,d);R+=d.length;break;case"ObAr":T.Uz(h,R,d.arr[0].arr.length);R+=4;T.xS(h,R,"\0");R+=6;uR.Gi(h,R,d.classID);R+=4+Math.max(4,d.classID.length);T.Uz(h,R,d.arr.length);R+=4;for(var g=0;g<d.arr.length;g++){var r=d.arr[g];uR.Gi(h,R,r.id);R+=4+Math.max(4,r.id.length);T._F(h,R,r.type);R+=4;T._F(h,R,r.uID);R+=4;T.Uz(h,R,r.arr.length);R+=4;for(var W=0;W<r.arr.length;W++){T.yL(h,R,r.arr[W]);R+=8}}break;case"Pth ":var l=d.pth.length*2+4+8;T.Uz(h,R,l);R+=4;T._F(h,R,d.sig);R+=4;T.G$(h,R,l);R+=4;T.z_Y(h,R,d.pth);R+=d.pth.length*2+4;break;case"Clss":case"type":case"rele":var H=d.__name;if(H==null)H="";T.xS(h,R,H+"\0");R+=4+H.length*2+2;var y=d.classID;uR.Gi(h,R,y);R+=4+Math.max(4,y.length);if($=="rele"){T.wC(h,R,d.val);R+=4}break;case"prop":case"Enmr":case"indx":case"name":var f=uR.CL[$];T.Uz(h,R,1);R+=6;for(var g=0;g<f.length;g++){var y=d[f[g]];uR.Gi(h,R,y);R+=4+Math.max(4,y.length)}if($=="name"){T.xS(h,R,d.val+"\0");R+=4+d.val.length*2+2}if($=="indx"){T.Uz(h,R,d.val);R+=4}break;case"alis":var l=d.length;T.Uz(h,R,l);R+=4;T._F(h,R,d);R+=l;break;default:console.log("unknown oskey: "+$);R=L;break}return R-L};uR.GB=function(h,R){var d=T.Uw(h,R);if(d>1e3)throw"e";if(d==0)d=4;return T.UK(h,R+4,d).trim()};uR.Gq=function(h,R){var d=T.Uw(h,R);return d==0?8:4+d};uR.Gi=function(h,R,d){var L="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby flow trim then else".split(" "),$=4<d.length||L.indexOf(d)!=-1;T.wC(h,R,$?d.length:0);T._F(h,R+4,d);if(d.length<4&&!$){var W="";for(var M=d.length;M<4;M++)W+=" ";T._F(h,R+4+d.length,W)}};uR.zNZ=function(h){var R={};for(var d in h){if(d=="classID")R[d]=h[d];else if(d=="__name")R[d]=h[d];else R[d]=uR.SO(h[d])}return R};uR.SO=function(h){if(h.BA=="Objc")return uR.zNZ(h.v);else if(h.BA=="VlLs"){var R=[];for(var d=0;d<h.v.length;d++)R.push(uR.SO(h.v[d]));return R}else if(h.BA=="UntF")return h.v.val;else return h.v};function ty(){}ty.Sg=function(h,R,d,L,$,W){while(R<d){var M=T.UK(h,R,4);R+=4;if(M!="8BIM"&&M!="8B64"){console.log("layer information signature error! "+M,"PSB = "+$);alert("Error in PSD file: wrong signature.");return d}var x=T.UK(h,R,4);R+=4;var t=T.Uw(h,R);R+=4;if($&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd".split(" ").indexOf(x)!=-1){t=t<<32|T.Uw(h,R);R+=4}if($&&["pths"].indexOf(x)!=-1){t=t<<32|T.Uw(h,R);R+=4}var g=["lrFX","PlLd"];if(g.indexOf(x)!=-1){if(t%4!=0)t+=4-t%4;R+=t;continue}switch(x){case"iOpa":L[x]=h[R];break;case"brst":L[x]=[1,1,1];for(var r=0;r<t;r+=4)L[x][T.U(h,R+r)]=0;break;case"knko":L[x]=h[R];break;case"infx":L[x]=h[R];break;case"clbl":L[x]=h[R];break;case"lmgm":L[x]=h[R];break;case"vmgm":L[x]=h[R];break;case"lyid":L[x]=T.U(h,R);break;case"lsct":L[x]={type:T.U(h,R)};if(t>=12)L[x].Pg=T.UK(h,R+8,4);break;case"lsdk":L.lsct={type:T.U(h,R)};break;case"lyvr":L[x]=T.U(h,R);break;case"lnsr":var l={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};L[x]=T.UK(h,R,4);break;case"lspf":L[x]=T.U(h,R);break;case"lclr":L[x]=T.BP(h,R);break;case"luni":L[x]=T.lR(h,R);break;case"fxrp":L[x]=new kY(T.iA(h,R),T.iA(h,R+8));break;case"artb":case"artd":L[x]={};uR.kI(h,L[x],R+4);break;case"SoCo":L[x]={};uR.kI(h,L[x],R+4);break;case"GdFl":L[x]={};uR.kI(h,L[x],R+4);ty.EJ(L[x],x);break;case"PtFl":L[x]={};uR.kI(h,L[x],R+4);ty.EJ(L[x],x);break;case"CgEd":var H=L.brit=u$.hx("brit"),y={};uR.kI(h,y,R+4);H.Brgh.v=y.Brgh?y.Brgh.v:0;H.Cntr.v=y.Cntr?y.Cntr.v:0;H.useLegacy.v=y.useLegacy?y.useLegacy.v:0;break;case"brit":if(L.brit==null){var H=L.brit=u$.hx("brit"),y={};H.Brgh.v=T.rR(h,R);H.Cntr.v=T.rR(h,R+2);H.useLegacy.v=!1}break;case"levl":var f=h.buffer.slice(R,R+t);L[x]=tm.iN(f);break;case"curv":L[x]=zb.Mw(h,R,t);break;case"expA":var b=T.BP(h,R),K=L[x]=u$.hx("expA");K.Exps.v=T.YR(h,R+2);K.Ofst.v=T.YR(h,R+6);K.gammaCorrection.v=T.YR(h,R+10);break;case"vibA":L[x]={};uR.kI(h,L[x],R+4);break;case"hue2":L[x]=zg.Mw(h,R,t);break;case"blnc":var K=L[x]=u$.hx(x);K.PrsL.v=h[R+18]==1;var Z=["ShdL","MdtL","HghL"];for(var r=0;r<3;r++)for(var J=0;J<3;J++)K[Z[r]].v[J].v=T.rR(h,R+r*6+J*2);break;case"blwh":var u={};uR.kI(h,u,R+4);var K=u$.hx(x),C="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");for(var r=0;r<C.length;r++){K[C[r]]=u[C[r]];delete u[C[r]]}L[x]=K;break;case"phfl":var K=L[x]=u$.hx(x),Q=K.Clr.v,b=T.BP(h,R);if(b==3){var i=[T.U(h,R+2),T.U(h,R+6),T.U(h,R+10)],j=32768,V=z.Ye(i[0]/j,i[1]/j,i[2]/j);Q.Lmnc.v=V.UM;Q.A.v=V.r$;Q.B.v=V.W}if(b==2){var E=T.BP(h,R+2);if(E!=7)throw"e";Q.Lmnc.v=T.rR(h,R+4)/100;Q.A.v=T.rR(h,R+6)/100;Q.B.v=T.rR(h,R+8)/100}var N=R+2+(b==3?12:10);K.Dnst.v=T.U(h,N);N+=4;K.PrsL.v=h[N]==1;break;case"mixr":var n={O$:T.BP(h,R+2)==1,a:[]};for(var r=0;r<20;r++)n.a.push(T.rR(h,R+4+r*2));L[x]=uJ.zqc(n);break;case"clrL":case"rplc":L[x]={};uR.kI(h,L[x],R+6);break;case"nvrt":L[x]={};break;case"post":L[x]=u$.hx("post");L[x].Lvls.v=T.BP(h,R);break;case"thrs":L[x]=u$.hx("thrs");L[x].Lvl.v=T.BP(h,R);break;case"grdm":var a={rev:h[R+2]==1,zda:h[R+3]==1},I=R+4,q=T.lR(h,I);I+=4+q.length*2;var k=hS.SS(h,I,q),F=k[0];I=k[1];var o=T.BP(h,I);I+=2;F.Intr.v=T.BP(h,I);I+=2;var G=T.BP(h,I);I+=2;a.mode=T.BP(h,I);I+=2;a.ba=T.U(h,I);I+=4;a.zdB=T.BP(h,I)==1;I+=2;a.zdp=T.BP(h,I)==1;I+=2;a.zdn=T.U(h,I);I+=4;a.zdX=T.BP(h,I);I+=2;a.JV=[];for(var r=0;r<4;r++)a.JV.push(T.BP(h,I+r*2));I+=8;a.Ta=[];for(var r=0;r<4;r++)a.Ta.push(T.BP(h,I+r*2));I+=8;var w=T.BP(h,I);I+=2;var U=u$.hx("grdm");U.Rvrs.v=a.rev;U.Grad.v=F;L[x]=U;break;case"selc":L[x]=zC.Mw(h,R,t);break;case"vmsk":case"vsms":var B=L.vmsk=new S.EF,D=T.Uw(h,R+4),P=(D>>0&1)==1;B._q=(D>>1&1)==0;B.isEnabled=(D>>2&1)==0;B.r=WX.CR(h,R+8,t-8,W.k,W.$);break;case"shmd":L[x]={};var v=T.U(h,R),N=R+4;for(var r=0;r<v;r++){var M=T.UK(h,N,4);N+=4;var O=T.UK(h,N,4);N+=4;N+=4;var uk=T.U(h,N);N+=4;if(O=="cust"||O=="cmls"||O=="extn"||O=="mlst"){var ut=T.U(h,N);if(ut!=16)N+=4;var u={};uR.kI(h,u,N+4,!1);L[x][O]=u;if(O=="cmls")uE.Ah.zWo(L[x][O])}else{console.log("unknown shmd key: "+O+", size: "+uk)}N+=uk}break;case"shpa":var b=T.U(h,R),ua=T.U(h,R+4);if(ua!=0)console.log("some patterns present!");break;case"TySh":var uu=L[x]={},b=T.BP(h,R);uu.V=T.pN(h,R+2);var uW=T.BP(h,R+2+48);uu.gX={};var kV=uR.kI(h,uu.gX,R+56),p=uM.zjB();for(var _ in p)if(uu.gX[_]==null)uu.gX[_]=p[_];uu.gf={};var uB=uR.kI(h,uu.gf,R+56+kV+6);uu.bz=T.zGc(h,R+56+kV+6+uB);uu.h_=tn.iN(uu.gX.EngineData.v);uM.zwP(uu.h_.EngineDict.StyleRun.RunArray);if(uu.h_.ResourceDict==null)uu.h_.ResourceDict=JSON.parse(JSON.stringify(uu.h_.DocumentResources));delete uu.gX.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var ub=T.U(h,R),uq=T.U(h,R+4);L.lmfx={};var kV=uR.kI(h,L.lmfx,R+8);ty.CJ(L.lmfx);break;case"FMsk":L[x]=T.Aw(h,R,t);break;case"Txt2":L[x]={};L[x].raw=T.Aw(h,R,t);L[x].J_=WI.iN(L[x].raw);break;case"Patt":L[x]=WH.CE(h,R,t);break;case"SoLd":var uF=T.UK(h,R,4),ue=T.U(h,R+4),up=T.U(h,R+8);L[x]={};var ui=uR.kI(h,L[x],R+12);if(L[x].nonAffineTransform==null)L[x].nonAffineTransform=JSON.parse(JSON.stringify(L[x].Trnf));var zd=L[x].filterFX;if(zd){var uN=zd.v.filterFXList.v;for(var r=0;r<uN.length;r++){var u_=uN[r].v,za=u_.filterID;if(za&&za.v==993)u_.filterID.v=689;if(za&&za.v==1031)u_.filterID.v=693;if(za&&za.v==902)u_.filterID.v=898}}break;case"vstk":case"pths":var ue=T.U(h,R);L[x]={};var ui=uR.kI(h,L[x],R+4);break;case"vscg":var O=T.UK(h,R,4),ue=T.U(h,R+4);L[O]={};var ui=uR.kI(h,L[O],R+8);ty.EJ(L[O],O);break;case"vogk":var uZ=T.U(h,R),ue=T.U(h,R+4);L[x]={};var ui=uR.kI(h,L[x],R+8);L[x]=L[x].keyDescriptorList.v;for(var r=0;r<L[x].length;r++){}break;case"lnk2":case"lnkD__":case"lnk3__":L[x]=[];var I=R;while(I<R+t){var uj=new S.Bs;L[x].push(uj);var G=T.lY(h,I);I+=8;var uw=I;uj.type=T.UK(h,I,4);I+=4;if(uj.type!="liFD"){alert("Unknown Linked Layer type: "+uj.type);break;throw uj.type}uj.NK=T.U(h,I);I+=4;var tI=T.AW(h,I);I+=1+tI.JO.length;uj.uo=tI.JO;uj.qZ=T.$X(h,I);I+=4+uj.qZ.length*2+2;uj.sS=T.UK(h,I,4);I+=4;uj.JA=T.UK(h,I,4);I+=4;var ug=T.lY(h,I);I+=8;uj.open=h[I];I+=1;if(uj.open!=0){var uO={},kV=uR.kI(h,uO,I+4);if(kV%4!=0)kV+=4-kV%4;console.log(uO);I+=kV+4}uj.open=0;uj.raw=T.Aw(h,I,ug);I=uw+G;if(G%4!=0)I+=4-G%4}break;case"FEid":var I=R;L[x]=[];var uC=I+t,b=T.U(h,I);I+=4;while(I<uC){I+=4;var G=T.U(h,I);I+=4;var k={};L[x].push(k);k.id=T.AW(h,I).JO;I+=k.id.length+1;var b=T.U(h,I);I+=4;I+=4;var ux=T.U(h,I);I+=4;k.rect=T.sB(h,I);I+=16;var zu=T.U(h,I);I+=4;var uL=T.U(h,I);I+=4;var un=new z.Zb(0);for(var r=0;r<uL+2;r++){var us=T.U(h,I);I+=4;if(us!=0){I+=4;var Wa=T.U(h,I),Wt=null;I+=4;if(r<3||r==25)Wt=zW.EU(!0,zu,h,k.rect.k,k.rect.$,I,Wa);if(r==0)un.H=Wt;if(r==1)un.N=Wt;if(r==2)un.W=Wt;if(r==25)un.r$=Wt;I+=Wa}}k.buffer=z.h(k.rect.s()*4);z.eB(un,k.buffer);z.Qw(k);var uV=h[I];I++;if(uV!=0){k.v=new S.x_;k.v.rect=T.sB(h,I);I+=16;I+=4;var zZ=T.U(h,I);I+=4;k.v.channel=zW.EU(!0,zu,h,k.v.rect.k,k.v.rect.$,I,zZ);k.v.color=255;k.v.tn();I+=zZ}if(G%4!=0)I+=4-G%4}break;case"Lr16":WP.mj(W,h,R);break;default:console.log("unknown layer tag: "+x+", size: "+t);break}var uU="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2".split(" ");if(uU.indexOf(x)==-1)if(t%4!=0)console.log("size not multiple of 4!!!",x);if(x!="luni"&&x!="TySh"&&x!="tySh"&&x!="lfx2")if(t%4!=0)t+=4-t%4;R+=t}var zI=[];for(var r=0;r<zI.length;r++)delete L[zI[r]];return R};ty.SQ=function(h,R,d,L){for(var $ in d)if(d[$]==null){alert("A bug occured (see console).");console.log("Please, report a bug, that \""+$+"\" tag was present with a null value.");
delete d[$]}for(var $ in d){T._F(h,R,"8BIM");R+=4;var W=R,M=0;T._F(h,R,$);R+=4;T.wC(h,R,0);R+=4;switch($){case"iOpa":T.Rw(h,R,d[$],1);
M=4;break;case"brst":M=0;for(var x=0;x<3;x++)if(d[$][x]==0){T.Uz(h,R+M,x);M+=4}break;case"knko":T.Rw(h,R,d[$],1);
M=4;break;case"infx":T.Rw(h,R,d[$],1);M=4;break;case"clbl":T.Rw(h,R,d[$],1);M=4;break;case"lmgm":T.Rw(h,R,d[$],1);
M=4;break;case"vmgm":T.Rw(h,R,d[$],1);M=4;break;case"lyid":T.Uz(h,R,d[$]);M=4;break;case"lsct":T.Uz(h,R,d[$].type);
M=4;if(d[$].Pg){T._F(h,R+4,"8BIM");T._F(h,R+8,d[$].Pg);M=12}break;case"lyvr":T.Uz(h,R,d[$]);M=4;break;
case"lnsr":T._F(h,R,d[$]);M=4;break;case"lspf":T.Uz(h,R,d[$]);M=4;break;case"lclr":T.yZ(h,R,d[$]);M=8;
break;case"luni":T.xS(h,R,d[$]);M=4+2*d[$].length;break;case"fxrp":T.yL(h,R,d[$].x);T.yL(h,R+8,d[$].y);
M=16;break;case"artb":case"artd":T.Uz(h,R,16);M=uR.II(h,d[$],R+4)+4;break;case"SoCo":T.Uz(h,R,16);M=uR.II(h,d[$],R+4)+4;
break;case"GdFl":T.Uz(h,R,16);M=uR.II(h,d[$],R+4)+4;break;case"PtFl":T.Uz(h,R,16);M=uR.II(h,d[$],R+4)+4;
break;case"CgEd":var t={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},g=t,r=d[$];
g.Brgh.v=r.Brgh.v;g.Cntr.v=r.Cntr.v;g.useLegacy.v=r.useLegacy.v;T.Uz(h,R,16);M=uR.II(h,t,R+4)+4;break;
case"brit":h._b(R,8);M=8;break;case"levl":var l=new hK;M=tm.FI(l,d[$]);T.AD(h,R,l.data);break;case"curv":M=zb.M_(h,R,d[$]);
break;case"expA":M=14;h._b(R,14);T.Te(h.data,R,1);T.GH(h.data,R+2,d[$].Exps.v);T.GH(h.data,R+6,d[$].Ofst.v);
T.GH(h.data,R+10,d[$].gammaCorrection.v);break;case"vibA":T.Uz(h,R,16);M=uR.II(h,d[$],R+4)+4;break;case"hue2":M=zg.M_(h,R,d[$]);
break;case"blnc":M=19;h._b(R,M);var H=["ShdL","MdtL","HghL"];for(var x=0;x<3;x++){var y=d[$][H[x]].v;
for(var f=0;f<3;f++)y.push(T.$z(h.data,R+x*6+f*2,y[f].v))}h.data[R+18]=d[$].PrsL.v?1:0;break;case"blwh":var t={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},b="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var x=0;x<b.length;x++){t[b[x]]=d[$][b[x]]}T.Uz(h,R,16);M=uR.II(h,t,R+4)+4;break;case"phfl":T.yZ(h,R,2);
var K=d[$].Clr.v;T.yZ(h,R+2,7);T.yZ(h,R+4,Math.round(K.Lmnc.v*100));T.yZ(h,R+6,Math.round(K.A.v*100));
T.yZ(h,R+8,Math.round(K.B.v*100));T.yZ(h,R+10,0);var Z=R+2+10;h._b(Z,5);T.Dr(h.data,Z,d[$].Dnst.v);Z+=4;
h.data[Z]=d[$].PrsL.v?1:0;Z++;M=Z-R;break;case"mixr":M=44;h._b(R,M);var J=uJ.HH(d[$]);T.Te(h.data,R,1);
T.Te(h.data,R+2,J.O$?1:0);for(var x=0;x<20;x++)T.$z(h.data,R+4+x*2,J.a[x]);break;case"clrL":case"rplc":T.yZ(h,R,1);
T.Uz(h,R+2,16);M=uR.II(h,d[$],R+6)+6;break;case"nvrt":M=0;break;case"post":T.yZ(h,R,d[$].Lvls.v);M=2;
break;case"thrs":T.yZ(h,R,d[$].Lvl.v);M=2;break;case"grdm":var u={rev:d[$].Rvrs.v,zda:!1,mode:0,ba:867527939,zdB:!1,zdp:!0,zdn:2048,zdX:3,JV:[0,0,0,0],Ta:[32768,32768,32768,32768]},C=d[$].Grad.v;
h._b(R,4);T.Te(h.data,R,1);h.data[R+2]=u.rev?1:0;h.data[R+3]=u.zda?1:0;var Q=R+4;T.xS(h,Q,C.Nm.v);Q+=4+C.Nm.v.length*2;
Q=hS.zPO(h,Q,C);T.yZ(h,Q,2);Q+=2;T.yZ(h,Q,C.Intr.v);Q+=2;T.yZ(h,Q,32);Q+=2;T.yZ(h,Q,u.mode);Q+=2;T.Uz(h,Q,u.ba);
Q+=4;T.yZ(h,Q,u.zdB?1:0);Q+=2;T.yZ(h,Q,u.zdp?1:0);Q+=2;T.Uz(h,Q,u.zdn);Q+=4;T.yZ(h,Q,u.zdX);Q+=2;for(var x=0;
x<4;x++)T.yZ(h,Q+x*2,u.JV[x]);Q+=8;for(var x=0;x<4;x++)T.yZ(h,Q+x*2,u.Ta[x]);Q+=8;Q+=2;M=Q-R;break;case"selc":M=zC.M_(h,R,d[$]);
break;case"FMsk":T.AD(h,R,d[$]);M=d[$].length;break;case"Txt2":var i=new hK,j=WI.wA(d[$].J_,i),V=z.h(j,!0);
for(var x=0;x<j;x++)V[x]=i.data[x];T.AD(h,R,V);M=V.length;break;case"vmsk":var E=d[$],N=0;T.Uz(h,R,3);
if(!E._q)N+=1<<1;if(!E.isEnabled)N+=1<<2;T.Uz(h,R+4,N);M=8;var n=E.r.length;h._b(R+8,n*26);WX.E$(h.data,R+8,E.r,L.k,L.$);
M+=n*26;break;case"shmd":T.Uz(h,R,Object.keys(d[$]).length);var Z=R+4;for(var a in d[$]){T._F(h,Z,"8BIM");
Z+=4;T._F(h,Z,a);Z+=4;T.Uz(h,Z,0);Z+=4;T.Uz(h,Z,0);Z+=4;T.Uz(h,Z,16);Z+=4;var I=uR.II(h,d[$][a],Z);if(I%4!=0)I+=4-I%4;
T.Uz(h,Z-8,I+4);Z+=I}M=Z-R;break;case"TySh":var Z=R;T.$i(h,Z,1);Z+=2;var q=d[$],i=new hK;q.h_.DocumentResources=JSON.parse(JSON.stringify(q.h_.ResourceDict));
var j=tn.wA(q.h_,i),V=z.h(j,!0);for(var x=0;x<j;x++)V[x]=i.data[x];q.gX.EngineData={t:"tdta",v:V};var k=q.h_.EngineDict.Editor.Text;
q.gX.Txt.v=k.substring(0,k.length-1);T.zGy(h,Z,q.V);Z+=48;T.$i(h,Z,50);Z+=2;T.Uz(h,Z,16);Z+=4;Z+=uR.II(h,q.gX,Z);
T.$i(h,Z,1);Z+=2;T.Uz(h,Z,16);Z+=4;Z+=uR.II(h,q.gf,Z);T.zme(h,Z,q.bz);Z+=16;M=Z-R;break;case"lmfx":T.Uz(h,R,0);
T.Uz(h,R+4,16);var t=JSON.parse(JSON.stringify(d[$])),F=!1;ty.EL(t);for(var x=0;x<uz.EN.length;x++)if(t[uz.EN[x]]!=null)F=!0;
T._F(h,W,F?"lmfx":"lfx2");M=uR.II(h,t,R+8)+8;break;case"Patt":var Z=WH.CP(h,R,d[$]);M=Z-R;break;case"SoLd":T._F(h,R,"soLD");
T.Uz(h,R+4,4);T.Uz(h,R+8,16);M=uR.II(h,d[$],R+12)+12;break;case"vstk":case"pths":T.Uz(h,R,16);M=uR.II(h,d[$],R+4)+4;
break;case"vscg__":T._F(h,R,d[$].key);T.Uz(h,R+4,16);M=uR.II(h,d[$].a,R+8)+8;break;case"vogk":T.Uz(h,R,1);
T.Uz(h,R+4,16);z.qK.z_E(d[$]);for(var x=0;x<d[$].length;x++){var o=d[$][x].v.keyOriginResolution;if(o)o.v=L.EY}var G={classID:"null",keyDescriptorList:{t:"VlLs",v:d[$]}};
M=uR.II(h,G,R+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var Q=R;for(var x=0;x<d[$].length;x++){var w=d[$][x],U=Q;
T.eI(h,Q,0);Q+=8;T._F(h,Q,w.type);Q+=4;T.Uz(h,Q,w.NK);Q+=4;h._b(Q,1);h.data[Q]=w.uo.length;Q++;T._F(h,Q,w.uo);
Q+=w.uo.length;T.xS(h,Q,w.qZ+"\0");Q+=4+w.qZ.length*2+2;T._F(h,Q,w.sS);Q+=4;T._F(h,Q,w.JA);Q+=4;T.eI(h,Q,w.raw.length);
Q+=8;h._b(Q,1);h.data[Q]=w.open;Q++;T.AD(h,Q,w.raw);Q+=w.raw.length;T.Uz(h,Q,1);Q+=4;Q+=11;var B=Q-U-8;
T.eI(h,U,B);if(B%4!=0){h._b(Q,4-B%4);Q+=4-B%4}}M=Q-R;break;case"FEid":var Q=R;T.Uz(h,Q,3);Q+=4;for(var D=0;
D<d[$].length;D++){var P=d[$][D];Q+=4;var v=Q;Q+=4;T.kr(h,Q,P.id);Q+=P.id.length+1;T.Uz(h,Q,1);Q+=4;
Q+=4;var O=Q;Q+=4;T.Yy(h,Q,P.rect);Q+=16;T.Uz(h,Q,8);Q+=4;T.Uz(h,Q,24);Q+=4;var uk=new z.Zb(P.rect.s());
z.ss(P.buffer,uk);for(var x=0;x<24+2;x++){var ut=null;if(x==0)ut=uk.H;if(x==1)ut=uk.N;if(x==2)ut=uk.W;
if(x==25)ut=uk.r$;T.Uz(h,Q,ut!=null?1:0);Q+=4;if(ut!=null){Q+=4;var ua=Q;Q+=4;h._b(Q,P.rect.s()+2);Q=zW.EX(ut,h.data,P.rect.k,P.rect.$,Q,3);
T.Uz(h,ua,Q-(ua+4))}}T.Uz(h,O,Q-(O+4));h._b(Q,1);h.data[Q]=P.v?1:0;Q++;if(P.v!=null){var uu=P.v.rect,uW=P.v.channel;
uu=P.rect;uW=z.h(uu.s());z.set(uW,P.v.color);z.mF(P.v.channel,P.v.rect,uW,uu);T.Yy(h,Q,uu);Q+=16;Q+=4;
var kV=Q;Q+=4;h._b(Q,uu.s()+2);Q=zW.EX(uW,h.data,uu.k,uu.$,Q,3);T.Uz(h,kV,Q-(kV+4))}var B=Q-(v+4);T.Uz(h,v,B);
if(B%4!=0)Q+=4-B%4}M=Q-R;break;default:console.log("unknown layer tag: "+$+", size: "+M);R-=12;continue}var p=["Txt2","artd","extd","luni","pths"];
if(p.indexOf($)==-1)if(M%4!=0)M+=4-M%4;T.wC(h,R-4,M);if($!="luni"&&$!="TySh")if(M%4!=0)M+=4-M%4;R+=M}return R};
ty.CJ=function(h){for(var R=0;R<uz.order.length;R++){var d=uz.order[R],L=uz.EN[R];if(h[L]==null)h[L]={t:"VlLs",v:[]};
if(h[d]!=null){h[L].v.push(h[d]);delete h[d]}var $=[];for(var W=0;W<h[L].v.length;W++){var M=h[L].v[W];
if(M.v.present==null||M.v.present.v==!0)$.push(M)}h[L].v=$}};ty.EL=function(h){for(var R=0;R<uz.order.length;
R++){var d=uz.order[R],L=uz.EN[R],$=h[L].v.length;if($==0){delete h[L];continue}if($==1){h[d]=h[L].v[0];
delete h[L];continue}}};ty.EJ=function(h,R){if(R=="GdFl"){if(h.Angl==null)h.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(h.Algn==null)h.Algn={v:!0,t:"bool"};if(h.Scl==null)h.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(h.Ofst==null)h.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(h.Rvrs==null)h.Rvrs={v:!1,t:"bool"};if(h.Dthr==null)h.Dthr={v:!1,t:"bool"}}if(R=="PtFl"){if(h.Algn==null)h.Algn={v:!0,t:"bool"};
if(h.Scl==null)h.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(h.phase==null)h.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};
ty.clone=function(h,R){var d={};if(h=="TySh"){d.V=R.V.clone();d.gX=JSON.parse(JSON.stringify(R.gX));
d.gf=JSON.parse(JSON.stringify(R.gf));d.bz=R.bz.clone();d.h_=JSON.parse(JSON.stringify(R.h_));if(R.add)d.add={vmsk:R.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(R.add.vogk))};
return d}else if(h=="fxrp")return R.clone();else if(h=="vmsk")return R.clone();else return JSON.parse(JSON.stringify(R))};
function tw(h,R){}tw.iN=function(h,R,d,L){L=tw.zNT(h,R,d,L);return L};tw.wA=function(h,R,d,L,$){L=tw.zNr(h,R,d,L,$);
return L};tw.zNT=function(h,R,d,L){var $=L;h.rect=T.sB(d,L);L+=16;var W=T.BP(d,L);L+=2;h.NC=[];var M=R.oP;
for(var x=0;x<W;x++){h.NC[x]={id:T.rR(d,L),length:(M?T.lY:T.U)(d,L+2)};L+=M?10:6}var t=T.UK(d,L,4);L+=4;
if(t!="8BIM"){console.log("Invalid Blend mode signature: "+t);alert("Error in Photoshop file: wrong signature.");
throw"e"}h.Pg=T.UK(d,L,4);L+=4;h.opacity=d[L];L+=1;h.Dj=d[L]==1;L+=1;h.CN=d[L];L+=1;if(d[L]!=0)console.log("error in filler!");
L+=1;var g=T.U(d,L);L+=4;var r=L;L=tw.zNX(h,d,L);L=tw.zSi(h,d,L);var l=T.AW(d,L);h.name=l.JO;L+=l.length;
if(l.length%4!=0)L+=4-l.length%4;L=ty.Sg(d,L,r+g,h.add,M,R);if(h.Tt){var H=h.Tt;if(h.rc()){h.rc().wX=H[0];
h.rc().EI=H[1]}if(h.add.vmsk){h.add.vmsk.wX=H[2];h.add.vmsk.EI=H[3]}}if(h.add.lsct){if(h.add.lsct.Pg)h.Pg=h.add.lsct.Pg;
h.add.lsct=h.add.lsct.type}return L};tw.zNr=function(h,R,d,L,$){var W=L;T.Yy(d,L,h.rect);L+=16;var M=h.zPG();
T.yZ(d,L,M.length);L+=2;$.push(L);for(var x=0;x<M.length;x++){T.$i(d,L,M[x]);T.Uz(d,L+2,0);L+=6}T._F(d,L,"8BIM");
L+=4;T._F(d,L,h.Pg);L+=4;T.Rw(d,L,h.opacity,1);L+=1;T.Rw(d,L,h.Dj?1:0,1);L+=1;T.Rw(d,L,h.CN,1);L+=1;
T.Rw(d,L,0,1);L+=1;var t=L;T.Uz(d,L,0);L+=4;var g=L;L=tw.zNf(h,d,L);L=tw.zS$(h,d,L);var r=T.kr(d,L,h.name.slice(0,255));
L+=r;if(r%4!=0)L+=4-r%4;if(h.add.lsct){h.add.lsct={type:h.add.lsct};if(h.Pg=="pass"){h.add.lsct.Pg="pass";
h.Pg="norm"}}if(h.Pg=="pass")h.add.lsct={type:h.add.lsct,Pg:"pass"};if(h.add.brit)h.add.CgEd=h.add.brit;
L=ty.SQ(d,L,h.add,R);delete h.add.CgEd;if(h.add.lsct){if(h.add.lsct.Pg)h.Pg=h.add.lsct.Pg;h.add.lsct=h.add.lsct.type}var l=L-g;
T.Uz(d,t,l);return L};tw.zNX=function(h,R,d){var L=T.U(R,d);d+=4;if(L==0)return d;var $=d;h.v=new S.x_;
h.v.rect=T.sB(R,d);d+=16;h.v.color=R[d];d+=1;var W=tw.Sn(h.v,R,d);d+=1;if(W){var M=!1,t=255,g=0,r=255,l=0;
for(var x=0;x<h.NC.length;x++)if(h.NC[x].id==-3)M=!0;if(M){h.P$=tw.SZ(R,d);d+=18}var H=d,y=R[d];d++;
if(y>>0&1){t=R[d];d++}if(y>>1&1){g=T.iA(R,d);d+=8}if(y>>2&1){r=R[d];d++}if(y>>3&1){l=T.iA(R,d);d+=8}if((d-H&1)==1)d++;
h.Tt=[t,g,r,l]}else{if(L==20)d+=2;else{h.P$=tw.SZ(R,d);d+=18}}return $+L};tw.zNf=function(h,R,d){T.Uz(R,d,0);
d+=4;if(h.v==null)return d;var L=d,$=!0;T.Uz(R,d,0);T.Yy(R,d,h.v.rect);d+=16;T.Rw(R,d,h.v.color);d+=1;
tw.SC(h.v,R,d,$);d+=1;if($){if(h.P$){tw.zNl(R,d,h.P$);d+=18}T.Rw(R,d,15);d+=1;var W=h.rc(),M=h.add.vmsk;
T.Rw(R,d,W?W.wX:255);d+=1;T.yL(R,d,W?W.EI:0);d+=8;T.Rw(R,d,M?M.wX:255);d+=1;T.yL(R,d,M?M.EI:0);d+=8;
d++;T.Uz(R,L-4,d-L)}return d};tw.SZ=function(h,R){var d=new S.x_;tw.Sn(d,h,R);R+=1;d.color=h[R];R+=1;
d.rect=T.sB(h,R);R+=16;return d};tw.zNl=function(h,R,d){tw.SC(d,h,R,!1);R+=1;T.Rw(h,R,d.color);R+=1;
T.Yy(h,R,d.rect);R+=16};tw.Sn=function(h,R,d){var L=R[d];h._q=(L>>0&1)==0;h.isEnabled=(L>>1&1)==0;h.hn=(L>>3&1)==1;
return L>>4&1};tw.SC=function(h,R,d,L){var $=0;if(!h._q)$+=1<<0;if(!h.isEnabled)$+=1<<1;if(h.hn)$+=1<<3;
if(L)$+=1<<4;T.Rw(R,d,$)};tw.zSi=function(h,R,d){var L=T.U(R,d);d+=4;if(L==0)return d;if(L!=5*8)console.log("unexpected Layer Blending Ranges content, size:",L);
for(var $=0;$<L;$++)h.cT[$]=R[d+$];return d+40};tw.zS$=function(h,R,d){T.Uz(R,d,h.cT.length);d+=4;R._b(d,40);
for(var L=0;L<40;L++){R.data[d+L]=h.cT[L]}return d+40};function zW(){}zW.iN=function(h,R,d,L){L=zW.zSL(R.oP,R.cB,R.NH,h,d,L);
return L};zW.FI=function(h,R,d,L,$){d=zW.zSV(h,R,d,L,$);return d};zW.zSL=function(h,R,d,L,$,W){var M=L.NC,x={},t=W;
for(var g=0;g<M.length;g++){var r=M[g],l=r.id,H=r.length,y;if(l==-3)y=L.P$.rect;else if(l==-2)y=L.v.rect;
else y=L.rect;var f=zW.EU(h,R,$,y.k,y.$,W,H);W+=H;if(l==-3)L.P$.channel=f;else if(l==-2)L.v.channel=f;
else x["c"+l]=f}var b=new z.Zb(0);b.r$=null;if(d==3){b.H=x.c0;b.N=x.c1;b.W=x.c2;b.r$=x["c-1"]}else if(d==1){b.H=x.c0;
b.N=x.c0;b.W=x.c0;b.r$=x["c-1"]}else if(d==4){var K=x.c0,Z=x.c1,J=x.c2,u=x.c3,C=K.length,Q=1/255;for(var g=0;
g<C;g++){var i=K[g],j=Z[g],V=J[g],E=u[g]*Q;K[g]=Math.round(i*E);Z[g]=Math.round((.2*i+.8*j)*E);J[g]=Math.round((.2*j+.8*V)*E)}b.H=K;
b.N=Z;b.W=J;b.r$=x["c-1"];console.log("converting from CMYK to RGB")}if(b.H==null)b.H=z.h(0);if(b.r$==null&&b.H!=null){b.r$=z.clone(b.H);
z.set(b.r$,255)}if(b.N==null)b.N=b.H.slice(0);if(b.W==null)b.W=b.H.slice(0);L.buffer=z.h(Math.max(0,L.rect.s()*4));
z.eB(b,L.buffer);return W};zW.zSV=function(h,R,d,L,$){var W=h.zPG(),M=new z.Zb(h.rect.s());z.ss(h.buffer,M);
for(var x=0;x<W.length;x++){var t=W[x],g,r;if(t==-3)g=h.P$.rect;else if(t==-2)g=h.v.rect;else g=h.rect;
if(t==-3)r=h.P$.channel;if(t==-2)r=h.v.channel;if(t==-1)r=M.r$;if(t==0)r=M.H;if(t==1)r=M.N;if(t==2)r=M.W;
R._b(d,g.s()*3+4);var l=d;d=zW.EX(r,R.data,g.k,g.$,d,$[1]?3:1);var H=d-l;if(H%2!=0){H+=H%2;d++}T.Dr(R.data,L+x*6+2,H)}return d};
zW.EU=function(h,R,d,L,$,W,M){var x=T.BP(d,W);W+=2;return zW.MV(h,R,d,L,$,W,x,M-2)};zW.EX=function(h,R,d,L,$,W){T.$z(R,$,W);
$+=2;$=zW.CT(h,R,d,L,$,W);return $};zW.MV=function(h,R,d,L,$,W,M,x){var t,g=L*$*(R>>>3),r=g&3,l=g+(r==0?0:4-r);
if(M>3){console.log("unknown compression: "+M,L,$,L*$,x);M=0}if(M==0){if(W+l<=d.length)t=d.slice(W,W+l);
else{t=z.h(g);for(var H=0;H<g;H++)t[H]=d[W+H]}W+=g}else if(M==1){t=z.h(g);var y=h?4:2,f=zW.Sx(d,t,L,$,W,W+y*$,y);
W+=y*$+f}else if(M==2||M==3){var b=new Uint8Array(d.buffer,W+2,x-6),K=pako.inflateRaw(b);if(M==3){if(R==8)for(var Z=0;
Z<$;Z++){var J=Z*L+1,u=J+L-1,C=K[J-1];for(var Q=J;Q<u;Q++){C+=K[Q];K[Q]=C&255}}else for(var Z=0;Z<$;
Z++){var J=Z*L+1,u=J+L-1,C=K[2*J-2]<<8|K[2*J-1];for(var Q=J;Q<u;Q++){var i=Q<<1;C+=K[i]<<8|K[i+1];K[i]=C>>>8;
K[i+1]=C&255}}}if(K.length==l)t=K;else{t=z.h(l);for(var H=0;H<K.length;H++)t[H]=K[H]}}if(R==16){var j=z.h(L*$);
for(var H=0;H<g;H+=2)j[H>>>1]=t[H];t=j}return t};zW.CT=function(h,R,d,L,$,W){var M=d*L;if(W==0)for(var x=0;
x<M;x++)R[$++]=h[x];else if(W==1){var t=zW.SR(h,R,d,L,$,$+2*L);$+=2*L+t}else if(W==2||W==3){if(W==3){var g=new Uint8Array(h.length);
for(var r=0;r<L;r++){var l=r*d+1,H=l+d-1,y=h[l-1];g[l-1]=y;for(var f=l;f<H;f++){g[f]=h[f]+(256-y)&255;
y=h[f]}}h=g}R[$]=120;R[$+1]=156;$+=2;var b=pako.deflateRaw(h,{zhi:4});T.wa(R,$,b);$+=b.length+4}else console.log("Unknown compression: "+W);
return $};zW.Sx=function(h,R,d,L,$,W,M){var x=W,t=L|0;if(M==2)for(var g=0;g<t;g++){var r=T.BP(h,$+(g<<1));
zW.Ef(h,W,r,R,g*d,d);W+=r}else for(var g=0;g<t;g++){var r=T.U(h,$+(g<<2));zW.Ef(h,W,r,R,g*d,d);W+=r}return W-x};
zW.SR=function(h,R,d,L,$,W){var M=W;for(var x=0;x<L;x++){var t=zW.zwz(h,x*d,d,R,W);T.Te(R,$+x*2,t);W+=t}return W-M};
zW.zwz=function(h,R,d,L,$){var W,M,x,t,g,r,l;t=R+d;for(x=R,M=$;d>0;x=W,d-=r){l=d<128?d:128;if(x<=t-3&&h[x+1]==h[x+0]&&h[x+2]==h[x+0]){for(W=x+3;
W<x+l&&h[W]==h[x+0];)++W;r=W-x;L[M++]=1+256-r;L[M++]=h[x+0]}else{for(W=x;W<x+l;)if(W<=t-3&&h[W+1]==h[W+0]&&h[W+2]==h[W+0])break;
else++W;r=W-x;L[M++]=r-1;for(var H=0;H<r;H++)L[M+H]=h[x+H];M+=r}}return M-$};zW.Ef=function(h,R,d,L,$,W){for(var M=0;
M<d;){var x=h[R++];if(x>=128){var t=h[R++],g=$+(257-x);L.fill(t,$,g);$=g;M+=2}else{var g=$+(1+x);while($<g)L[$++]=h[R++];
M+=1+1+x}}};function WP(){}WP.iN=function(h,R){R.oP=!1;R.cB=8;var d=new Uint8Array(h),L=0,$=0,O,p=0,uF=!1,ue=!0,up=!1,ui=0;
$=WP.Eo(R,d,L);L=$;$=WP.zwd(R,d,L);L=$;$=WP.zwm(R,d,L);L=$;$=WP.zDh(R,d,L);L=$;$=WP.zDv(R,d,L);L=$;if(R._.length==0){var W=R.mS();
W.AI("Background");R._.push(W);W.buffer=z.clone(R.buffer);W.rect=new A(0,0,R.k,R.$)}if(R.gJ.r1005){R.EY=T.zGM(R.gJ.r1005,0)}if(R.gJ.r1026){var d=R.gJ.r1026;
for(var M=0;M<d.length;M+=2){var $=R._[M>>>1];if($)$.zU=T.BP(d,M)}}if(R.gJ.r1032){var d=R.gJ.r1032,x=T.U(d,12);
for(var M=0;M<x;M++){var t=d[16+M*5+4],g=T.Uw(d,16+M*5)/32;R.Py[t].push(g)}}delete R.gJ.r1036;delete R.gJ.r1039;
if(R.gJ.r1050){var r=T.U,l=R.gJ.r1050,H=T.U(l,0);if(H==6){var y=4,f=T.sB(l,y);y+=16;var b=T.lR(l,y);
y+=4+b.length*2;var K=r(l,y);y+=4;var Z=R.tj;for(var M=0;M<K;M++){var J=s.B$.zS_(),C;Z.push(J);J=J.v;
J.sliceID.v=r(l,y);y+=4;J.groupID.v=r(l,y);y+=4;var u=r(l,y);y+=4;if(u==1){C=r(l,y);y+=4}var b=T.lR(l,y);
y+=4+b.length*2;var Q=r(l,y);y+=4;var i=[r(l,y),r(l,y+4),r(l,y+8),r(l,y+12)];y+=16;s.B$.Vz(Z,Z.length-1,i);
var j=J.url.v=T.lR(l,y);y+=4+j.length*2;var V=J.null.v=T.lR(l,y);y+=4+V.length*2;var E=J.Msge.v=T.lR(l,y);
y+=4+E.length*2;var N=J.altTag.v=T.lR(l,y);y+=4+N.length*2;J.cellTextIsHTML.v=l[y]==1;y++;var n=J.cellText.v=T.lR(l,y);
y+=4+n.length*2;var a=r(l,y);y+=4;var I=r(l,y);y+=4;var q=l.slice(y,y+4);y+=4;if(u!=2)Z.pop()}}else if(H==8){var k={};
uR.kI(l,k,8,!1);var l=R.tj=k.slices.v;for(var M=0;M<l.length;M++){if(l[M].v.origin.v.ESliceOrigin!="userGenerated"){l.splice(M,1);
M--}}}}if(R.gJ.r1058){var F=R.gJ.r1058,o=UTIF.decode(F.buffer,{parseMN:!1,debug:!1});zh.nz(o[0],R.zj);
delete R.gJ.r1058}if(R.gJ.r1060){var G=T.fh(R.gJ.r1060);zh.zqh(G,R.zj);delete R.gJ.r1060}if(R.gJ.r1065){var d=R.gJ.r1065;
R.__={};uR.kI(d,R.__,4,!1)}if(R.gJ.r1069){var d=R.gJ.r1069,w=[];for(var M=2;M<d.length;M+=4){var C=T.U(d,M);
for(var U=0;U<R._.length;U++){var $=R._[U];if($.add.lyid==C&&$.add.lsct!=3)w.push(U)}}R.f=w}if(R.gJ.r1025){var B=R.gJ.r1025;
delete R.gJ.r1025;var D=WX.CR(B,0,B.length,R.k,R.$),P=new S.EF;P.r=D;R.bs[0]=zG.Mv("Working Path",{vmsk:P})}var v=R.add.pths;
delete R.add.pths;var uk=R.gJ.r3000;if(uk){O={};uR.kI(uk,O,4,!1);delete R.gJ.r3000}for(var ut=0;ut<=997;
ut++){var ua="r"+(2e3+ut),B=R.gJ[ua];if(B==null)break;var D=WX.CR(B,0,B.length,R.k,R.$),uu=v?v.pathList.v[ut].v.pathUnicodeName.v:"Path "+ut,uW=O?O.keyRootDescriptorList.v[ut].v.keyDescriptorList.v:S.kd(D),P=new S.EF;
P.r=D;R.bs[ut+1]=zG.Mv(uu,{vmsk:P,vogk:uW});delete R.gJ[ua]}delete R.oP;var kV=new A(0,0,R.k,R.$),_=R.add.Txt2,uB=_;
if(uB){uB=uB.J_;if(uB._DocumentResources==null)uB=kr.z_e(uB)}if(_&&_.J_._DocumentResources!=null){var ub="_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),uq=_.J_._DocumentResources._TextFrameSet._Resources;
for(var M=0;M<uq.length;M++){}}for(var M=0;M<R._.length;M++){var $=R._[M],zd=$.add.lsct,uN=$.add.vmsk,u_=$.rc();
if(zd==W_.Oz)ui++;else if(zd==W_.ei||zd==W_.Th)ui--;if($.name==""){$.name="Layer "+(M+1);up=!0}if(up&&$.If()&&$.Pg=="norm")$.Pg="pass";
if($.lq()&&$.ez(R).v){var za=$.ez(R);za.v.isEnabled=$.add.SoLd.filterFX.v.filterMaskEnable.v}if(uN&&$.ej()){var uZ=uz.ri.default;
if($.add.vstk==null)$.add.vstk=JSON.parse(JSON.stringify(uZ));else{var uj="strokeStyleLineDashSet";if($.add.vstk[uj]==null)$.add.vstk[uj]=JSON.parse(JSON.stringify(uZ[uj]))}}if(uN&&($.add.vogk==null||z.t.iG(uN.r)!=$.add.vogk.length))$.kd();
if(u_==null&&$.v!=null){if($.v.hn==!1){$.v.hn=!0;$.P$=$.v.clone()}else{uN.P$=$.v;uN.RT=!1;$.v.EI=uN.EI;
$.v.wX=uN.wX}}if(u_!=null&&uN!=null&&(u_.EI+uN.EI!=0||u_.wX+uN.wX!=2*255))$.eG(R);var uw=$.add.artb;
if(uw&&uw.artboardBackgroundType==null)uw.artboardBackgroundType={t:"long",v:1};if(uw&&ui!=0)delete $.add.artb;
var tI=$.add.vstk;if($.ej()&&($.rect.dp()||uN&&uN.EI!=0||tI&&!tI.fillEnabled.v&&(!tI.strokeEnabled.v||tI.strokeStyleLineWidth.v.val==0)))$.Hs(R);
if($.add.TySh){uF=!0;if(!$.rect.dp())ue=!1}if($.add.TySh&&uB){var ug=$.add.TySh.h_,uO=uM.Rh(ug),uC=ug.EngineDict.ParagraphRun.RunArray,ux=uB._DocumentObjects._TextObjects;
if(ux.length<=p){console.log("Txt2 incomplete");continue}ux=ux[p]._Model._ParagraphRun._RunArray;var zu=Math.min(ux.length,uC.length);
for(var U=0;U<zu;U++){var uL=uC[U].ParagraphSheet.Properties,un=uB._DocumentResources._ParagraphSheetSet._Resources,us=ux[U]._RunData._ParagraphSheet;
if(typeof us=="string")us=un[parseInt(us.slice(1))]._Resource;var Wa=us._Parent==null?us:un[parseInt(us._Parent.slice(1))]._Resource,Wt=us._Features._ParagraphDirection;
if(Wt==null)Wt=Wa._Features._ParagraphDirection;if(Wt)uL._Direction=parseInt(Wt.slice(1))}var uV=uB._DocumentResources,zZ=uV._TextFrameSet._Resources,uU=zZ[p]._Resource,zI=uU._Data,uG=new um(1,0,0,1,0,0);
if(uU._0){var WW=parseFloat(uU._0[0].slice(1)),Wq=parseFloat(uU._0[1].slice(1));uG.translate(WW,Wq)}if(uO){uG.translate(uO[0],uO[1]);
uM.RY(ug,[0,0,uO[2]-uO[0],uO[3]-uO[1]])}else{if(uU._Bezier&&uU._Bezier._Points){var D=uU._Bezier._Points,WW=parseFloat(D[0].slice(1)),Wq=parseFloat(D[1].slice(1));
if(WW!=0||Wq!=0){uG.translate(WW,Wq)}}}if(uU._Data&&uU._Data._FrameMatrix){var uH=uU._Data._FrameMatrix;
uH=uH.map(function(zF){return parseFloat(zF.slice(1))});uG.concat(new um(uH[0],uH[1],uH[2],uH[3],uH[4],uH[5]))}uG.concat($.add.TySh.V);
$.add.TySh.V=uG;p++;var Q=zI._Type?parseInt(zI._Type.slice(1)):0;if(Q==2||Q==1&&zI._PathData._Spacing=="i-3"){var Wp=function(zF){return parseFloat(zF.slice(1))},D=uU._Bezier._Points.map(Wp);
if(uO)z.G.V(D,new um(1,0,0,1,-uO[0],-uO[1]),D);var tD=zI._PathData._Reversed;ug.Curve={Points:D,TextOnPathTRange:zI._TextOnPathTRange.map(Wp),Reversed:tD==null?!1:tD};
$.add.TySh.add={vmsk:new S.EF,vogk:null};uM.GY($.add.TySh)}}}uE.Ah.Se(R,!0)};WP.wA=function(h,R,d){uE.Ah.JU(h);
uE.Ah.Se(h,!1);var L=[],$=[],W=[],M=[],x=[],N=16,ut=0;for(var t=0;t<h._.length;t++){var g=h._[t];if(g.lq()&&g.ez(h).v){g.add.SoLd.filterFX.v.filterMaskEnable.v=g.ez(h).v.isEnabled}if(g.add.SoLd){$.push(g.add.SoLd.Idnt.v);
W.push(g.add.SoLd.placed.v)}if(g.add.TySh){var r=g.add.TySh.h_,l=uM.NZ(r);g.add.TySh.gX.TextIndex={t:"long",v:L.length};
L.push(r);if(l==2)uM.dN(g.add.TySh)}if(g.add.PtFl)M.push(g.add.PtFl.Ptrn.v.Idnt.v);if(g.add.lmfx){for(var H=0;
H<uz.EN.length;H++){var y=g.add.lmfx[uz.EN[H]].v;for(var f=0;f<y.length;f++)if(y[f].v.Ptrn)M.push(y[f].v.Ptrn.v.Idnt.v)}}var b=g.add.vstk;
if(b&&b.strokeStyleContent.v.classID=="patternLayer"){M.push(b.strokeStyleContent.v.Ptrn.v.Idnt.v)}if(g.ej()){x[t]=[g.rect,g.buffer];
g.rect=new A;g.buffer=z.h(0)}}if(L.length>0){var K=h.add.Txt2?h.add.Txt2.J_:null;h.add.Txt2={};h.add.Txt2.J_=WE.zpS(L,null,K)}var Z=h.add.lnk2;
if(Z){var J=h.add.lnk2=[];for(var t=0;t<Z.length;t++)if($.indexOf(Z[t].uo)!=-1)J.push(Z[t]);if(J.length==0)delete h.add.lnk2}var u=h.add.FEid;
if(u){var C=h.add.FEid=[];for(var t=0;t<u.length;t++)if(W.indexOf(u[t].id)!=-1)C.push(u[t]);if(C.length==0)delete h.add.FEid}var Q=h.add.Patt;
if(Q){var i=h.add.Patt=[];for(var t=0;t<Q.length;t++)if(M.indexOf(Q[t].id)!=-1)i.push(Q[t])}h.gJ.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);
T.Sv(h.gJ.r1005,0,h.EY);T.Sv(h.gJ.r1005,8,h.EY);if(h.ew()){h.gJ.r1022=new Uint8Array([0,3+h.Mk.length-1,0])}else delete h.gJ.r1022;
h.gJ.r1026=new Uint8Array(h._.length*2);for(var t=0;t<h._.length;t++)T.Te(h.gJ.r1026,t*2,h._[t].zU);
var j=h.Py,V=j[0].length+j[1].length,E=h.gJ.r1032=z.h(16+5*V,!0);T.Dr(E,0,1);T.Dr(E,4,576);T.Dr(E,8,576);
T.Dr(E,12,V);for(var t=0;t<2;t++)for(var f=0;f<j[t].length;f++){T.LX(E,N,Math.round(j[t][f]*32));E[N+4]=t;
N+=5}delete h.gJ.r1045;delete h.gJ.r1006;delete h.gJ.r1077;var n=new hK;N=0;var a=new Uint8Array(4+(1+h.Mk.length)*13);
a[3]=1;a[6]=a[7]=255;a[15]=100;a[16]=1;for(var t=0;t<1+h.Mk.length;t++){var I=h.Mk[t-(t==0?0:1)],q=(t==0?"Transparency":I.name)+"\0";
T.xS(n,N,q);N+=4+q.length*2;if(t!=0){var k=4+t*13;tC.Mx(a,k,I.lo);a[k+11]=I.Nv;a[k+12]=I.cP}}h.gJ.r1045=n.data.slice(0,N);
h.gJ.r1077=a;for(var t=0;t<h.tj.length;t++)h.tj[h.tj.length-t-1].v.sliceID.v=2+t*3;var F={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:h.tj}},n=new hK;
T.Uz(n,0,8);T.Uz(n,4,16);var o=uR.II(n,F,8);h.gJ.r1050=n.data.slice(0,o+8);var n=new hK;T.Uz(n,0,16);
var o=uR.II(n,h.__,4);h.gJ.r1065=n.data.slice(0,o+4);var G=h.f;E=h.gJ.r1069=z.h(2+G.length*4,!0);T.Te(E,0,G.length);
for(var t=0;t<G.length;t++)T.Dr(E,2+4*t,h._[G[t]].add.lyid);delete h.gJ.r1058;delete h.gJ.r1060;if(Object.keys(h.zj).length!=0){var w=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
zh.mk(h.zj,w[0],d[0]&&d[1]);h.gJ.r1058=new Uint8Array(UTIF.encode(w));var U=zh.zNd(h.zj);h.gJ.r1060=T.kU(U)}var B=[],D=[];
for(var t=0;t<h.bs.length;t++){var P=h.bs[t],v=P.add.vmsk.r;if(t==0&&v.length==2)continue;var O=z.h(v.length*26);
WX.E$(O,0,v,h.k,h.$);var uk=t==0?1025:2e3+t-1;h.gJ["r"+uk]=O;if(t!=0){B.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:P.name}}});
D.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:P.add.vogk}}})}}if(B.length!=0){h.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:B}};
D={classID:"null",keyRootDescriptorList:{t:"VlLs",v:D}};var n=new hK;T.Uz(n,0,16);var o=uR.II(n,D,4);
h.gJ.r3000=n.data.slice(0,o+4)}else{delete h.add.pths;delete h.gJ.r3000}ut=WP.zwk(h,R,ut);ut=WP.zwE(h,R,ut);
ut=WP.zwV(h,R,ut);ut=WP.zDP(h,R,ut,d);ut=WP.zDl(h,R,ut,d[0]);var ua=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016];
for(var t=0;t<ua.length;t++)delete h.gJ["r"+ua[t]];for(var t=0;t<h._.length;t++){var g=h._[t];if(g.ej()){g.rect=x[t][0];
g.buffer=x[t][1]}}if(Z)h.add.lnk2=Z;if(u)h.add.FEid=u;if(Q)h.add.Patt=Q;uE.Ah.Se(h,!0);return ut};WP.Eo=function(h,R,d){var L=T.UK(R,d,4);
d+=4;if(L!="8BPS")alert("invalid header signature: "+L);var $=T.BP(R,d);d+=2;h.oP=$==2;if($!=1&&$!=2)alert("invalid version: "+$);
d+=6;h.Su=T.BP(R,d);d+=2;h.$=T.Uw(R,d);d+=4;h.k=T.Uw(R,d);d+=4;h.cB=T.BP(R,d);d+=2;h.NH=T.BP(R,d);d+=2;
return d};WP.zwk=function(h,R,d){R._b(0,64);T.wO(R.data,d,"8BPS");d+=4;T.Te(R.data,d,1);d+=2;T.Dr(R.data,d,0);
d+=4;T.Te(R.data,d,0);d+=2;T.Te(R.data,d,4+h.Mk.length);d+=2;T.LX(R.data,d,h.$);d+=4;T.LX(R.data,d,h.k);
d+=4;T.Te(R.data,d,8);d+=2;T.Te(R.data,d,3);d+=2;return d};WP.zwd=function(h,R,d){var L=T.Uw(R,d);d+=4;
if(L!=0)h.cq=R.slice(d,d+L);d+=L;return d};WP.zwE=function(h,R,d){T.wC(R,d,0);d+=4;return d};WP.zwm=function(h,R,d){var L=T.U(R,d),$=0;
d+=4;var W=[];while($<L){var M=T.UK(R,d+$,4);$+=4;var x=T.BP(R,d+$);$+=2;var t=T.AW(R,d+$);$+=t.length;
if(M!="8BIM"){W.push(x);console.log("Unknown Image Resources signature: "+M+", ID: "+x)}var g=T.U(R,d+$);
$+=4;if(h.gJ["r"+x]!=null)console.log("--- two resources with same ID");h.gJ["r"+x]=T.Aw(R,d+$,g);$+=g+(g&1)}for(var r=0;
r<W.length;r++)delete h.gJ["r"+W[r]];return d+L};WP.zwV=function(h,R,d){var L=d,M=0;d+=4;var $=[];for(var W in h.gJ){$.push(parseInt(W.slice(1)))}$.sort(function(H,y){return H-y});
for(var x=0;x<$.length;x++){T._F(R,d+M,"8BIM");M+=4;var t=$[x];T.yZ(R,d+M,t);M+=2;var g=T.kr(R,d+M,"");
M+=g;var r=h.gJ["r"+t],l=r.length;T.Uz(R,d+M,l);M+=4;T.AD(R,d+M,r);M+=l;if(l%2==1)M++}T.Uz(R,L,M);return d+M};
WP.zDh=function(h,R,d){var L=d,$,W=h.oP?8:4;if(h.oP)$=T.lY(R,d);else $=T.U(R,d);d+=W;if($==0)return L+W;
d=WP.zD$(h,R,d);d=WP.zDo(h,R,d);d=ty.Sg(R,d,L+W+$,h.add,h.oP,h);return L+W+$};WP.zDP=function(h,R,d,L){var $=d;
T.Uz(R,d,0);d+=4;d=WP.zDf(h,R,d,L);d=WP.zDc(h,R,d);d=ty.SQ(R,d,h.add,h);T.Uz(R,$,d-$-4);return d};WP.zD$=function(h,R,d){var L,$=h.oP?8:4;
if(h.oP)L=T.lY(R,d);else L=T.U(R,d);d+=$;if(L!=0)WP.mj(h,R,d);return d+L};WP.mj=function(h,R,d){var L=T.rR(R,d);
d+=2;var $=Math.abs(L);for(var W=0;W<$;W++){var M=new S;d=tw.iN(M,h,R,d);h._[W]=M}var x=new A(0,0,h.k,h.$);
for(var W=0;W<$;W++){var t=h._[W];d=zW.iN(t,h,R,d);var g=t.rect.s(),r=t.rect.hc(x),l=r.s()/g;if(g>2e3*3e3&&l<.5){var H=z.h(r.s()*4);
z.bt(t.buffer,t.rect,H,r);t.buffer=H;t.rect=r;alert("Removing hidden parts of layers")}}};WP.zDf=function(h,R,d,L){var $=d;
T.Uz(R,d,0);d+=4;var W=h._.length;T.yZ(R,d,-W);d+=2;var M=[];for(var x=0;x<W;x++)d=tw.wA(h._[x],h,R,d,M);
for(var x=0;x<W;x++)d=zW.FI(h._[x],R,d,M[x],L);var t=d-$-4;if(t%2!=0)t++;T.Uz(R,$,t);return $+t+4};WP.zDo=function(h,R,d){var L=T.U(R,d);
d+=4;d+=L;return d};WP.zDc=function(h,R,d){var L=T.Uz(R,d,0);d+=4;return d};WP.zDv=function(h,R,d){var L=h.NH,$="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),W=[1,1,1,3,4,1,1,3],M,b;
if(L!=3){if(L==1||L==2||L==4)alert("Project will be converted from "+$[L]+" to "+$[3]+" mode.");else{alert("Color mode "+$[L]+" is not supported yet :(")}}if(h.gJ.r1045){M=[];
var x=h.gJ.r1045,t=0;while(t<x.length){var g=T.$X(x,t);M.push(g);t+=4+2+g.length*2}}var r=W[L]+(M==null||M[0]=="Transparency"?1:0),l=h.k,H=h.$,y=l*H,f=T.BP(R,d);
d+=2;h.buffer=z.h(y*4);z._M(h.buffer,4278190080);var K=d;for(var Z=0;Z<h.Su;Z++){if(f==0){b=zW.MV(h.oP,h.cB,R,l,H,d,f);
d+=y*(h.cB>>>3)}else if(f==1){b=z.h(y);var J=h.oP?4:2;if(Z==0)d+=h.Su*H*J;d+=zW.Sx(R,b,l,H,K+Z*H*J,d,J)}else{console.log("unknown compression of image data: ",f);
return}if(Z<r){z.Gn(b,h.buffer,Z);if(h.Su==1&&Z==0){z.Gn(b,h.buffer,1);z.Gn(b,h.buffer,2)}}else{var u=new S.x_,C=Z-r,Q=Z-W[h.NH];
u.name=M?M[Q]:"Alpha";if(u.name=="Quick Mask"){u.Ar=!0;h.rY.push(C)}u.rect=new A(0,0,l,H);u.channel=b;
u.color=0;u.tn();h.Mk[C]=u;if(h.gJ.r1077){var x=h.gJ.r1077.slice(4+Q*13);u.lo=tC.UB(x,0);u.Nv=x[11];
u.cP=x[12];if(u.cP==2)u.Ar=!0}}}h.Su=4;if(h.NH==2)for(var i=0;i<y;i++){var j=i*4,V=h.buffer[j];h.buffer[j]=h.cq[0+V];
h.buffer[j+1]=h.cq[256+V];h.buffer[j+2]=h.cq[512+V]}return d};WP.zDl=function(h,R,d,L){var $=1,W=16,M=h.k,x=h.$,g,r;
T.yZ(R,d,$);d+=2;var t=M*x;if(!L){r=new z.Zb(M*x);z.ss(h.buffer,r);var l=r.H,H=r.N,y=r.W,f=r.r$;for(var b=0;
b<t;b++){var K=f[b]*(1/255);l[b]=~~(l[b]*K+255*(1-K));H[b]=~~(H[b]*K+255*(1-K));y[b]=~~(y[b]*K+255*(1-K))}}else g=z.h(t);
var Z=[g,g,g,g];if(!L)Z=[r.H,r.N,r.W,r.r$];for(var b=0;b<h.Mk.length;b++){Z.push(h.Mk[b].AY(new A(0,0,h.k,h.$)))}var J=d;
for(var u=0;u<Z.length;u++){R._b(d,M*x+4);g=Z[u];if($==0||$==2||$==3)d=zW.CT(g,R.data,M,x,d,$);else{if(u==0)d+=Z.length*x*2;
var C=d;d+=zW.SR(g,R.data,M,x,J+u*x*2,d)}}return d};function tn(){}tn.iN=function(h){var R={};tn.Co(h,R,0,0);
return R};tn.wA=function(h,R){var d=0;d=tn.$k(h,R,d,0);return d};tn.Co=function(h,R,d,L){while(h[d]!="<".charCodeAt(0))d++;
d+=2;while(!0){if(h[d]=="/".charCodeAt(0)){d++;var $=T.indexOf(h," ".charCodeAt(0),d,d+50),W=T.indexOf(h,"\n".charCodeAt(0),d,d+50);
if(W==-1)W=Infinity;if($==-1)$=Infinity;var M=Math.min(W,$),x=T.UK(h,d,M-d),t=tn.kh(h,M+1,L+1,x);R[x]=t.a;
d=M+1;d+=t.size}else if(h[d]==">".charCodeAt(0)){d+=2;break}else{var g=h[d];if(g==10||g==9||g==32)d++;
else{console.log("unknown byte: "+g+", char: "+String.fromCharCode(g),d);d++}}}return d};tn.$k=function(h,R,d,L){T._F(R,d,"<<\n");
d+=3;var $=tn.zDY;for(var W in h){T.Rw(R,d,"\t".charCodeAt(0),L+1);d+=L+1;T._F(R,d,"/"+W);d+=1+W.length;
if($(h[W])||h[W]instanceof Array){T._F(R,d," ");d++}else{T._F(R,d,"\n");d++;T.Rw(R,d,"\t".charCodeAt(0),L+1);
d+=L+1}d=tn.kC(h[W],R,d,L+1);T._F(R,d,"\n");d++}T.Rw(R,d,"\t".charCodeAt(0),L);d+=L;T._F(R,d,">>");d+=2;
return d};tn.kh=function(h,R,d,L){var $=R,W={size:0,a:0};while(!0){while(h[R]==" ".charCodeAt(0)||h[R]=="\t".charCodeAt(0)||h[R]=="\n".charCodeAt(0))R++;
if(h[R]=="<".charCodeAt(0)){W.a={};R=tn.Co(h,W.a,R,d+1);break}else if(h[R]=="(".charCodeAt(0)){R+=3;
var M=R;while(!0){if(h[M-1]!="\\".charCodeAt(0)&&h[M]==")".charCodeAt(0)&&(h[M+1]=="\n".charCodeAt(0)||h[M+1]==" ".charCodeAt(0)))break;
else M++}W.a=T.SH(h,R,M);R=M+2;break}else if(h[R]=="[".charCodeAt(0)){R++;W.a=[];while(h[R]==" ".charCodeAt(0)||h[R]=="\t".charCodeAt(0)||h[R]=="\n".charCodeAt(0))R++;
while(h[R]!="]".charCodeAt(0)){var x=tn.kh(h,R,d+1,L);W.a.push(x.a);R+=x.size;while(h[R]==" ".charCodeAt(0)||h[R]=="\t".charCodeAt(0)||h[R]=="\n".charCodeAt(0))R++}R++;
break}else{var t=T.indexOf(h," ".charCodeAt(0),R,R+50),g=T.indexOf(h,"\n".charCodeAt(0),R,R+50);if(g==-1)g=Infinity;
if(t==-1)t=Infinity;var r=T.UK(h,R,Math.min(t,g)-R).trim(),l=parseFloat(r);if(!isNaN(l)){W.a=parseFloat(r);
R=Math.min(t,g)+1;break}else if(r=="true"||r=="false"){W.a=r=="true";R=Math.min(t,g)+1;break}else if(r=="null"){W.a=0;
R=Math.min(t,g)+1;break}else{console.log("unknown identifier: "+r);throw"e"}R=Math.min(t,g)+1}}W.size=R-$;
return W};tn.kC=function(h,R,d,L){if(h instanceof Array){var $=h.length==0||typeof h[0]=="number";if($){T._F(R,d,"[ ");
d+=2;for(var W=0;W<h.length;W++){var M=h[W]+" ";T._F(R,d,M);d+=M.length}T._F(R,d,"]");d+=1}else{T._F(R,d,"[\n");
d+=2;for(var W=0;W<h.length;W++){T.Rw(R,d,"\t".charCodeAt(0),L);d+=L;d=tn.kC(h[W],R,d,L);T._F(R,d,"\n");
d++}T.Rw(R,d,"\t".charCodeAt(0),L);d+=L;T._F(R,d,"]");d+=1}}else if(h instanceof Object){d=tn.$k(h,R,d,L)}else if(typeof h=="string"){T._F(R,d,"(");
d++;T.Rw(R,d,254);d++;T.Rw(R,d,255);d++;d=T.SU(R,d,h);T._F(R,d,")");d+=1}else{var M=h+"";T._F(R,d,M);
d+=M.length}return d};tn.zDY=function(h){var R=typeof h;return R=="string"||R=="number"||R=="boolean"};
function WI(){}WI.iN=function(h){var R={};WI.SL(h,R,0,0);return R};WI.wA=function(h,R){var d=0;T._F(R,d," ");
d++;d=WI.SJ(h,R,d,0);d--;R._b(d,2);R.data[d]=R.data[d+1]=0;d+=2;return d};WI.Co=function(h,R,d,L){while(h[d]!="<".charCodeAt(0)){d++;
console.log("\u0161ipka")}d+=2;d=WI.SL(h,R,d,L);return d};WI.$k=function(h,R,d,L){T._F(R,d,"<< ");d+=3;
d=WI.SJ(h,R,d,L);T._F(R,d,">>");d+=2;return d};WI.mC=function(h){return h==9||h==10||h==32};WI.SL=function(h,R,d,L){while(!0){while(WI.mC(h[d])||h[d]==0)d++;
if(d>=h.length)break;if(h[d]=="/".charCodeAt(0)){d++;var $=d;while(!WI.mC(h[$]))$++;var W=T.UK(h,d,$-d);
d=$+1;var M=WI.kh(h,d,L,W);R["_"+W]=M.a;d+=M.size}else if(h[d]==">".charCodeAt(0)){d+=2;break}else{var x=h[d];
console.log(T.UK(h,d,d+100));console.log("unknown byte: "+x+", char: "+String.fromCharCode(x)+", offset: "+d);
d++;throw"e";return-1}}return d};WI.SJ=function(h,R,d,L){for(var $ in h){var W=$.substring(1,$.length);
T._F(R,d,"/"+W);d+=1+W.length;T._F(R,d," ");d++;d=WI.kC(h[$],R,d,L+1);T._F(R,d," ");d++}return d};WI.kh=function(h,R,d,L){var $=R,W={type:"",size:0,a:0};
while(WI.mC(h[R]))R++;if(h[R]=="<".charCodeAt(0)){W.type="Object";W.a={};R=WI.Co(h,W.a,R,d+1)}else if(h[R]=="(".charCodeAt(0)){W.type="String";
R++;if(h[R]==")".charCodeAt(0)){W.a="s";R++}else{R+=2;var M=R,We=0;while(!0){if(h[M]==")".charCodeAt(0)&&h[M-1]!="\\".charCodeAt(0))break;
else M+=1}W.a="s"+T.SH(h,R,M);R=M+2}}else if(h[R]=="[".charCodeAt(0)){R++;W.a=[];W.type="Array";while(WI.mC(h[R]))R++;
while(h[R]!="]".charCodeAt(0)){var x=WI.kh(h,R,d+1,L);if(x==-1)return-1;W.a.push(x.a);R+=x.size;delete x.size;
while(WI.mC(h[R]))R++}R++}else{var t=R;while(!WI.mC(h[t]))t++;var g=T.UK(h,R,t-R),r=parseFloat(g);if(!isNaN(r)&&g.indexOf(".")!=-1){W.type="Float";
var l=parseFloat(g);W.a="f"+l}else if(!isNaN(r)&&g.indexOf(".")==-1){W.type="Integer";W.a="i"+parseInt(g)}else if(g=="true"||g=="false"){W.type="Boolean";
W.a=g=="true"}else if(g.charAt(0)=="/"){W.type="BString";W.a=g}else{console.log("unknown value",JSON.stringify(g));
throw"e"}R=t+1}W.size=R-$;return W};WI.zDV=function(h){if(h==Math.round(h))return h+".0";var R=h.toFixed(5);
if(0<h&&h<1)R=R.substring(1,R.length);if(-1<h&&h<0)R="-"+R.substring(2,R.length);return R};WI.kC=function(h,R,d,L){var $=typeof h=="string"?h.charAt(0):"";
if(h instanceof Array){T._F(R,d,"[ ");d+=2;for(var W=0;W<h.length;W++){d=WI.kC(h[W],R,d,L);T._F(R,d," ");
d++}T._F(R,d,"]");d+=1}else if(h instanceof Object){d=WI.$k(h,R,d,L)}else if($=="s"){T._F(R,d,"(");d++;
T.Rw(R,d,254);d++;T.Rw(R,d,255);d++;d=T.SU(R,d,h.substring(1));T._F(R,d,")");d++}else if($=="/"){T._F(R,d,h);
d+=h.length}else if($=="f"){var M=parseFloat(h.substring(1)),x=WI.zDV(M);T._F(R,d,x);d+=x.length}else if($=="i"){T._F(R,d,h.substring(1));
d+=h.length-1}else{var x=h+"";T._F(R,d,x);d+=x.length}return d};function kY(h,R){if(!h)h=0;if(!R)R=0;
this.x=h;this.y=R}kY.prototype.add=function(h){return new kY(this.x+h.x,this.y+h.y)};kY.prototype.clone=function(){return new kY(this.x,this.y)};
kY.prototype.lQ=function(h){this.x=h.x;this.y=h.y};kY.prototype.PC=function(h){return this.x==h.x&&this.y==h.y};
kY.prototype.normalize=function(h){var R=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=h/R;this.y*=h/R};
kY.prototype.offset=function(h,R){this.x+=h;this.y+=R};kY.prototype.qC=function(h,R){this.x=h;this.y=R};
kY.prototype.FZ=function(h){return new kY(this.x-h.x,this.y-h.y)};kY.ZW=function(h,R){return kY.zpg(h.x,h.y,R.x,R.y)};
kY.dj=function(h,R,d){return new kY(h.x+d*(R.x-h.x),h.y+d*(R.y-h.y))};kY.zpa=function(h,R){return new kY(h*Math.cos(R),h*Math.sin(R))};
kY.zpg=function(h,R,d,L){return Math.sqrt((d-h)*(d-h)+(L-R)*(L-R))};kY.ea={};kY.sQ={};kY.ea.create=function(){var h=new Float32Array(4);
return h};kY.sQ.create=function(h){var R=new Float32Array(16);R[0]=R[5]=R[10]=R[15]=1;if(h)kY.sQ.set(h,R);
return R};kY.ea.add=function(h,R,d){d[0]=h[0]+R[0];d[1]=h[1]+R[1];d[2]=h[2]+R[2];d[3]=h[3]+R[3]};kY.ea.set=function(h,R){R[0]=h[0];
R[1]=h[1];R[2]=h[2];R[3]=h[3]};kY.sQ.set=function(h,R){R[0]=h[0];R[1]=h[1];R[2]=h[2];R[3]=h[3];R[4]=h[4];
R[5]=h[5];R[6]=h[6];R[7]=h[7];R[8]=h[8];R[9]=h[9];R[10]=h[10];R[11]=h[11];R[12]=h[12];R[13]=h[13];R[14]=h[14];
R[15]=h[15]};kY.sQ.multiply=function(h,R,d){var L=h[0],$=h[1],W=h[2],M=h[3],x=h[4],t=h[5],g=h[6],r=h[7],l=h[8],H=h[9],y=h[10],f=h[11],b=h[12],K=h[13],Z=h[14],J=h[15],u=R[0],C=R[1],Q=R[2],i=R[3];
d[0]=u*L+C*x+Q*l+i*b;d[1]=u*$+C*t+Q*H+i*K;d[2]=u*W+C*g+Q*y+i*Z;d[3]=u*M+C*r+Q*f+i*J;u=R[4];C=R[5];Q=R[6];
i=R[7];d[4]=u*L+C*x+Q*l+i*b;d[5]=u*$+C*t+Q*H+i*K;d[6]=u*W+C*g+Q*y+i*Z;d[7]=u*M+C*r+Q*f+i*J;u=R[8];C=R[9];
Q=R[10];i=R[11];d[8]=u*L+C*x+Q*l+i*b;d[9]=u*$+C*t+Q*H+i*K;d[10]=u*W+C*g+Q*y+i*Z;d[11]=u*M+C*r+Q*f+i*J;
u=R[12];C=R[13];Q=R[14];i=R[15];d[12]=u*L+C*x+Q*l+i*b;d[13]=u*$+C*t+Q*H+i*K;d[14]=u*W+C*g+Q*y+i*Z;d[15]=u*M+C*r+Q*f+i*J;
return d};kY.sQ.inverse=function(h,R){var d=h[0],L=h[1],$=h[2],W=h[3],M=h[4],x=h[5],t=h[6],g=h[7],r=h[8],l=h[9],H=h[10],y=h[11],f=h[12],b=h[13],K=h[14],Z=h[15],J=d*x-L*M,u=d*t-$*M,C=d*g-W*M,Q=L*t-$*x,i=L*g-W*x,j=$*g-W*t,V=r*b-l*f,E=r*K-H*f,N=r*Z-y*f,n=l*K-H*b,a=l*Z-y*b,I=H*Z-y*K,q=J*I-u*a+C*n+Q*N-i*E+j*V;
if(!q){return null}q=1/q;R[0]=(x*I-t*a+g*n)*q;R[1]=($*a-L*I-W*n)*q;R[2]=(b*j-K*i+Z*Q)*q;R[3]=(H*i-l*j-y*Q)*q;
R[4]=(t*N-M*I-g*E)*q;R[5]=(d*I-$*N+W*E)*q;R[6]=(K*C-f*j-Z*u)*q;R[7]=(r*j-H*C+y*u)*q;R[8]=(M*a-x*N+g*V)*q;
R[9]=(L*N-d*a-W*V)*q;R[10]=(f*i-b*C+Z*J)*q;R[11]=(l*C-r*i-y*J)*q;R[12]=(x*E-M*n-t*V)*q;R[13]=(d*n-L*E+$*V)*q;
R[14]=(b*u-f*Q-K*J)*q;R[15]=(r*Q-l*u+H*J)*q;return R};kY.sQ.zwn=function(h,R,d){var L=R[0],$=R[1];d[0]=L*h[0]+$*h[4]+h[12];
d[1]=L*h[1]+$*h[5]+h[13]};kY.sQ.zDu=function(h,R,d){var L=R[0],$=R[1],W=R[2],M=R[3];d[0]=h[0]*L+h[4]*$+h[8]*W+h[12]*M;
d[1]=h[1]*L+h[5]*$+h[9]*W+h[13]*M;d[2]=h[2]*L+h[6]*$+h[10]*W+h[14]*M;d[3]=h[3]*L+h[7]*$+h[11]*W+h[15]*M};
function um(h,R,d,L,$,W){if(typeof h==="undefined"){h=1;R=0;d=0;L=1;$=0;W=0}this.r$=h;this.W=R;this.DS=d;
this.Cv=L;this.RZ=$;this.fA=W}um.prototype.NU=function(){return Math.sqrt(Math.abs(this.r$*this.Cv-this.W*this.DS))};
um.prototype.ST=function(){var h=this,R=function(d){return Math.abs(d)<1e-9?0:d};h.r$=R(h.r$);h.W=R(h.W);
h.DS=R(h.DS);h.Cv=R(h.Cv);h.RZ=R(h.RZ);h.fA=R(h.fA)};um.prototype.Ny=function(h){return new kY(h.x*this.r$+h.y*this.DS+this.RZ,h.x*this.W+h.y*this.Cv+this.fA)};
um.prototype.translate=function(h,R){this.RZ+=h;this.fA+=R};um.prototype.rotate=function(h){var R=new um(Math.cos(h),-Math.sin(h),Math.sin(h),Math.cos(h),0,0);
this.concat(R)};um.prototype.scale=function(h,R){var d=new um(h,0,0,R,0,0);this.concat(d)};um.prototype.concat=function(h){this.lQ(new um(this.r$*h.r$+this.W*h.DS,this.r$*h.W+this.W*h.Cv,this.DS*h.r$+this.Cv*h.DS,this.DS*h.W+this.Cv*h.Cv,this.RZ*h.r$+this.fA*h.DS+h.RZ,this.RZ*h.W+this.fA*h.Cv+h.fA))};
um.prototype.Gv=function(){var h=this.r$*this.Cv-this.W*this.DS;this.lQ(new um(this.Cv/h,-this.W/h,-this.DS/h,this.r$/h,(this.DS*this.fA-this.Cv*this.RZ)/h,(this.W*this.RZ-this.r$*this.fA)/h))};
um.prototype.clone=function(){return new um(this.r$,this.W,this.DS,this.Cv,this.RZ,this.fA)};um.prototype.lQ=function(h){this.r$=h.r$;
this.W=h.W;this.DS=h.DS;this.Cv=h.Cv;this.RZ=h.RZ;this.fA=h.fA};function T(){}T.$W=function(h){var R="";
for(var d=3;d>=0;d--)R+=String.fromCharCode(h>>d*8&255);return R};T.zpH=function(h){var R=0;for(var d=h.length-1;
d>=0;d--)R|=h.charCodeAt(d)<<(3-d)*8;return R};T.indexOf=function(h,R,d,L){if(d==null)d=0;if(L==null)L=h.length;
L=Math.min(L,h.length);for(var $=d;$<L;$++)if(h[$]==R)return $;return-1};T.eh=function(h,R,d){if(d==null)d=0;
if(typeof R=="string"){var L=[];for(var $=0;$<R.length;$++)L.push(R.charCodeAt($));R=L}for(var $=d;$<h.length;
$++){var W=!0;for(var M=0;M<R.length;M++)if(R[M]!=h[$+M]){W=!1;break}if(W)return $}return-1};T.SH=function(h,R,d){var L=[],W="";
while(R<d){var $=h[R++];if($=="\\".charCodeAt(0))L.push(h[R++]);else L.push($)}for(var M=0;M<L.length;
M+=2)W+=String.fromCharCode(L[M]<<8|L[M+1]);return W};T.z_j=function(h,R,d){var L=new Uint8Array(2);
for(var $=0;$<d.length;$++){T.Te(L,0,d.charCodeAt($));if(L[0]==")".charCodeAt(0)||L[0]=="(".charCodeAt(0)||L[0]=="\\".charCodeAt(0)){h[R]="\\".charCodeAt(0);
R++}h[R]=L[0];R++;if(L[1]==")".charCodeAt(0)||L[1]=="(".charCodeAt(0)||L[1]=="\\".charCodeAt(0)){h[R]="\\".charCodeAt(0);
R++}h[R]=L[1];R++}return R};T.SU=function(h,R,d){h._b(R,4*d.length);return T.z_j(h.data,R,d)};T.Sy=function(h,R,d){var L="";
for(var $=0;$<d;$++){var W=h[R++]|h[R++]<<8;L+=String.fromCharCode(W)}return L};T.em=function(h,R,d){var L="";
for(var $=0;$<d;$++){var W=h[R++]<<8|h[R++];L+=String.fromCharCode(W)}return L};T.z_S=function(h,R,d){for(var L=0;
L<d.length;L++){var $=d.charCodeAt(L);T.mH(h,R+2*L,$)}};T.Sf=function(h,R,d){for(var L=0;L<d.length;
L++){var $=d.charCodeAt(L);T.Te(h,R+2*L,$)}};T.zDN=function(h,R,d){h._b(R,2*d.length);T.Sf(h.data,R,d)};
T.z_A=function(h,R,d){var L=[],$=0,W=0;d+=R;while(R<d){$=h[R++];if(($&128)==0)W=$;else if(($&224)==192){W=($&31)<<6;
$=h[R++];W|=$&63}else if(($&240)==224){W=($&15)<<12;$=h[R++];W|=($&63)<<6;$=h[R++];W|=$&63}else if(($&248)==240){W=($&7)<<18;
$=h[R++];W|=($&63)<<12;$=h[R++];W|=($&63)<<6;$=h[R++];W|=$&63}else throw"e";L.push(W)}return L};T.So=window.TextDecoder?new window.TextDecoder("utf8"):null;
T.fh=function(h,R,d){if(R==null)R=0;if(d==null)d=h.length;if(T.So&&R==0&&d==h.length)return T.So.decode(h);
var L=T.z_A(h,R,d),$=L.length;for(var W=0;W<$;W++)L[W]=String.fromCharCode(L[W]);return L.join("")};
T.Sc=window.TextEncoder?new window.TextEncoder("utf8"):null;T.kU=function(h){if(T.Sc)return T.Sc.encode(h);
var R=new Uint8Array(h.length*4),d=T.yh(h,R,0);return R.slice(0,d)};T.yh=function(h,R,d){var L=h.length,$=0;
for(var W=0;W<L;W++){var M=h.charCodeAt(W);if((M&4294967295-(1<<7)+1)==0){R[d+$]=M;$++}else if((M&4294967295-(1<<11)+1)==0){R[d+$]=192|M>>6;
R[d+$+1]=128|M>>0&63;$+=2}else if((M&4294967295-(1<<16)+1)==0){R[d+$]=224|M>>12;R[d+$+1]=128|M>>6&63;
R[d+$+2]=128|M>>0&63;$+=3}else if((M&4294967295-(1<<21)+1)==0){R[d+$]=240|M>>18;R[d+$+1]=128|M>>12&63;
R[d+$+2]=128|M>>6&63;R[d+$+3]=128|M>>0&63;$+=4}else throw"e"}return $};T.eA=function(h,R){var d=T.U(h,R),L=T.fh(h,R+4,d-1);
return{ix:L,NM:4+d}};T.z_O=function(h,R){var d=T.KB(h,R),L=T.Sy(h,R+4,d);return L};T.lR=function(h,R){var d=T.U(h,R),L=T.em(h,R+4,d);
return L};T.$X=function(h,R){var d=T.U(h,R),L=T.em(h,R+4,d-1);return L};T.z_x=function(h,R,d){T.RG(h,R,d.length);
R+=4;T.z_S(h,R,d)};T.z_l=function(h,R,d){T.Dr(h,R,d.length);R+=4;T.Sf(h,R,d)};T.xS=function(h,R,d){h._b(R,4+2*d.length);
T.z_l(h.data,R,d)};T.z_Y=function(h,R,d){h._b(R,4+2*d.length);T.z_x(h.data,R,d)};T.$b=function(h,R,d){var L=[];
for(var $=0;$<d;$++)L.push(String.fromCharCode(h[R+$]));return L};T.zDA=function(h,R,d){var L=!1,$=h.length-d.length;
for(var W=R;W<$;W++){for(var M=0;M<d.length;M++){if(h[W+M]!=d.charCodeAt(M))break;if(M==d.length-1)return W}}};
T.UK=function(h,R,d){var L="";for(var $=0;$<d;$++)L+=String.fromCharCode(h[R+$]);return L};T.wO=function(h,R,d){for(var L=0;
L<d.length;L++)h[R+L]=d.charCodeAt(L)};T._F=function(h,R,d){h._b(R,d.length);T.wO(h.data,R,d)};T.zGz=function(h,R,d){var L="";
for(var $=0;$<d;$++){var W=h[R+$];if(W<10)L+="  ";else if(W<100)L+=" ";L+=W+", "}return L};T.BP=function(h,R){return h[R]<<8|h[R+1]};
T.Te=function(h,R,d){h[R]=d>>8&255;h[R+1]=d&255};T.yZ=function(h,R,d){h._b(R,4);T.Te(h.data,R,d)};T.zGM=function(h,R){var d=T.BP(h,R),L=T.BP(h,R+2);
return d+L*(1/65536)};T.Sv=function(h,R,d){var L=Math.floor(d),$=Math.floor((d-L)*65536);T.Te(h,R,L);
T.Te(h,R+2,$)};T.G_=function(h,R){return h[R+1]<<8|h[R]};T.mH=function(h,R,d){h[R+1]=d>>8&255;h[R]=d&255};
T.mV=function(h,R,d){h._b(R,4);T.mH(h.data,R,d)};T.rR=function(h,R){T.$T[0]=h[R+1];T.$T[1]=h[R];return T.iu[0]};
T.$q=function(h,R){T.$T[0]=h[R];T.$T[1]=h[R+1];return T.iu[0]};T.$z=T.Te;T.$i=T.yZ;T.Uw=function(h,R){T.UD[0]=h[R+3];
T.UD[1]=h[R+2];T.UD[2]=h[R+1];T.UD[3]=h[R];return T.ys[0]};T.LX=function(h,R,d){T.ys[0]=d;h[R+3]=T.UD[0];
h[R+2]=T.UD[1];h[R+1]=T.UD[2];h[R+0]=T.UD[3]};T.wC=function(h,R,d){h._b(R,4);T.LX(h.data,R,d)};T.$g=function(h,R,d,L){d[L+0]=h[R+0];
d[L+1]=h[R+1];d[L+2]=h[R+2];d[L+3]=h[R+3]};T.KB=function(h,R){T.$g(h,R,T.UD,0);return T.wz[0]};T.RG=function(h,R,d){T.wz[0]=d;
T.$g(T.UD,0,h,R)};T.G$=function(h,R,d){h._b(R,4);T.RG(h.data,R,d)};T.Sl=function(h,R){T.$g(h,R,T.UD,0);
return T.ys[0]};T.zGk=function(h,R,d){T.ys[0]=d;T.$g(T.UD,0,h,R)};T.zDC=function(h,R,d){h._b(R,4);T.zGk(h.data,R,d)};
T.U=function(h,R){var d=h[R]*(256*256*256)+(h[R+1]<<16|h[R+2]<<8|h[R+3]);return d};T.Dr=function(h,R,d){h[R]=d>>24&255;
h[R+1]=d>>16&255;h[R+2]=d>>8&255;h[R+3]=d>>0&255};T.Uz=function(h,R,d){h._b(R,4);T.Dr(h.data,R,d)};T.lY=function(h,R){return T.U(h,R)<<32|T.U(h,R+4)};
T.zG$=function(h,R,d){T.Dr(h,R,d>>16>>16);T.Dr(h,R+4,d&4294967295)};T.eI=function(h,R,d){h._b(R,8);T.zG$(h.data,R,d)};
T.iA=function(h,R){var d=new Uint8Array(8);for(var L=0;L<8;L++)d[L]=h[R+7-L];var $=new Float64Array(d.buffer);
return $[0]==-0?0:$[0]};T.zGL=function(h,R){var d=new Uint8Array(8);for(var L=0;L<8;L++)d[L]=h[R+L];
var $=new Float64Array(d.buffer);return $[0]==-0?0:$[0]};T.yd=function(h,R,d){var L=new Float64Array(1);
L[0]=d==-0?0:d;var $=new Uint8Array(L.buffer);for(var W=0;W<4;W++){var M=$[W];$[W]=$[7-W];$[7-W]=M}for(var W=0;
W<8;W++)h[R+W]=$[W]};T.yL=function(h,R,d){h._b(R,8);T.yd(h.data,R,d)};T.YR=function(h,R){T.UD[0]=h[R+3];
T.UD[1]=h[R+2];T.UD[2]=h[R+1];T.UD[3]=h[R+0];return T.$H[0]};T.eQ=function(h,R){T.UD[0]=h[R+0];T.UD[1]=h[R+1];
T.UD[2]=h[R+2];T.UD[3]=h[R+3];return T.$H[0]};T.GH=function(h,R,d){T.$H[0]=d;h[R+0]=T.UD[3];h[R+1]=T.UD[2];
h[R+2]=T.UD[1];h[R+3]=T.UD[0]};T.zpO=function(h,R,d){h._b(R,4);T.GH(h.data,R,d)};T.eY=function(h,R,d){T.$H[0]=d;
h[R+0]=T.UD[0];h[R+1]=T.UD[1];h[R+2]=T.UD[2];h[R+3]=T.UD[3]};T.zpZ=function(h,R,d){h._b(R,4);T.eY(h.data,R,d)};
T.zGU=function(h,R){var d=T.Uw(h,R),L=d*(1/(1<<24));return L};T.SY=function(h,R,d){var L=Math.floor(d*(1<<24));
T.LX(h,R,L)};T.zpr=function(h,R,d){h._b(R,4);T.SY(h.data,R,d)};T.AW=function(h,R){var d=h[R],L=T.UK(h,R+1,d);
d+=1-d%2;return{JO:L,length:d+1}};T.zGX=function(h,R,d){var L=d.length;h[R]=L;T.wO(h,R+1,d);if(L%2==0){h[R+1+L]=0;
++L}return L+1};T.kr=function(h,R,d){h._b(R,d.length+2);return T.zGX(h.data,R,d)};T.pN=function(h,R){var d=new um;
d.r$=T.iA(h,R+0*8);d.W=T.iA(h,R+1*8);d.DS=T.iA(h,R+2*8);d.Cv=T.iA(h,R+3*8);d.RZ=T.iA(h,R+4*8);d.fA=T.iA(h,R+5*8);
return d};T.AB=function(h,R,d){T.yd(h,R+0*8,d.r$);T.yd(h,R+1*8,d.W);T.yd(h,R+2*8,d.DS);T.yd(h,R+3*8,d.Cv);
T.yd(h,R+4*8,d.RZ);T.yd(h,R+5*8,d.fA)};T.zGy=function(h,R,d){h._b(R,48);T.AB(h.data,R,d)};T.zGc=function(h,R){var d=T.YR(h,R),L=T.YR(h,R+4),$=T.YR(h,R+8),W=T.YR(h,R+12);
return new A(d,L,$-d,W-L)};T.zmt=function(h,R,d){T.GH(h,R,d.x);T.GH(h,R+4,d.y);T.GH(h,R+8,d.x+d.k);T.GH(h,R+12,d.y+d.$)};
T.zme=function(h,R,d){h._b(R,16);T.zmt(h.data,R,d)};T.sB=function(h,R){var d=T.Uw(h,R),L=T.Uw(h,R+4),$=T.Uw(h,R+8),W=T.Uw(h,R+12);
return new A(L,d,W-L,$-d)};T.SV=function(h,R,d){T.LX(h,R,d.y);T.LX(h,R+4,d.x);T.LX(h,R+8,d.y+d.$);T.LX(h,R+12,d.x+d.k)};
T.Yy=function(h,R,d){h._b(R,16);T.SV(h.data,R,d)};T.Aw=function(h,R,d){var L=new Uint8Array(d);for(var $=0;
$<d;$++)L[$]=h[R+$];return L};T.wa=function(h,R,d){h.set(d,R)};T.AD=function(h,R,d){h._b(R,d.length);
T.wa(h.data,R,d)};T.zmP=function(h,R,d,L){if(!L)L=1;for(var $=0;$<L;$++)h[R+$]=d};T.Rw=function(h,R,d,L){if(!L)L=1;
h._b(R,L);T.zmP(h.data,R,d,L)};T.iu=new Int16Array(1);T.$T=new Uint8Array(T.iu.buffer);T.ys=new Int32Array(1);
T.wz=new Uint32Array(T.ys.buffer);T.UD=new Uint8Array(T.ys.buffer);T.$H=new Float32Array(T.ys.buffer);
function A(h,R,d,L){if(!h)h=0;if(!R)R=0;if(!d)d=0;if(!L)L=0;this.x=h;this.y=R;this.k=d;this.$=L}A.prototype.s=function(){return this.k*this.$};
A.prototype.clone=function(){return new A(this.x,this.y,this.k,this.$)};A.prototype.contains=function(h,R){return h>=this.x&&h<=this.x+this.k&&(R>=this.y&&R<=this.y+this.$)};
A.prototype.hR=function(h){return this.contains(h.x,h.y)};A.prototype.nF=function(h){return this.x<=h.x&&this.y<=h.y&&h.x+h.k<=this.x+this.k&&h.y+h.$<=this.y+this.$};
A.prototype.lQ=function(h){this.x=h.x;this.y=h.y;this.k=h.k;this.$=h.$};A.prototype.PC=function(h){return this.x==h.x&&this.y==h.y&&this.k==h.k&&this.$==h.$};
A.prototype.si=function(h,R){this.x-=h;this.y-=R;this.k+=2*h;this.$+=2*R};A.prototype.zps=function(h){this.si(h.x,h.y)};
A.prototype.hc=function(h){var R=Math.max(this.x,h.x),d=Math.max(this.y,h.y),L=Math.min(this.x+this.k,h.x+h.k),$=Math.min(this.y+this.$,h.y+h.$);
if(L<R||$<d)return new A;else return new A(R,d,L-R,$-d)};A.prototype.Yf=function(h){if(h.y+h.$<this.y||h.x>this.x+this.k||h.y>this.y+this.$||h.x+h.k<this.x)return!1;
return!0};A.prototype.dp=function(){return this.k<=0||this.$<=0};A.prototype.offset=function(h,R){this.x+=h;
this.y+=R};A.prototype.wt=function(h){this.offset(h.x,h.y)};A.prototype.z_g=function(){this.x=this.y=this.k=this.$=0};
A.prototype.qC=function(h,R,d,L){this.x=h;this.y=R;this.k=d;this.$=L};A.prototype.DM=function(h){if(this.dp())return h.clone();
if(h.dp())return this.clone();var R=this.clone();R.zmm(h);return R};A.Ke=new Float32Array(2);A.prototype.zmm=function(h){if(h.dp())return;
if(this.dp()){this.lQ(h);return}this.xW(h.x,h.y);this.xW(h.x+h.k,h.y+h.$)};A.prototype.xW=function(h,R){var d=Math.min(this.x,h),L=Math.min(this.y,R);
this.k=Math.max(this.x+this.k,h)-d;this.$=Math.max(this.y+this.$,R)-L;this.x=d;this.y=L};A.prototype.z_r=function(h,R,d,L){if(this.k==0&&this.$==0)this.zmQ(h,R);
else this.xW(h,R);this.xW(d,L)};A.prototype.zmQ=function(h,R){this.x=h;this.y=R;this.k=this.$=0};function WG(){}WG.iN=function(h,R){var d=new Uint8Array(h),L=0,$=T.UK(d,L,9),x=4,t=100;
L+=9;var W=T.UK(d,L,4);L+=4;L++;R.k=T.U(d,L);L+=4;R.$=T.U(d,L);L+=4;var M=T.U(d,L);L+=4;if(M!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(W)==-1){t=T.U(d,L);L+=4;if(parseInt(W.slice(1))>=7){t=t}else alert("Unknown XCF version: "+W);
x=8}var g={};L=WG.iq(d,L,g);var r=[];L=WG.iB(d,L,r,x);var l=[];L=WG.iB(d,L,l,x);R.hT=0;for(var H=0;H<r.length;
H++)WG.zmC(d,r[H],R,g,x,t);while(R.hT>0){R._.push(R.Hb());R.hT--}R._.reverse();delete R.hT;R.buffer=z.h(R.k*R.$*4);
if(R._.length==0)console.log("No layers!!!");for(var H=0;H<l.length;H++){var y=WG.wk(d,l[H],g,x,t);if(y.Nc[zx.zAU])R.z={channel:y.U_,rect:new A(0,0,R.k,R.$)}}};
WG.zmC=function(h,R,d,L,$,W){var M=d.mS(),x=T.U(h,R),l=0;R+=4;var t=T.U(h,R);R+=4;M.rect=new A(0,0,x,t);
var g=T.U(h,R);R+=4;var r=T.eA(h,R);R+=r.NM;M.AI(r.ix);var H={};R=WG.iq(h,R,H);if(H[zx.DB]){var y=H[zx.DB];
l=y.length/4-1}if(H[zx.iF]){M.rect.x=T.Uw(H[zx.iF],0);M.rect.y=T.Uw(H[zx.iF],4)}if(H[zx.wW]){M.opacity=T.U(H[zx.wW],0)}if(H[zx.zOW]){M.add.lsct=W_.ei;
M.rect=new A(0,0,0,0);M.buffer=z.h(0);M.CN=24}if(H[zx.wh]){var f=T.U(H[zx.wh],0);M.Pg=zx.zOq[f];if(M.If()&&M.Pg=="norm")M.Pg="pass"}if(H[zx.wB]){if(T.U(H[zx.wB],0)==0)M.CN+=2}if(H[zx.Dq]){var b=T.U(H[zx.Dq],0);
M.add.lsct=b&1==1?W_.ei:W_.Th}if(H[zx.ie]){var K=H[zx.ie];for(var Z in K){var J=K[Z];if(Z=="gimp-text-layer"){var u=WG.zmL(J),C=u.text,Q=u.font,i=u.color,j=u["font-size"];
if(C==null&&u.markup){var V=new DOMParser,E=V.parseFromString(u.markup,"image/svg+xml");while(E.firstChild!=null&&E.firstChild.tagName!=null){E=E.firstChild;
var N=E.getAttribute("font"),n=E.getAttribute("foreground"),a=E.getAttribute("size");if(N!=null)Q=N;
if(n!=null){n=CSS.UB(n);i=[1,n.H/255,n.N/255,n.W/255]}if(a!=null){j=""+parseFloat(a)/245}}C=E.textContent}M.add.lnsr="rend";
M.add.TySh=uM.gD(0,0);M.add.TySh.bz=new A(0,0,100,100);M.add.TySh.V=new um(1,0,0,1,M.rect.x,M.rect.y);
var I=M.add.TySh.h_;uM.sq(I,0,C);var q=uM.tZ(I,0,0),k=u.justify,F=u["line-spacing"];if(i)q.U$.FillColor={Type:1,Values:[1,parseFloat(i[1]),parseFloat(i[2]),parseFloat(i[3])]};
if(j){j=Math.round(parseFloat(j));q.U$.FontSize=j;M.add.TySh.V.fA+=Math.min(17,j*.17)}if(F){F=Math.round(parseFloat(F)+q.U$.FontSize*1.2);
q.U$.Leading=F;q.U$.AutoLeading=!1}if(k)q.Rx.Justification=["left","right","center","fill"].indexOf(k);
if(Q&&Q!="Sans-serif"){var o=Q.toLowerCase(),G="bold italic semi extra regular condensed light".split(" "),w=o.length;
for(var U=0;U<G.length;U++){var B=o.indexOf(G[U]);if(B!=-1&&B<w&&o[B-1]==" ")w=B}if(w!=o.length)Q=Q.slice(0,w-1).split(" ").join("")+"-"+Q.slice(w).split(" ").join("");
uM.xY(q,Q)}uM.sp(I,0,C.length,q);var D=u["box-width"],P=u["box-height"],v=D?parseFloat(D):M.rect.k,O=P?parseFloat(P):M.rect.$;
uM.sw(I,1);uM.RY(I,[0,0,Math.ceil(v),Math.ceil(O)])}else console.log("Unknown property "+Z)}}while(d.hT>l){d._.push(d.Hb());
d.hT--}d.hT=l;if(M.add.lsct==W_.ei||M.add.lsct==W_.Th)d.hT++;var uk=$==4?T.U:T.lY;if(M.Av()){M.buffer=z.h(M.rect.s()*4);
var ut=new z.Zb(M.rect.s()),ua=uk(h,R);R+=$;var uu=uk(h,R);R+=$;WG.wu(h,ua,ut,L,$,W);z.eB(ut,M.buffer);
if(uu!=0){M.v=new S.x_;M.v.color=0;M.v.rect=M.rect.clone();M.v.channel=WG.wk(h,uu,L,$,W).U_;if(H[zx.wD])M.v.isEnabled=T.U(H[zx.wD],0)==1}}d._.push(M)};
WG.zmL=function(h){var R="("+T.fh(h,0,h.length-1)+")",d=[],L={};WG.wM(R,1,d);WG.zmJ(d,L);return L};WG.zmJ=function(h,R){for(var d=0;
d<h.length;d++){var L=h[d],$=L[0];if(L.length==2)R[$]=L[1];else R[$]=L.slice(1)}};WG.wM=function(h,R,d){while(!0){if(R>=h.length)throw"e";
var L=h.charAt(R);R++;if(L=="("){var $=[];R=WG.wM(h,R,$);d.push($)}else if(L==" "||L=="\n"||L=="\r"){}else if(L==")")return R;
else if(L=="\""){var W=R;while(!0){var M=h[R];R++;if(M=="\"")break;if(M=="\\")R++}d.push(JSON.parse(h.slice(W-1,R)))}else{var W=R-1;
while(h[R]!=" "&&h[R]!=")")R++;d.push(h.slice(W,R))}}};WG.wk=function(h,R,d,L,$){var W=T.U(h,R);R+=4;
var M=T.U(h,R);R+=4;var x=T.eA(h,R);R+=x.NM;var t={};R=WG.iq(h,R,t);var g=new z.Zb(W*M),r=L==4?T.U:T.lY,l=r(h,R);
R+=L;WG.wu(h,l,g,d,L,$);return{U_:g.H,Nc:t}};WG.wu=function(h,R,d,L,$,W){var M=T.U(h,R);R+=4;var x=T.U(h,R);
R+=4;var t=T.U(h,R);R+=4;var g=$==4?T.U:T.lY,r=g(h,R);R+=$;WG.zAk(h,r,d,L,t,$,W)};WG.zAk=function(h,R,d,L,$,W,M){var x=T.U(h,R),r=0,J=0;
R+=4;var t=T.U(h,R);R+=4;var g=new A(0,0,x,t);if(M==100)r=1;else if(M==150)r=1;else if(M==600)r=4;else alert("unsupported bit depth "+M);
var l=$/r,r=Math.round($/l),H=[];R=WG.iB(h,R,H,W);var y=new z.Zb(64*64*r),f=new A,b=L[zx.zOz][0],K=[y.H,y.N,y.W,y.r$];
if(l==3)z.set(y.r$,255);var Z=Date.now();for(var u=0;u<t;u+=64)for(var C=0;C<x;C+=64){var Q=Math.min(x-C,64),i=Math.min(t-u,64),j=Q*i;
f.qC(C,u,Q,i);WG.zAw(h,H[J++],j*r,b,l,K);if(M==600){var V=WG.zAu(),E=new Uint32Array(1),N=new Float32Array(E.buffer);
for(var n=0;n<l;n++){var a=K[n];for(var I=0;I<j;I++){E[0]=a[I]<<24|a[j+I]<<16|a[(j<<1)+I]<<8|a[(j<<1)+j+I]<<0;
var q=N[0];if(q<0)q=0;else if(q>1)q=1;a[I]=V[~~(.5+q*1e3)]}}}z.qA(y,f,d,g)}};WG.zAu=function(){var h=WG.zIm;
if(h!=null)return h;h=WG.zIm=new Uint8Array(1001);for(var R=0;R<1001;R++)h[R]=~~(.49+255*z.qj(R*.001));
return h};WG.zAw=function(h,R,d,L,$,W){if(L==1){for(var M=0;M<$;M++){var x=W[M],t=0;while(t<d){var g=h[R];
R++;if(g<127){var r=h[R];R++;g++;for(var l=0;l<g;l++)x[t+l]=r}else if(g==127){var H=h[R];R++;var y=h[R];
R++;var r=h[R];R++;g=H<<8|y;for(var l=0;l<g;l++)x[t+l]=r}else if(g==128){var H=h[R];R++;var y=h[R];R++;
g=H<<8|y;for(var l=0;l<g;l++)x[t+l]=h[R+l];R+=g}else{g=256-g;for(var l=0;l<g;l++)x[t+l]=h[R+l];R+=g}t+=g}}}else if(L==2){var f=pako.inflate(h.slice(R)),b=Math.round(f.length/d);
for(var l=0;l<d;l++){var K=l*b;W[0][l]=f[K];W[1][l]=f[K+1];W[2][l]=f[K+2];W[3][l]=b==3?255:f[K+3]}}else alert("Unknown compression "+L)};
WG.iB=function(h,R,d,L){var $=L==4?T.U:T.lY;while(!0){var W=$(h,R);R+=L;if(W==0)break;else d.push(W)}return R};
WG.iq=function(h,R,d){while(!0){var L=T.U(h,R);R+=4;var $=T.U(h,R);R+=4;if(L==zx.zAT)break;else if(L==zx.ie)d[L]=WG.zAC(h,R,R+$);
else d[L]=T.Aw(h,R,$);R+=$}return R};WG.zAC=function(h,R,d){var L={};while(R<d){var $=T.eA(h,R);R+=$.NM;
var W=T.U(h,R);R+=4;if(W!=1)console.log("unknown flags",W);var M=T.U(h,R);R+=4;L[$.ix]=T.Aw(h,R,M);R+=M}return L};
var zx={zAT:0,z_y:1,z_c:2,zGW:3,zAU:4,zGq:5,wW:6,wh:7,wB:8,zGF:9,zGD:10,wD:11,zGA:12,zGO:13,zmg:14,iF:15,zmR:16,zOz:17,zmT:18,zmH:19,zAM:20,ie:21,zAs:22,zOQ:23,zOJ:24,zgD:25,zgp:26,zg$:27,zgx:28,zOW:29,DB:30,Dq:31,zgX:32,zgo:33,zgV:34,zIa:35,zID:36,zI_:37,zII:38,zIQ:0,zIK:1,zIZ:2,zIn:3,zIL:1,zIs:2,zIX:0,zIy:1,zIY:1};
zx.zOq="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
function Wu(){}Wu.iN=function(h,R){var d=Wu,L=te.parse(h),W=0;if(L.pages.length>1)console.log(L.pages.length,"pages");
var $=[],M=new A;for(var x=0;x<L.pages.length;x++){var t=L.pages[x],g=t.layers,r=d.oY(g,x),H=!1;if(r.s()>8e3*8e3||r.k>3e4||r.$>3e4){d.p$(g,!0);
var l=d.oY(g,x);if(l.s()>=r.s())d.p$(g,!1)}r=d.oY(g,x);for(var y=0;y<g.length;y++){var f=g[y];if(d.Gy(f)=="artboard")H=!0}if(!H){console.log("no artboard");
var b={};for(var K in t)b[K]=t[K];b._class="group";t.layers=[b]}$.push(r.clone());if(r.dp())continue;
r.x=0;r.y=W;W+=r.$+200;M=M.DM(r)}var Z={};if(L.foreignSymbols)for(var J=0;J<L.foreignSymbols.length;
J++){var u=L.foreignSymbols[J].symbolMaster;Z[u.symbolID]={cF:u}}d.GN(L.pages,Z,R);for(var C in Z){var f=Z[C].cF,Q=d.Ix(f.layers)}var i=Wu.iI(M,8192*8192);
R.hX=!0;R.k=Math.round(M.k/ i);R.$=Math.round(M.$/ i);R.buffer=z.h(R.k*R.$*4);R.FH(L.pages[0].layers.length);
R.bH={};R.cD=[];W=0;for(var x=0;x<L.pages.length;x++){var j=L.pages[x],r=$[x],V=new um(i,0,0,i,r.x,r.y-W);
d.iQ(j.layers,R,V,L,Z,{},[]);W+=r.$+200}delete R.bH;delete R.cD;if(i!=1)alert("File scaled down "+i+"x")};
Wu.zQa=0;Wu.Gy=function(h){return h._class?h._class:h.$class};Wu.iI=function(h,R){var d=1;while(Math.round(h.k/d)*Math.round(h.$/d)>R)d++;
if(d!=1&&!window.confirm("Your image is quite large ("+h.k+" x "+h.$+" px).\n"+"Press OK to scale it down "+d+"x, or Cancel to keep the size."))d=1;
return d};Wu.oY=function(h,R){var d=[],L=Wu;for(var $=0;$<h.length;$++){var W=h[$],M=L.sB(W.frame);if(R==0||L.Gy(W)=="artboard")d.push(M)}return z.rect.nW(d)};
Wu.p$=function(h,R){var d=[],L=Wu;for(var $=0;$<h.length;$++){var W=h[$],M=L.sB(W.frame);M.k+=150;M.$+=150;
d.push(M)}var x=z.rect.nW(d);z.rect.zmu(d,R);var t=z.rect.nW(d);if(t.s()*1.5<x.s()||x.k>3e4&&t.k<=3e4||x.$>3e4&&t.$<=3e4){alert("Re-arranging artboards");
for(var $=0;$<h.length;$++){var g=d[$],W=h[$],r=W.frame;r.x=g.x;r.y=g.y}}};Wu.GN=function(h,R,d){var L=Wu;
for(var $=0;$<h.length;$++){var W=h[$],M=L.Gy(W);if(["page","artboard","group"].indexOf(M)!=-1)L.GN(W.layers,R,d);
else if(M=="symbolMaster")R[W.symbolID]={cF:W}}};Wu.Ix=function(h){var R=Wu;for(var d=0;d<h.length;d++){var L=h[d],$=R.Gy(L),W=null;
if(["page","artboard","group"].indexOf($)!=-1)W=R.Ix(L.layers);if($=="symbolMaster"||$=="symbolInstance")W=L;
if(W!=null)return W}return null};Wu.iQ=function(h,R,d,L,$,W,M){var x=Wu,t=[];for(var g=0;g<h.length;
g++){var r=h[g],l=r.frame?x.sB(r.frame):null,H=r.style,J="",V=null,E=!1;if(H==null){console.log("no styles")}var y=x.ZO(r,d),f=x.Gy(r),b=f=="shapeGroup"||f=="shapePath"||f=="rectangle"||f=="oval"||f=="triangle",K=["page","artboard","group"].indexOf(f)!=-1;
if(f=="shapeGroup"){for(var Z=0;Z<r.layers.length;Z++)if(x.Gy(r.layers[Z])=="shapeGroup")K=!0}var u=r.exportOptions;
if(u){var C=u.exportFormats;if(C==null)C=u.sizes;if(f!="artboard"&&(C&&C.length!=0)){var Q=C[0].scale}}var i=R.mS();
i.nr(r.isVisible);var j=r.name;if(!(typeof j=="string"))j=f;i.AI(J+j.slice(0,250));if(H!=null)V=x.zOl(L,R,H,l,y,i.getName(),b||f=="artboard"||K);
if(f=="rectangle"&&H&&H.fills&&H.fills[0]){var N=H.fills[0];if(N.fillType==4&&N.patternFillType>1&&N.image!=null)E=!0}if(r.shouldBreakMaskChain){while(t.length!=0)x.ZA(t.pop(),R)}if(K){i.add.lsct=r.layerListExpandedType==2?W_.ei:W_.Th;
i.Pg="pass";i.CN=24;i.nr(r.isVisible);R._.push(R.Hb());if(f=="artboard"){var n=l.clone(),a=y.NU();n.x=-Math.floor(y.RZ/a);
n.y=-Math.floor(y.fA/a);n.k=Math.floor(n.k/a);n.$=Math.floor(n.$/a);i.zV(n);var I=r.backgroundColor;
i.add.artb.Clr={t:"Objc",v:z.i.ZR({H:255*I.red,N:255*I.green,W:255*I.blue})};i.add.artb.artboardBackgroundType={t:"long",v:4}}x.iQ(r.layers,R,y,L,$,W,M)}else if(b&&!E){i.add.vmsk=new S.EF;
i.add.vstk=JSON.parse(JSON.stringify(uz.ri.default));i.add.vstk.strokeEnabled.v=!1;i.add.vogk=[];var q=V!=null&&V.frameFXMulti.v.length==1,k=H?H.fills:null,F=H?x.KF(L,k,l,y,i.getName(),R,x.iZ(M,r.do_objectID+"_image")):[];
if(F.length==0){if(q)i.add.vstk.fillEnabled.v=!1;else i.add.iOpa=0;i.add.SoCo={classID:"null",Clr:{t:"Objc",v:z.i.ZR({H:0,N:0,W:0})}}}else{var o=F[0],G=null,w=null;
if(o.type=="SoFi"){G="SoCo";w=uz.kv}if(o.type=="GrFl"){G="GdFl";w=uz.$n}if(o.type=="patternFill"){G="PtFl";
w=uz.$J}if(G!=null){i.add[G]={classID:"null"};for(var Z=0;Z<w.length;Z++){var U=w[Z];i.add[G][U]=o.a.v[U]}var B=o.a.v.Opct.v.val;
if(q&&B==0)i.add.vstk.fillEnabled.v=!1;else i.add.iOpa=Math.round(255*B/100)}}i.CN|=16;i.add.vmsk.r=x.pS(r.layers?r.layers:[r],r.layers?y:d,i.add.vogk);
var D=H?H.blur:null;if(D&&D.isEnabled&&D.type<=1)i.add.vmsk.EI=D.radius;if(i.add.vmsk.r.length==2){console.log("shape with no content:",i.getName())}if(q){var P=V.frameFXMulti.v[0].v,v=i.add.vstk,O=H.borders[0];
V.frameFXMulti.v=[];uS.zju(P,v);var uk=H.borderOptions,ut=H.miterLimit;if(uk){var ua=uk.dashPattern;
v.strokeStyleLineCapType.v.strokeStyleLineCapType=uz.ri.OK[uk.lineCapStyle];v.strokeStyleLineJoinType.v.strokeStyleLineJoinType=uz.ri.join[uk.lineJoinStyle];
if(ua)v.strokeStyleLineDashSet.v=uS.so(ua,1/P.Sz.v.val);if(ut!=null)v.strokeStyleMiterLimit.v=ut}}i.eG(R)}else if(f=="bitmap"||E){var uu=E?H.fills[0]:null,uW=E?uu.image.bdata:r.image.bdata,kV=R.Mf(uW,i.getName(),0,0);
kV.CN=i.CN;i=kV;var D=H.blur,p=H.colorControls;if(D||p){i.add.SoLd.filterFX=u$.HU();R.MJ({id:i.add.SoLd.placed.v,rect:new A,buffer:z.h(1),v:new S.x_});
var k=i.add.SoLd.filterFX.v.filterFXList.v;if(D){var _=u$.I_("GsnB",{});_.v.enab.v=D.isEnabled;_.v.Fltr.v.Rds.v.val=D.radius;
k.push(_)}if(p){var uB=p.brightness,ub=p.contrast,uq=p.hue,uF=p.saturation;if(uq!=0||uF!=1){var _=u$.I_("hue2",{});
_.v.enab.v=p.isEnabled;zg.Uk(_.v.Fltr.v,0,[Math.round(uq*180/Math.PI),Math.round((uF-1)*100),0]);k.push(_)}if(uB!=0||ub!=1){var _=u$.I_("brit",{});
_.v.enab.v=p.isEnabled;ub=ub-1;if(ub>0)ub/=2;var ue=_.v.Fltr.v;ue.Brgh.v=Math.round(uB*255);ue.Cntr.v=Math.round(ub*255);
ue.useLegacy.v=!0;k.push(_)}}}if(E){var up=uu.patternFillType;if(up==3){var ui=i.rect.k/ i.rect.$,zd=l.k/l.$;
if(ui<zd){y.translate(-(l.k*(1-ui/zd))/2,0);y.scale(zd/ui,1)}else{y.translate(0,-(l.$*(1-zd/ui))/2);
y.scale(1,ui/zd)}}}l.x=l.y=0;var uN=z.G.ii(l).B;y.Gv();z.G.V(uN,y,uN);i.add.SoLd.Trnf=s.w.Lt(uN);i.add.SoLd.nonAffineTransform=s.w.Lt(uN);
i.eb(R,!1)}else if(f=="text"){if(r.attributedString==null)continue;var u_=y.clone(),za,uZ,uO=0;u_.Gv();
u_.r$=u_.Cv=Math.min(u_.r$,u_.Cv);i.add.lnsr="rend";i.add.TySh=uM.gD(0,0);i.add.TySh.bz=new A(0,0,l.k,l.$);
i.add.TySh.V=u_;var uj=r.attributedString;if(uj.archivedAttributedString)uj=uj.archivedAttributedString;
var uw=uj.NSString;if(uw==null)uw=uj.string;if(uw==null)uw="";if(uw["NS.string"])uw=uw["NS.string"];
if(W[r.do_objectID]!=null)uw=W[r.do_objectID];var tI=x.iZ(M,r.do_objectID+"_stringValue");if(tI)uw=tI.value;
if(uj.attributes!=null){za=[];uZ=[];var ug=uj.attributes;for(var Z=0;Z<ug.length;Z++){za.push(ug[Z].length,Z);
uZ.push(ug[Z].attributes)}}else if(uj.NSAttributeInfo==null){za=[uw.length,0];uZ=[uj.NSAttributes]}else{za=uj.NSAttributeInfo["NS.data"];
uZ=uj.NSAttributes;za=Wu.zOd(za,uZ)}for(var Z=0;Z<za.length;Z+=2)uO+=za[Z];if(uO!=uw.length){while(uO>uw.length){za[za.length-2]--;
uO--;if(za[za.length-2]==0){za.pop();za.pop()}}za[za.length-2]+=uw.length-uO}uw=uw.replace(/\u2028/g,"\n");
uw=uw.replace(/\u2029/g,"\n");uw=uw.replace(/\r/g,"\n");var uC=i.add.TySh.h_;uM.sq(uC,0,uw);if(uw!=""){var ux=r.textBehaviour,zu=H.textStyle,uL=zu?zu.verticalAlignment:0,un=x.zOr(uC,za,uZ,uw),a=u_.NU(),us=uM.tZ(uC,0,1),uV=0;
if(us.U$.Font){var Wa=us.lw[us.U$.Font].Name;if(Wa=="FontAwesome"||Wa=="Ionicons")un*=.87}var Wt=us.U$.AutoLeading?0:us.U$.Leading*.6,zZ=Math.max(un,Wt)*a,uU=l.k,zI=l.$;
if(ux==0){uM.sw(uC,0);var uG=uM.di(us.Rx);if(uG==1)uV=uU*a;if(uG==2)uV=uU*a*.5;if(uL==0)zZ*=1;else zZ*=.9}else{uM.sw(uC,1);
uM.RY(uC,[0,0,Math.round(uU),Math.round(zI)]);if(ux==2&&uL==0)zZ=zZ*.2;else if(ux==2&&uL==1){zZ=a*.5*(zI-us.U$.FontSize)}else if(ux==1&&uL==0)zZ=zZ*.2;
else zZ=zZ*.35}i.add.TySh.V.translate(uV,zZ)}}else if(f=="symbolInstance"||f=="symbolMaster"){var WW=r.symbolID;
if(W[r.do_objectID])WW=W[r.do_objectID].symbolID;var Wq=x.iZ(M,r.do_objectID+"_symbolID");if(Wq)WW=Wq.value;
if(WW=="")continue;var uH={};for(var U in W)uH[U]=W[U];if(r.overrides)for(var U in r.overrides)uH[U]=r.overrides[U];
var Wp=M.slice(0);if(r.overrideValues)Wp=Wp.concat(r.overrideValues);var tD=$[WW];if(tD==null){console.log("Unknown master master",r.symbolID);
continue}var zF=Wu.sB(tD.cF.frame),zO=zF.k/l.k,Wr=zF.$/l.$,z_=y.clone();z_.scale(zO,Wr);i.add.lsct=W_.Th;
i.Pg="pass";i.CN=24;i.nr(r.isVisible);R._.push(R.Hb());var Wz=tD.cF;if(R.cD.indexOf(Wz)==-1){R.cD.push(Wz);
x.iQ(Wz.layers,R,z_,L,$,uH,Wp);R.cD.pop()}}else if(f=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+f,r);continue}if(H&&H.contextSettings){var Me=H.contextSettings,zp=Me.blendMode;
if(zp<x.ky.length){i.Pg=zP.RS[zP.wc.indexOf(x.ky[zp])];if(K&&i.Pg=="norm")i.Pg="pass"}i.opacity=Math.round(i.opacity*Me.opacity)}if(V!=null){i.add.lmfx=V}R._.push(i);
if(r.hasClippingMask&&h.length>1){t.push(i);R._.push(R.Hb())}}while(t.length!=0)x.ZA(t.pop(),R)};Wu.iZ=function(h,R){for(var d=0;
d<h.length;d++)if(h[d].overrideName.startsWith(R))return h[d]};Wu.zOd=function(h,R){var d=0,L=[];while(d+1<h.length){var $=h[d];
d++;if($>127){$+=128*(h[d]-1);d++;if(h[d-1]>127){$+=128*(h[d]-1);d++}}var W=h[d];d++;L.push($,W)}return L};
Wu.zOr=function(h,R,d,L){var $=Wu,W=0,l=0,H=0;for(var M=0;M<L.length;M++){var x=L.charCodeAt(M),t=1473<=x&&x<=1479||1488<=x&&x<=1514||1520<=x&&x<=1524,g=1569<=x&&x<=1594||1600<=x&&x<=1749;
if(t||g)W++}var r=W>L.length/2;for(var M=0;M<R.length;M+=2){var y=R[M],i=14,j="DejaVuSans";if(y==0)continue;
var f=R[M+1],b=d[f],K=uM.tZ(h,l,l+y-1),Z=b.NSColor;if(Z==null){var Z=b.MSAttributedStringColorDictionaryAttribute;
if(Z==null)Z=b.MSAttributedStringColorAttribute;if(Z==null)Z="0 0 0";else Z=[Z.red,Z.green,Z.blue].join(" ")}else if($.Gy(Z)=="MSArchivedColor")Z=Z.dr+" "+Z.dg+" "+Z.db;
else if(Z.NSRGB){Z=Z.NSRGB;Z=T.UK(Z,0,Z.length-1)}else if(Z.NSCMYK){Z=Z.NSCMYK;Z=T.UK(Z,0,Z.length-1);
Z=Z.split(" ").map(parseFloat);var J=1-Z[0],u=1-Z[1],C=1-Z[2],Q=1-Z[3];Z=J*Q+" "+u*Q+" "+C*Q}else if(Z.NSWhite){Z="1 1 1"}Z=Z.split(" ");
K.U$.FillColor={Type:1,Values:[1,parseFloat(Z[0]),parseFloat(Z[1]),parseFloat(Z[2])]};var V=b.MSAttributedStringFontAttribute;
if(b.NSFont){i=b.NSFont.NSSize;j=b.NSFont.NSName}else if(V){if(V.attributes){V=V.attributes;i=V.size;
j=V.name}else{var E=V.NSFontDescriptorAttributes;if(E==null)E=V.UIFontDescriptorAttributes;V=E;i=V.NSFontSizeAttribute;
j=V.NSFontNameAttribute}if(j==null)j="DejaVuSans"}var H=Math.max(H,i);K.U$.FontSize=Math.round(i);uM.xY(K,j);
var N=b.NSKern;if(N==null)N=b.kerning;if(N!=null)K.U$.Tracking=Math.round(1e3*N/ i);if(b.NSUnderline!=null)K.U$.Underline=b.NSUnderline>0;
if(b.NSStrikethrough!=null)K.U$.Strikethrough=b.NSStrikethrough>0;if(b.MSAttributedStringTextTransformAttribute==1)K.U$.FontCaps=2;
var n=b.NSParagraphStyle;if(n==null)n=b.paragraphStyle;if(n){var a=n.paragraphSpacing;if(a!=null){K.Rx.SpaceAfter=a}var I=n.NSAlignment;
if(I==null)I=n.alignment;if(I!=null){var q=0;if(!1){}else if(I==1)q=1;else if(I==2)q=2;else if(I==4)q=0;
else{q=I;console.log("unknown align",I)}if(r&&q<2)q=1-q;K.Rx.Justification=q}var k=n.NSMinLineHeight;
if(k==null)k=n.minimumLineHeight;if(k!=null){K.U$.AutoLeading=!1;K.U$.Leading=k}}K.Rx._Direction=r?1:0;
uM.sp(h,l,l+y,K);l+=y}return H};Wu.zOl=function(h,R,d,L,$,W,M){var x=Wu,t=JSON.parse(uz.default),r=!1;
for(var g=0;g<uz.order.length;g++)t[uz.EN[g]]={t:"VlLs",v:[]};var l=d.fills,H=x.KF(h,l,L,$,W,R);for(var y=0;
y<2;y++){var f=d[["shadows","innerShadows"][y]];if(f==null)continue;var b=["DrSh","IrSh"][y],K=uz.EN[uz.order.indexOf(b)];
for(var g=0;g<f.length;g++){var Z=f[g];if(!Z.isEnabled)continue;if(Z.contextSettings.opacity==0||Z.color.alpha==0)continue;
var J=JSON.parse(uz.ny[uz.order.indexOf(b)]);t[K].v.unshift({t:"Objc",v:J});r=!0;J.Clr.v=x.UB(Z.color);
J.blur.v.val=Math.round(Z.blurRadius/$.NU());var u=$.clone();u.RZ=u.fA=0;u.Gv();var C=u.Ny(new kY(Z.offsetX,Z.offsetY)),Q=Math.sqrt(C.x*C.x+C.y*C.y);
J.Dstn.v.val=Math.round(Q);J.lagl.v.val=Math.round(Math.atan2(C.y,-C.x)*(180/Math.PI));if(J.layerConceals)J.layerConceals.v=H.length!=0;
x.in(Z,J)}}var i=d.borders;if(i!=null&&(H.length==0||d.blur==null||!d.blur.isEnabled))for(var g=0;g<i.length;
g++){var j=i[g];if(!j.isEnabled)continue;var J=JSON.parse(uz.ny[uz.order.indexOf("FrFX")]),K=uz.EN[uz.order.indexOf("FrFX")];
t[K].v.unshift({t:"Objc",v:J});r=!0;J.Clr.v=x.UB(j.color);if(j.fillType!=0&&j.gradient){var V=x.kl(j.gradient,L,$,W),E=["Type","Angl","Ofst","Scl"];
for(var g=0;g<E.length;g++)J[E[g]]=V[E[g]];J.Grad.v=V.Grad.v;J.PntT.v.FrFl="GrFl"}J.Sz.v.val=j.thickness/$.NU();
J.Styl.v.FStl=["CtrF","InsF","OutF"][j.position];x.in(j,J)}for(var g=M?1:0;g<H.length;g++){var N=H[g],K=uz.EN[uz.order.indexOf(N.type)];
t[K].v.unshift(N.a);r=!0}return r?t:null};Wu.KF=function(h,R,d,L,$,W,M){if(R==null)return[];var x=Wu,t=[];
for(var g=0;g<R.length;g++)if(R[g].isEnabled)t.push(R[g]);R=t;var r=[];for(var g=0;g<R.length;g++){var l=R[g],H=null,y=null;
if(l.fillType==0){H="SoFi";var f=JSON.parse(uz.ny[uz.order.indexOf("SoFi")]);y={t:"Objc",v:f};y.v.Clr.v=x.UB(l.color)}else if(l.fillType==1){H="GrFl";
y={t:"Objc",v:x.kl(l.gradient,d,L,$)}}else if(l.fillType==4&&l.image!=null){var b=l.image;if(M)b=M.value;
var K=ud.qe(b.bdata.buffer);if(K!=null&&K!="pdf"&&K!="eps"){var Z,Q=0,i=0,j=0;if(W.bH[b.key])Z=W.bH[b.key];
else{var J=ud.It(K).CA(b.bdata)[0];Z={data:J.data,e:new A(0,0,J.FK.k,J.FK.$)};Z.id=zG.jO()+"-d71c-11e5-b1ae-a548a96e5f9f";
Z.name="someImage";Z.tP=new Uint8Array(Z.data);delete Z.data;W.OZ(Z);W.bH[b.key]=Z}var f=JSON.parse(uz.ny[uz.order.indexOf("patternFill")]);
H="patternFill";y={t:"Objc",v:f};var u=l.patternFillType,C=l.patternTileScale;f.Algn.v=!0;f.Ptrn.v.Idnt.v=Z.id;
if(u==0){Q=C*Z.e.k/Math.min(Z.e.k,Z.e.$);i=-L.RZ;j=-L.fA}else{Q=Math.max(d.k/Z.e.k,d.$/Z.e.$);i=-L.RZ-(Z.e.k*Q-d.k)/2;
j=-L.fA-(Z.e.$*Q-d.$)/2}f.Scl.v.val=100*Q*(1/L.NU());f.phase.v.Hrzn.v=Math.round(i/L.NU());f.phase.v.Vrtc.v=Math.round(j/L.NU())}}else if(l.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",l.fillType);
if(H!=null){x.in(l,y.v);r.push({type:H,a:y})}}return r};Wu.zQt=function(h){var R=Wu,d=new A(0,0,1,1);
h=h.slice(0);while(!0){var L=!1;for(var $=0;$<h.length-1;$++){var W=h[$],M=h[$+1],x=null,t=W.contextSettings;
if(W.fillType==0&&(t==null||t.opacity==1&&t.blendMode==0)&&W.color.alpha==1){var g="norm",r=1,t=M.contextSettings;
if(t){r=t.opacity;g=zP._d(R.ky[t.blendMode])}if(M.fillType==0){x=JSON.parse(JSON.stringify(M));R.Kx(x.color,W.color,x.color,d,g,r)}if(M.fillType==1){x=JSON.parse(JSON.stringify(M));
var l=x.gradient.stops;for(var H=0;H<l.length;H++)R.Kx(l[H].color,W.color,l[H].color,d,g,r)}if(x!=null&&x.contextSettings){var t=x.contextSettings;
t.opacity=1;t.blendMode=0}}if(x!=null){h.splice($,0,x);L=!0;break}}if(!L||h.length<2)break}return h};
Wu.Kx=function(h,R,d,L,$,W){var M=Wu,x=z.h(4);M.Zm(h,x);var t=z.h(4);M.Zm(R,t);z.K.Uu($,x,L,t,L,L,W);
M.zOV(t,d)};Wu.Zm=function(h,R){R[0]=255*h.red;R[1]=255*h.green;R[2]=255*h.blue;R[3]=255*h.alpha};Wu.zOV=function(h,R){R.red=h[0]/255;
R.green=h[1]/255;R.blue=h[2]/255;R.alpha=h[3]/255};Wu.ZA=function(h,R){h=h.clone();h.CN=24;h.AI("Mask by "+h.getName());
R._.push(h);h.add.lsct=W_.ei;h.add.lyid=R.rr();delete h.add.lmfx;delete h.add.SoCo;delete h.add.GdFl;
delete h.add.PtFl;delete h.add.iOpa;if(h.add.vmsk)h.add.vmsk.RT=!0;h.eG(R);if((h.CN&16)==16)h.CN-=16;
if((h.CN&2)==2)h.CN-=2;h.Pg="pass";h.opacity=255};Wu.ky="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
Wu.kl=function(h,R,d,L){d=d.clone();d.Gv();d.RZ=d.fA=0;var $=d.NU(),H=0,y=0;d.scale(1/$,1/$);var W=Wu,M=JSON.parse(uz.ny[uz.order.indexOf("GrFl")]),x=M.Grad.v;
x.Intr.v=0;if(h==null)return M;var t=h.gradientType,g=W.Yc(h.from),r=W.Yc(h.to);g.offset(-.5,-.5);r.offset(-.5,-.5);
g=d.Ny(g);r=d.Ny(r);var l=Math.atan2(-(r.y-g.y),r.x-g.x);M.Type.v.GrdT=["Lnr","Rdl","Angl"][t];M.Scl.v.val=100*kY.ZW(g,r);
if(t==0){M.Angl.v.val=180/Math.PI*l;M.Scl.v.val=100*kY.ZW(g,r);H=(g.x+r.x)/2;y=(g.y+r.y)/2}if(t==1){M.Scl.v.val=200*kY.ZW(g,r);
H=g.x;y=g.y}if(t==2){M.Angl.v.val=180/Math.PI*(l-Math.PI/2)}var f=M.Ofst.v;f.Hrzn.v.val=H*100;f.Vrtc.v.val=y*100;
var b=[];for(var K=0;K<h.stops.length;K++){var Z=h.stops[K],J=Z.color;b.push([Z.position,J?[J.red,J.green,J.blue]:[0,0,0],J.alpha])}z.i.z_(b,x);
return M};Wu.in=function(h,R){var d=Wu,L=1,$=h.contextSettings;if($!=null){R.Md.v.BlnM=d.ky[$.blendMode];
L*=$.opacity}else R.Md.v.BlnM=d.ky[0];R.enab.v=h.isEnabled;if(R.uglg!=null)R.uglg.v=!1;if(h.color!=null)L*=h.color.alpha;
R.Opct.v.val=Math.round(L*100)};Wu.UB=function(h){return z.i.ZR(h?{H:h.red*255,N:h.green*255,W:h.blue*255}:{H:0,N:0,W:0})};
Wu.pS=function(h,R,d){var L=Wu,$=[{type:6},{type:8,all:0}];for(var W=0;W<h.length;W++){var M=h[W],x=M.booleanOperation,t=0,g=M._class,b=!1;
if(g=="group"||g=="text"||g=="symbolInstance"||g=="slice"){console.log(g+" inside ShapeGroup");continue}if(x==-1)t=0;
else if(x==0)t=1;else if(x==1)t=2;else if(x==2)t=3;else if(x==3)t=0;if(W==0)t=1;var r=Wu.sB(M.frame),l=L.ZO(M,R),H=M.path?M.path:M,y=[{type:0,length:0,uH:t,pa:2,Qu:0,Qb:0}],f=H.points;
for(var K=0;K<f.length;K++){var Z=f[K],J=L.Yc(Z.curveTo),u=L.Yc(Z.point),C=L.Yc(Z.curveFrom);b=b||Z.hasCurveFrom&&!C.PC(u)||Z.hasCurveTo&&!J.PC(u)}var Q=[];
if(!b){var i=[],j=f.length;if(j==0)continue;for(var K=0;K<j;K++){Q[K]=f[K].cornerRadius;var Z=L.Yc(f[K].point);
i.push(Z.x,Z.y)}l.scale(1/r.k,1/r.$);l.Gv();z.G.V(i,l,i);var V=z.t.nC(i,Q);y=y.concat(V);y[0].length=y.length-1}else{var E=f.length;
y[0].length=E;for(var K=0;K<E;K++){var Z=f[K],N=Z.curveMode,n=L.Yc(Z.point);y[1+K]={type:N==2||N==4?1:2,MW:Z.hasCurveTo?L.Yc(Z.curveTo):n.clone(),O:n,dD:Z.hasCurveFrom?L.Yc(Z.curveFrom):n.clone()}}l.scale(1/r.k,1/r.$);
l.Gv();z.t._B(y,l);var Q=[];for(var K=0;K<E;K++){var Z=f[K],N=Z.curveMode,a=Z.cornerRadius;if(N==1&&a!=0)Q.push(a);
else Q.push(0)}}if(!H.isClosed)for(var K=0;K<y.length;K++)y[K].type+=3;$=$.concat(y);var I=z.qK.uv(),q=L.Gy(M);
if(l.W==0&&l.DS==0){var k=l.RZ,F=l.fA,o=k+l.r$,G=F+l.Cv,w=[k,F,o,G];if(q=="rectangle"&&Q.length==4)I=z.qK.Wg(2,w,Q);
if(q=="oval")I=z.qK.Wg(5,w)}d.push(I)}return $};Wu.ZO=function(h,R){var d=R.clone(),L=h.frame?Wu.sB(h.frame):null;
if(L)d.translate(-L.x-L.k/2,-L.y-L.$/2);if(h.isFlippedHorizontal)d.scale(-1,1);if(h.isFlippedVertical)d.scale(1,-1);
d.rotate(-h.rotation*(Math.PI/180));if(L)d.translate(L.k/2,L.$/2);return d};Wu.Yc=function(h){h=h.slice(1,h.length-1).split(",");
return new kY(parseFloat(h[0]),parseFloat(h[1]))};Wu.sB=function(h){return new A(h.x,h.y,h.width,h.height)};
Wu.SV=function(h){return{_class:"rect",constrainProportions:!1,x:h.x,y:h.y,width:h.k,height:h.$}};function ME(){}ME.iN=function(h,R){var d=ME,L=UZIP.parse(h),$=JSON.parse(T.fh(L.manifest)),W=JSON.parse(T.fh(L["resources/graphics/graphicContent.agc"])).resources,M=[],x=$.children;
for(var t=0;t<x.length;t++){var g=x[t];if(g.name=="artwork"){var r=g.children;for(var l=0;l<r.length;
l++)if(r[l]["uxdesign#bounds"]){var H=r[l],y=JSON.parse(T.fh(L["artwork/"+H.path+"/graphics/graphicContent.agc"]));
if(y.children.length!=1)throw"e";H._node=y.children[0];M.push(H)}}}var f=[],b=new A;for(var t=0;t<M.length;
t++){var H=M[t],K=Wu.sB(H["uxdesign#bounds"]);f.push(K);b=b.DM(K)}var Z=Wu.iI(b,8192*8192);R.hX=!0;R.k=Math.round(b.k/Z);
R.$=Math.round(b.$/Z);R.buffer=z.h(R.k*R.$*4);R.FH(M.length);var J=new um(Z,0,0,Z,b.x,b.y);R.bH={};for(var t=0;
t<M.length;t++){var H=M[t],K=Wu.sB(H["uxdesign#bounds"]),u=H._node,C=J.clone(),Q=K.clone(),i=C.NU();
C.translate(-K.x,-K.y);Q.x=-Math.floor(C.RZ/ i);Q.y=-Math.floor(C.fA/ i);Q.k=Math.floor(Q.k/ i);Q.$=Math.floor(Q.$/ i);
C.translate(K.x,K.y);ME.Gf(u,R,C,W,L,Q);var j=R._[R._.length-1];j.AI(H.name);j.zV(Q);if(t!=M.length-1)j.add.lsct=W_.Th}delete R.bH;
console.log(R.f)};ME.pN=function(h){if(h==null)return new um;return new um(h.a,h.b,h.c,h.d,h.tx,h.ty)};
ME.Gf=function(h,R,d,L,$,W){var M=ME,x=h.type,t=h[x],g=h.style,r=M.pN(h.transform),f,b="none",K,Z="none",J,u;
r.Gv();var l=d.clone();l.concat(r);var H=R.mS(),y=h.name;H.AI(y?y.slice(0,250):"Layer");if(h.visible!=null)H.nr(h.visible);
if(g){f=g.stroke;b=f?f.type:"none";K=g.fill;Z=K?K.type:"none";J=g.filters;u=g.clipPath;if(g.opacity)H.opacity=Math.round(255*g.opacity);
if(Z=="solid"&&K.color.alpha)H.opacity=Math.round(H.opacity*K.color.alpha);if(J){H.add.lmfx=M.zgq(J);
for(var C=0;C<J.length;C++)if(J[C].type=="uxdesign#blur"){var Q=J[C],i=Q.params,j=i.brightnessAmount;
if(j==null)j=0;j=Math.abs(j/100);if((Q.visible==null||Q.visible==!0)&&i.backgroundEffect)H.opacity=Math.round(H.opacity*(j+(1-j)*i.fillOpacity))}}if(Z=="pattern"&&K.pattern.meta.ux.uid=="")Z="none"}if(x=="artboard"||x=="group"){if(u&&L.clipPaths[u.ref]){var V=L.clipPaths[u.ref].children[0],E=V.shape,N=E!=null&&E.type=="rect"&&E.width*E.height>1e6;
if(V.type!="text"&&!N){var r=M.pN(V.transform);r.Gv();var n=l.clone();n.concat(r);H.add.vmsk=new S.EF;
H.add.vmsk.r=M.pS(E);n=n.clone();n.Gv();z.t._B(H.add.vmsk.r,n);H.eG(R)}else if(!N)alert("Clipping by text has been ignored")}H.add.lsct=W_.ei;
H.Pg="pass";H.CN=24;if(h.visible!=null)H.nr(h.visible);R._.push(R.Hb());var a=t.children,I=K;if(I)I=I.color;
if(I)I=I.value;if(K&&(Z!="solid"||I.r!=255||I.g!=255||I.b!=255)){var q=R.mS();q.AI("BACKGROUND");q.CN|=16;
q.add.vstk=JSON.parse(JSON.stringify(uz.ri.default));q.add.vmsk=new S.EF;q.add.vmsk.r=M.pS({type:"rect",x:W.x,y:W.y,width:W.k,height:W.$});
M.kY(K,Z,l,W,W,q,R,L,$);q.eG(R);R._.push(q)}for(var C=0;C<a.length;C++){ME.Gf(a[C],R,l,L,$,W)}}else if(x=="shape"&&h.shape.type=="rect"&&(h.shape.r==null||h.shape.r==0)&&Z=="pattern"&&Math.abs(h.shape.width/h.shape.height-K.pattern.width/K.pattern.height)<.01){var k=K.pattern,F=k.meta.ux,o=F.uid,G=$["resources/"+o];
if(G==null){console.log(k);return}var w=R.Mf(G,H.getName(),0,0);w.CN=H.CN;w.opacity=H.opacity;H=w;var U=z.G.ii(new A(0,0,k.width,k.height)).B,B=new um;
B.scale(k.width/h.shape.width,k.height/h.shape.height);l.concat(B);l.Gv();z.G.V(U,l,U);H.add.SoLd.Trnf=s.w.Lt(U);
H.add.SoLd.nonAffineTransform=s.w.Lt(U);H.eb(R,!1)}else if(x=="shape"){H.CN|=16;H.add.vstk=JSON.parse(JSON.stringify(uz.ri.default));
H.add.vmsk=new S.EF;H.add.vmsk.r=M.pS(t);var P=z.t.wZ(H.add.vmsk.r,null),n=l.clone();n.Gv();z.t._B(H.add.vmsk.r,n);
var v=z.t.wZ(H.add.vmsk.r,null);if(b=="none"){}else{var O=f.color.value,uk,ut;uk="SoFi";var ua=JSON.parse(uz.ny[uz.order.indexOf("SoFi")]);
ut={t:"Objc",v:ua};ut.v.Clr.v=z.i.ZR({H:O.r,N:O.g,W:O.b});var uu=f.align,uW=f.cap;if(uu==null)uu="center";
var kV=H.add.vstk;kV.strokeEnabled.v=!0;kV.strokeStyleLineWidth.v.val=f.width;if(uu)kV.strokeStyleLineAlignment.v.strokeStyleLineAlignment=uz.ri.OJ[["inside","center","outside"].indexOf(uu)];
if(uW)kV.strokeStyleLineCapType.v.strokeStyleLineCapType=uz.ri.OK[["butt","round","square"].indexOf(uW)];
var p=["SoFi","GrFl","patternFill"].indexOf(uk),_=[uz.kv,uz.$n,uz.$J][p];kV.strokeStyleContent.v={classID:uz.ri.Wp[0]};
var uB=kV.strokeStyleContent.v={classID:uz.ri.Wp[p]};for(var C=0;C<_.length;C++)uB[_[C]]=ut.v[_[C]]}if(J)for(var C=0;
C<J.length;C++)if(J[C].type=="uxdesign#blur"&&J[C].visible){var ub=J[C];H.add.vmsk.EI=ub.params.blurAmount}M.kY(K,Z,l,P,v,H,R,L,$);
H.eG(R)}else if(x=="text"&&h.text){var uq=h.text,uF=uq.frame,ue=g.font,up=g.textAttributes,r=l.clone(),uZ=0;
r.Gv();H.add.lnsr="rend";H.add.TySh=uM.gD(0,0);H.add.TySh.bz=new A(0,0,100,100);H.add.TySh.V=r;var ui=H.add.TySh.h_,zd=uq.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
uM.sq(ui,0,zd);if(zd!=""){var uN=uM.tZ(ui,0,1),u_=ue.postscriptName;if(u_==null)u_=ue.family;uM.xY(uN,u_);
uN.U$.FontSize=Math.round(ue.size);if(K){var O=K.color.value;uN.U$.FillColor={Type:1,Values:[1,O.r/255,O.g/255,O.b/255]}}if(up){if(up.paragraphAlign)uN.Rx.Justification=["left","right","center"].indexOf(up.paragraphAlign);
if(up.letterSpacing)uN.U$.Tracking=Math.round(up.letterSpacing);if(up.lineHeight){uN.U$.AutoLeading=!1;
uN.U$.Leading=Math.round(up.lineHeight)}}uM.sp(ui,0,zd.length,uN)}var za=h.meta.ux.rangedStyles;if(za)for(var C=0;
C<za.length;C++){var t=za[C],uj=Math.min(t.length,zd.length-uZ),uN=uM.tZ(ui,uZ,uZ+uj),uw=t.textScript,tI=t.underline,ug=t.fontSize,Q=t.fill,uO=t.textTransform;
if(uw&&uw!="none")uN.U$.FontBaseline=uw=="superscript"?1:2;if(tI!=null)uN.U$.Underline=tI;if(ug!=null)uN.U$.FontSize=Math.round(ug);
if(uO!=null)uN.U$.FontCaps=uO=="uppercase"?2:0;if(Q!=null){var uC=Q.value;uN.U$.FillColor={Type:1,Values:[1,(uC>>>16&255)/255,(uC>>>8&255)/255,(uC>>>0&255)/255]}}uM.sp(ui,uZ,uZ+uj,uN);
uZ+=uj}if(uF.type=="area"){uM.sw(ui,1);uM.RY(ui,[0,0,uF.width,uF.height])}}else console.log(x,h);R._.push(H)};
ME.pS=function(h){var R=h.type,d=[{type:6},{type:8,all:0}];if(R=="rect"){var L=h.r,$=h.x,W=h.y,M=h.width,x=h.height;
if(L==null)d=z.t.WB.Rect($,W,M,x,0);else d=d.concat([{type:0,uH:1,length:8,Qu:0,Qb:0,pa:1}]).concat(z.t.nC([$,W,$+M,W,$+M,W+x,$,W+x],L,!1))}else if(R=="circle"){var L=h.r;
d=z.t.WB.Rc(h.cx-L,h.cy-L,2*L,2*L)}else if(R=="ellipse"){var t=h.rx,g=h.ry;d=z.t.WB.Rc(h.cx-t,h.cy-g,2*t,2*g)}else if(R=="path"||R=="compound"){var r=Typr.U.SVGToPath(h.path);
d=z.G.yp({D:r.cmds,B:r.crds},!1)}else if(R=="line"){var l=h.x1,H=h.x2,y=h.y1,f=h.y2;d=d.concat([{type:0,uH:1,length:2,Qu:0,Qb:0,pa:1}]).concat(z.t.nC([l,y,H,f],0,!0))}else if(R=="polygon"){var b=h.points,K=[];
for(var Z=0;Z<b.length;Z++)K.push(b[Z].x,b[Z].y);d=d.concat(z.t.WB.rb(K,0,!1).slice(2))}else console.log(R,h);
return d};ME.zgq=function(h){var R=JSON.parse(uz.default);for(var d=0;d<uz.order.length;d++)R[uz.EN[d]]={t:"VlLs",v:[]};
for(var d=0;d<h.length;d++){var L=h[d],$=L.type,W=L.params,M=L.visible;if($=="dropShadow"){var x=uz.EN[uz.order.indexOf("DrSh")],t=JSON.parse(uz.ny[uz.order.indexOf("DrSh")]);
R[x].v.unshift({t:"Objc",v:t});var g=W.dropShadows;if(g.length!=1)throw"e";var r=g[d],l=r.color,H=l.value,y=r.dx,f=r.dy;
t.Clr.v=z.i.ZR({H:H.r,N:H.g,W:H.b});t.Opct.v.val=Math.round((l.alpha!=null?l.alpha:1)*100);t.uglg.v=!1;
t.enab.v=M!=null?M:!0;t.lagl.v.val=Math.round(180/Math.PI*Math.atan2(f,-y));t.Dstn.v.val=Math.round(Math.sqrt(y*y+f*f));
t.blur.v.val=Math.round(r.r*2.3)}}return R};ME.kY=function(h,R,d,L,$,W,M,x,t){var g=ME;if(R=="none"){W.add.vstk.fillEnabled.v=!1;
W.add.SoCo={classID:"null",Clr:{t:"Objc",v:z.i.ZR({H:0,N:0,W:0})}}}else{var r,l,H;if(R=="solid"){var y=h.color.value;
r="SoCo";l=uz.kv;var f=JSON.parse(uz.ny[uz.order.indexOf("SoFi")]);H={t:"Objc",v:f};H.v.Clr.v=z.i.ZR({H:y.r,N:y.g,W:y.b})}else if(R=="gradient"){r="GdFl";
l=uz.$n;var f=JSON.parse(uz.ny[uz.order.indexOf("GrFl")]),b=f.Grad.v,C,Q,i;b.Intr.v=0;var K=h[R],Z=K.ref?x.gradients[K.ref]:K.meta.ux.gradientResources,J=["linear","radial"].indexOf(Z.type),u=Z.stops;
f.Type.v.GrdT=["Lnr","Rdl","Angl"][J];if(J==0){var C=new kY(K.x1,K.y1),Q=new kY(K.x2,K.y2);C.x=Q.x+.5*(C.x-Q.x);
C.y=Q.y+.5*(C.y-Q.y)}else{var C=new kY(K.cx,K.cy),Q=new kY(K.cx+K.r,K.cy)}i=$;if(K.units=="objectBoundingBox"){var j=new um(L.k,0,0,L.$,L.x,L.y);
C=j.Ny(C);Q=j.Ny(Q)}var j=g.pN(K.transform);C=j.Ny(C);Q=j.Ny(Q);j=d.clone();j.Gv();C=j.Ny(C);Q=j.Ny(Q);
z.i.ZM(C,Q,i,f);var V=[];for(var E=0;E<u.length;E++){var N=u[E],n=N.color,y=n.value,a=n.alpha;if(a==null)a=1;
V.push([N.offset,[y.r/255,y.g/255,y.b/255],a])}z.i.z_(V,b);H={t:"Objc",v:f}}else if(R=="pattern"){r="PtFl";
l=uz.$J;var f=JSON.parse(uz.ny[uz.order.indexOf("patternFill")]),G,v=1,O=0,uk=0,ut=1;H={t:"Objc",v:f};
var I=h[R],q=I.meta.ux,k=q.uid,F=t["resources/"+k].buffer,o=ud.qe(F);if(M.bH[k])G=M.bH[k];else{var w=new A(0,0,I.width,I.height),U;
if(w.dp()){w=new A(0,0,1,1);U=new ArrayBuffer(4)}else{var B=ud.It(o);if(B.CK){var P=new zG;B.CA(F,P);
U=P.DP().buffer}else U=B.CA(F)[0].data}G={data:U,e:w};G.id=zG.jO()+"-d71c-11e5-b1ae-a548a96e5f9f";G.name="someImage";
G.tP=new Uint8Array(G.data);delete G.data;M.OZ(G);M.bH[k]=G}f.Algn.v=!0;f.Ptrn.v.Idnt.v=G.id;if(q.scaleBehavior=="cover"){v=ut*Math.max($.k/G.e.k,$.$/G.e.$);
if(q.scale!=null)v*=q.scale;O=$.x-(G.e.k*v-$.k)/2;uk=$.y-(G.e.$*v-$.$)/2;if(q.offsetX!=null)O+=q.offsetX*G.e.k*v;
if(q.offsetY!=null)uk+=q.offsetY*G.e.$*v}else if(q.scaleBehavior=="fill"){v=ut*Math.min($.k,$.$)/Math.max(G.e.k,G.e.$);
O=$.x-(G.e.k*v-$.k)/2;uk=$.y-(G.e.$*v-$.$)/2}else throw"Unknown scale behaviour";f.Scl.v.val=100*v;f.phase.v.Hrzn.v=Math.round(O);
f.phase.v.Vrtc.v=Math.round(uk)}else console.log(R);if(r!=null){W.add[r]={classID:"null"};for(var E=0;
E<l.length;E++){var ua=l[E];W.add[r][ua]=H.v[ua]}}}};function uT(){}uT.iN=function(h,R){h=new Uint8Array(h);
var d=T.fh(h,0,h.length),L=new DOMParser,$=L.parseFromString(d,"image/svg+xml"),W=$.getElementsByTagName("style")[0];
if(W)W=Typr.U.SVG.cssMap(W.textContent);else W={};var M=$.firstChild;while(M.tagName!="svg")M=M.nextSibling;
var x=new A(0,0,100,100),t=M.getAttribute("viewBox"),g=M.getAttribute("width"),r=M.getAttribute("height");
if(t){var l=uT.Zg(t);x.x=l[0];x.y=l[1];x.k=l[2];x.$=l[3]}else if(g!=null||r!=null){x.k=g!=null?parseFloat(g):parseFloat(r);
x.$=r!=null?parseFloat(r):parseFloat(g)}x=z.G.Hv(x);R.hX=!0;R.k=x.k;R.$=x.$;R.buffer=z.h(x.s()*4);var H=new um(1,0,0,1,-x.x,-x.y),y={rE:uT.xE(M),zEi:W};
uT.mj($,M.children,R,H,y,new um,0);if(R._.length==0){var f=R.mS();f.AI("Layer");R._.push(f)}};uT.Zg=function(h){var R=" ";
if(h.indexOf(",")!=-1)R=",";return h.split(R).map(parseFloat)};uT.mj=function(h,R,d,L,$,W,M){var x=uT,t=["display","opacity","fill-opacity"];
for(var g=0;g<R.length;g++){var r=R[g],l=r.tagName,H=r.getAttribute("id"),y=x.xE(r,$.zEi),b=13,C=1,j="clip-path",V=null;
for(var f in $.rE)if(t.indexOf(f)==-1&&y[f]==null)y[f]=$.rE[f];if(y["font-size"])b=x.iC(y["font-size"],b);
if(r.getAttribute("dx"))L.RZ+=x.iC(r.getAttribute("dx"),b);if(r.getAttribute("dy"))L.fA+=x.iC(r.getAttribute("dy"),b);
var K=x.xh(r);K.concat(L);var Z=r.getAttribute("visibility"),J=y.display,u=d.mS();if(Z=="hidden"||J=="none")u.nr(!1);
u.AI(H!=null?H.split(":::")[0]:"Layer");if(y.opacity)C*=parseFloat(y.opacity);if(y["fill-opacity"]){var Q=parseFloat(y["fill-opacity"]);
if(Q!=0)C*=Q}u.opacity=Math.round(255*C);if(y["mix-blend-mode"]){var i=zP.zd$.indexOf(y["mix-blend-mode"]);
if(i!=-1)u.Pg=zP.RS[i]}if(r.getAttribute(j)==null)j="mask";if(r.getAttribute(j)!=null){var E=r.getAttribute(j);
E=E.slice(4,E.length-1);var N=h.getElementById(E.slice(1));if(N){var n=N.children;V=d.mS();V.AI("Clip-Path"+(H?": "+H:""));
V.add.lsct=M<2?W_.ei:W_.Th;V.Pg="pass";V.CN=24;var a=V.add.vmsk=new S.EF;d._.push(d.Hb());var I=[];if(N.getAttribute(j)){var E=N.getAttribute(j);
E=E.slice(4,E.length-1);I=h.getElementById(E.slice(1)).children}for(var q=0;q<n.length;q++){var k=x.xh(n[q]);
k.concat(K);var F=x.pS(h,n[q],!1).slice(2);z.t._B(F,k);a.r=a.r.concat(F)}for(var q=0;q<I.length;q++){var k=x.xh(n[q]);
k.concat(K);var F=x.pS(h,I[q],!1).slice(2);for(var o=0;o<F.length;o++)if(F[q].uH!=null)F[q].uH=3;z.t._B(F,k);
a.r=a.r.concat(F)}V.kd();V.eG();M++}}if(l=="g"||l=="a"||l=="svg"||l=="switch"||(l=="text"||l=="textPath")&&r.children.length>0){if(l=="text")W=x.yc(r,W);
var G=r.getAttribute("viewBox"),w=r.getAttribute("width"),U=r.getAttribute("height");if(G&&w&&U){var B=uT.Zg(G),D=x.yc(r),P=new um;
P.translate(-B[0],-B[1]);P.scale(parseFloat(w)/B[2],parseFloat(U)/B[3]);P.translate(D.RZ,D.fA);P.concat(K);
K=P}var v=r.children.length,O=$.rE;$.rE=y;var uk=l!="text"&&l!="textPath"||v>1;if(uk){var ut=u.rl();
u.add.lsct=M<2&&ut&&(H==null||!H.endsWith(":::"))?W_.ei:W_.Th;u.Pg="pass";u.CN=24;u.nr(ut);d._.push(d.Hb())}x.mj(h,r.children,d,K,$,W,M+1);
if(uk)d._.push(u);$.rE=O}else if(l=="use"){var P=x.yc(r);P.concat(K);var ua=x.xi(r),uu=h.getElementById(ua.slice(1)),O=$.rE;
$.rE=y;x.mj(h,[uu],d,P,$,W,M+1);$.rE=O}else if(l=="path"||l=="rect"||l=="circle"||l=="ellipse"||l=="polygon"||l=="polyline"||l=="line"){u.CN|=16;
u.add.vmsk=new S.EF;u.add.vstk=JSON.parse(JSON.stringify(uz.ri.default));u.add.vstk.strokeEnabled.v=!1;
var uW=u.add.vstk,a=u.add.vmsk;a.r=x.pS(h,r,y["fill-rule"]=="evenodd");z.t._B(a.r,K);var kV=z.t.wZ(a.r),p=y.stroke,_=y["stroke-width"],uB=y["stroke-dasharray"],ub=y.fill,uq=y["stroke-linejoin"],uF=y["stroke-linecap"],ue=y["paint-order"];
if(p==null||p=="none"||p=="null"){}else{var up=x.ZK(h,p,K,kV),ui=["SoFi","GrFl","patternFill"].indexOf(up.type),zd=[uz.kv,uz.$n,uz.$J][ui],uN=uW.strokeStyleContent.v={classID:uz.ri.Wp[ui]},u_=1;
for(var q=0;q<zd.length;q++)uN[zd[q]]=up.a.v[zd[q]];_=_?parseFloat(_):1;if(ue&&ue.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){u_=2;
_/=2}uW.strokeEnabled.v=!0;if(uq)uW.strokeStyleLineJoinType.v.strokeStyleLineJoinType=uz.ri.join[["miter","round","bevel"].indexOf(uq)];
if(uF)uW.strokeStyleLineCapType.v.strokeStyleLineCapType=uz.ri.OK[["butt","round","square"].indexOf(uF)];
uW.strokeStyleLineWidth.v.val=_*s.w.NU(K);uW.strokeStyleLineAlignment.v.strokeStyleLineAlignment=uz.ri.OJ[u_];
uW.strokeStyleOpacity.v.val=100*(y["stroke-opacity"]?parseFloat(y["stroke-opacity"]):1);if(uB!=null&&uB!="none")uW.strokeStyleLineDashSet.v=uS.so(uB.split(",").map(parseFloat),1/_)}if(ub=="none"||y["fill-opacity"]&&parseFloat(y["fill-opacity"])==0){u.add.vstk.fillEnabled.v=!1;
u.add.SoCo={classID:"null",Clr:{t:"Objc",v:z.i.ZR({H:0,N:0,W:0})}}}else{var up=x.ZK(h,ub,K,kV),za=null,uZ=null;
if(up.type=="SoFi"){za="SoCo";uZ=uz.kv}if(up.type=="GrFl"){za="GdFl";uZ=uz.$n}if(up.type=="patternFill"){za="PtFl";
uZ=uz.$J}if(za!=null){u.add[za]={classID:"null"};for(var q=0;q<uZ.length;q++){var f=uZ[q];u.add[za][f]=up.a.v[f]}}}if(y.filter&&y.filter!="none"){var uj=y.filter;
uj=uj.slice(5,uj.length-1);var uw=h.getElementById(uj).children[0];if(uw.tagName=="feGaussianBlur"){u.add.vmsk.EI=parseFloat(uw.getAttribute("stdDeviation"))*s.w.NU(K)}}u.kd();
u.eG(d);d._.push(u)}else if((l=="text"||l=="tspan")&&r.textContent!=""){W=x.yc(r,W);var P=W.clone();
P.concat(K);if(r.children.length>0){var tI=x.xE(r.children[0],$.zEi);for(var f in tI)if(t.indexOf(f)==-1)y[f]=tI[f]}var ug=y["xml:space"],uO=r.textContent;
if(ug=="preserve")uO=uO.replace(/\t/g," ").replace(/\n/g," ");if(H==null)u.AI(uO);u.add.lnsr="rend";
u.add.TySh=uM.gD(0,0);u.add.TySh.bz=new A(0,0,100,100);u.add.TySh.V=P.clone();var uC=u.add.TySh.h_;uM.sq(uC,0,uO);
var ub=y.fill,ux=y["font-weight"],zu=y["font-family"],uL=y["text-decoration"],p=y.stroke,_=y["stroke-width"];
if(y["dominant-baseline"]=="text-before-edge")u.add.TySh.V.translate(0,b);var un=uM.tZ(uC,0,1);if(ub&&ub!="none"){var us=CSS.UB(ub);
un.U$.FillColor={Type:1,Values:[1,us.H/255,us.N/255,us.W/255]}}if(uL=="underline")un.U$.Underline=!0;
un.U$.FontSize=Math.round(b);uM.xY(un,"LiberationSans");if(ux=="bold")uM.xY(un,"LiberationSans-Bold");
if(zu){var Wa=zu+":"+(ux?ux:"normal"),Wt={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(Wt[Wa])uM.xY(un,Wt[Wa]);else uM.xY(un,zu)}if(y["text-anchor"])un.Rx.Justification=["start","end","middle"].indexOf(y["text-anchor"]);
uM.sp(uC,0,uO.length,un);if(p==null||p=="none"){}else{var uV=JSON.parse(uz.ny[uz.order.indexOf("FrFX")]);
uV.Clr.v=z.i.ZR(CSS.UB(p));uV.Sz.v.val=Math.round(parseFloat(_)*s.w.NU(P));var zZ=JSON.parse(uz.default);
for(var q=0;q<uz.order.length;q++)zZ[uz.EN[q]]={t:"VlLs",v:[]};zZ.frameFXMulti.v.push({t:"Objc",v:uV});
u.add.lmfx=zZ}d._.push(u)}else if(l=="image"){var ua=x.xi(r);if(ua.slice(0,4)=="data"){var uU=ud.lc(ua),zI=uU,uG=d.Mf(zI,u.getName(),0,0);
uG.CN=u.CN;u=uG;var WW=u.rect.clone();WW.x=WW.y=0;var Wq=r.getAttribute("width"),uH=r.getAttribute("height");
if(Wq)WW.k=parseFloat(Wq);if(uH)WW.$=parseFloat(uH);var Wp=x.yc(r);Wp.concat(K);var tD=z.G.ii(WW).B;
z.G.V(tD,Wp,tD);u.add.SoLd.Trnf=s.w.Lt(tD);u.add.SoLd.nonAffineTransform=s.w.Lt(tD);u.eb(d,!1);d._.push(u)}}else console.log("unknown tag: "+l,r.children.length,r.textContent.length);
if(V!=null){d._.push(V);M--}}};uT.pS=function(h,R,d){var L=uT,$=[{type:6},{type:8,all:0}],W=R.tagName;
if(W=="use"){var M=L.xi(R),x=h.getElementById(M.slice(1)),t=new um;if(x.tagName!="rect")t=L.yc(x);t.concat(L.xh(x));
$=L.pS(h,x,d);z.t._B($,t)}else if(W=="path"){var g=R.getAttribute("d");if(g==null)return $;var r=Typr.U.SVGToPath(g);
$=z.G.yp({B:r.crds,D:r.cmds},d)}else if(W=="rect"){var l=R.getAttribute("rx"),H=L.yc(R);$=z.t.WB.Rect(H.RZ,H.fA,parseFloat(R.getAttribute("width")),parseFloat(R.getAttribute("height")),l?parseFloat(l):0)}else if(W=="circle"||W=="ellipse"){var y=[0,0,0,0],f=["cx","cy","rx","ry","r"];
for(var b=0;b<5;b++){var K=R.getAttribute(f[b]);if(K){K=parseFloat(K);if(b<4)y[b]=K;else y[2]=y[3]=K}}$=z.t.WB.Rc(y[0]-y[2],y[1]-y[3],2*y[2],2*y[3])}else if(W=="polygon"||W=="polyline"||W=="line"){var Z;
if(W=="line")Z=[R.getAttribute("x1"),R.getAttribute("y1"),R.getAttribute("x2"),R.getAttribute("y2")].map(parseFloat);
else Z=R.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
$=z.t.WB.rb(Z,0,W!="polygon")}return $};uT.iC=function(h,R){if(h.charAt(h.length-1)=="m")return R*parseFloat(h.slice(0,h.length-2));
else return parseFloat(h)};uT.ZK=function(h,R,d,L){var $,W,M=uT,x=JSON.parse(uz.ny[uz.order.indexOf("SoFi")]),t=R!=null?R.indexOf("("):-1;
if(t!=-1){var g=R.indexOf(")"),r=R.slice(0,t).trim(),l=R.slice(t+1,g).trim();if(l.charAt(0)=="'")l=l.slice(1,l.length-1);
if(r=="url"){if(l.charAt(0)=="#"){var H=h.getElementById(l.slice(1));if(H&&H.tagName.toLowerCase().endsWith("gradient")){var y=M.kl(h,H,d,L);
$="GrFl";W={t:"Objc",v:y}}else{$="SoFi";W={t:"Objc",v:x}}}else console.log("unknown url",l)}else if(r=="rgb"){$="SoFi";
W={t:"Objc",v:x};W.v.Clr.v=z.i.ZR(CSS.UB(R))}else console.log("unknown fill",R)}else{$="SoFi";W={t:"Objc",v:x};
W.v.Clr.v=z.i.ZR(CSS.UB(R))}return{type:$,a:W}};uT.xh=function(h){var R=new um,d=h.getAttribute("transform");
if(d)R=uT.iX(d);var L=h.getAttribute("style");if(L!=null){var $={};uT.xe($,L,["transform"]);L=$.transform;
if(L)R.concat(uT.iX(L))}return R};uT.yc=function(h,R){var d=new um,L=h.getAttribute("x"),$=h.getAttribute("y");
if(L)d.RZ=parseFloat(L);else if(R)d.RZ=R.RZ;if($)d.fA=parseFloat($);else if(R)d.fA=R.fA;return d};uT.iX=function(h){var R=Typr.U.SVG.readTrnf(h);
return new um(R[0],R[1],R[2],R[3],R[4],R[5])};uT.xE=function(h,R){var d={},L="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var $=0;$<L.length;$++){var W=h.getAttribute(L[$]);if(W!=null&&W!="inherit")d[L[$]]=W}var M=h.getAttribute("class");
if(R!=null&&M!=null&&R["."+M]!=null)uT.xe(d,R["."+M],L);var x=h.getAttribute("id");if(R!=null&&x!=null&&R["#"+x]!=null)uT.xe(d,R["#"+x],L);
var t=h.getAttribute("style");if(t!=null)uT.xe(d,t,L);return d};uT.xe=function(h,R,d){R=R.trim().split(";");
for(var L=0;L<R.length;L++){var $=R[L].split(":"),W=$[0]?$[0].trim():"",M=$[1]?$[1].trim():"";for(var x=0;
x<d.length;x++)if(W==d[x]&&M!="inherit")h[d[x]]=M}};uT.xi=function(h){var R=h.getAttribute("xlink:href");
if(R==null)R=h.getAttribute("href");return R};uT.kl=function(h,R,d,L){var $=uT,W=new um,M=R.getAttribute("gradientTransform");
if(M)W=$.iX(M);W.concat(d);var x=JSON.parse(uz.ny[uz.order.indexOf("GrFl")]),t=x.Grad.v;t.Intr.v=0;var g=R.tagName,r=new kY(0,0),l=new kY(L.k,0);
if(g=="linearGradient"){x.Type.v.GrdT="Lnr";if(R.getAttribute("x1"))r.x=parseFloat(R.getAttribute("x1"));
if(R.getAttribute("y1"))r.y=parseFloat(R.getAttribute("y1"));if(R.getAttribute("x2"))l.x=parseFloat(R.getAttribute("x2"));
if(R.getAttribute("y2"))l.y=parseFloat(R.getAttribute("y2"));r.x=l.x+.5*(r.x-l.x);r.y=l.y+.5*(r.y-l.y)}if(g=="radialGradient"){x.Type.v.GrdT="Rdl";
if(R.getAttribute("cx"))r.x=parseFloat(R.getAttribute("cx"));if(R.getAttribute("cy"))r.y=parseFloat(R.getAttribute("cy"));
l.qC(r.x,r.y);if(R.getAttribute("r"))l.x+=parseFloat(R.getAttribute("r"))}if(R.getAttribute("gradientUnits")=="userSpaceOnUse"){r=W.Ny(r);
l=W.Ny(l)}else{r.x=L.x+r.x*L.k;r.y=L.y+r.y*L.$;l.x=L.x+l.x*L.k;l.y=L.y+l.y*L.$}z.i.ZM(r,l,L,x);var H=R.children;
if(H.length==0){var y=$.xi(R);if(y==null)throw"gradient has no stops";var f=h.getElementById(y.slice(1));
if(f==null){console.log(y.slice(1));throw"e"}var b=$.kl(h,f,W,L);x.Grad=b.Grad}else{var K=[];for(var Z=0;
Z<H.length;Z++){var J=H[Z],u=$.xE(J),C=u["stop-color"],Q=u["stop-opacity"],i=J.getAttribute("offset");
if(C==null)C="#000000";if(Q==null)Q="1";var j=i?parseFloat(i):0;C=CSS.UB(C);K.push([j,[C.H/255,C.N/255,C.W/255],parseFloat(Q)])}z.i.z_(K,t)}return x};
uT.FI=function(h,R,d){var L=[],$=uT;$.ZZ=R.zSP?"\t":"";var W=R.zmi,M=R.zmj;L.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+h.k+" "+h.$+"\" width=\""+W+"\" height=\""+M+"\">");
var x={IP:[],C:[],cm:0,TM:0,Tk:0,Tu:{},TF:{},JI:0,KZ:{},cK:{},cL:0,UX:[]};uT.Zn(h,x,h.root.children,1,R,d);
if(x.IP.length!=0){L.push($.dH(1)+"<defs>");L=L.concat(x.IP);L.push($.dH(1)+"</defs>")}L.push($.dH(1)+"<style>");
L.push($.dH(2)+"tspan { white-space:pre }");for(var t in x.KZ)L.push($.dH(2)+"."+t+" { "+x.KZ[t]+" } ");
L.push($.dH(1)+"</style>");L=L.concat(x.C);L.push("</svg>");L=L.join(R.zSP?"\n":"");var g=z.h(Math.round(L.length*1.5)),r=T.yh(L,g,0);
if($.zG){console.log($.zG);var l="SVGParser.gen.db = [\n";for(var H=0;H<$.zG.length;H++){var y=$.zG[H];
l+="{\n\tnam: \""+y.Cr+"\",\n\tpts: [\n";for(var f=0;f<y.nD.length;f++){var b=y.nD[f];l+="\t\t[\""+b[0]+"\", { cmds: "+JSON.stringify(b[1].D)+", crds:"+JSON.stringify(b[1].B)+" } ]"+(f==y.nD.length-1?"":",")+"\n"}l+="\t]\n}"+(H==$.zG.length-1?"":",")+"\n"}l+="]\n";
console.log(l)}return g.buffer.slice(0,r)};uT.ZZ="";uT.dH=function(h){var R="";for(var d=0;d<h;d++)R+=uT.ZZ;
return R};uT.PK=function(h){return""+parseFloat(h.toFixed(3))};uT.Zn=function(h,R,d,L,$,W){var M=uT;
for(var x=0;x<d.length;x++){var t=d[x].J,g=t.add.lsct,r=t.add.vmsk,l=t.add.vstk,H=t.add.TySh,y=[];if(!$.hidden&&!t.rl())continue;
var f=t.opacity/255,b=t.add.iOpa?t.add.iOpa/255:1;if(f!=1)y.push("opacity: "+M.PK(f));if(b!=1)y.push("fill-opacity: "+M.PK(b));
if(t.Pg!="norm"){var K=zP.zd$[zP.RS.indexOf(t.Pg)];if(K!=null)y.push("mix-blend-mode: "+K)}if(!t.rl())y.push("display: none");
var Z=[],J=[],u=t.getName(),C=u.indexOf(" .");if(C!=-1){J.push(u.slice(C+2));u=u.slice(0,C)}if($.names)Z.push("id=\""+M.JO(u)+"\"");
var Q=t.add.lmfx;if(Q)Q=Q.solidFillMulti.v[0];if(Q)Q=Q.v;if(Q&&!Q.enab.v)Q=null;if(t.If()){if(M.zG&&t.getName().split("-").length==3){M.zG.push({Cr:t.getName(),_E:0,nD:[]})}if(r||t.add.artb){var i;
if(r)i=z.t.uc(r.r).Lm;else{var j=t.Al(),V=z.G.ii(j);i=Typr.U.pathToSVG({crds:V.B,cmds:V.D},2)}R.Tk++;
Z.push("clip-path=\"url(#cp"+R.Tk+")\"");R.IP.push(M.dH(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+R.Tk+"\">");
R.IP.push(M.dH(3)+"<path d=\""+i+"\" />");R.IP.push(M.dH(2)+"</clipPath>")}if(y.length!=0)Z.push("style=\""+y.join(";")+"\"");
R.C.push(M.dH(L)+"<g "+M.fX(Z,J)+">");M.Zn(h,R,d[x].children,L+1,$,W);R.C.push(M.dH(L)+"</g>")}else if(t.ej()&&r==null){var E=new A(0,0,h.k,h.$);
M.ZC(y,t.add,R,E);if(y.length!=0)Z.push("style=\""+y.join(";")+"\"");R.C.push(M.dH(L)+"<rect width=\""+h.k+"\" height=\""+h.$+"\" "+M.fX(Z,J)+" />")}else if(r){var E=z.t.wZ(r.r),i=z.t.uc(r.r);
if(i.RH!=0){Z.push("fill-rule=\"evenodd\"")}var N=i.Lm;M.ZC(y,t.add,R,E);if(y.length!=0){var n=y.join(";"),a=R.cK[n];
if(a==null){a="shp"+R.cL;R.cL++;R.cK[n]=a;R.KZ[a]=n}J.push(a)}R.C.push(M.dH(L)+"<path "+M.fX(Z,J)+" d=\""+N+"\" />");
if(M.zG&&M.zG[M.zG.length-1]){var I=z.G.yJ(r.r);I.B=I.B.map(Math.round);var q=M.zG[M.zG.length-1];q._E+=JSON.stringify(I).length;
q.nD.push([y[0].split("#").pop(),I])}}else if(H&&$.zmW){var k=H.h_,F=new zH(k,W);if(Q)Z.push("fill=\""+CSS.Iw(Q.Clr.v)+"\"");
var o=Wg.X$(F,H),G=z.G.de(o);for(var w in G){if(Q==null)Z.push("fill=\""+w+"\"");var V=G[w],N=Typr.U.pathToSVG({crds:V.B,cmds:V.D},2);
R.C.push(M.dH(L)+"<path "+M.fX(Z,J)+" d=\""+N+"\" />");if(Q==null)Z.pop()}}else if(H&&!$.zmF){var k=H.h_,U=H.V.clone(),uW=0,kV=0;
if(uM.NZ(k)==1){var B=uM.tZ(k,0,0).Rx.Justification,D=0,P=uM.Rh(k)[2];if(B==2)D=P/2;if(B==1)D=P;U.translate(D,0)}y.push("transform: "+M.AB(U));
var v=uM.Yk(k),O=k.EngineDict.ParagraphRun,uk=O.RunArray,ut=O.RunLengthArray;if(y.length!=0)Z.push("style=\""+y.join(";")+"\"");
R.C.push(M.dH(L)+"<text "+M.fX(Z,J)+" >");var ua=t.add.lmfx;if(ua)ua=ua.frameFXMulti.v[0];if(ua)ua=ua.v;
var uu=Q?CSS.Iw(Q.Clr.v):null;for(var p=0;p<uk.length;p++){var _=[],uB=ut[p],ub=v.slice(uW,uW+uB-1),uq=uM.tZ(k,uW,uW),uF=uq.lw[uq.U$.Font].Name;
if(R.UX.indexOf(uF)==-1)R.UX.push(uF);CSS.zMk(_,uq,H.V,!0,$.UX,uu);if(ua){y.push("stroke: "+CSS.Iw(ua.Clr.v));
y.push("stroke-width: "+ua.Sz.v.val)}var ue=uq.U$.FontSize*1.12;if(p==0)ue=uM.NZ(k)==0?0:uq.U$.FontSize;
kV+=ue;if(ub!=""){var n=_.join(";"),a=R.cK[n],ui="";if(a==null){a="txt"+R.cL;R.cL++;R.cK[n]=a;R.KZ[a]=n}var up=uq.U$.Tracking;
if(up!=null&&up!=0){up=Math.round(up*uq.U$.FontSize/1e3);ui=" dx=\"0";for(var zd=1;zd<ub.length;zd++)ui+=" "+up;
ui+="\" "}R.C.push(M.dH(L+1)+"<tspan x=\"0\" y=\""+M.PK(kV)+"\" class=\""+a+"\""+ui+">"+M.JO(ub)+"</tspan>")}uW+=uB}R.C.push(M.dH(L)+"</text>")}else if(t.add.SoLd){var uN=t.add.SoLd,u_=uN.Idnt.v,za=0,uZ=uN.Crop?uN.Crop.v:null;
if(R.TF[u_]!=null)za=R.TF[u_];else{R.JI++;za=R.JI;R.TF[u_]=R.JI;var uj=h.st(u_,uZ),ug="";if(uj==null)return;
var uw=uj.Im,tI=ud.qe(uj.raw.buffer);if(tI=="pdf"){var uO=new zG("h");ud.PDF.CA(uj.raw.buffer,uO);uO.Ov();
uO.s$();uO.I();uO.UL();if(uN.Crop&&uN.Crop.v==1){s.hu.Wb(uO,uO.root.OG(uO,!0))}var uC=ud.SVG.Az(uO,uO.k,uO.$,null,{UX:W});
ug="data:image/svg+xml;base64,"+ud.IJ(uC)}else if(tI=="jpg"||tI=="png"||tI=="gif"||tI=="svg"){var ux={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
ug="data:"+ux[tI]+";base64,"+ud.IJ(uj.raw.buffer)}else{ug=ud.Vk(uw[0].buffer,uw[1].k,uw[1].$)}R.IP.push(M.dH(2)+"<image width=\""+uw[1].k+"\" height=\""+uw[1].$+"\" id=\"img"+za+"\" href=\""+ug+"\"/>")}var zu=z.S.Vq(uN);
if(y.length!=0)Z.push("style=\""+y.join(";")+"\"");var uL=M.fX(Z,J);R.C.push(M.dH(L)+"<use "+uL+" href=\"#img"+za+"\" transform=\""+M.AB(zu)+"\"/>")}else if(!t.rect.dp()&&($.zGn||H)){if(y.length!=0)Z.push("style=\""+y.join(";")+"\"");
var uL=M.fX(Z,J),un=t.buffer;if(Q)un=uS.zFq(un,Q,t.rect);var us=t.rect;R.JI++;var ug=ud.Vk(un.buffer,us.k,us.$,"png",null,!0);
R.IP.push(M.dH(2)+"<image width=\""+t.rect.k+"\" height=\""+t.rect.$+"\" id=\"img"+R.JI+"\" href=\""+ug+"\"/>");
R.C.push(M.dH(L)+"<use "+uL+" href=\"#img"+R.JI+"\" x=\""+us.x+"\" y=\""+us.y+"\" />")}}};uT.fX=function(h,R){if(R.length!=0)h.push("class=\""+R.join(" ")+"\"");
return h.join(" ")};uT.JO=function(h){return String(h).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
uT.AB=function(h){var R=[h.r$,h.W,h.DS,h.Cv,h.RZ,h.fA].map(uT.PK);return"matrix("+R.join(",")+")"};uT.ZC=function(h,R,d,L){var $=uT,W=R.vstk,M=R.vmsk,x=R.lmfx;
if(M&&M.EI!=0){var t=$.PK(M.EI);if(d.Tu[t]==null){d.TM++;d.Tu[t]=d.TM;d.IP.push($.dH(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+d.TM+"\"> <feGaussianBlur stdDeviation=\""+t+"\" /> </filter>")}h.push("filter: url(#flt"+d.Tu[t]+")")}var g=uS.pA(x,R),r=g[0],l=g[1];
if(W&&!W.fillEnabled.v)h.push("fill: none");else if(r){var H=CSS.Iw(r.Clr.v);h.push("fill: "+H)}else if(l){$.xG(l,d,L);
h.push("fill: url(#grd"+d.cm+")")}if(W==null||!W.strokeEnabled.v)W=uS.pQ(x);if(W&&W.strokeEnabled.v){var y=W.strokeStyleContent.v,f=y.classID;
if(f=="solidColorLayer")h.push("stroke: "+CSS.Iw(y.Clr.v));else{$.xG(y,d,L);h.push("stroke: url(#grd"+d.cm+")")}var b=uz.ri.OK.indexOf(W.strokeStyleLineCapType.v.strokeStyleLineCapType),K=uz.ri.join.indexOf(W.strokeStyleLineJoinType.v.strokeStyleLineJoinType),Z=W.strokeStyleOpacity.v.val/100,J=W.strokeStyleLineWidth.v.val,u=uz.ri.OJ.indexOf(W.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(u==2){J*=2;h.push("paint-order:stroke fill markers")}var C=W.strokeStyleLineDashSet.v,Q=[];for(var i=0;
i<C.length;i++)Q.push(Math.round(C[i].v.val*J));if(b!=0)h.push("stroke-linecap:"+["butt","round","square"][b]);
if(K!=0)h.push("stroke-linejoin:"+["miter","round","bevel"][K]);if(Z!=1)h.push("stroke-opacity:"+$.PK(Z));
if(J!=1)h.push("stroke-width: "+$.PK(J));if(Q.length!=0)h.push("stroke-dasharray: "+Q.join(","))}};uT.xG=function(h,R,d){R.cm++;
var L=uT,$=h.Grad.v,W=$.Clrs.v.slice(0),M=$.Trns.v.slice(0),x=h.Ofst.v,t=h.Type.v.GrdT=="Rdl"?1:0,g=(t==1?"radial":"linear")+"Gradient",r=z.i.FO(h,d);
if(t==0){r[0].x=r[1].x+2*(r[0].x-r[1].x);r[0].y=r[1].y+2*(r[0].y-r[1].y)}var l=L.dH(2)+"<"+g+" id=\"grd"+R.cm+"\" gradientUnits=\"userSpaceOnUse\" ";
if(t==0)R.IP.push(l+" x1=\""+L.PK(r[0].x)+"\" y1=\""+L.PK(r[0].y)+"\" x2=\""+L.PK(r[1].x)+"\" y2=\""+L.PK(r[1].y)+"\">");
if(t==1)R.IP.push(l+" cx=\""+L.PK(r[0].x)+"\" cy=\""+L.PK(r[0].y)+"\" r=\""+L.PK(kY.ZW(r[0],r[1]))+"\">");
var H=h.Rvrs.v;if(H){W.reverse();M.reverse()}for(var y=0;y<W.length;y++){var f=W[y].v,b=y<M.length?M[y].v.Opct.v.val/100:1,b=b==1?"":"stop-opacity=\""+L.PK(b)+"\"",K=f.Lctn.v/4096;
if(H)K=1-K;R.IP.push(L.dH(3)+"<stop offset=\""+L.PK(K)+"\" stop-color=\""+CSS.Iw(f.Clr.v)+"\" "+b+" />")}R.IP.push(L.dH(2)+"</"+g+">")};
uT.WB=function(h,R,d,L,$){var W=[],M=uT.WB,x=!1,t={Hl:h,om:R,cf:[!0,!0,!0],SW:!1,ba:d,zE_:0};t.mc=Math.round(Math.max(h,R)*(.02+M.Za(t)*.03));
t.Sh=M.zIe(t);t.Cp=M.zId(t.Sh,(M.Za(t)<.5?-1:1)*(.2+M.Za(t)*.3));if(M.Za(t)<.5){var g=t.Sh;t.Sh=t.Cp;
t.Cp=g}t.zIg=M.Za(t)<.4&&M.zIE(t.Cp,{H:1,N:1,W:1})>.3;t.zIU=M.Za(t)<.5?0:1;W.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+h+" "+R+"\" width=\""+h+"\" height=\""+R+"\">");
t.Td=L[Math.floor(M.iV(t)*L.length)];t.Tw=L[Math.floor(M.iV(t)*L.length)];W.push("<style>");W.push("@font-face {  font-family: "+t.Td[2]+";  src: url(rsrc/fonts/"+t.Td[5]+");  }");
W.push("@font-face {  font-family: "+t.Tw[2]+";  src: url(rsrc/fonts/"+t.Tw[5]+");  }");W.push("</style>");
var r=[0,0,h,R],l=r;if($==null)W.push("<path style=\"fill: "+M.VP(t.Sh)+"\" d=\""+M.Rect(r[0],r[1],r[2]-r[0],r[3]-r[1])+"\" id=\"Background\" />");
else{t.SW=!0;M.Z$(t,r,W,$)}if(M.Za(t)<.25&&!t.SW){t.cf[0]=t.cf[2]=!1;M.zgd(r,t,W);l=r}else if(M.Za(t)<.25||t.SW)l=r;
else{var H=.52+M.Za(t)*.2;if(M.Za(t)<.5)H=1-H;var y=r.slice(0),f=r.slice(0);if(M.Za(t)<.5)y[2]=f[0]=Math.round(H*h);
else y[3]=f[1]=Math.round(H*R);if(M.Za(t)<.5){var g=y;y=f;f=g}l=y;M.zgI(t,f,W,$)}M.zg_(t,l,W);W.push("</svg>");
W=W.join("\n");var b=z.h(Math.round(W.length*1.5)),K=T.yh(W,b,0);return[b.buffer.slice(0,K),t.tG]};uT.WB.zgd=function(h,R,d){var L=uT.WB,$=h[2]-h[0],W=h[3]-h[1];
if(L.Za(R)<.5){d.push("<path id=\"Border\" style=\"fill: "+L.VP(R.Cp)+"\" d=\""+L.zIF(h[0],h[1],h[2]-h[0],h[3]-h[1],R.mc)+"\" />")}else if(L.Za(R)<-.4){L.zgv(R,h,d)}else{var M=L.Za(R)<.5?0:1,x=(M==0?W:$)/4,t=L.iY(R,M,h,d,x,!0),t=L.iY(R,M+2,h,d,x,!0,t)}};
uT.WB.zg_=function(h,R,d){var L=uT.WB,$="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.".split("-"),W=2*Math.floor(L.Za(h)*$.length/2),M=R[2]-R[0],x=R[3]-R[1],g=0,l=0;
h.eC=(h.Hl+M)*.5*(.04+L.Za(h)*.05);h.eC=Math.min(h.eC,x*.4,M*.12);h.eC=Math.round(h.eC);var t=Math.min(h.eC*$[W].length*(.35+.3*L.Za(h)),M*.9),r=(R[1]+R[3])/2,H=z.qw(h.Sh)<.85?{H:1,N:1,W:1}:{H:.1,N:.1,W:.1};
if(L.Za(h)<.25&&h.cf[0]){l=0;g=R[0]+h.mc}else if(L.Za(h)<.33&&h.cf[2]){l=2;g=R[2]-h.mc}else{l=1;g=(R[0]+R[2])/2}var y=H.H==1?"0,0,0":"255,255,255",f=h.SW&&L.Za(h)<1;
if(f){var b=R[0],K=M,Z=r-h.eC*1.1,J=h.eC*2.2,u=.7;if(l==1&&L.Za(h)<.5){b=Z=.2*Math.min(M,x);K=M-2*Z;
J=x-Z-Z}else if(L.Za(h)<.7){b=Z=0;K=M;J=x;u=.25}d.push("<path id=\"Strip\" style=\"fill: rgb("+y+"); opacity: "+u+"\" d=\""+L.Rect(b,Z,K,J)+"\" />")}if(L.Za(h)<.4){var C=h.eC*.07;
C*=1.5+L.Za(h)*1;if(l==-1&&M/x<3&&!f){d.push("<path id=\"Bar-bottom\" style=\"fill: "+L.VP(H)+"\" d=\""+L.Rect(g-t/2,r+h.eC*1.1-C/2,t,C)+"\" />");
d.push("<path id=\"Bar-top\"    style=\"fill: "+L.VP(H)+"\" d=\""+L.Rect(g-t/2,r-h.eC*1.1-C/2,t,C)+"\" />")}if(l!=1){d.push("<path id=\"Bar\" style=\"fill: "+L.VP(H)+"\" d=\""+L.Rect(g-C/2,r-h.eC*.8,C,h.eC*.8*2)+"\" />");
g+=(l==0?1:-1)*h.eC/3}}var Q=h.eC*.4;d.push(L.Zx($[W+1],g,r+Q*1.6,Q,H,l,h.Tw));d.push(L.Zx($[W],g,r+h.eC*.04,h.eC,H,l,h.Td))};
uT.WB.zgI=function(h,R,d,L){var $=R[2]-R[0],W=R[3]-R[1],M=Math.max($,W),x=Math.min($,W),t=uT.WB;if(M/x<5&&!h.SW&&!1){t.Z$(h,R,d,L)}else if(t.Za(h)<0)d.push("<path style=\"fill: "+t.VP(h.Cp)+"\" d=\""+t.Rect(R[0],R[1],$,W)+"\" />");
else{var g=0;if(R[3]!=h.om)g=0;if(R[2]!=h.Hl)g=3;if(R[0]!=0)g=1;if(R[1]!=0)g=2;var r=g+2&3;if(M/x<3){var l=t.zIq(r),H=l[Math.round(t.Za(h)*(l.length-1))],y=H.Cr.slice(0,4),f=y.indexOf(1);
H=JSON.parse(JSON.stringify(H));var b=-1;if(y!="0000"){var K=new um;if(H.Cr[5]=="0"){if(f==3&&g==1){b=1;
K.scale(-1,1)}else b=f}else{var Z=r;while(Z==r)Z=Math.floor(t.Za(h)*4)&3;K.rotate((-f+Z)*Math.PI/2)}t.V(H,K)}var J=t.oY(H),u=$-2*h.mc,C=W-2*h.mc;
if(b!=-1){if((b&1)==0)C-=h.mc;else u-=h.mc}var Q=Math.min(u/J.k,C/J.$),i=new um;i.translate(-J.x,-J.y);
i.scale(Q,Q);var j=($-J.k*Q)/2,V=(W-J.$*Q)/2;if(b!=-1){if(b==3)j=0;if(b==0)V=0;if(b==1)j=$-J.k*Q;if(b==2)V=W-J.$*Q}i.translate(R[0]+j,R[1]+V);
t.gn(h,H,i,h.Cp,d)}else{t.iY(h,g,R,d,1e9)}}};uT.WB.Z$=function(h,R,d,L){var $=R[2]-R[0],W=R[3]-R[1],M=Math.max($,W),x=Math.min($,W),t=uT.WB,g=t.iV(h),r,l,H,y=L[0]instanceof ArrayBuffer;
if(y){r="data:image/jpg;base64,"+Wk.CY(L[0]);l=L[1];H=L[2]}else{var f=Math.floor(g*L.length),b=L[f];
h.tG=b;r=b.webformatURL;l=b.webformatWidth;H=b.webformatHeight}var K=R[0],Z=R[1],J=$,u=W;if($/W>l/H){u=J*H/l;
Z=Z-(u-W)/2}else{J=u*l/H;K=K-(J-$)/2}if(y){d.push("<defs>");d.push("<image width=\""+l+"\" height=\""+H+"\" id=\"Background\" href=\""+r+"\" />");
d.push("</defs>");var C=J/l;d.push("<use href=\"#Background\" transform=\""+uT.AB(new um(C,0,0,C,K,Z))+"\" />")}else{var Q="cp"+Math.random();
d.push("<clipPath id=\""+Q+"\">");d.push("<path style=\"fill: "+t.VP(h.Cp)+"\" d=\""+t.Rect(R[0],R[1],$,W)+"\" />");
d.push("</clipPath>");d.push("<image  clip-path=\"url(#"+Q+")\" xlink:href=\""+r+"\" x=\""+K+"\" y=\""+Z+"\" width=\""+J+"\" height=\""+u+"\" />")}};
uT.WB.Zx=function(h,R,d,L,$,W,M){var x=uT.WB;return"<text x=\""+R+"\" y=\""+d+"\" style=\"fill:"+x.VP($)+"; font-size:"+L+"px; text-anchor:"+["start","middle","end"][W]+"; font-family:"+M[2]+";\"><tspan>"+h+"</tspan></text>"};
uT.WB.gn=function(h,R,d,L,$){var W=uT.WB,M=[];for(var x=0;x<R.nD.length;x++){M.push(L);if(h.zIg){L=(x&1)==h.zIU?{H:1,N:1,W:1}:M[0]}}$.push("<g id=\""+R.Cr.split("-")[2]+":::\" style=\"transform: "+uT.AB(d)+";\" >");
for(var x=0;x<R.nD.length;x++){var t=R.nD[x];L=M.pop();$.push("<path style=\"fill: "+(L?W.VP(L):"#"+t[0])+"\" d=\""+Typr.U.pathToSVG({crds:t[1].B,cmds:t[1].D})+"\" />")}$.push("</g>")};
uT.WB.zgv=function(h,R,d){var L=uT.WB,$=uT.WB.VD,W=[];for(var M=0;M<$.length;M++){var x=$[M],t=x.Cr.slice(0,4);
if(t!="1001")continue;W.push(x)}var x=W[Math.floor(L.Za(h)*W.length)];if(L.Za(h)<.5)L.V(x,new um(0,1,1,0,0,0));
var g=R[3]-R[1],r=R[2]-R[0],l=L.oY(x),H=.7*Math.min(r,g,.5*Math.max(r,g))/Math.max(l.k,l.$),y=new um;
y.scale(H,H);if(L.Za(h)<.5){y.scale(1,-1);y.translate(0,g)}L.gn(h,x,y,h.Cp,d);y.rotate(Math.PI);y.translate(r,g);
L.gn(h,x,y,h.Cp,d)};uT.WB.zIq=function(h){var R=uT.WB.VD,d=[];for(var L=0;L<R.length;L++){var $=R[L],W=$.Cr.slice(0,4);
if(W=="0000"){d.push($);continue}if(["1000","0100","0010","0001"].indexOf(W)==-1)continue;var M=W.indexOf("1");
if($.Cr[5]=="0"&&h==M&&M!=3)continue;d.push($)}return d};uT.WB.iY=function(h,R,d,L,$,W,M){var x=uT.WB.VD,t=uT.WB,g=[],u,C;
for(var r=0;r<x.length;r++){var l=x[r],H=l.Cr.slice(0,4);if(["1110","1101","1011","0111"].indexOf(H)==-1)continue;
var y=H.indexOf("0")+2&3;if(l.Cr[5]=="0")if(W==!0||R!=y&&!(R==1&&y==3))continue;g.push(l)}var f=M!=null?M:Math.floor(t.Za(h)*g.length),l=g[f],l=JSON.parse(JSON.stringify(l)),H=l.Cr.slice(0,4),y=H.indexOf("0")+2&3;
if(y==3&&R==1)z.V(l,new um(1,0,0,-1,0,1e3));var b=new um;b.translate(-500,-500);b.rotate(-y*Math.PI/2);
b.translate(500,500);t.V(l,b);var K=d[3]-d[1],Z=d[2]-d[0],J=t.oY(l);if(J.y<0){J.$+=J.y;J.y=0}if(J.y>0){J.$+=J.y;
J.y=0}if((R&1)==0){C=K;u=Z}else{u=K;C=Z}var Q=Math.min(Math.min(.5+.5*t.Za(h))*Math.min(Z,K),$)/J.$,i=Math.ceil(u/(1e3*Q)),j=new um,V=new um;
V.scale(Q,Q);if(R==0||R==2){V.translate(-(Z/2),-(K/2));V.rotate(-R*Math.PI/2);V.translate(Z/2+d[0],K/2+d[1])}else{V.rotate(Math.PI/2);
V.scale(1,-1);V.translate(d[0],d[1]);if(R==1){V.scale(-1,1);V.translate(Z,0)}}L.push("<g id=\"Border-"+["top","right","bottom","left"][R]+":::\">");
for(var r=0;r<i;r++){var E=j.clone();E.concat(V);t.gn(h,l,E,h.Cp,L);j.translate(1e3-2,0)}L.push("</g>");
return f};uT.WB.Rect=function(h,R,d,L){return Typr.U.pathToSVG({crds:[h,R,h+d,R,h+d,R+L,h,R+L],cmds:["M","L","L","L","Z"]})};
uT.WB.zIF=function(h,R,d,L,$){var W=[h,R,h+d,R,h+d,R+L,h,R+L];h+=$;R+=$;d-=2*$;L-=2*$;W.push(h,R,h,R+L,h+d,R+L,h+d,R);
return Typr.U.pathToSVG({crds:W,cmds:"M L L L Z M L L L Z".split(" ")})};uT.WB.zId=function(h,R){var d=z.uG(h.H,h.N,h.W);
d.NM=Math.max(.1,Math.min(.9,d.NM+R));return z.xP(d.om,d.ix,d.NM)};uT.WB.zQk=function(h,R){var d=z.uG(h.H,h.N,h.W);
d.om+=R;return z.xP(d.om,d.ix,d.NM)};uT.WB.zQq=function(h){var R=z.uG(h.H,h.N,h.W);R.NM=1-R.NM;return z.xP(R.om,R.ix,R.NM)};
uT.WB.zIE=function(h,R){var d=h.H-R.H,L=h.N-R.N,$=h.W-R.W;return Math.sqrt(d*d+L*L+$*$)};uT.WB.zIe=function(h){var R=uT.WB;
return{H:R.Za(h),N:R.Za(h),W:R.Za(h)}};uT.WB.VP=function(h){return CSS.Mx({H:h.H*255,N:h.N*255,W:h.W*255})};
uT.WB.oY=function(h){var R=h.nD,d=new A;for(var L=0;L<R.length;L++)d=d.DM(z.G.oY(R[L][1].B));return d};
uT.WB.V=function(h,R){var d=h.nD;for(var L=0;L<d.length;L++)z.G.V(d[L][1].B,R,d[L][1].B)};uT.WB.Za=function(h){h.zE_++;
var R=h.zE_&3;if(R==0)h.ba=uT.WB.ik(h.ba);var d=h.ba>>>8*R&255;return d*(.99999999/255)};uT.WB.iV=function(h){var R=uT.WB.ik(h.ba);
h.ba=uT.WB.ik(R);return R*(1/4294967295)};uT.WB.ik=function(h){h=(h^61^h>>>16)>>>0;h=h+(h<<3)>>>0;h=(h^h>>>4)>>>0;
h=h*668265261>>>0;h=(h^h>>>15)>>>0;return h};uT.WB.VD=[{Cr:"0001-0-bird",nD:[["4b3c34",{D:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),B:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{D:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),B:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{D:"M C C C C C C C C C C C C L Z".split(" "),B:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{Cr:"0001-0-bird2",nD:[["ff7f2a",{D:"M L L L Z M L L L Z".split(" "),B:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{D:"M C C C C C C C C C C C L Z".split(" "),B:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{D:"M C C C C C C L Z M C C Z".split(" "),B:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{D:"M L L L Z M L L L Z".split(" "),B:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{D:"M L C C C C C C C C L Z".split(" "),B:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{D:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),B:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{Cr:"0000-1-flower",nD:[["7a59a2",{D:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),B:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{Cr:"0000-1-flower",nD:[["d13777",{D:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),B:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{Cr:"0000-1-flower",nD:[["ffac42",{D:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),B:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{Cr:"0000-1-flower",nD:[["d04040",{D:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),B:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{Cr:"0000-1-flower",nD:[["ec7272",{D:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),B:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{D:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),B:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{Cr:"0000-0-hearts",nD:[["d17070",{D:"M C C C C C C C C C L Z".split(" "),B:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{D:"M C C C C C C C C C L Z".split(" "),B:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{D:"M C C C C C C C C C L Z".split(" "),B:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{Cr:"0000-0-anchor",nD:[["2a3b66",{D:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),B:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{Cr:"0000-1-leaf",nD:[["fbb600",{D:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),B:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{Cr:"0000-1-acorn",nD:[["a05a2c",{D:"M C C C C C C C L Z".split(" "),B:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{D:"M C C C C C C C C C C C Z".split(" "),B:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{Cr:"0000-0-skull",nD:[["808080",{D:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),B:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{Cr:"0000-0-ghost",nD:[["e6e6e6",{D:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),B:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{D:"M C C C C Z M C C C C Z".split(" "),B:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{Cr:"1001-1-rose",nD:[["9e1460",{D:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),B:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{D:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),B:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{Cr:"1001-1-curls",nD:[["53a7ab",{D:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),B:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{D:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),B:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{Cr:"0111-0-pines",nD:[["e9e9e9",{D:"M C C C C C C C C L L L Z".split(" "),B:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{D:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),B:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{Cr:"0111-0-flowers",nD:[["8cae40",{D:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),B:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{D:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),B:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{Cr:"1101-1-confetti",nD:[["e789ff",{D:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),B:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{D:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),B:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{Cr:"1101-1-branch",nD:[["7f500b",{D:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),B:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{D:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),B:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{Cr:"1101-1-sticks",nD:[["ec7272",{D:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),B:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{D:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),B:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{Cr:"1101-1-dots",nD:[["ec7272",{D:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),B:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{D:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),B:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{D:["M","C","C","Z"],B:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{Cr:"1101-1-strips",nD:[["ffc88c",{D:"M L L L L Z M L L L L Z M L L L L Z".split(" "),B:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{D:"M L L L L Z M L L L L Z M L L L L Z".split(" "),B:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{D:["M","C","C","Z"],B:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{Cr:"1101-1-circs",nD:[["ec7272",{D:"M C C C C Z M C C C C Z".split(" "),B:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{D:"M C C C C Z M C C C C Z".split(" "),B:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{D:["M","C","C","Z"],B:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{Cr:"1101-1-squares",nD:[["014ea7",{D:"M L L L L Z M L L L L Z".split(" "),B:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{D:"M L L L L Z M L L L L Z".split(" "),B:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{D:["M","C","C","Z"],B:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{Cr:"1101-0-christmas",nD:[["014ea7",{D:"M C C C C Z M C C C C Z M L L L L Z".split(" "),B:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{D:"M C C C C Z M C C C C Z M L L L L Z".split(" "),B:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var te={};te.parse=function(h){var R=new Uint8Array(h),d=null;if(R[0]==80&&R[1]==75){var L=Date.now(),$=UZIP.parse(R.buffer),d=$["document.json"];
d=JSON.parse(T.fh(d,0,d.length));te.ja(d,$)}else{var W=Wh.parse(h);d=te.xa(W[2][0][1])}return d};te.ja=function(h,R){var d=typeof h;
if(d=="string"||d=="number"||d=="boolean")return h;if(h instanceof Array){for(var L=0;L<h.length;L++)h[L]=te.ja(h[L],R);
return h}var $=h._class;if($==null)return h;if($=="MSJSONFileReference"){var W=h._ref;if(!1){}else if(R[W+".json"]!=null){var M=R[W+".json"],x=M.length;
for(var L=0;L<x;L++)if(M[L]==11||M[L]==3)M[L]=32;var t=T.fh(M,0,x);h=JSON.parse(t)}else if(R[W+".png"]!=null)return{key:W.split("/").pop(),bdata:R[W+".png"]};
else if(R[W+".jpg"]!=null)return{key:W.split("/").pop(),bdata:R[W+".jpg"]};else if(R[W+".pdf"]!=null)return{key:W.split("/").pop(),bdata:R[W+".pdf"]};
else if(R[W]!=null)return{key:W.split("/").pop(),bdata:R[W]};else{console.log(h,R);return}}else if($=="MSAttributedString"){var t=atob(h.archivedAttributedString._archive),g=t.length-1,r=new Uint8Array(g);
for(var L=0;L<g;L++)r[L]=t.charCodeAt(L);h.archivedAttributedString=te.xa(r)}for(var l in h)h[l]=te.ja(h[l],R);
return h};te.$L=function(h,R,d,L){if(h instanceof Uint8Array)return null;if(L.indexOf(h)!=-1)return null;
L.push(h);if(h==R)return d;for(var $ in h){d.push($);var W=te.$L(h[$],R,d,L);if(W){console.log(h,W);
throw"e"}d.pop()}};te.xa=function(h){var R=t$.parse(h,0),d=R.$objects,L=new Uint8Array(d.length),$=te.Gc(d,L,R.$top.root);
for(var W=0;W<d.length;W++)if(L[W]==0&&W!=0){console.log(W,d[W]);te.$L($,W,[],[])}for(var W=0;W<d.length;
W++){var M=d[W];if(M._class&&(M._class=="bitmap"||M._class=="fill"&&M.fillType==4&&(M.image||M.imageSHA))){var x=M.image,t=M.imageSHA,g=null,r=null;
if(x=="$null")x=null;if(t=="$null")t=null;if(x&&x.data){r=x.sha1["NS.bytes"];r=btoa(T.UK(r,0,r.length));
g=x.data instanceof Uint8Array?x.data:x.data["NS.bytes"]}else if(x==null&&t==null){var l=ud.PNG.Az([[z.h(4).buffer]],1,1);
g=new Uint8Array(l)}else{var H=($.assets?$.assets.imageCollection:$.images).images;if(t)r=t instanceof Uint8Array?t:t["NS.bytes"];
else r=x.sha1["NS.bytes"];r=btoa(T.UK(r,0,r.length));var g=H[r].data;if(g["NS.bytes"])g=g["NS.bytes"]}g=new Uint8Array(g.buffer.slice(g.byteOffset,g.byteOffset+g.length));
delete M.imageSHA;M.image={key:r,bdata:g}}}return $};te.zIi=function(h){return h.slice(0,11)=="MSImmutable"?"MS"+h.slice(11):h};
te.Gc=function(h,R,d){var L=h[d];if(R[d]==1){return L}R[d]=1;if(typeof L=="string")return L;if(typeof L=="number")return L;
if(typeof L=="boolean")return L;if(L instanceof Array)return L;if(L instanceof Uint8Array){return L}if(h[L.$class]==null){if(L.$class==null&&L["NS.data"]!=null)return L;
console.log(d,L);throw"e"}var $=h[L.$class],W=te.zIi($.$classname);R[L.$class]=1;L.$class=W;if(te.LW[W]){delete L.$class;
L._class=te.LW[W]}var M=te.Gc;if(W=="NSMutableArray"||W=="NSArray"){var x=[];if(L["NS.objects"]!=null)for(var t=0;
t<L["NS.objects"].length;t++)x.push(M(h,R,L["NS.objects"][t]));else for(var t=0;L["NS.object."+t]!=null;
t++)x.push(M(h,R,L["NS.object."+t]));h[d]=x;return x}if(W=="NSDictionary"||W=="NSMutableDictionary"){var g={$class:W};
if(L["NS.keys"]!=null)for(var t=0;t<L["NS.keys"].length;t++){var r=M(h,R,L["NS.keys"][t]);if(r instanceof Uint8Array)r=btoa(te.AQ.UK(r,0,r.length));
else if(typeof r!="string"&&typeof r!="number")r=btoa(te.AQ.UK(r["NS.bytes"],0,r["NS.bytes"].length));
g[r]=M(h,R,L["NS.objects"][t])}else for(var t=0;L["NS.key."+t]!=null;t++){var r=M(h,R,L["NS.key."+t]);
if(r instanceof Uint8Array)r=btoa(te.AQ.UK(r,0,r.length));else if(typeof r!="string"&&typeof r!="number")r=btoa(te.AQ.UK(r["NS.bytes"],0,r["NS.bytes"].length));
g[r]=M(h,R,L["NS.object."+t])}for(var l in L)delete L[l];for(var l in g)L[l]=g[l];return L}if(W=="NSURL")return{$class:W,base:M(h,R,L["NS.base"]),relative:M(h,R,L["NS.relative"])};
if(te.zIj.indexOf(W)!=-1){h[d]=M(h,R,L.array_do);return h[d]}if(L.do_objectID!=null)L.do_objectID=M(h,R,L.do_objectID);
if(te.zIP.indexOf(W)!=-1)return L;var H=te.zIN[W];if(H==null){console.log(h,L);throw"unknown class "+W}for(var t=0;
t<H.length;t++)if(L[H[t]]!=null)L[H[t]]=M(h,R,L[H[t]]);if(W=="MSTextLayer"){var y=L,f,b,K,Z;if(y.attributedString)f=y.attributedString.archivedAttributedString;
else f=y.storage;Z=f.NSString;if(typeof Z!="string")Z=T.fh(Z["NS.bytes"],0,Z["NS.bytes"].length);if(f.NSAttributeInfo)b=f.NSAttributeInfo["NS.bytes"];
else{var J=Z.length,u=[];while(J>0){var C=Math.min(100,J);u.push(C,0);J-=C}b=new Uint8Array(u)}K=f.NSAttributes instanceof Array?f.NSAttributes:[f.NSAttributes];
var Q={$class:"NSAttributedString",NSString:Z,NSAttributes:K};y.attributedString={_class:"MSAttributedString",archivedAttributedString:Q};
Q.NSAttributeInfo={$class:"NSMutableData","NS.data":b};delete y.storage}return L};te.AQ={BP:function(h,R){return h[R+1]<<8|h[R]},U:function(h,R){return h[R+3]<<24|h[R+2]<<16|h[R+1]<<8|h[R]},UK:function(h,R,d){var L="";
for(var $=0;$<d;$++)L+=String.fromCharCode(h[R+$]);return L}};te.LW={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
te.zIj=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
te.zIP="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
te.zIN={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var t$={};t$.parse=function(h,R){var d=T.UK(h,R,8);R+=8;var L=t$.parse.zIS(h,h.length-31),$=[];if(L.JQ==1){var R=h.length-31-L.JQ*L.Js;
for(var W=0;W<L.Js;W++)$.push(h[R+W])}else if(L.JQ==2){var R=h.length-31-L.JQ*L.Js;for(var W=0;W<L.Js;
W++)$.push(T.BP(h,R+W*2))}else if(L.JQ==4){var R=h.length-31-L.JQ*L.Js;for(var W=0;W<L.Js;W++)$.push(T.U(h,R+W*4))}else{throw"e"}var M=t$.parse.Gc(h,$,L.root,L);
return M};t$.parse.Gc=function(h,R,d,L){var $=t$.AQ,W=L.zQh,M=W==4?$.U:W==2?$.BP:$.zIw,x=t$.parse,t=R[d],g=h[t],r=g>>4,l=g&15,y=null;
t+=1;if([4,5,6,10,12,13].indexOf(r)!=-1&&l==15){var H=x.Uw(h,t);t+=H._E;l=H.a}if(!1){}else if(r==0)y=l==8?!1:l==9?!0:null;
else if(r==1)y=x.Uw(h,t-1).a;else if(r==2)y=1<<l==4?T.YR(h,t):T.iA(h,t);else if(r==3)y=T.iA(h,t);else if(r==4)y=new Uint8Array(h.buffer,t,l);
else if(r==5)y=T.UK(h,t,l);else if(r==6)y=T.em(h,t,l);else if(r==8){y=0;for(var f=0;f<l+1;f++)y=y<<8|h[t+f]}else if(r==10){y=[];
for(var f=0;f<l;f++)y.push(x.Gc(h,R,M(h,t+W*f),L))}else if(r==12){y=[];for(var f=0;f<l;f++)y.push(x.Gc(h,R,M(h,t+W*f),L))}else if(r==13){y={};
for(var f=0;f<l;f++){var b=x.Gc(h,R,M(h,t+W*f),L),K=x.Gc(h,R,M(h,t+W*(l+f)),L);y[b]=K}}else throw"unknown mask "+r;
return y};t$.parse.Uw=function(h,R){var d=1<<(h[R]&15),L=0;for(var $=0;$<d;$++)L=L<<8|h[R+1+$];return{a:L,_E:d+1}};
t$.parse.zIS=function(h,R){var d={};R+=6;d.JQ=h[R];R++;d.zQh=h[R];R++;R+=4;d.Js=T.U(h,R);R+=4;R+=4;d.root=T.U(h,R);
R+=4;R+=4;d.zbh=T.U(h,R);R+=4;return d};t$.AQ={zIw:function(h,R){return h[R]},BP:function(h,R){return h[R]<<8|h[R+1]},U:function(h,R){return h[R]<<24|h[R+1]<<16|h[R+2]<<8|h[R+3]},UK:function(h,R,d){var L="";
for(var $=0;$<d;$++)L+=String.fromCharCode(h[R+$]);return L}};var Wh={parse:function(h){var R=new Uint8Array(h),d=Wh.Eo(R),L=[],$=new Uint8Array(R.length),W=[];
L.push(W);Wh.jz(R,d,1,$,W);for(var M=0;M<W.length;M++){var x=[];L.push(x);Wh.jz(R,d,W[M][3],$,x);W[M][3]=M+1}return L},jz:function(h,R,d,L,$){d--;
var W=d*R.bW+(d==0?100:0),M=h[W],x=Wh.BP(h,W+1);if(x!=0)throw"free block in a page";var t=Wh.BP(h,W+3),g=Wh.BP(h,W+5);
if(g==0)g=65536;var r=h[W+7],l=Wh.BP(h,W+8);if(M==2||M==5)W+=4;else l=0;for(var H=0;H<t;H++){var y=d*R.bW+Wh.BP(h,W+8+2*H),f=-1,b=0,K=0,Z=0;
if(M==2||M==5){f=Wh.U(h,y);y+=4}if(M==2||M==10||M==13){b=Wh.xA(h,y);y+=b._E}if(M==5||M==13){K=Wh.xA(h,y);
y+=K._E}if(M==5){Wh.jz(h,R,f,L,$);continue}var J=R.bW-(d==0?100:0),u=b.gE,C=M==13?J-35:Math.floor((J-12)*64/255)-23,Q=Math.floor((J-12)*32/255)-23,i=Q+(u-Q)%(J-4);
if(u<=C){Wh.kW(h,y,L,0,u)}else{var j=i<=C?i:Q,V=0;Wh.kW(h,y,L,0,j);V+=j;Z=Wh.U(h,y+j);while(Z!=0){var E=(Z-1)*R.bW;
Z=Wh.U(h,E);var N=Math.min(R.bW-4,u-V);Wh.kW(h,E+4,L,V,N);V+=N}}$.push(Wh.zIA(L,u))}},zIA:function(h,R){var d=0,L=Wh.xA(h,d);
d+=L._E;var $=[],W=[];while(d<L.gE){var M=Wh.xA(h,d);d+=M._E;$.push(M.gE)}if(d!=L.gE)throw"e";for(var x=0;
x<$.length;x++){var M=$[x];if(!1){}else if(M==0)W.push(null);else if(M==1){W.push(Wh.zQP(h,d));d+=1}else if(M==2){W.push(Wh.rR(h,d));
d+=2}else if(M==3){W.push(Wh.zQi(h,d));d+=3}else if(M==4){W.push(Wh.Uw(h,d));d+=4}else if(M==7){W.push(Wh.zQp(h,d));
d+=16}else if(M==8)W.push(0);else if(M==9)W.push(1);else if(M>=12&&(M&1)==0){var t=M-13>>1,g=new Uint8Array(t);
Wh.kW(h,d,g,0,t);W.push(g);d+=t}else if(M>=13&&(M&1)==1){var t=M-12>>1;W.push(Wh.fh(h,d,t));d+=t}else throw"unknonw type "+M}return W},Eo:function(h){if(!(h[18]==1&&h[19]==1&&h[20]==0&&h[21]==64&&h[22]==32&&h[23]==32))throw"unexpected SQL3 header";
var R={Tp:Wh.UK(h,0,15),bW:Wh.BP(h,16),zbq:Wh.U(h,24),size:Wh.U(h,28),zbF:Wh.U(h,32),zbd:Wh.U(h,36),zbE:Wh.U(h,40),zbe:Wh.U(h,44),zbi:Wh.U(h,48),zbj:Wh.U(h,52),zeO:Wh.U(h,56),zbN:Wh.U(h,60),zbS:Wh.U(h,64)!=0,zbw:Wh.U(h,68),zbD:Wh.U(h,92),zbp:Wh.U(h,96)};
if(R.bW==1)R.bW=65536;if(R.zeO!=1)throw"unsupported text encoding "+R.zeO;return R},zQe:function(h,R){return h[R]<<16|h[R+1]<<8|h[R+2]},zQi:function(h,R){var d=Wh.zQe(h,R),L=d&8388608;
return L?-(16777215-d+1):d},zQP:function(h,R){Wh.Gl[0]=h[R];return Wh.zQr[0]},Uw:function(h,R){var d=Wh.Gl;
for(var L=0;L<4;L++)d[L]=h[R+3-L];return Wh.zQo[0]},rR:function(h,R){var d=Wh.Gl;d[0]=h[R+1];d[1]=h[R];
return Wh.zQs[0]},BP:function(h,R){return h[R]<<8|h[R+1]},U:function(h,R){return h[R]<<24|h[R+1]<<16|h[R+2]<<8|h[R+3]},zQp:function(h,R){var d=Wh.Gl;
for(var L=0;L<8;L++)d[L]=h[R+7-L];return Wh.zKb[0]},xA:function(h,R){var d=R,L=0;while(!0){var $=h[R];
R++;L=L*128+($&127);if($<128)break}return{gE:L,_E:R-d}},UK:function(h,R,d){var L="";for(var $=0;$<d;
$++)L+=String.fromCharCode(h[R+$]);return L},fh:function(h,R,d){var L="";for(var $=0;$<d;$++)L+="%"+Wh.zQC(h[R+$].toString(16));
return decodeURIComponent(L)},kW:function(h,R,d,L,$){if(h[R+$-1]==null||d[L+$-1]==null){console.log(R,L,$);
throw"e"}for(var W=0;W<$;W++)d[L+W]=h[R+W]},zQC:function(h){return h.length<2?"0"+h:h}};Wh.Gl=new Uint8Array(8);
Wh.zQr=new Int8Array(Wh.Gl.buffer);Wh.zQs=new Int16Array(Wh.Gl.buffer);Wh.zQo=new Int32Array(Wh.Gl.buffer);
Wh.zKb=new Float64Array(Wh.Gl.buffer);function WF(h,R,d){this.pe=h;this.KC=R;this.zQw=d;this.bh=new kY(0,0);
this.KU=-1;this.ZF=0;this.vS=0;this.Sw=new A;this.SD=[];this.T_=null;this.zjF=null;this.TQ=null;this.Jv=null;
this.vR=null;this.zjS=null}WF.prototype.StartPage=function(h,R,d,L){var $=this.KC,W=$.NU(),M=1;while((d-h)*(L-R)*W*W/(M*M)>8e3*8e3)M++;
$.scale(1/M,1/M);this.zjF=[h,R,d,L];var M=$.NU();h=Math.round(h*M);R=Math.round(R*M);d=Math.round(d*M);
L=Math.round(L*M);var x=this.pe,t=this.TQ;if(t==null){$.RZ=-h}else{var g=t[2]-t[0]+30,r=Math.round(d-h)+30;
if(this.bh.x+g+r>8192){$.RZ=-h;this.bh.x=0;this.bh.y+=this.vS+120;this.vS=0}else{$.RZ+=g;this.bh.x+=g}}$.fA=this.bh.y+(this.zQw?L:-R);
this.vS=Math.max(this.vS,Math.round(L-R));this.TQ=[h,R,d,L];x._.push(x.Hb())};WF.prototype.LS=function(){var h=this.pe,R=h._[h._.length-1];
return R};WF.prototype.Lw=function(){var h=JSON.parse(JSON.stringify(uz.ri.default));h.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
h.strokeEnabled.v=!1;h.fillEnabled.v=!1;return h};WF.prototype.Hu=function(){var h=this.pe,R=h.mS();
R.AI("Path "+h._.length);this.pe._.push(R);R.CN|=16;R.add.SoCo={classID:"null",Clr:{t:"Objc",v:z.i.ZR({H:0,N:0,W:0})}};
R.add.vmsk=new S.EF;R.add.vstk=this.Lw();return R};WF.prototype.jM=function(h){var R={B:h.crds,D:h.cmds},d=z.G.yp(R,!1);
z.t._B(d,this.KC);return d};WF.HC=function(h,R){for(var d=0;d<h.length;d++)if(h[d].uH!=null)h[d].uH=R};
WF.zKd=function(h){return Math.sqrt(Math.abs(h[0]*h[3]-h[1]*h[2]))};WF.AJ=function(h){return z.i.ZR({H:h[0]*255,N:h[1]*255,W:h[2]*255})};
WF.xO=function(h){return new um(h[0],h[1],h[2],h[3],h[4],h[5])};WF.prototype.Stroke=function(h){if(this.KU!=-1&&this.KU!=this.ZF)return;
if(h.pth.cmds.length<=1)return;var R=this.jM(h.pth);if(R.length<=2)return;this.xI(h);WF.HC(R,-1);R[2].uH=1;
var d=WF.AJ(h.COLR),L=this.LS(),$=this.Lw();$.strokeEnabled.v=!0;$.strokeStyleMiterLimit.v=h.mlimit;
$.strokeStyleLineDashSet.v=uS.so(h.dash,1/h.lwidth);$.strokeStyleLineDashOffset.v.val=h.doff;$.strokeStyleLineJoinType.v.strokeStyleLineJoinType=uz.ri.join[h.ljoin];
$.strokeStyleLineCapType.v.strokeStyleLineCapType=uz.ri.OK[h.lcap];$.strokeStyleLineWidth.v.val=Math.max(.4,h.lwidth*WF.zKd(h.ctm)*this.KC.NU());
$.strokeStyleContent.v.Clr.v=d;var W=L!=null&&L.add.vmsk!=null&&!L.If(),M=W&&!L.add.vstk.strokeEnabled.v&&S.EF.zem(L.add.vmsk.r,R,!0),x=W&&!L.add.vstk.fillEnabled.v&&JSON.stringify($)==JSON.stringify(L.add.vstk);
if(x){WF.HC(R,-1);L.add.vmsk.r=L.add.vmsk.r.concat(R.slice(2))}else if(M){L.add.vstk=$;$.fillEnabled.v=!0}else{L=this.Hu();
L.add.vmsk.r=R;L.add.vstk=$}};WF.prototype.Fill=function(h,R){if(this.KU!=-1&&this.KU!=this.ZF)return;
if(h.ca==0)return;var d=h.pth.cmds;if(d.length==0)return;if(d.length==2&&JSON.stringify(d)=="[\"M\",\"L\"]")return;
var L=z.G.oY(h.cpth.crds),$=z.G.oY(h.pth.crds);if($.hc(L).dp())return;var W=h.pth;if(this.Jv==null&&UDOC.G.isBox(W,[$.x,$.y,$.x+$.k,$.y+$.$])&&$.nF(L)){W=h.cpth}else this.xI(h);
var M=this.jM(W),x=z.G.ii($);z.G.V(x.B,this.KC,x.B);$=z.G.oY(x.B);var t=WF.UG(h.colr,this.KC,$),g=this.LS(),r=g!=null&&g.add.vstk!=null&&!g.add.vstk.strokeEnabled.v&&g.add.SoCo&&t.type=="SoFi"&&JSON.stringify(g.add.SoCo.Clr.v)==JSON.stringify(t.a.v.Clr.v);
if(r){var l=!1;for(var H=0;H<M.length;H++){if(M[H].uH==0||M[H].uH==2)l=!0}if(l){var y=z.G.oY(z.t.Uc(g.add.vmsk.r)),f=z.G.oY(z.t.Uc(M));
r=y.hc(f).dp()}}if(r){var b=g.add.vmsk.r;for(var H=2;H<M.length;H++)b.push(M[H])}else{g=this.Hu();delete g.add.SoCo;
g.add.vmsk.r=S.EF.MK(M);WF.kY(h.colr,g,this.KC,$);WF.s_(h,g)}};WF.kY=function(h,R,d,L){var $=WF.UG(h,d,L),W=null,M=null;
R.add.vstk.fillEnabled.v=!0;if($.type=="SoFi"){W="SoCo";M=uz.kv}if($.type=="GrFl"){W="GdFl";M=uz.$n}if($.type=="patternFill"){W="PtFl";
M=uz.$J}if(W!=null){R.add[W]={classID:"null"};for(var x=0;x<M.length;x++){var t=M[x];R.add[W][t]=$.a.v[t]}}};
WF.prototype.xI=function(h){var R=this.pe,d=h.cpth,L=d.cmds.join(""),$=d.crds,W=L+" "+$.join(","),M=UDOC.G.isBox(d,this.zjF);
if(M&&this.Jv==null)return;if(W==this.Jv)return;this.Ue();if(!M){this.Jv=W;R._.push(R.Hb());var x=R.mS();
x.AI("Mask");x.add.lsct=W_.Th;x.Pg="pass";x.CN=24;var t=x.add.vmsk=new S.EF;t.r=this.jM(h.cpth);if(UDOC.G.isBox(d)){this.vR=z.t.wZ(t.r);
this.vR.si(3,3)}else this.vR=null;this.zjS=x}};WF.prototype.Ue=function(){var h=this.pe;if(this.Jv!=null){var R=h._.length-1,d=R,L=!1;
while(d>=0&&h._[d].add.lsct!=W_.Oz)d--;var $=this.vR;if($){var W=new A,M=R;while(M>d){W=h._[M].Ay(this.pe,!1,!0);
M--}L=$.nF(W)}if(L){this.SD.splice(d,1);h._.splice(d,1)}else{h._.push(this.zjS)}this.Jv=null}};WF.UG=function(h,R,d){var L,$;
if(h.length!=null){L="SoFi";var W=JSON.parse(uz.ny[uz.order.indexOf("SoFi")]);$={t:"Objc",v:W};$.v.Clr.v=WF.AJ(h)}else{var M=WF.zKS(h,R,d);
L="GrFl";$={t:"Objc",v:M}}return{type:L,a:$}};WF.zKS=function(h,R,d){var L=JSON.parse(uz.ny[uz.order.indexOf("GrFl")]),$=L.Grad.v;
$.Intr.v=0;var W=WF.xO(h.mat);W.concat(R);var M=new kY(0,0),x=new kY(d.k,0),t=h.crds;if(h.typ=="rad"){L.Type.v.GrdT="Rdl";
var g=.7;M.x=(1-g)*t[0]+g*t[3];M.y=(1-g)*t[1]+g*t[4];x.x=M.x;x.y=M.y;x.x+=Math.max(t[2],t[5])}else{L.Type.v.GrdT="Lnr";
M.x=t[0];M.y=t[1];x.x=t[2];x.y=t[3];M.x=x.x+.5*(M.x-x.x);M.y=x.y+.5*(M.y-x.y)}M=W.Ny(M);x=W.Ny(x);z.i.ZM(M,x,d,L);
var r=h.grad;z.i.z_(r,$);return L};WF.prototype.PutText=function(h,R,d,L){var $=R.charCodeAt(0),H=null;
if(this.KU!=-1&&this.KU!=this.ZF)return;if(R.length==0||R.length==1&&($==0||$==8203))return;this.xI(h);
var W=this.pe,M=h.font,x=WF.xO(h.ctm);x.concat(this.KC);var t=WF.xO(M.Tm);t.concat(x);var g=s.w.NU(t),r=new um(1/g,0,0,-1/g,0,0);
r.concat(t);var l=M.Tfs*g;if(M.Th!=100||M.Trise!=0){console.log(M)}var y=W._.length-1;while(y>=0&&W._[y].add.TySh==null)y--;
if(L==null&&y>=0&&W._[y].add.TySh){var f=W._[y],b=this.SD[y],K=f.add.TySh.V,Z=(K.RZ+b.Sp-r.RZ)/l,J=Math.abs(Z),u=R.indexOf(" ")==-1,C=K.r$==r.r$&&K.W==r.W&&K.DS==r.DS&&K.Cv==r.Cv,Q=C&&Math.abs(b.Sm-r.fA)<1e-5&&J<.6,i=r.fA-b.Sm;
if(Q){H=f;b.Sp=r.RZ-K.RZ;if(Z>.2&&u&&[".",",","?",":","!"].indexOf(R)==-1)R=" "+R}else if(C&&Math.abs(r.RZ-K.RZ)<1e-5&&0<i&&i<l*1.7&&b.zjU==l){H=f;
this.rC(b);b.Sm=r.fA;R="\n"+R}}if(H==null){y=W._.length;this.SD[y]={$a:[],Sp:0,Sm:r.fA,TK:"",zjU:l};
H=W.mS();W._.push(H);H.add.lnsr="rend";H.add.TySh=uM.gD(0,0);H.add.TySh.V=r}var b=this.SD[y];b.Sp+=d*l;
b.TK+=R;var j=H.add.TySh.h_,V=uM.Yk(j);if(L){uM.sw(j,1);var E=[0,0,Math.ceil(L[0]*g),Math.ceil(L[1]*g)];
uM.RY(j,E)}var N=V.length-1,n=N+R.length;uM.sq(j,N,R);if(this.T_==null)this.T_=uM.tZ(j,N,N);var a=this.T_;
a.U$.FontSize=Math.round(l);a.U$.Tracking=Math.round(M.Tc*100);a.U$.Underline=M.Tun==1;a.U$.FillColor={Type:1,Values:[1,h.colr[0],h.colr[1],h.colr[2]]};
if(M.Tal!=null)a.Rx.Justification=M.Tal;if(b.$a.length!=0){a.U$.AutoLeading=!1;a.U$.Leading=b.Sm-b.$a[b.$a.length-1].y}var I=M.Tf;
I=I.replace(/#2B/g,"+");I=I.replace(/#2C/g,"-");I=I.split("+").pop();var q={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(q[I])I=q[I];uM.xY(a,I);uM.sp(j,N,n-1,a);H.DR()};WF.prototype.rC=function(h){h.$a.push({Hl:h.Sp,BA:h.TK.slice(h.$a.length==0?0:1)+"\n",y:h.Sm,ix:h.zjU});
h.Sp=0;h.TK=""};WF.prototype.PutImage=function(h,R,d,L,$,W,M){if(this.KU!=-1&&this.KU!=this.ZF)return;
var x=this.pe,t=h.font.Tmode;if(t==7&&x._[x._.length-1].add.TySh){return}this.xI(h);var g=WF.xO(h.ctm);
g.concat(this.KC);var r=new um(1/d,0,0,-1/L,0,1);r.concat(g);g=r;R=WF.XX(R,d,L);if($)$=WF.XX($,d,L);
if($==null){if(R.length==d*L*4)R=new Uint8Array(ud.PNG.Az([[R.buffer,0]],d,L))}else{R=this.le(R,d,L,W,!1);
$=this.le($,d,L,M,!0);var l=z.h(d*L);z.nP($,l,0);z.Gn(l,R,3);R=new Uint8Array(ud.PNG.Az([[R.buffer,0]],d,L))}var H=x.Mf(R,"Bitmap",0,0),y=H.rect.clone();
y.x=y.y=0;var f=z.G.ii(y).B;z.G.V(f,g,f);H.add.SoLd.Trnf=s.w.Lt(f);H.add.SoLd.nonAffineTransform=s.w.Lt(f);
H.eb(x,!1);WF.s_(h,H);x._.push(H)};WF.s_=function(h,R){R.opacity=Math.round(255*h.ca);var d=WF.jW[h.bmode];
if(d==null)console.log("Unknown blend mode",d);else R.Pg=d};WF.jW={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
WF.XX=function(h,R,d){var L=ud.qe(h.buffer);if(L=="jpg"){try{h=new Uint8Array(ud.JPG.zuC(h.buffer))}catch(zb){h=new Uint8Array(R*d*4)}}if(L==null&&h.length!=R*d*4){var $=new Uint8Array(R*d*4),W=new Uint8Array(Math.ceil(R*d/8));
UTIF.decode._decodeG4(h,0,h.length,W,0,R,1);for(var M=0;M<R*d;M++){var x=M*4,t=(W[M>>3]>>7-(M&7)&1)*255;
$[x]=t;$[x+1]=t;$[x+2]=t;$[x+3]=255}h=$}return h};WF.prototype.le=function(h,R,d,L,$){if(h.length!=R*d*4){var W=ud.qe(h.buffer),M=ud.It(W);
if(M==null||W=="tga")M=ud.It("jpg");h=new Uint8Array(M.CA(h,L,$)[0].data)}return h};WF.prototype.ShowPage=function(){var h=this.pe;
this.ZF++;var R=this.TQ;this.Ue();var d=h.mS();h._.push(d);var L=new A(Math.round(this.bh.x),Math.round(this.bh.y),Math.round(R[2]-R[0]),Math.round(R[3]-R[1]));
this.Sw=this.Sw.DM(L);d.zV(L);d.AI("Page "+this.ZF);d.add.lsct=W_.Th;d.Pg="pass";d.CN=24};WF.prototype.Print=function(h){console.log("Print:",h)};
WF.prototype.Done=function(){var h=this.pe;if(this.ZF==1)h._[h._.length-1].add.lsct=W_.ei;h.FH(this.ZF);
for(var R=0;R<h._.length;R++){var d=h._[R],L=d.add.vmsk,$=d.add.TySh,W=this.SD[R];d.kd();d.eG(h);if($&&W.$a.length!=0){this.rC(W);
var M=$.h_,x=W.$a.length,t=W.$a[0],g=0,l=0;for(var r=0;r<x;r++)g=Math.max(g,W.$a[r].Hl);uM.sw(M,1);$.V.fA-=t.ix*.7;
uM.RY(M,[0,0,Math.ceil(g*1.1),Math.ceil(W.$a[x-1].y-t.y+t.ix*2)])}if($){var M=$.h_;uM.zpz(M);var H=uM.Yk(M).split("\n");
for(var r=0;r<H.length-1;r++){var y=H[r],f=0;for(var b=0;b<y.length;b++){var K=y.charCodeAt(b);if(1473<=K&&K<=1524)f++}if(f>y.length/2){H[r]=y.split("").reverse().join("");
var Z=M.EngineDict.ParagraphRun.RunArray[r].ParagraphSheet.Properties;Z._Direction=1;Z.Justification=uM.di(Z)}}uM._I(M,H.join("\n"))}}h.hX=!0;
h.k=this.Sw.k;h.$=this.Sw.$;h.buffer=z.h(this.Sw.s()*4)};var kX={};kX.FI=function(h,R,d,L){var $=!1,W=[h.root],M=h.root.children;
if(h.add.artd){$=!0;for(var x=0;x<M.length;x++)if(M[x].J.add.artb==null)$=!1;if($)W=M}var t=new A(0,0,h.k,h.$),g=R[0];
g=g.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();g=g.split(" ");var r=[];for(var x=0;
x<g.length;x++){var l=g[x];if(l=="-"){var H=r.pop(),y=parseInt(g[x+1]);while(H<y){r.push(H);H++}}else r.push(parseInt(l))}g=r;
for(var x=0;x<g.length;x++)if(isNaN(g[x])||g[x]<1||g[x]>W.length){g.splice(x,1);x--}var f=72/h.EY;for(var x=0;
x<W.length;x++){if(g.length!=0&&g.indexOf(x+1)==-1)continue;var b=W[x],K=$?b.J.Al():t,Z=Math.round(K.k*f),J=Math.round(K.$*f);
d.StartPage(0,0,Z,J);var u=UDOC.getState([[0,0,Z,J]]),C=new um;C.translate(-K.x,-K.y-K.$);C.scale(f,-f);
if(R[2]){var Q=h.DP();if(!t.PC(K)){Q=z.h(K.s()*4);z.bt(h.DP(),t,Q,K)}if(R[1]!=100){var i=ud.JPG.Az([[Q.buffer]],K.k,K.$,[R[1]]);
Q=new Uint8Array(i)}var j=new um;j.translate(K.x,K.y);kX.ztM(u,d,Q,K,j,C)}else kX.Vs(h,b,u,d,C,R,L);
d.ShowPage()}d.Done()};kX._w=function(h){h=z.i.IZ(h);return[h.H/255,h.N/255,h.W/255]};kX.Vs=function(h,R,d,L,$,W,M){var x=R.J,t=x.add.lsct,g=x.add.lmfx,r=x.add.vmsk,l=x.add.vstk,H=x.add.TySh;
if(!x.rl())return;var y=x.opacity/255,f=x.add.iOpa?x.add.iOpa/255:1;for(var b in WF.jW)if(WF.jW[b]==x.Pg)d.bmode=b;
d.ca=d.CA=y*f;var K=g;if(K)K=K.solidFillMulti.v[0];if(K)K=K.v;if(K&&!K.enab.v)K=null;if(x.If()){for(var Z=0;
Z<R.children.length;Z++)kX.Vs(h,R.children[Z],d,L,$,W,M)}else if(r){var J=r.r,u=z.t.wZ(J),C=z.G.yJ(J),Q=!1,i=!1,j=!1;
z.G.V(C.B,$,C.B);d.pth={cmds:C.D,crds:C.B};if(l.fillEnabled.v){var V=uS.pA(g,x.add),E=V[0],N=V[1];if(E){d.colr=kX._w(E.Clr.v)}else if(N){var n=N,a=[],I,q=n.Type.v.GrdT=="Rdl"?"rad":"lin",k=z.i.FO(n,u),F=$.Ny(k[0]),o=$.Ny(k[1]);
if(q=="rad")I=[F.x,F.y,0,F.x,F.y,kY.ZW(F,o)];else{F.qC(o.x+(F.x-o.x)*2,o.y+(F.y-o.y)*2);I=[F.x,F.y,o.x,o.y]}var G=n.Grad.v.Clrs.v;
for(var Z=0;Z<G.length;Z++){var w=G[Z].v;a.push([w.Lctn.v/4096,kX._w(w.Clr.v)])}d.colr={typ:q,mat:[1,0,0,1,0,0],grad:a,crds:I}}Q=!0}var U=uS.pQ(g);
if(!l.strokeEnabled.v&&U)l=U;if(l.strokeEnabled.v){var B=l.strokeStyleContent.v,D=l.strokeStyleLineDashSet.v,P=uz.ri.OJ.indexOf(l.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(B.Clr==null)return;var v=z.i.IZ(B.Clr.v);d.COLR=[v.H/255,v.N/255,v.W/255];d.lwidth=l.strokeStyleLineWidth.v.val*(P==2?2:1)*$.NU();
d.mlimit=l.strokeStyleMiterLimit.v;d.doff=l.strokeStyleLineDashOffset.v.val;d.ljoin=uz.ri.join.indexOf(l.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
d.lcap=uz.ri.OK.indexOf(l.strokeStyleLineCapType.v.strokeStyleLineCapType);d.dash=[];for(var Z=0;Z<D.length;
Z++)d.dash.push(D[Z].v.val*d.lwidth);if(d.dash.length==1&&d.dash[0]==0)d.dash=[];i=!0;if(P==2)j=!0}if(Q&&!j)L.Fill(d);
if(i)L.Stroke(d);if(Q&&j)L.Fill(d)}else if(H&&W[4]){var O=H.h_,uk=new zH(O,M),C=Wg.X$(uk,H),ut=z.G.de(C);
for(var v in ut){var ua=parseInt(v.slice(1),16);d.colr=K?kX._w(K.Clr.v):[(ua>>>16&255)/255,(ua>>>8&255)/255,(ua&255)/255];
var uu=ut[v];z.G.V(uu.B,$,uu.B);uu=z.G.z_$(uu);d.pth={cmds:uu.D,crds:uu.B};L.Fill(d)}}else if(H&&W[3]==!1){var O=H.h_,uW=H.V.clone(),kV=new um(1,0,0,-1,0,0);
kV.concat(uW);kV.concat($);var p=uM.Yk(O),uk=new zH(O,M);for(var Z=0;Z<uk.Rx.length;Z++){var _=uk.Rx[Z];
if(_.CX.length==1&&_.CX[0].Tz)continue;for(var uB=0;uB<_._U.length;uB++){var ub=_._U[uB],uq=_.KP.y+ub.KP.y,uF=_.CX[ub.start].start,ue=_.CX[ub.end-1].end,up=uM.zDe(O,uF,ue);
for(var ui=0;ui<up.length;ui++){var zd=uk.Xr(uF),uN=up[ui],u_=uM.tZ(O,uF,uF),za=u_.lw[u_.U$.Font].Name;
d.font.Tf=za;var v=uM.IZ(u_.U$);d.colr=K?kX._w(K.Clr.v):[v.H/255,v.N/255,v.W/255];d.font.Tfs=Math.round(u_.U$.FontSize);
var uZ=p.slice(uF,uF+uN);if(u_.U$.FontCaps==2)uZ=uZ.toUpperCase();var uj=new um;uj.translate(zd.e.x,-uq);
uj.concat(kV);d.ctm=[uj.r$,uj.W,uj.DS,uj.Cv,uj.RZ,uj.fA];L.PutText(d,uZ,0);d.ctm=[1,0,0,1,0,0];uF+=uN}}}}else if(!x.rect.dp()){var uw,tI,ug=new um;
if(x.add.SoLd){var uO=x.add.SoLd,uC=uO.Idnt.v,ux=h.st(uC,uO.Crop?uO.Crop.v:null),un="";if(ux==null)return;
var zu=ux.Im,uL=ud.qe(ux.raw.buffer);if(W[5].indexOf(uL)!=-1)uw=ux.raw;else uw=zu[0];tI=zu[1];ug=z.S.Vq(uO)}else{uw=x.buffer;
tI=x.rect;ug.translate(tI.x,tI.y)}if(K)uw=uS.zFq(uw,K,tI);kX.ztM(d,L,uw,tI,ug,$)}};kX.ztM=function(h,R,d,L,$,W){var M=new um;
M.scale(L.k,-L.$);M.translate(0,L.$);M.concat($);M.concat(W);h.ctm=[M.r$,M.W,M.DS,M.Cv,M.RZ,M.fA];R.PutImage(h,d,L.k,L.$);
h.ctm=[1,0,0,1,0,0]};var Mb={};Mb.iN=function(h){var R=new Uint8Array(h);return Mb.Vm(R,0)};Mb.Vm=function(h,R){var d=T.U,L=T.UK,$={uo:L(h,R,4),T:R+8,size:d(h,R+4)},W=$.uo=="FORM"||$.uo=="LIST"||$.uo=="CAT ";
if(W)$.Wp=L(h,R+8,4);if($.size<0||$.T+$.size>h.length)throw"e";if(W){$.sub=[];R+=12;var M=$.T+$.size;
while(R<M){var x=Mb.Vm(h,R);$.sub.push(x);R+=8+x.size+(x.size&1)}}return $};var h$={};h$.iN=function(h,R){var d=new Uint8Array(h);
return h$.Vm(d,0,R)};h$.Vm=function(h,R,d){var L=T.KB,$=T.UK,W={uo:$(h,R,4),T:R+8,size:L(h,R+4)};if(d&&d[W.size]!=null)W.size=d[W.size];
if(W.uo=="RIFF"||W.uo=="LIST"){W.Wp=$(h,R+8,4)}if(W.size<0||W.T+W.size>h.length)throw"e";if(W.uo=="RIFF"||W.uo=="LIST"&&(W.Wp!="cmpr"&&W.Wp!="stlt")){W.sub=[];
R+=12;var M=W.T+W.size;while(R<M){var x=h$.Vm(h,R,d);W.sub.push(x);R+=8+x.size+(x.size&1)}}return W};
var Mb={};Mb.iN=function(h){var R=new Uint8Array(h);return Mb.Vm(R,0)};Mb.Vm=function(h,R){var d=T.U,L=T.UK,$={uo:L(h,R,4),T:R+8,size:d(h,R+4)},W=$.uo=="FORM"||$.uo=="LIST"||$.uo=="CAT ";
if(W)$.Wp=L(h,R+8,4);if($.size<0||$.T+$.size>h.length)throw"e";if(W){$.sub=[];R+=12;var M=$.T+$.size;
while(R<M){var x=Mb.Vm(h,R);$.sub.push(x);R+=8+x.size+(x.size&1)}}return $};function uY(){}uY.iN=function(h,R){var d=new Uint8Array(h);
R.hX=!0;var L=T.UK(d,0,2);if(L=="WL"){alert("Unsupported CDR version")}else{var $=uY.jh,W=h$.iN(d.buffer),M={data:d,T:0,zZ:uY.zZX(d[11])},H=300;
M.TC=M.zZ<600?16:32;uY.jb(M,W.sub,R,0);var x=$(W,"cmpr").sub,t=x[0],g=x.slice(1),r=$(t,"mcfg").a,l=r.zQD;
H/=Wu.iI(new A(0,0,Math.round(l.x*H),Math.round(l.y*H)),8192*8192);var y=Math.round(l.x*H),f=Math.round(l.y*H);
R.k=y;R.$=f;R.buffer=z.h(R.k*R.$*4);var b=$(t,"filt").sub,K=$(t,"otlt").sub;t.TR={};for(var Z=0;Z<b.length;
Z++)t.TR[b[Z].sub[0].a.id]=b[Z].sub[0].a;t.TJ={};for(var Z=0;Z<K.length;Z++)t.TJ[K[Z].a.id]=K[Z].a;var J=new um(H,0,0,-H,l.x*H/2,l.y*H/2),u=g[1];
uY.Gf(u,t,R,J);R.FH(1);R._[R._.length-1].zV(new A(0,0,y,f))}};uY.jh=function(h,R){var d=null;for(var L=0;
L<h.sub.length;L++){var $=h.sub[L];if($.uo==R||$.Wp==R)d=$}return d};uY.Gf=function(h,R,d,L){var $=uY.jh,W=h.Wp?h.Wp:h.uo,M=$(h,"lgob"),x=$(h,"txsm"),t,g;
if(M){t=$(M,"trfl");g=$(M,"loda")}var r=t?t.sub[0].lh.clone():new um;r.concat(L);var l=d.mS();if(W=="page"||W=="layr"||W=="grp "){l.AI((W=="page"?"Page":"Group")+" "+d._.length);
l.add.lsct=W_.ei;l.Pg="pass";l.CN=24;var H=[];if(W=="page")H=$(h,"gobj").sub;if(W=="layr")H=h.sub.slice(2);
if(W=="grp ")H=h.sub.slice(4);if(H.length==0)return;d._.push(d.Hb());for(var y=H.length-1;y>=0;y--)uY.Gf(H[y],R,d,L)}else if(W=="obj "&&g.a&&g.a.path){l.AI("Object "+d._.length);
var f=R.TR[g.a.zQm],b=R.TJ[g.a.zQA],K=l.getName(),Z=f&&f.type!=0,J=Z&&f.a!=null?f.a:[0,0,0];l.CN|=16;
l.add.vstk=JSON.parse(JSON.stringify(uz.ri.default));var u=l.add.vstk;u.strokeEnabled.v=!1;l.add.vmsk=new S.EF;
if(b&&b.zQK!=1){u.strokeEnabled.v=!0;u.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
u.strokeStyleLineWidth.v.val=b.lineWidth*L.NU();var C=b.color;u.strokeStyleContent.v.Clr.v=z.i.ZR({H:C[0]*255,N:C[1]*255,W:C[2]*255})}var Q=g.a.path;
l.add.vmsk.r=z.G.yp(Q,!1);z.t._B(l.add.vmsk.r,r);WF.kY(J,l,r,z.t.wZ(l.add.vmsk.r));u.fillEnabled.v=Z;
l.kd();l.eG(d)}else if(W=="obj "&&x){var i=g.a.zQn,j=g.a.zQ$,N="";l.add.TySh=uM.gD(0,0);var V=r.NU();
l.add.TySh.V.translate(r.RZ,r.fA);var E=l.add.TySh.h_,n=x.a.zPk;for(var y=0;y<n.length;y++){var a=n[y],I=N.length;
N+=a.text+"\n";uM.sq(E,I,a.text+"\n");var q=uY.zKD(a.zQx,R),k=uM.tZ(E,I,N.length);if(q.align==3)k.Rx.Justification=1;
else k.Rx.Justification=0;var F=q.fill.a;k.U$.FillColor={Type:1,Values:[1,F[0],F[1],F[2]]};k.U$.FontSize=Math.round(q.zQR.fontSize*r.NU());
uM.sp(E,I,N.length-1,k)}if(j){uM.sw(E,0)}else{uM.sw(E,1);uM.RY(E,[0,0,Math.round(i.x*r.r$),Math.round(-i.y*r.Cv)])}l.AI(N.slice(0,10))}else{l=null}if(l)d._.push(l)};
uY.zKD=function(h,R){var d=uY.jh(R,"stlt").a,L=JSON.parse(JSON.stringify(d.Fp[h]));if(L.TH!=0){var $=d.Fp[L.TH];
for(var W in $)if(L[W]==null||L[W]==0)L[W]=$[W];delete L.TH}L.align=d.zQV[L.zKz];L.fill=R.TR[d.zKt[L.zPI]];
L.zBd=R.TJ[d.zKh[L.zPR]];L.zQR=d.zNc[L.zKB];return L};uY.zKp=function(h){var R=h.data[h.T];h.T+=1;return R};
uY.ua=function(h){var R=T.G_(h.data,h.T);h.T+=2;return R};uY.uh=function(h){var R=T.KB(h.data,h.T);h.T+=4;
return R};uY.zK_=function(h){var R=T.KB(h.data,h.T);h.T+=8;return R};uY.xQ=function(h){var R=T.$q(h.data,h.T);
h.T+=2;return R};uY.x$=function(h){var R=T.Sl(h.data,h.T);h.T+=4;return R};uY.iA=function(h){var R=T.zGL(h.data,h.T);
h.T+=8;return R};uY.Mr=function(h){if(h.T>=h.data.length)throw"e";var R=0;while(h.data[h.T+R]!=0)R++;
var d=T.UK(h.data,h.T,R);h.T+=R+1;return d};uY.zKG=function(h){if(h.zZ<600)return Math.PI*uY.xQ(h)/1800;
return Math.PI*uY.x$(h)/18e7};uY.zK$=function(h){if(h.zZ<1500)return uY.As(h);else return uY.iA(h)/254e3};
uY.As=function(h){if(h.zZ<600)return uY.xQ(h)/1e3;else return uY.x$(h)/254e3};uY.zKL=function(h){if(h.zZ<600)return CRDParser.ua(h);
else return uY.uh(h)};uY.zZP=function(h){if(h.zZ<600)return CRDParser.xQ(h);else return uY.x$(h)};uY.jb=function(h,R,d,L){var $=uY,W=$.zKp,M=$.ua,x=$.uh,t=$.zK_,g=$.xQ,r=$.x$,l=$.iA,H=$.As,y=$.zK$,f=$.zKG,b=$.zKL,K=$.zZP;
for(var Z=0;Z<R.length;Z++){var J=h.zZ,u=R[Z];h.T=u.T+(u.uo=="LIST"?4:0);if(u.uo=="vrsn"){var C=M(h);
h.zZ=C;console.log("Version",C);h.TC=C<600?16:32}else if(u.uo=="DISP"){}else if(u.uo=="LIST"&&u.Wp=="cmpr"){var Q=x(h),i=x(h),j=x(h),V=x(h),E=new Uint8Array(h.data.buffer,h.T+8+2,Q-6-8),N=pako.inflateRaw(E),q=0;
h.T+=Q;E=new Uint8Array(h.data.buffer,h.T+8+2);var n=pako.inflateRaw(E),a=[];for(var I=0;I<n.length;
I+=4)a.push(T.KB(n,I));u.sub=[];while(q<N.length){var k=h$.Vm(N,q,a);q=k.T+k.size;u.sub.push(k)}var F={data:N,T:0,zZ:J,TC:h.TC};
uY.jb(F,u.sub,d,L+1)}else if(u.uo=="LIST"&&u.Wp=="stlt"){var o=h.T,_=32;u.a={};var G=x(h);if(G==0)return;
u.a.zKt=uY.jB(h,J>=1300);u.a.zKh=uY.jB(h);u.a.zNc={};var w=x(h);for(var U=0;U<w;U++){var B=x(h);h.T+=J<1e3?12:20;
var D=M(h),P=M(h);h.T+=8;var v=H(h);h.T+=J<1e3?12:20;u.a.zNc[B]={zKq:D,zBN:P,fontSize:v}}u.a.zQV=uY.jB(h);
var O=x(h);h.T+=52*O;var uk=x(h);h.T+=152*uk;var ut=x(h);h.T+=784*ut;var ua=x(h);for(var U=0;U<ua;U++){h.T+=40;
if(J>1300)h.T+=4;if(J>=1300){if(x(h))h.T+=68;else h.T+=12}else{h.T+=20;if(J>=1e3)h.T+=8;if(x(h))h.T+=8;
h.T+=8}}var uu=x(h);u.a.zKQ={};for(var U=0;U<uu;U++){var uW=x(h),kV={};h.T+=12;kV.right=H(h);kV.zBw=H(h);
kV.left=H(h);u.a.zKQ[uW]=kV}var p=x(h);if(J>=1300)_+=4;h.T+=_*p;var uB=x(h);h.T+=28*uB;if(J>800){var ub=x(h);
h.T+=12*ub}u.a.Fp={};for(var U=0;U<G;U++){var uq=x(h),uF=x(h),ue={};ue.TH=x(h);h.T+=8;var up=x(h);if(J>=1200)up*=2;
h.T+=up;ue.zPI=x(h);ue.zPR=x(h);if(uq>1){ue.zKB=x(h);ue.zKz=x(h);ue.zBD=x(h);ue.zBp=x(h);if(J>800)ue.zB_=x(h)}if(uq>2){ue.zBG=x(h);
ue.zBm=x(h);ue.zBA=x(h);ue.zBO=x(h);ue.zBg=x(h)}u.a.Fp[uF]=ue}}else if(u.uo=="LIST")uY.jb(h,u.sub,d,L+1);
else if(u.uo=="txsm"){u.a={};if(J<600)throw"e";if(J<700)throw"e";if(J>=1600)throw"e";if(J>=1500)h.T+=37;
else h.T+=36;if(x(h)){if(J<800)h.T+=32}if(J<800)h.T+=4;u.a.zBI=x(h);u.a.zPk=[];h.T+=48;if(J>=800){if(x(h)){h.T+=32;
if(J>=1300)h.T+=8}}if(J>=1500)h.T+=12;var uq=x(h),ui=1,zd=!1;if(!uq){if(J>=800)h.T+=4;if(J>800)h.T+=2;
if(J>=1400)h.T+=2;h.T+=24;if(J<800)h.T+=8;ui=x(h)}for(var I=0;I<ui;I++){var uN=x(h),U=0;if(J>=1300&&uq)h.T++;
h.T++;var G=x(h),u_=[];for(U=0;U<G;U++){var za=W(h),uj=0;W(h);var uZ=W(h);if(J>=800)uj=W(h);var ue={};
if(uZ&1){ue.zKq=M(h);var uw=M(h);if(uw)ue.zBQ=uw}if(uZ&2)h.T+=4;if(uZ&4)ue.zBK=H(h);if(uZ&8)h.T+=4;if(uZ&16)h.T+=4;
if(uZ&32)h.T+=4;if(uZ&64){ue.zPI=x(h);if(J>=1500)h.T+=48}if(uZ&128){ue.zPR=x(h)}if(uj&8){if(J>=1300){var tI=x(h);
if(h.T+tI*2>=h.data.length){zd=!0;break}h.T+=tI*2}else h.T+=4}if(uj&32){var ug=W(h);if(ug)h.T+=52}if(za==2)if(J>=1300)h.T+=48;
u_.push(ue)}if(zd){break}var uO=x(h);if(h.T+uO*4>h.data.length)break;var uC=[];for(U=0;U<uO;U++){var ux=0;
if(J>=1200)ux=t(h)&4294967295;else ux=x(h);uC[U]=ux>>16|ux&1}var zu=uO;if(J>=1200)zu=x(h);var uL=uY.Mr(h);
u.a.zPk.push({zQx:uN,text:uL,Fp:u_})}}else if(u.uo=="font"){var un=M(h),us=M(h);h.T+=14;var Wa=uY.Mr(h);
u.a={id:un,zBZ:us,name:Wa}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(u.uo)!=-1){}else if(u.uo=="flgs")u.a=x(h);
else if(u.uo=="bbox"){var Wt=H(h),uV=H(h),zZ=H(h),uU=H(h);u.a=new A(Wt,uV,zZ-Wt,uU-uV)}else if(u.uo=="fild"){var zI=x(h),uG=0,Wq;
if(J>=1300){h.T+=4;uG=M(h);h.T+=2}var WW=M(h);if(WW==0){}else if(WW==1){h.T+=J>=1300?13:2;Wq=uY.UB(h)}else if(WW==2){h.T+=J>=1300?8:2;
var uH=W(h),Wp=0;if(J>=1300){h.T+=17;Wp=g(h)}else if(J>=600){h.T+=19;Wp=r(h)}else{h.T+=11;Wp=g(h)}var tD=f(h),zF=.5+K(h),zO=.5+K(h)-.5;
if(J>=600)h.T+=2;var Wr=b(h)&255,z_=W(h)/100;h.T++;var Wz=b(h)&65535;if(J>=1300)h.T+=3;var Me=[];for(var U=0;
U<Wz;U++){var zp=uY.UB(h);if(J>=1300){if(uG==158||J>=1600&&uG==150)h.T+=26;else h.T+=5}var MB=b(h)/100;
if(J>=1300)h.T+=3;Me.push([MB,zp])}Wq={typ:uH==1?"lin":"rad",crds:[zF-Math.cos(tD)/2,zO-Math.sin(tD)/2,zF,zO],grad:Me,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",WW);
u.a={id:zI,type:WW,a:Wq}}else if(u.uo=="outl"){var Wj=x(h);if(J>=1300){var WA=0,MA=0;while(WA!=1){h.T+=MA;
WA=x(h);MA=x(h)}}var zi=M(h),MR=M(h),uv=M(h);if(J<1300&&J>=600)h.T+=2;var zM=H(h),hZ=M(h)/100;if(J>=600)h.T+=2;
var zr=f(h);if(J>=1300)h.T+=46;else if(J>=600)h.T+=52;var Wq=uY.UB(h,Wj==270963208||Wj==276198e3,Wj);
u.a={id:Wj,zQK:zi,zBn:MR,zBC:uv,lineWidth:zM,color:Wq}}else if(u.uo=="mcfg"){if(1300<=J)h.T+=12;else if(900<=J)h.T+=4;
else if(600<=J&&J<700)h.T+=28;var tA=0,zA=0;if(J<400)throw"e";else{tA=H(h);zA=H(h)}u.a={zQD:new kY(tA,zA)}}else if(u.uo=="loda"){var o=h.T,tj=b(h),Md=b(h),MI=b(h),WD=b(h),zD=b(h),kJ=[],tK=[];
h.T=o+MI;for(var U=0;U<Md;U++)kJ[U]=b(h);h.T=o+WD;for(var U=Md-1;U>=0;U--)tK[U]=b(h);u.a={};for(var U=0;
U<Md;U++){h.T=o+kJ[U];var WK=tK[U];if(WK==10)u.a.zQA=x(h);else if(WK==20)u.a.zQm=x(h);else if(WK==200)u.a.zB$=b(h);
else if(WK==30){if(J<400)zD--;if(zD==1){var Wt=y(h),uV=y(h),WV=0,WT=0,MO=0,MS=0;if(J<1500){MS=y(h);MO=J<900?MS:y(h);
WT=J<900?MS:y(h);WV=J<900?MS:y(h)}else throw"e";u.a.path=z.G.yJ(z.t.WB.Rect(0,0,Wt,uV,WV))}else if(zD==2){var hi=H(h),ks=H(h),Wx=f(h),uc=f(h),hz=Math.abs(hi),bP=Math.abs(ks);
u.a.path=z.G.yJ(z.t.WB.Rc(0,0,hz,-bP))}else if(zD==3){u.a.path=uY.zZJ(h)}else if(zD==4){u.a.zQ$=uY.zZG(h)}else if(zD==6){u.a.zQn=uY.zZ$(h)}else if(zD==37){u.a.path=uY.GY(h)}else console.log(zD)}}}else if(u.uo=="trfd"){var o=h.T,tj=b(h),Md=b(h),MI=b(h);
h.T=o+MI;var kJ=[];for(var U=0;U<Md;U++)kJ[U]=b(h);for(var U=0;U<Md;U++){h.T=o+kJ[U];if(J>=1300)h.T+=8;
var kR=M(h);if(kR==8){var WC,WQ,Wt,bT,ht,uV;if(J>=600)h.T+=6;if(J>=500){WC=l(h);WQ=l(h);Wt=l(h)/(J<600?1e3:254e3);
bT=l(h);ht=l(h);uV=l(h)/(J<600?1e3:254e3)}else throw"e";u.lh=new um(WC,bT,WQ,ht,Wt,uV)}else console.log(kR)}}else if(!1){console.log(u);
var tR=Math.min(u.size,32);console.log(T.$b(data,u.T,tR));console.log(T.zGz(data,u.T,tR))}}};uY.jB=function(h,R){var d=uY.uh,L={},$=d(h);
for(var W=0;W<$;W++){var M=d(h);h.T+=4;var x=d(h);L[M]=x;if(R)h.T+=48}return L};uY.zZG=function(h){var R=uY,d=R.As,L=d(h),$=d(h);
return new kY(L,$)};uY.zZ$=function(h){var R=uY,d=R.As;h.T+=4;var L=d(h),$=d(h);return new kY(L,$)};
uY.GY=function(h){var R=uY,d=R.uh,L=R.ua,$=R.As;h.T+=4;var W=L(h)+L(h);h.T+=16;var M=uY.zdA(h,W);return M};
uY.zZJ=function(h){var R=uY.ua(h);h.T+=2;return uY.zdA(h,R)};uY.zdA=function(h,R){var d=uY,L=d.As,$=h.zZ<600?2:4,W=h.T,M={B:[],D:[]},x=0,t=0,g=0;
for(var r=0;r<R;r++){var x=L(h),t=L(h),l=h.data[W+R*$*2+r];if(!(l&64)&&!(l&128)){M.B.push(x,t);M.D.push("M");
g+=2}else if(l&64&&!(l&128)){M.B.push(x,t);M.D.push("L");g+=2}else if(!(l&64)&&l&128){M.B.push(x,t);
M.D.push("C");g+=6}else if(l&64&&l&128){M.B.push(x,t)}}if(g!=M.B.length)throw"e";return M};uY.zQF=function(h,R){var d=T.KB;
R+=8;var L=d(h,R);R+=4;var $=d(h,R);R+=4;R+=4*7;var W=R,M=z.h(L*$*4);R+=1024;for(var x=0;x<$;x++)for(var t=0;
t<L;t++){var g=x*L+t,r=($-x-1)*L+t,l=h[R+g]<<2,H=r<<2;M[H+0]=h[W+l+2];M[H+1]=h[W+l+1];M[H+2]=h[W+l+0];
M[H+3]=255}return{tP:M,rect:new A(0,0,L,$)}};uY.zZX=function(h){if(h==32)return 300;else if(h<49)return 0;
else if(h<58)return 100*(h-48);else if(h<65)return 0;return 100*(h-55)};uY.UB=function(h,R,d){var L=uY.ua,$=uY.uh,W=h.zZ,M=0,x=0;
if(W>=500){M=L(h);if(M==1&&W>=1300)M=25;if(M==25||M==30)throw"e";else if(M==14)throw"e";else{h.T+=6;
x=$(h)}}else throw"e";var t=[];if(M==2||M==9||M==17){var g=[x>>>0&255,x>>>8&255,x>>>16&255,x>>>24&255];
if(M==2)for(var r=0;r<4;r++)g[r]=Math.round(255*g[r]/100);for(var r=0;r<4;r++)g[r]/=255;t=UDOC.C.cmykToRgb(g)}else if(M==1||M==5){t=[x>>>0&255,x>>>8&255,x>>>16&255];
for(var r=0;r<3;r++)t[r]=t[r]/255}else console.log("Unknown color model "+M,x,x.toString(16));return t};
var Mw={};Mw.gr=function(){var h=new ArrayBuffer(4);return[new Uint8Array(h),new Uint32Array(h),new Float32Array(h)]}();
Mw.zzD=function(h,R,d,L,$){function W(k,F){for(var o=0;o<k.length;o++)if(k[o][0]==F)return k[o]}function M(){var E=0,k=0,F=0;
do{F=h[R++];E|=(F&127)<<k;k+=7}while(F&128&&k<35);return E>>>0}var x=Mw.gr,t=x[0],g=x[1],r=x[2],l="",K=1;
for(var H=0;H<$;H++)l+="    ";var y=L[0]=="mesg",f=L[2],b={},Z=y?1e9:f.length;while(K<=Z){var J=K;if(y){J=h[R++];
if(J>127){if(h[R]!=1)throw"e";R++}if(J==0)break}var u=W(f,J),C=u[2],Q=u[1]==1,i=Q?M():1,j=new Array(i);
if(C==3){if(!Q)throw"e";j=h.slice(R,R+i);R+=i}else for(var H=0;H<i;H++){var V;if((C&1)==1){if(C==1)V=h[R++]==1;
else if(C==3)V=h[R++];else if(C==5){var E=M();V=E&1?~(E>>>1):E>>>1}else if(C==7)V=M();else if(C==9){if(h[R]==0){V=0;
R++}else{t[0]=h[R];t[1]=h[R+1];t[2]=h[R+2];t[3]=h[R+3];var N=g[0];g[0]=N<<23|N>>>9;V=r[0];R+=4}}else if(C==11){var n=Mw.zZV(h,R);
V=n[0];R+=n[1]+1}else throw C}else{var a=d[C>>>1];if(a[0]=="enum"){var I=h[R++];if(I>127)throw"e";V=a[2][I]}else{var q=Mw.zzD(h,R,d,a,$+1);
V=q[0];R=q[1]}}j[H]=V}b[u[3]]=Q?j:j[0];K++}return[b,R]};Mw.zZV=function(h,R){var d=R;while(h[d]!=0)d++;
return[T.fh(h,R,d-R),d-R]};Mw.znd=function(h,R){var d=R;while(h[d]!=0)d++;for(var L=R;L<d;L++)if(h[L]>127)throw"e";
return T.UK(h,R,d-R)};Mw.zn$=function(h,R){var d=Mw.znd,L=1,$=[];while(L<h.length){var W=L,M=$.length,x=d(h,L);
L+=x.length+1;var t=h[L++];if(t==0){var g=h[L++];if(g>127)L++;var r=[];for(var l=0;l<g;l++){var H=d(h,L);
L+=H.length+1;var y=h[L++];if(y!=0)throw y;var f=h[L++];if(f!=0)throw f;var b=h[L++];if(b>127){if(h[L]!=1)throw"e";
L++}if(b!=l)throw b;r.push(H)}$.push(["enum",x,r])}else if(t==1){var g=h[L++],r=[];for(var l=0;l<g;l++){var H=d(h,L);
L+=H.length+1;var y=h[L++];if(y>127){if(h[L]!=1)throw"e";L++}var f=h[L++];if(f>127){if(h[L]!=1)throw"e";
L++}var b=h[L++];if(b>127){if(h[L]!=1)throw"e";L++}r.push([b,f,y,H])}$.push(["strc",x,r])}else if(t==2){var g=h[L++];
if(g>127)L++;var r=[];for(var l=0;l<g;l++){var H=d(h,L);L+=H.length+1;var y=h[L++];if(y>127){if(h[L]!=1)throw"e";
L++}var f=h[L++];if(f>127){if(h[L]!=1)throw"e";L++}var b=h[L++];if(b>127){if(h[L]!=1)throw"e";L++}r.push([b,f,y,H])}$.push(["mesg",x,r])}else throw t}return $};
function zV(){}zV.iN=function(h,R){var d=new Uint8Array(h),L=8,$=T.KB(d,L),k=1,F=0;L+=4;var W=[];while(L<d.length){var M=T.KB(d,L);
L+=4;var x=d.slice(L,L+M);if(d[L]==137&&d[L+1]==80){}else x=UZIP.inflateRaw(x);W.push(x);L+=M}var t=Mw.zn$(W[0]),g=Mw.zzD(W[1],0,t,t[t.length-1],0)[0],r={DE:{},Ss:{},zNV:{}},l=g.nodeChanges;
for(var H=0;H<l.length;H++){var y=l[H],f=y.guid;r.Ss[f.sessionID+","+f.localID]=y}for(var H=0;H<l.length;
H++){var y=l[H],f=y.parentIndex;if(f){var b=zV.xL(r.Ss,f.guid);if(b.children==null)b.children=[];b.children.push(y)}}var K=l[0],Z=K.children,J=new A,u=[],C=[];
for(var f=0;f<Z.length;f++){var Q=Z[f],i=Q.children;if(Q.name=="Internal Only Canvas"||i==null)continue;
var j=new A;for(var V=0;V<i.length;V++){var E=i[V],N=E.transform,n=E.size,a=new A(N.m02,N.m12,n.x,n.y);
j=j.DM(a)}var I=J.$==0?0:J.$+100,q=j.clone();q.x=0;q.y=I;J=J.DM(q);u[f]=j;C[f]=I}while(Math.max(J.k,J.$)/k>16e3)k++;
if(k!=1)console.log("Scaling down "+k+"x");R.k=Math.round(J.k/k);R.$=Math.round(J.$/k);R.buffer=z.h(R.k*R.$*4);
for(var f=0;f<Z.length;f++){var Q=Z[f],i=Q.children;if(Q.name=="Internal Only Canvas"||i==null)continue;
i.sort(zV.ztk);var o=new um(1,0,0,1,-u[f].x,C[f]-u[f].y);o.scale(1/k,1/k);for(var V=0;V<i.length;V++){var E=i[V];
zV.Gf(E,[],o,g.blobs,R,0,r);F++}}R.FH(F);R.hX=!0};zV.Gf=function(h,R,d,L,$,W,M){var x=zV,N=!1,n,a,q,k,F;
for(var t=0;t<R.length;t++){var g=R[t],r=g.guidPath.guids[0];if(x.zCt(r,h.guid)){var l={};for(var H in h)l[H]=g[H]!=null?g[H]:h[H];
h=l}}var y=h.type,f=h.children,b=h.size,K=h.effects,Z=$.mS();Z.AI(h.name);Z.nr(h.visible);Z.opacity=Math.round(h.opacity*255);
var J=x.pN(h.transform),u=J.clone();u.concat(d);var C=new A(Math.round(u.RZ),Math.round(u.fA),Math.round(b.x*u.NU()),Math.round(b.y*u.NU())),Q=h.fillPaints,i=h.inheritFillStyleID;
if(i){var l=x.xL(M.Ss,i);if(l)Q=l.fillPaints}if(Q==null)Q=[];var Q=x.ztt(Q),j=Q[0],V=h.strokePaints,i=h.inheritFillStyleIDForStroke;
if(i){var l=x.xL(M.Ss,i);if(l)V=l.fillPaints}if(V==null)V=[];var V=x.ztt(V),E="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON".split(" ").indexOf(y)!=-1;
if(E||y=="FRAME"){n=new S.EF;a=[];x.zzR(h,L,n,a);N=z.t.WK(n.r);z.t._B(n.r,u);C=z.t.wZ(n.r);if(M.DE.ER&&j){var I=S.EF.MK(M.DE.ER.r);
for(var t=2;t<I.length;t++)if(I[t].uH!=null)I[t].uH=3;n.r=n.r.concat(I.slice(2));a=a.concat(JSON.parse(JSON.stringify(M.DE.qK)))}}if(j&&j.type=="IMAGE"&&j.image.name=="")j=null;
if(j&&j.type=="IMAGE"){F=j.imageScaleMode;q=x.DP(L,j.image.dataBlob);var o=q.FK.k/q.FK.$,G=b.x/b.y;k=Math.abs(o-G)}if(y=="FRAME"){}else if(E&&N&&q&&(F=="FIT"||F=="FILL"&&k<=.05)){var w=L[j.image.dataBlob].bytes,U=$.Mf(w,Z.getName(),0,0);
U.CN=Z.CN;U.opacity=Z.opacity;Z=U;var B=new A(0,0,b.x,b.y);if(F=="FIT"){var D=q.FK.k,P=q.FK.$,v=Math.min(b.x/D,b.y/P),O=D*v,uk=P*v;
B=new A(B.x+(B.k-O)/2,B.y+(B.$-uk)/2,O,uk)}var ut=z.G.ii(B).B;z.G.V(ut,u,ut);Z.add.SoLd.Trnf=s.w.Lt(ut);
Z.add.SoLd.nonAffineTransform=s.w.Lt(ut);var ua=[],K=h.effects,uu=j.paintFilter;if(K)for(var t=0;t<K.length;
t++)if(K[t].type=="FOREGROUND_BLUR"){var uW=K[t],kV=u$.I_("GsnB",{});ua.push(kV);kV.v.enab.v=uW.visible;
kV.v.Fltr.v.Rds.v.val=uW.radius/2.4}if(uu&&uu.exposure!=0){var kV=u$.I_("brit",{});ua.push(kV);kV.v.Fltr.v.Brgh.v=Math.round(uu.exposure*160);
kV.v.Fltr.v.useLegacy.v=!0}if(ua.length!=0){Z.add.SoLd.filterFX=u$.HU();$.MJ({id:Z.add.SoLd.placed.v,rect:new A,buffer:z.h(1),v:new S.x_});
Z.add.SoLd.filterFX.v.filterFXList.v=ua}Z.eb($,!1);x.zM_(M,Z,$)}else if(E){Z.CN|=16;Z.add.vogk=a;Z.add.vmsk=n;
var p=Z.add.vstk=JSON.parse(JSON.stringify(uz.ri.default)),_=x.xR(h,j,u,C,L,$,M);if(_[0]=="None"){p.fillEnabled.v=!1;
Z.add.SoCo=_[1]}else{var uB=_[1].Opct.v.val;if(uB!=100)Z.opacity=Math.round(Z.opacity/255*(uB/100)*255);
Z.add[_[0]]=_[1]}var _=x.xR(h,V[0],u,C,L,$,M);if(_[0]!="None"){p.strokeEnabled.v=!0;p.strokeStyleLineWidth.v.val=h.strokeWeight*u.NU();
p.strokeStyleLineAlignment.v.strokeStyleLineAlignment=uz.ri.OJ[["INSIDE","CENTER","OUTSIDE"].indexOf(h.strokeAlign)];
var ub={SoCo:"SoFi",GdFl:"GrFl"}[_[0]],uq=["SoFi","GrFl","patternFill"].indexOf(ub),uF=[uz.kv,uz.$n,uz.$J][uq];
p.strokeStyleContent.v={classID:uz.ri.Wp[0]};p.strokeStyleLineDashSet.v=uS.so(h.dashPattern,1/h.strokeWeight);
var ue=p.strokeStyleContent.v={classID:uz.ri.Wp[uq]};for(var t=0;t<uF.length;t++)ue[uF[t]]=_[1][uF[t]]}if(K)for(var t=0;
t<K.length;t++){var uW=K[t];if(uW.type!="FOREGROUND_BLUR")continue;n.EI=uW.radius/2.4}Z.eG($)}else if(y=="TEXT"){var up=h.textData,ui=up.layoutSize,zd=["LEFT","RIGHT","CENTER"].indexOf(h.textAlignHorizontal);
Z.add.lnsr="rend";Z.add.TySh=uM.gD(0,0);Z.add.TySh.bz=new A(0,0,100,100);var uN=u.clone();Z.add.TySh.V=uN;
var u_=Z.add.TySh.h_,za=up.characters;if(h.textCase=="TITLE"){for(var t=0;t<za.length;t++)if(t==0||za[t-1]==" "){var uZ=za.slice(0,t),uj=za.slice(t+1);
za=uZ+za[t].toUpperCase()+uj}}za=za.replace(/\u2028/g,"\n");za=za.replace(/\u2029/g,"\n");za=za.replace(/\r/g,"\n");
uM.sq(u_,0,za);var uw=h.textAutoResize,tI=up.baselines;if(uw=="WIDTH_AND_HEIGHT"){var ug=zd==0?0:zd==1?ui.x:ui.x/2,uO=tI?tI[0].position.y:0;
uN.translate(ug*u.NU(),uO*u.NU());uM.sw(u_,0)}else if(uw=="HEIGHT"||uw=="NONE"){var uO=tI?tI[0].position.y-h.fontSize*.7:0;
uN.translate(0,uO*u.NU());uM.sw(u_,1);uM.RY(u_,[0,0,Math.round(ui.x),Math.round(1.2*ui.y)])}else throw uw;
if(za!=""){var uC=uM.tZ(u_,0,1);x.zzm(h,u,b,uC,Z);uM.sp(u_,0,za.length,uC);var ux=up.characterStyleIDs,zu=up.styleOverrideTable;
if(ux)for(var t=0;t<ux.length;t++){var uL=ux[t];if(za[t]=="\n")continue;if(uL!=0){var un;for(var us=0;
us<zu.length;us++)if(zu[us].styleID==uL)un=zu[us];var uC=uM.tZ(u_,t,t+1);x.zzm(un,u,b,uC,Z);uM.sp(u_,t,t+1,uC)}}}}else if(y=="SYMBOL"){}else if(y=="INSTANCE"){var Wa=h.symbolData,Wt=Wa.symbolOverrides,l=x.xL(M.Ss,Wa.symbolID);
if(l)f=l.children;else console.log(h.name,"symbol not found",Wa.symbolID);R=R.slice(0);for(var t=0;t<Wt.length;
t++)R.push(Wt[t])}else console.log(y);if(!1){}else if(f&&!E){f.sort(x.ztk);if(W==0&&y!="SYMBOL"&&y!="INSTANCE"){Z.zV(C);
var uV=Q?Q[0]:null;if(uV&&uV.type=="SOLID"){var zZ=uV.color;Z.add.artb.artboardBackgroundType.v=4;Z.add.artb.Clr=x.UB(zZ)}}$._.push($.Hb());
var uU=M.DE;M.DE={};for(var zI=0;zI<f.length;zI++)x.Gf(f[zI],R,u,L,$,W+1,M);M.DE=uU;Z.add.lsct=!1?W_.ei:W_.Th;
Z.Pg="pass";var uG=Z.rl();Z.CN=24;Z.nr(uG);var WW=W!=0&&Q.length!=0&&!h.frameMaskDisabled&&h.containerSupportsFillStrokeAndCorners;
if(WW&&n){Z.add.vmsk=n;Z.add.vogk=a;Z.eG($)}else x.zM_(M,Z,$);$._.push(Z)}else if(h.mask){if(n){M.DE.ER=n;
M.DE.qK=a}}else{var Wq=[];if(K)for(var uH=0;uH<K.length;uH++){var uW=K[uH],Wp=uW.color,tD=uW.type,zF=["DROP_SHADOW","INNER_SHADOW"].indexOf(tD);
if(zF!=-1){var zO=["DrSh","IrSh"][zF],Wr=JSON.parse(uz.ny[uz.order.indexOf(zO)]);Wq.push([zO,Wr]);Wr.enab.v=uW.visible;
Wr.Md.v.BlnM=zP.IQ(x.zCk(uW.blendMode));Wr.Opct.v.val=Math.round(100*Wp.a);Wr.blur.v.val=Math.round(uW.radius*u.NU());
Wr.Clr=x.UB(Wp);var ug=uW.offset.x,uO=uW.offset.y;Wr.uglg.v=!1;Wr.lagl.v.val=Math.round(180/Math.PI*Math.atan2(uO,-ug));
Wr.Dstn.v.val=Math.round(Math.sqrt(ug*ug+uO*uO)*u.NU())}}for(var t=1;t<Q.length;t++){var z_=Q[t],Wz=x.xR(h,z_,u,C,L,$,M);
if(Wz[0]=="GdFl")Wq.push(["GrFl",Wz[1]]);else if(Wz[0]=="SoCo")Wq.push(["SoFi",Wz[1]]);else if(Wz[0]=="PtFl")Wq.push(["patternFill",Wz[1]]);
else throw Wz}if(Wq.length!=0){var Me=JSON.parse(uz.default);for(var t=0;t<uz.order.length;t++)Me[uz.EN[t]]={t:"VlLs",v:[]};
for(var t=0;t<Wq.length;t++){var zp=Wq[t],zO=uz.EN[uz.order.indexOf(zp[0])];Me[zO].v.unshift({t:"Objc",v:zp[1]})}if(f==null)Z.add.lmfx=Me}$._.push(Z)}};
zV.ztk=function(h,R){var d=h.parentIndex.position,L=R.parentIndex.position;return d>L?1:-1};zV.ztt=function(h){for(var R=1;
R<h.length;R++){var d=h[R];if(d.type=="IMAGE"&&d.opacity==1){h=h.slice(R);break}}for(var R=0;R<h.length;
R++){var d=h[R];if(!d.visible||d.type=="IMAGE"&&d.image.dataBlob==null){h.splice(R,1);R--}}return h};
zV.zM_=function(h,R,d){if(h.DE.ER){R.add.vmsk=h.DE.ER.clone();R.add.vogk=JSON.parse(JSON.stringify(h.DE.qK));
R.eG(d)}};zV.zzm=function(h,R,d,L,$){var W=h.fontSize,M=h.lineHeight,x=h.fontName,t=h.textAlignHorizontal,g=h.textTracking,r=h.textCase;
if(W==null)W=L.U$.FontSize;if(x)uM.xY(L,x.postscript);if(W!=null)L.U$.FontSize=Math.round(W);if(g)L.U$.Tracking=Math.round(g*1e3);
if(r)L.U$.FontCaps=r=="UPPER"?2:0;if(M&&(M.units!="PERCENT"||M.value!=100)){var l=M.value;if(M.units=="PERCENT")l=1*W*l/100;
if(M.units=="RAW")l=1*W*l;L.U$.AutoLeading=!1;L.U$.Leading=Math.round(l)}if(t)L.Rx.Justification=["LEFT","RIGHT","CENTER"].indexOf(t);
var H=h.fillPaints;if(H){var y=zV.xR(h,H[0],R,d);if(y[0]=="SoCo"){var f=z.i.IZ(y[1].Clr.v);L.U$.FillColor={Type:1,Values:[1,f.H/255,f.N/255,f.W/255]};
$.opacity=Math.round($.opacity/255*(y[1].Opct.v.val/100)*255)}else console.log(H)}};zV.xR=function(h,R,d,L,$,W,M){var x=zV,t,g,r=h.size;
if(R){var l=R.type,H=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(l);
if(l=="SOLID"){t="SoCo";var y=R.color;g=JSON.parse(uz.ny[uz.order.indexOf("SoFi")]);g.Clr=x.UB(y)}else if(H!=-1){var f=JSON.parse(uz.ny[uz.order.indexOf("GrFl")]),b=f.Grad.v;
b.Intr.v=0;f.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][H];var K=[],Z=R.stops;for(var J=0;J<Z.length;J++){var u=Z[J],C=u.color;
K.push([u.position,[C.r,C.g,C.b],C.a])}z.i.z_(K,b);var Q=x.pN(R.transform);Q.Gv();var i=Q.clone();i.scale(r.x,r.y);
i.concat(d);var j=new kY(0,.5),V=new kY(1,.5);j=i.Ny(j);V=i.Ny(V);if(!0){j.x=V.x+.5*(j.x-V.x);j.y=V.y+.5*(j.y-V.y)}z.i.ZM(j,V,L,f);
if(H==3){var E=f.Angl.v;E.val=(E.val+180+180)%360-180;f.Rvrs.v=!f.Rvrs.v}t="GdFl";g=f}else if(l=="IMAGE"){var f=JSON.parse(uz.ny[uz.order.indexOf("patternFill")]),N=f.phase.v,n=R.image.dataBlob,a=M.zNV[n],B=1;
if(a==null){var I=x.DP($,n);a=M.zNV[n]={tP:new Uint8Array(I.data),e:I.FK};a.id=zG.jO()+"-d71c-11e5-b1ae-a548a96e5f9f";
a.name="someImage";W.OZ(a)}f.Algn.v=!0;f.Ptrn.v.Idnt.v=a.id;var q=d.RZ,k=d.fA,F=R.imageScaleMode,Q=x.pN(R.transform);
Q.Gv();var o=L.k,G=L.$,w=a.e.k,U=a.e.$;if(F=="FILL"){B=Math.max(o/w,G/U);B=Math.round(B*100)/100}else if(F=="FIT"){B=Math.min(o/w,G/U);
B=Math.round(B*100)/100}else if(F=="STRETCH"){var D=o*Q.r$,P=G*Q.Cv;B=.5*(D/w+P/U);B=Math.round(B*100)/100;
q+=(D-o)/2+Q.RZ*o;k+=(P-G)/2+Q.fA*G}else if(F=="TILE"){B=R.scale;B=Math.round(B*100)/100;q+=(D-o)/2;
k+=(P-G)/2}var v=B*w,O=B*U;q+=-(v-o)/2;k+=-(O-G)/2;f.Scl.v.val=Math.round(100*B);N.Hrzn.v=Math.round(q);
N.Vrtc.v=Math.round(k);t="PtFl";g=f}else throw l;if(g)g.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(R.opacity*100)}}}else{t="None";
g={classID:"null",Clr:{t:"Objc",v:z.i.ZR({H:0,N:0,W:0})}}}return[t,g]};zV.DP=function(h,R){var d=h[R];
if(d.rslt)return d.rslt;var L=d.bytes.buffer,$=ud.qe(L),W=ud.It($);d.rslt=W.CA(L)[0];return d.rslt};
zV.zzR=function(h,R,d,L){var $=h.type,W=h.size,M=h.cornerRadius,l;if(M==null)M=0;var x=z.qK.uv(),t=W.x,g=W.y,r=[M,M,M,M],H=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var y=0;y<4;y++)if(h[H[y]]!=null)r[y]=h[H[y]];if($=="RECTANGLE"||$=="ROUNDED_RECTANGLE"||$=="FRAME"){l=z.t.WB.Rect(0,0,t,g,r)}else if($=="ELLIPSE"){var f=h.arcData,b=f?f.startingAngle:0,K=f?f.endingAngle:2*Math.PI,Z=f?f.innerRadius:0;
if(b==0&&K>1.999*Math.PI)l=z.t.WB.Rc(0,0,t,g,0);else l=z.t.WB.zCN(t/2,g/2,g/2,b,K);if(Z!=0&&Z!=1){var J=S.EF.MK(l).slice(3);
J.reverse();for(var y=0;y<J.length;y++){var u=J[y],C=u.MW;u.MW=u.dD;u.dD=C}var Q=new um;Q.translate(-t/2,-g/2);
Q.scale(Z,Z);Q.translate(t/2,g/2);z.t._B(J,Q);l=l.concat(J);l[2].length*=2}}else if($=="LINE"){l=z.t.WB.Rect(0,0,t,g,0);
l.pop();l.pop();l[2].length=2}else if($=="REGULAR_POLYGON"){l=z.t.WB.Eh(.5,.5,.5,Math.PI/2,h.count,0);
var i=new um;i.scale(t,g);z.t._B(l,i)}else if($=="BOOLEAN_OPERATION"){l=[{type:6},{type:8,all:0}];var j=h.children,V=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(h.booleanOperation);
if(V==-1)throw h;if(j==null)j=[];for(var y=0;y<j.length;y++){var E=j[y],N=new S.EF,n=[],a=zV.zzR(E,R,N,n);
if(N.r==null)continue;z.t._B(N.r,zV.pN(E.transform));l=l.concat(N.r.slice(2));for(var I=0;I<n.length;
I++)L.push(n[I])}for(var y=3;y<l.length;y++)if(l[y].uH!=null)l[y].uH=V;x=null}else if($=="VECTOR"){var q,k;
if(!0){var F=h.vectorData;q=F.normalizedSize;k=F.vectorNetworkBlob}else{q=W;k=fg[0].commandsBlob;console.log(fg)}var o=R[k].bytes,G=new Uint32Array(o.buffer),w=new Float32Array(o.buffer),U=G[0],B=G[1],D=[];
for(var y=0;y<U;y++){var P=3+y*3,v=new kY(w[P+1],w[P+2]);D.push(v)}var O=[],uk=3+U*3;for(var y=0;y<B;
y++){var ut=uk+y*7,ua=G[ut+1],uu=G[ut+4];O.push([ua,uu,w[ut+2],w[ut+3],w[ut+5],w[ut+6]])}var uW=-1;for(var y=0;
y<B;y++){if(uW==-1){}else{var kV=-1;for(var I=y;I<B;I++)if(O[I][1]==uW)kV=I;for(var I=y;I<B;I++)if(O[I][0]==uW)kV=I;
if(kV!=-1){var p=0,C=O[kV];O[kV]=O[y];O[y]=C;if(C[0]!=uW){p=C[0];C[0]=C[1];C[1]=p;p=C[2];C[2]=C[4];C[4]=p;
p=C[3];C[3]=C[5];C[5]=p}}}uW=O[y][1]}var _=[],uB=[],ub=-1;uW=-1;for(var y=0;y<B;y++){var uq=O[y],ua=uq[0],uu=uq[1],uF=D[ua],ue=D[uu];
if(uW!=ua){uB.push("M");_.push(uF.x,uF.y);ub=ua}_.push(uF.x+uq[2],uF.y+uq[3]);_.push(ue.x+uq[4],ue.y+uq[5]);
uB.push("C");_.push(ue.x,ue.y);uW=uu;if(ub==uu){uB.push("Z");ub=uW=-1}}l=z.G.yp({B:_,D:uB},!0);if(M!=0){var r=[],up=l[2].length;
for(var y=0;y<up;y++)r.push(M);if(z.t.nZ(l))z.t.znQ(l,2,r)}var ui=new um;ui.scale(q.x==0?1:W.x/q.x,q.y==0?1:W.y/q.y);
z.t._B(l,ui)}d.r=l;if(x)L.push(x)};zV.xL=function(h,R){return h[R.sessionID+","+R.localID]};zV.zCt=function(h,R){return h.sessionID==R.sessionID&&h.localID==R.localID};
zV.zCk=function(h){var R={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn"}[h];if(R==null)throw h;return R};
zV.UB=function(h){return{t:"Objc",v:z.i.ZR({H:h.r*255,N:h.g*255,W:h.b*255})}};zV.pN=function(h){var R=[h.m00,h.m10,h.m01,h.m11,h.m02,h.m12];
for(var d=0;d<6;d++)if(Math.abs(R[d])<1e-20)R[d]=0;return new um(R[0],R[1],R[2],R[3],R[4],R[5])};var s={};
s.Cx=function(h,R,d){this.name=h;this.id=R;this.Ps=null;if(d!=null)this.$t=d};s.Cx.prototype.ns=function(h,R,d,L,$){};
s.Cx.prototype.enable=function(h,R,d,L,$,W){var M=new X(e.E.Z,!0);M.data={c:e.j.sm,_u:"default"};R.R(M)};
s.Cx.prototype.disable=function(h,R,d,L,$){};s.Cx.prototype.ztm=function(h,R,d,L,$){return!1};s.Cx.prototype.pf=function(h,R,d,L,$){};
s.Cx.prototype.xH=function(h,R,d,L,$){};s.Cx.prototype.yn=function(h,R,d,L,$){};s.Cx.prototype.WL=function(h,R,d,L,$){};
s.Cx.prototype.VK=function(h,R,d,L,$){};s.Cx.prototype.LT=function(h,R,d,L){};s.Cx.prototype.mG=function(h,R,d,L){};
s.Cx.prototype.uj=function(h,R){};s.Cx.prototype.Lu=function(h,R){};s.Cx.prototype.e$=function(h,R,d,L,$){};
s.Cx.prototype.Nk=function(h,R){};s.Cx.prototype.J$=function(h,R){return!1};s.Cx.prototype.pZ=function(h,R){return!1};
s.Cx.prototype.TZ=function(){return!1};s.Cx.prototype.xo=function(h,R){return!0};s.Cx.prototype.xc=function(){return null};
s.Cx.prototype.zqB=function(h,R,d){};s.Cx.prototype.ztG=function(){return!1};s.Cx.prototype.zzP=function(h,R,d,L){};
s.Cx.prototype.track=function(h){var R=new X(e.E.nN,!0);R.data=h;h.SX=!0;this.Ps.R(R)};s.Cx.uF=function(h,R,d,L,$){s.Cx.zhf(h,R,[uP.get([12,41]).charAt(0)+": "+z.ru.fS(d.k,L.EY,$,L.k,!0),uP.get([12,42]).charAt(0)+": "+z.ru.fS(d.$,L.EY,$,L.$,!0)],L)};
s.Cx.zhf=function(h,R,d,L){var $=14,W=130,M=d.length*17+8,x=new A(h,R-M,W,M),t=s.Cx.ztq;if(t==null)t=s.Cx.ztq=document.createElement("canvas");
t.width=W;t.height=M;var g=t.getContext("2d");g.fillStyle="rgba(0,0,1,1)";g.fillRect(0,0,W,M);g.font=$+"px monospace";
g.fillStyle="rgba(255,255,255,1)";for(var r=0;r<d.length;r++)g.fillText(d[r],6,(r+1)*17);L.d.jc=[[g.getImageData(0,0,W,M).data,x.clone()]]};
s.Cx.ztq=null;s._h="0";s.GD="1";s.zCn="2";s.zCL="3";s.zMw="5";s.zaa="6";s.zaz="7";s.Vn="8";s.zaN="9";
s.AX="10";s.jj="11";s.xV="12";s.jS="13";s.zt_="14";s.zaD="16";s.zBs="18";s.ok="19";s.zta="20";s.zM$="22";
s.xZ="23";s.Ra="24";s.zaC="25";s.OE="27";s.uP="31";s.zaU="32";s.zal="34";s.zzA="35";s.ug="36";s.un="37";
s.od="38";s.zzS="39";s.zMK="40";s.zzw="41";s.jw="42";s.Om="43";s._y="47";s.VL="51";s.Rk="52";s.Ru="54";
s.jD="55";s.RW="56";s.Rp="57";s.jp="58";s.OO="59";s.Gp="61";s.ON="100";s.R_="101";s.j_="120";s.Vl="230";
s.zQJ="231";s.HX="232";s.br="233";s.mm="234";s.nj="235";s.RR="236";s.ztJ=function(h){var R=s.zz,d=null;
for(var L in R)if(R[L][1].indexOf(h[1].classID)!=-1)d=L;return d};s.zz={};s.zz[s.xZ]=["tools/brush",["PbTl"]];
s.zz[s.Ra]=["tools/pencil",["PcTl"]];s.zz[s.uP]=["tools/eraser",["ErTl"]];s.kq=function(h,R,d){s.Cx.call(this,h,R,d);
this.uO={brush:h?Wm.db():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!0],emode:0,wconf:[40,!0,!0],algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:"front",patch:0};
this.Nt=null;this.qE=null;this.L_=null;this.vs=null;this.PP=null;this.gb=null;this.vo=null;this.wd=null;
this.BD=null;this.$R=null;this.TU=null;this.Tr=null;this.mN=null;this.zX=1;this.tX=!1;this._Q=null;this.caller=null};
s.kq.prototype=new s.Cx;s.kq.prototype.pZ=function(h,R){return h.Pv&&R.u(m.ka)};s.kq.prototype.xH=function(h,R,d,L,$){if(L.u(m.tw)){this.gb=new kY($.x,$.y);
var W=this.uO.brush.Brsh.v,M=W.Dmtr.v.val,x=W.Hrdn!=null?W.Hrdn.v.val:-1;this.vo=[M,x,!0,JSON.parse(JSON.stringify(this.uO.brush)),$];
this.MZ(d)}};s.kq.prototype.mv=function(h,R,d){var L=this.vo,$=h.F.P,W=d.x-L[4].x,M=d.y-L[4].y,x=L[0],t=L[1],g=Math.abs(W)>Math.abs(M);
if(g&&L[2]){var r=Math.round(2*W/$);x+=r;d.x-=W-.5*r*$}if(!g&&!L[2]&&t!=-1){var r=Math.round(.25*M);
t+=r;d.y-=M-4*r}x=Math.max(1,x);t=L[1]==-1?-1:Math.max(0,Math.min(100,t));var l=L[3];l.Brsh.v.Dmtr.v.val=x;
if(t!=-1)l.Brsh.v.Hrdn.v.val=t;this.vo=[x,t,g,l,d];var H=uf.pv(l,R.KL.WU,$),y=H[1];y.x=Math.round(this.gb.x-y.k/2);
y.y=Math.round(this.gb.y-y.$/2);h.d.Ti=[H];var f=h.F.Px(this.gb.x,this.gb.y);h.d.g_={vl:[],vV:[f.x-x/2,f.y,f.x+x/2,f.y]};
if(t!=-1)h.d.g_.vV.push(f.x+50/$,f.y-t/2,f.x+50/$,f.y+t/2);h.Dw=!0};s.kq.prototype.VK=function(h,R,d,L,$){if(this.id==s.zta)return;
if(this.gb){this.gb=null;this.jG(JSON.parse(JSON.stringify(this.vo[3])));h.d.Ti=[];h.d.g_=null;h.Dw=!0;
return}var W=new X(e.E.Z,!0);W.data={c:e.j.Ui,L:this.id,zKZ:"showBrushOpts",wE:new kY($.lV+4,$.ZE)};
R.R(W)};s.kq.prototype.jG=function(h){var R=new X(e.E.Z,!0);R.data={c:e.j.nY,Ns:uh.tA,sr:h};this.caller.R(R)};
s.kq._v=function(h,R,d,L){if(h==null)h="FrgC";if(R==null)R="norm";if(d==null)d=1;var $={classID:"Fl",Usng:{t:"enum",v:{FlCn:h}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(d*100)}},Md:{t:"enum",v:{BlnM:zP.IQ(R)}}};
if(h=="Clr")$.Clr={t:"Objc",v:L};if(h=="contentAware")$.contentAwareColorAdaptationFill={t:"bool",v:!0};
return{Mh:"fill",QZ:$}};s.kq.prototype.ns=function(h,R,d,L,$){this.Ps=R;var W=d.rY.length;if(W==0&&!d.wI())return;
var M=W!=0?-1-d.rY[0]:d.f[0],x=d._[M];if(h.c=="fromAction"){var t=h.Tm,g=t.QZ;if(t.Mh=="fill"){var r=(g.Opct?g.Opct.v.val:100)/100,l=g.Md?zP._d(g.Md.v.BlnM):"norm",H=g.Usng.v.FlCn,y;
if(H=="contentAware"){if(d.z==null){alert("Select an area to heal first.");return}if(!d.wI())return;
this.uC(d);var f=d.z,b=z.h(f.rect.s()*4);z.Gn(f.channel,b,3);this.or(d,"sheal",b,f.rect,f.rect);this.I(d,f.rect);
this.finish(d,f.rect)}else{if(H=="FrgC")y=$.Ch;else if(H=="BckC")y=$._W;else if(H=="Blck")y=0;else if(H=="Wht")y=16777215;
else if(H=="Gry")y=8421504;else if(H=="Clr"){var K=z.i.IZ(g.Clr.v);y=K.H<<16|K.N<<8|K.W}var Z=y>>16&255,J=y>>8&255,u=y>>0&255;
this.zWJ(d,x,d.z,Z,J,u,Math.round(255*r),l,[2,3])}}else if(t.Mh=="delete"){var C=M<0?1:x.GJ,f=d.z,E;
if(f==null)return;var Q=M<0?d.Mk[-M-1]:C<=0?null:C==1?x.rc():x.ez(d).v,i=C<=0?x.rect:Q.rect,j=C<=0?f.rect.hc(i):f.rect.clone();
if(j.dp())return;var V=j.s();if(C<=0){E=z.h(V*4);z.bt(x.buffer,x.rect,E,j)}else{E=z.h(V);Q.extend(j);
z.mF(Q.channel,Q.rect,E,j)}if(0<=M&&x.Hf(d,f)){if(C<=0){z._M(E,0);z.bt(x.De.Re,x.De.BF,E,j)}else{z.set(E,255);
z.mF(x.De.Re,x.De.BF,E,j)}}else{if(C<=0){var N=z.h(E.length>>2);z.nP(E,N,3);z.K.DC(z.uv(f.rect.s()),f.rect,N,j,f.channel,j,1);
z.Gn(N,E,3)}else{var n=z.h(f.rect.s()),Z=$._W>>16&255,J=$._W>>8&255,u=$._W>>0&255;z.set(n,Math.round(z.py(Z,J,u)));
z.K.DC(n,f.rect,E,j,f.channel,j,1)}}this.jA(d,!0,[2,2],M,C,j,E)}}if(h.c=="stroke"){var a=h.zKn,f=d.z;
if(f==null){f={rect:x.rect.clone(),channel:z.h(x.rect.s())};z.nP(x.buffer,f.channel,3)}var I=uS.sU(a),q=s.dS.zdz(f,Math.ceil(I[0]),Math.ceil(I[1])),y=z.i.IZ(a.Clr.v),Z=Math.round(y.H),J=Math.round(y.N),u=Math.round(y.W);
this.zWJ(d,x,q,Z,J,u,Math.round(255*a.Opct.v.val/100),zP._d(a.Md.v.BlnM),[14,9])}if(h.c=="fillBMP"){this.ztg(d,x,d.z,h.oW,h.js,h.zv)}if(h.c=="draw"){var k=h.Mg,F=h.zSj?uE._k.zpl(k,d):k.rect,o=this.uO.bmode;
this.uC(d);this.uO.bmode="norm";this.or(d,"draw",k.buffer,F,F.hc(new A(0,0,d.k,d.$)));this.uO.bmode=o;
this.I(d,F);this.finish(d,F,h.zv,h.zSj)}};s.kq.prototype.zWJ=function(h,R,d,L,$,W,M,x,t){var g=d==null?new A(0,0,h.k,h.$):d.rect,r=M<<24|W<<16|$<<8|L<<0,l=z.h(g.s()*4);
z._M(l,r);this.ztg(h,R,d,l,x,t)};s.kq.prototype.ztg=function(h,R,d,L,$,W){var M=h.rY.length!=0?-1-h.rY[0]:h.f[0],x=M<0?1:R.GJ,t=M<0?h.Mk[-1-M]:x<=0?null:x==1?R.rc():R.ez(h).v,g=x<=0?R.rect:t.rect,r=d==null?new A(0,0,h.k,h.$):d.rect,l=d==null?z.q$(h.k*h.$):d.channel,H=r.s(),y,f=null;
if(x<=0){y=z.h(H*4);z.bt(R.buffer,R.rect,y,r)}else{y=z.h(H);t.extend(r);z.mF(t.channel,t.rect,y,r)}if(d!=null)z.Yg(l,L);
if(x>0){f=z.h(H);z.sz(L,f)}if(0<=M&&d&&R.Hf(h,d)){var b=R.De.LC,K=z.clone(R.De.LC);if(x<=0)z.kW(L,K);
else z.kW(f,K);var Z=new zk([2,3],this);Z.data={c:"drawtemp",J:h.f[0],$u:x,zKx:b,zKT:K};h.FD(Z);this.uj(Z.data,h)}else{if(x<=0)z.K.Uu($,L,r,y,r,r,1);
else z.K.DC(f,r,y,r,l,r,1);this.jA(h,!0,W,M,x,r,y)}};s.kq.prototype.J$=function(h){if(m.H_.indexOf(h)!=-1)return!0;
return!1};s.kq.prototype.LT=function(h,R,d,L){var $=this.uO.brush,W=L.u(m.tw),M=W!=this.tX,x=s.kq.jm($,L);
if(x!=null)this.jG(x);if(!L.u(m.Is)&&L.wN()!=-1){var t=e.zzV(Math.round(this.uO.opacity*100),L.wN())/100;
this.ux({opacity:t},R)}if(this.id==s.Vn&&M&&h!=null){var g=this.uO.qsmode;if(g==2)g=h.z==null?0:1;else g=2;
this.ux({qsmode:g},R)}this.tX=W;if(M){if(h)this.zX=h.F.P;this.MZ(d,L)}};s.kq.jm=function(h,R){var d=h.Brsh.v.Dmtr.v.val,L=h.Brsh.v.Hrdn!=null?h.Brsh.v.Hrdn.v.val:-1,$=d,W=L,M=R.u(m.ka);
if(R.u(m.Hq)){if(M)L=25*Math.floor((L-1)/25);else{if(d<=10)d--;else if(d<=50)d=5*Math.floor((d-1)/5);
else if(d<=100)d=10*Math.floor((d-1)/10);else if(d<=200)d=25*Math.floor((d-1)/25);else if(d<=400)d=50*Math.floor((d-1)/50);
else d=100*Math.floor((d-1)/100)}}if(R.u(m.wS)){if(M)L=25*Math.ceil((L+1)/25);else{if(d<10)d++;else if(d<50)d=5*Math.ceil((d+1)/5);
else if(d<100)d=10*Math.ceil((d+1)/10);else if(d<200)d=25*Math.ceil((d+1)/25);else if(d<400)d=50*Math.ceil((d+1)/50);
else d=100*Math.ceil((d+1)/100)}}d=Math.max(1,d);L=Math.max(0,Math.min(100,L));if(W==-1)L=-1;if(d!=$||L!=W){var x=JSON.parse(JSON.stringify(h));
x.Brsh.v.Dmtr.v.val=d;if(W!=-1)x.Brsh.v.Hrdn.v.val=L;return x}return null};s.kq.prototype.MZ=function(h,R,d,L){if(h.KL.list.length==0)return;
var $=this.id,W;if(($==s.OE||$==s.ok||$==s.xZ||$==s.Ra)&&(R!=null&&R.u(m.tw)||this.uO.alt[0]))W="crosshair";
else{var M=this.zX,x=this.uO.brush,t;if(d&&d.f.length!=0)t=d._[d.f[0]];if(($==s.OE||$==s.ok)&&t!=null&&t.GJ<=0){var g=d.F.Px(L.x,L.y),r=this.zMZ(g),l=this.uO.sfrom,H=t.buffer,y=t.rect,Q,i;
if(l!=0){y=new A(0,0,d.k,d.$);H=d.DP(l==1&&d.f[0]!=d._.length-1?d.f[0]:null)}var f=new A(y.x+r.x,y.y+r.y,y.k,y.$),b=uf.pv(x,h.KL.WU,M),K=b[0],Z=b[1],J=Math.ceil(Z.k/M),u=new A(Math.round(g.x-J/2),Math.round(g.y-J/2),J,J),C=z.h(u.s()*4);
z.bt(H,f,C,u);if(M==1){Q=C;i=u}else if(M<1){var j=z.qG(C,u,M);Q=j.tP;i=j.rect;if(i.s()!=Z.s()){i=Z.clone();
i.x=j.rect.x;i.y=j.rect.y;Q=z.h(i.s()*4);z.bt(j.tP,j.rect,Q,i)}}else{Q=K.slice(0);i=Z;z.scale._$(C,u.k,u.$,Q,i.k,i.$,M)}var V=this.uO.opacity/255;
for(var E=0;E<Q.length;E+=4)Q[E+3]=V*(K[E+3]*Q[E+3]);W={tG:Q,e:i,hs:new kY(i.k/2,i.$/2)}}else W=uf.pl(x,h.KL.WU,M)}var N=new X(e.E.Z,!0);
N.data={c:e.j.sm,_u:W};if(this.caller)this.caller.R(N)};s.kq.prototype.enable=function(h,R,d,L){this.Nt=d;
this.caller=R;this.jG(JSON.parse(JSON.stringify(this.uO.brush)));if(h&&h.F.P!=0)this.zX=h.F.P;this.MZ(d,L)};
s.kq.prototype.Nk=function(h,R){if(R==uh.tA){this.uO.brush=h.KL.lB;this.MZ(h)}};s.kq.prototype.e$=function(h,R,d,L,$){for(var W in h)this.uO[W]=h[W];
if(this.uO.alt[0])this.MZ($,L,d)};s.kq.prototype.uC=function(h,R){var d=h.rY.length!=0?-1-h.rY[0]:h.f[0],L=h._[d],$=d<0?1:L.GJ,W=d<0?h.Mk[-d-1]:$<=0?null:$==1?L.rc():L.ez(h).v;
this.mN=h.z==null?null:{rect:h.z.rect.clone(),channel:z.clone(h.z.channel)};this.$R=W?W.channel:L.buffer;
this.BD=(W?W.rect:L.rect).clone();var M=new A(0,0,h.k,h.$),x=M.DM(this.BD);if((this.Rs()&&$<=0||x.PC(this.BD))&&R!=!0)this.$R=this.$R.slice(0);
else{if(W)W.extend(x);else L.extend(x)}this.TU=this.BD;this.Tr=this.$R;if($<=0&&(this.id==s.OE||this.id==s.ok)){var t=this.uO.sfrom;
if(t!=0){this.TU=new A(0,0,h.k,h.$);this.Tr=z.clone(h.DP(t==1&&h.f[0]!=h._.length-1?h.f[0]:null))}}};
s.kq.prototype.Rr=function(h,R,d){if(h.u(m.tw)){var L=new X(e.E.Q,!0);L.L=s.zt_;L.data={c:"pickhere",zKH:d};
R.R(L);return!0}return!1};s.kq.prototype.AG=function(h,R,d,L,$,W){if(!h.wI()){this.qE=null;return}this.uC(h);
var M=new A(0,0,h.k,h.$),x=null;if(W!=null){var t=h.rY.length!=0?-1-h.rY[0]:h.f[0],g=h._[t],r=t<0?h.Mk[-t-1]:g.GJ<=0?null:g.GJ==1?g.rc():g.ez(h).v;
x=z.h(M.s()*4);if(r)s.kq.cj(this.$R,this.BD,r.color,x,M);else z.bt(this.$R,this.BD,x,M)}var l=this.uO;
if(this.qE&&this.id==s.Vn&&l.qsmode!=0){}else{var H=R.Ch,y=R._W;if(this._Q=="erase"){var f=H;H=y;y=f}var b=this.id==s.Vn?this.BD:M;
this.qE=new uf(l.brush,R.KL.WU,R.KL.kR,{kP:$,Ts:W,zKr:l.smth*50*e.p()/h.F.P,TX:this.id==s.Ra||l.emode==1,lj:l.prsr},H,y,b,x)}if(this.id==s.Vn){this.qE.zKN(l.brush,l.qsmode==2?0:16777215)}var K=h.F.Px(L.x,L.y);
K=s.Kf.KG(h,K,R);if(d.u(m.ka)&&this.L_){this.qE.moveTo(this.L_.x,this.L_.y,L.we);this.qE.lineTo(K.x,K.y,L.we)}else this.qE.moveTo(K.x,K.y,L.we);
this.L_=K;this.vs=K.clone();this.PP=new Bo(K)};s.kq.prototype.AK=function(h,R,d){if(h.F.P!=0&&h.F.P!=this.zX){this.zX=h.F.P;
this.MZ(d)}};s.kq.prototype.gh=function(h,R,d,L){if(this.qE==null)return;var $=h._[h.f[0]],W=h.F.Px(L.x,L.y);
W=s.Kf.KG(h,W,R);var M=this.PP.XN(W,d);if(M.PC(this.L_))return 1;this.qE.lineTo(M.x,M.y,L.we);this.L_=M;
if(this.id==s.OE||this.id==s.ok){var x=this.Rv(),t=11;x=h.F.Ia(W.x-x.x,W.y-x.y);var g=t>>>1,r=new A(Math.round(x.x)-g,Math.round(x.y)-g,t,t),l=z.h(r.s()*4);
z._M(16777215);for(var H=0;H<t;H++)l[(H*t+g)*4+3]=l[(t*g+H)*4+3]=255;h.d.jc=[[l,r]];h.Dw=!0}};s.kq.prototype.mG=function(h,R,d,L){if(d.KJ!=this.id)return;
if(this.id!=s.Vn||h==null)return;if(h.z==null||h.f[0]!=this.zKs){this.zKs=h.f[0];this.ux({qsmode:0},R)}};
s.kq.prototype.I=function(h,R){if(h.rY.length!=0){h.Dw=!0;return}var d=h._[h.f[0]];if(R==null){R=this.qE.pH();
if(this.Rs()&&d.GJ<=0)R=R.hc(this.BD)}if(R.dp())return;if(d.GJ<=0){d.I(R)}if(d.GJ==1){d.rc().RT=!0;d.eG(h)}if(d.GJ==3){d.I()}h.I(h.root.DV(R,h,h.f[0]))};
s.kq.prototype.WL=function(h,R,d,L,$){if(this.qE==null)return;this.qE.finish();if(this.id!=s.zBs&&this.id!=s.ok&&this.id!=s.Vn)this.Yu(h);
if(this.id==s.OE||this.id==s.ok){h.d.jc=[];h.Dw=!0}if(this.id==s.Vn){var W=h.z;h.z=this.mN;var M=new X(e.E.Q,!0);
M.data={c:"setsel",zv:this.name,z:W};M.L=s.GD;R.R(M);if(this.uO.qsmode==0)this.ux({qsmode:1},R)}else{this.finish(h,this.qE.ZV());
this.qE=null;this.wd=null}this.dir=0};s.kq.prototype.ux=function(h,R){for(var d in h)this.uO[d]=h[d];
var L=new X(e.E.Z,!0);L.data={c:e.j.Ui,L:this.id,bb:h};R.R(L)};s.kq.prototype.Rs=function(){var h=this.id;
return h==s.Vn||h==s.uP||h==s.zzS||h==s.zMK||h==s.zzw||h==s.zM$};s.kq.prototype.finish=function(h,R,d,L){var $=h.rY.length!=0?-1-h.rY[0]:h.f[0],W=h._[$],M=$<0?1:W.GJ,x=$<0?h.Mk[-$-1]:M<=0?null:M==1?W.rc():W.ez(h).v,t=x?x.rect:W.rect,l;
if(this.Rs()||!t.PC(this.BD)){if(x==null){if(this.Rs())W.tn();else{var g=R.DM(this.BD),r=z.h(g.s()*4);
z.bt(W.buffer,W.rect,r,g);W.buffer=r;W.rect=g}}else x.tn();this.I(h,t)}if(M<=0){l=z.h(R.s()*4);z.bt(this.$R,this.BD,l,R)}else{l=z.h(R.s());
z.set(l,x.color);z.mF(this.$R,this.BD,l,R)}this.jA(h,!1,d?d:this.name,$,M,R,l,L)};s.kq.prototype.jA=function(h,R,d,L,$,W,M,x){var t=M;
if($>0){t=z.h(W.s()*4);s.kq.cj(M,W,0,t,W)}var g=new zk(d,this);g.data=[{J:L,$u:$,e:W,Ry:t}];if(x)g.data.zDR=[h.z,null];
h.FD(g);if(R)this.uj(g.data,h);else if(x)h.z=null;uE.Ri.zPB(h,g.data)};s.kq.prototype.Lu=function(h,R){this.zzI(h,R,!1)};
s.kq.prototype.uj=function(h,R){this.zzI(h,R,!0)};s.kq.prototype.zzI=function(h,R,d){if(h.c=="drawtemp"){var L=d?h.zKT:h.zKx,$=R._[h.J];
$.De.LC=L;$.IK(R,0,0,R.z);$.I()}else{uE.Ri.gF(R,h);if(h.zDR){R.z=h.zDR[d?1:0];R.td=!0}}R.I()};s.kq.prototype.Yu=function(h){this.or(h,this._Q,this.qE.kE(),this.qE.OG(),this.qE.pH());
this.I(h)};s.kq.prototype.or=function(h,R,d,L,$){var W=this.uO,M=h._[h.f[0]],x=h.rY.length!=0?h.Mk[h.rY[0]]:M.GJ<=0?null:M.GJ==1?M.rc():M.ez(h).v,t=z.h($.s()*4);
if(x==null){z.bt(this.$R,this.BD,t,$)}else{s.kq.cj(this.$R,this.BD,x.color,t,$)}if(h.z&&R!="qselect"){var g=$.hc(h.z.rect),r=z.h(g.s()*4);
if(R=="copy"){var l=z.h(g.s());z.mF(h.z.channel,h.z.rect,l,g);z.bt(t,$,r,g);z.K.jU(d,L,r,g,l,g,0,g,1,!1)}else{z.bt(d,L,r,g);
z.eo(h.z.channel,h.z.rect,r,g)}d=r;L=g}if(R=="idraw"||R=="ierase"){if(this.wd==null)this.wd=z.h(this.BD.s());
var H=this.uO.samp,y=this.Nt._W,f=H==0?this.L_:this.vs,b=f.x,K=f.y,Z=s.el.JB(this.$R,this.BD,[f,new kY(b-2,K),new kY(b+2,K),new kY(b,K-2),new kY(b,K+2)]);
if(H==2)Z=[[y>>>16&255,y>>>8&255,y>>>0&255,255]];var J=s.el.zAb(t,$,this.L_,Z,this.uO.wconf),u=z.h($.s());
z.mF(this.wd,this.BD,u,$);z.QT.DM(J,u,u);z.mF(u,$,this.wd,this.BD);z.eo(u,$,d,L);R=R.slice(1)}if(R=="erase"&&(uE.Ri.zGP(h)!=16777215||x))R="draw";
if(R=="draw")z.K.Uu(W.bmode,d,L,t,$,$,W.opacity);else if(R=="erase"){var C=z.h($.s()*4);z.bt(d,L,C,$);
if(x==null){var Q=z.h($.s());z.nP(C,Q,3);z.QP(Q,W.opacity);z.Gv(Q);z.eo(Q,$,t,$)}else{z._M(C,0,4278190080);
z.K.Uu("norm",C,$,t,$,$,W.opacity)}}else if(R=="clone"||R=="heal"){var i=this.Rv(),j=this.TU.clone();
j.offset(i.x,i.y);var V=$.clone();V.si(1,1);var E=z.h(V.s()*4),N=z.h(V.s());z.bt(d,L,E,V);z.nP(E,N,3);
z._M(E,0);if(x==null){z.bt(this.Tr,j,E,V);var n=z.h(V.s());z.nP(E,n,3);z.QN(n,N)}else s.kq.cj(this.$R,j,x.color,E,V);
if(R=="clone"){z.Gn(N,E,3);z.K.Uu(W.bmode,E,V,t,$,$,W.opacity)}if(R=="heal"){var a=z.clone(N);z.round(a,20);
var I=z.h(V.s()*4);z.bt(this.$R,this.BD,I,V);z.K.jU(E,V,I,V,a,V,0,V,1,!1);z.Zr.zC(I,a,V);z.K.jU(I,V,t,$,N,V,0,$,1,!1)}}else if(R=="dodge"||R=="burn"){var E=z.h($.s()*4),F=1,o=0,G=0,w=0;
z.bt(d,L,E,$);var q=$.s()*4,k=s.kq.RV;if(this.tX){if(R=="dodge")R="burn";else R="dodge"}var U=W.rng;
if(R=="dodge"){o=[1-F/2,1,1+F][U];G=[1,1/(1+F),1][U];w=[F/2,0,0][U]}if(R=="burn"){o=[1/(1-F/2),1,1-F/2][U];
G=[1,1+F,1][U];w=[-(F/2)/(1-F/2),0,0][U]}for(var B=0;B<q;B+=4){var D=E[B+3];t[B+0]=k(t[B+0],o,G,w,D);
t[B+1]=k(t[B+1],o,G,w,D);t[B+2]=k(t[B+2],o,G,w,D)}}else if(R=="sponge"||R=="redeye"){var E=z.h($.s()*4),N=z.h($.s());
z.bt(d,L,E,$);z.nP(E,N,3);z.kW(t,E);var P=W.smode;if(this.tX)P=1-P;var v=u$.hx("hue2");if(R=="sponge")zg.Uk(v,0,[0,[-50,46][P],[6,5][P]]);
else zg.Uk(v,1,{ge:[265,305,25,55],Tj:[0,-90,-70]});var O=uJ.zA("hue2",v);uJ.zI(O,E,E,$);z.K.jU(E,$,t,$,N,$,0,$,1,!1)}else if(R=="copy")z.bt(d,L,t,$);
else if(R=="sheal"){var E=z.h($.s()*4),N=z.h($.s());z.bt(d,L,E,$);z.nP(E,N,3);z.WR.zC(this.$R,this.BD,N,t,$)}else if(R=="qselect"){var uk=this.BD,ut=uk.k,ua=uk.$,uu=ut*ua,uW=this.qE.kE(),Z=this.$R,kV=s.dS.LE,N=kV.IN;
N.fill(128);for(var B=0;B<uu;B++){var p=uW[B<<2],_=uW[(B<<2)+3];if(_==255&&(p==0||p==255))N[B]=p}N[0]=N[ut-1]=0;
N[(ua>>>1)*ut]=N[(ua>>>1)*ut+ut-1]=0;s.Po.JS(kV,!0);h.z={rect:uk,channel:kV.z.slice(0)};h.td=!0}if(x==null)z.bt(t,$,M.buffer,M.rect);
else s.kq.Ld(t,$,x)};s.kq.Rv=function(){return null};s.kq.RV=function(h,R,d,L,$){var W=h*(1/255),M=L+R*Math.pow(W,d),x=Math.round(M*$+W*(255-$));
return Math.max(0,Math.min(255,x))};s.kq.cj=function(h,R,d,L,$){var W=z.h($.s());z.set(W,d);z.mF(h,R,W,$);
z._M(L,4278190080);z.qS(W,L)};s.kq.Ld=function(h,R,d){var L=z.h(R.s());z.sz(h,L);z.mF(L,R,d.channel,d.rect)};
s.dS=function(h,R,d){s.Cx.call(this,h,R,d);this.uO={Zc:"front",EI:0,_G:{BA:0,x:3,y:2},Ty:[10,!0,!0]};
this.sT=new kY(-1,-1);this.pV=new kY(-1,-1);this.bq="default";this.Ps=null;this.MI=!1;this.Tf=!1;this.tX=!1;
this.Tn=0;this.$d=0;this.Tv=!1;this.ww=null;this.wp=null;this.lS=!1};s.dS.prototype=new s.Cx;s.dS.LE={key:""};
s.dS.Lj=function(h,R){var d={Mh:h,QZ:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(R)d.QZ.T=R;return d};s.dS.jg=function(h,R){return s.dS.Lj("set",{t:"Objc",v:{classID:h,Top:{t:"UntF",v:{type:"#Pxl",val:R.y}},Left:{t:"UntF",v:{type:"#Pxl",val:R.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:R.y+R.$}},Rght:{t:"UntF",v:{type:"#Pxl",val:R.x+R.k}}}})};
s.dS.uU=function(h,R){var d=[],L=[],M="set";for(var $=0;$<h.length;$+=2){d.push(h[$]);L.push(h[$+1])}var W={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:d},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:L}]}}}};
if(R)M={front:"set",union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[R];return s.dS.Lj(M,W)};
s.dS.zzU=function(h,R){var d={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:h.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:h.y}}}},L=s.dS.Lj("set",d);
L.QZ.Tlrn={t:"long",v:R[0]};L.QZ.AntA={t:"bool",v:R[1]};L.QZ.Cntg={t:"bool",v:R[2]};return L};s.dS.HY=function(h){return s.dS.Lj("set",{t:"enum",v:{Ordn:h?"Al":"None"}})};
s.dS.zzy=function(h,R,d){var L={classID:"null"};if(h!="border")L.selectionModifyEffectAtCanvasBounds={t:"bool",v:d};
var $={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[h[0]];L[$]={t:"UntF",v:{type:"#Pxl",val:R}};return{Mh:h,QZ:L}};
s.dS.zMW=function(h,R,d){var L={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},$={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Trsp","Msk"][d]}},{t:"name",v:{classID:"Lyr",val:h}}]},W=[{classID:"null",null:L,T:$},{classID:"null",null:$,T:L},{classID:"null",null:$,From:L},{classID:"null",null:$,With:L}],M=["set","add","subtract","interfaceIconFrameDimmed"];
return{Mh:M[R],QZ:W[R]}};s.dS.zSA=function(h,R){var d=new X(e.E.Z,!0);d.data={c:e.j.nY,Ns:uh.zw};if(!R.gl)h.R(d);
d.data={c:e.j.nY,Ns:uh.TT};if(!R.UU.bj)h.R(d)};s.dS.prototype.ns=function(h,R,d,L,$){s.dS.zSA(R,$);this.Ps=R;
var W=h.c,M,x,t=new A(0,0,d.k,d.$),ue=!1,up,ui;if(W=="fromAction"){var g=h.Tm,r=g.Mh,l=g.QZ,H=l?l.selectionModifyEffectAtCanvasBounds:null,y=H&&H.v;
if(r=="inverse"){if(d.z==null){alert("No selection!");return}M={channel:z.h(t.s()),rect:t};z.mF(d.z.channel,d.z.rect,M.channel,M.rect);
z.Gv(M.channel);x=[7,2]}else if(r=="expand"){var f=l.By.v.val,b=d.z.rect.clone();b.si(f,f);var K=z.h(b.s()),Z=z.h(b.s());
z.mF(d.z.channel,d.z.rect,Z,b);z.style.stroke(Z,K,b,f);M={channel:K,rect:b};x=[7,4]}else if(r=="contract"){var f=l.By.v.val,J=d.z.rect.clone();
J.si(1,1);if(!y)J=J.hc(t);var Z=z.h(J.s()),u=z.h(Z.length);z.mF(d.z.channel,d.z.rect,Z,J);z.Gv(Z);z.style.stroke(Z,u,J,f);
z.Gv(u);M={channel:u,rect:J};z.tn(M);x=[7,5]}else if(r=="border"){var f=l.Wdth.v.val;M=s.dS.zdz(d.z,f/2,f/2);
x=[7,9]}else if(r=="feather"||r=="smoothness"){var f=l.Rds.v.val;M=s.dS.zFp(d.z,f,r=="smoothness",t,y);
x=r=="feather"?[7,6]:[19,3,0]}else{var C=l.null.v;function Q(Wa){var Wt=Wa.Top.v.val,uj=Wa.Left.v.val;
return new A(uj,Wt,Wa.Rght.v.val-uj,Wa.Btom.v.val-Wt)}function i(Wa){var Wt=Wa[0].arr,uV=Wa[1].arr,zZ={B:[],D:[]};
for(var ub=0;ub<Wt.length;ub++){zZ.D.push(ub==0?"M":"L");zZ.B.push(Wt[ub],uV[ub])}zZ.D.push("Z");return zZ}var j=["set","addTo","subtractFrom","interfaceWhite"].indexOf(r),V=l.T?l.T.v:null;
if(V&&V.classID=="Elps"){M=this.ztd(s.mA.zMD(Q(V)));x=[10,4]}else if(V&&V.classID=="Rctn"){var E=Q(V);
M={channel:z.h(E.s()),rect:E.clone()};z.set(M.channel,255);x=[10,15]}else if(V&&V.classID=="ObSl"){var E=Q(V),N=s.dS.LE,n=N.rect,a=N.IN,I=n.k,q=n.$,k=E.x-n.x,F=k+E.k-1,o=Math.max(k,Math.min(F,k+F>>>1)),G=E.y-n.y,w=G+E.$-1,U=Math.max(G,Math.min(w,G+w>>>1)),B=Math.max(k,0),D=Math.min(F,I),P=Math.max(G,0),v=Math.min(w,q);
a.fill(128);if(0<=G)for(var O=B;O<D;O++)a[G*I+O]=0;if(w<q)for(var O=B;O<D;O++)a[w*I+O]=0;if(0<=k)for(var uk=P;
uk<v;uk++)a[uk*I+k]=0;if(F<I)for(var uk=P;uk<v;uk++)a[uk*I+F]=0;var ut=s.zf.zih,ua=Math.round(E.k*ut),uu=Math.round(E.$*ut);
for(var O=Math.max(0,o-ua);O<Math.min(I,o+ua);O++)a[U*I+O]=255;for(var uk=Math.max(0,U-uu);uk<Math.min(q,U+uu);
uk++)a[uk*I+o]=255;s.Po.JS(N,!0);M={channel:N.z.slice(0),rect:n.clone()};x=[10,44]}else if(V&&V.classID=="Plgn"){M=this.ztd(i(V.Pts.v.arr));
x=[10,9]}else if(V&&V.classID=="Pnt"){M=s.el.zdx(d,new kY(V.Hrzn.v.val,V.Vrtc.v.val),[l.Tlrn.v,l.AntA==null||l.AntA.v,l.Cntg==null||l.Cntg.v]);
x=[10,12]}else if(V&&V.Ordn=="None"){M=null;x=[7,1]}else if(V&&V.Ordn=="Al"){M={channel:z.h(t.s()),rect:t};
z.set(M.channel,255);x=[7,0]}else{var uW=d.f[0],uB;if(C.length==2)uW=tQ.tr(d,C[1]);else if(V.length==2)uW=tQ.tr(d,V[1]);
var kV=(V?V:C)[0].v.enum,p=["Trsp","Msk","vectorMask"].indexOf(kV);console.log(p);var _=j!=-1?j:["set","add","subtract","interfaceIconFrameDimmed"].indexOf(r);
if(V&&V[0].t=="name"){for(var ub=0;ub<d.Mk.length;ub++)if(d.Mk[ub].name==V[0].v.val)uW=ub;uB={c:"fromchannel",YT:[-5-uW,0,_]}}else if(kV=="RGB")uB={c:"fromchannel",YT:[-1,0,_]};
else uB={c:"fromlayer",YT:[uW,p,_]};this.ns(uB,R,d,L,$);return}if(l.Fthr)M=s.dS.zFp(M,l.Fthr.v.val,!1);
if(r!="set"&&d.z!=null)M=z.QT.dn(M,d.z,["","union","difference","intersection"][j])}if(r=="expand"||r=="contract")if(!y&&!t.contains(M.rect)){var uq=M.rect.hc(t),uF=z.h(uq.s());
z.mF(M.channel,M.rect,uF,uq);M.channel=uF;M.rect=uq}}if(W=="qmask"){ue=!0;var zd=d.ew(),uN=new A(0,0,d.k,d.$);
if(zd){M=zd.rect.PC(uN)&&z.QE(zd.channel,255)?null:{rect:zd.rect.clone(),channel:zd.channel.slice(0)};
up=zd}else{M=null;ui=new S.x_;ui.color=0;ui.name="Quick Mask";ui.Ar=!0;if(d.z){ui.rect=d.z.rect.clone();
ui.channel=d.z.channel.slice(0)}else{ui.rect=uN;ui.channel=z.h(ui.rect.s());z.set(ui.channel,255)}}x=[6,6,1]}if(W=="setsel"){M=h.z;
x=h.zv}if(W=="crange"){var u_=h.hm,za=h.hA;M=s.dS.ztp(d,u_,za,h.KA);x=[7,8];u_={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:u_.UM},A:{t:"doub",v:u_.r$},B:{t:"doub",v:u_.W}}};
za={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:za.UM},A:{t:"doub",v:za.r$},B:{t:"doub",v:za.W}}};this.track({Mh:"colorRange",QZ:{__name:"Color Range",classID:"ClrR",Fzns:{t:"long",v:Math.round(h.KA*200)},Mnm:u_,Mxm:za,colorModel:{t:"long",v:0}}})}if(W=="fromlayer"||W=="fromchannel"||W=="frompath"){var uZ=h.YT[0],p=h.YT[1],j=h.YT[2];
if(W=="fromlayer"){if(uZ==null)uZ=d.f[0];var uj=d._[uZ];if(p==0){var uw=uj.rect,tI=uj.buffer;if(uw.dp())return;
var ug=z.h(tI.length>>>2);z.nP(tI,ug,3);M={channel:ug,rect:uw.clone()}}else{if(uj.v==null)uj.eG(d);var uO=p==1?uj.rc():uj.v;
M=s.dS.zzY(uO,t)}this.track(s.dS.zMW(uj.getName(),j,p))}else if(W=="frompath"){var uC=d.lH(),ux=uC[1],uC=uC[0];
if(uC.length==0||ux.length==0)return;var zu=uC[ux[0]];if(uZ!=null)for(var ub=0;ub<uC.length;ub++)if(uC[ub].KW==uZ)zu=uC[ub];
var uO=zu.add.vmsk.rc(),uL=uO.OG();if(uL.s()==0)return;var ug=uO.Qt(),un=d.Qg.indexOf(-1-uZ);if(un!=-1)d.Qg.splice(un,1);
M={channel:ug,rect:uL}}else{if(uZ==null)uZ=s.dS.zqi(d);M=s.dS.zBy(d,uZ)}if(j!=0&&d.z)M=z.QT.dn(M,d.z,["","union","difference","intersection"][j]);
x=[14,11]}if(M!=null&&z.QE(M.channel,0)){M=null;x=[7,1]}if(M)z.tn(M);var us=new zk(x,this);us.data={c:"changesel",mN:d.z,Qn:M,ew:ue,zp_:up,zmM:ui};
d.FD(us);this.uj(us.data,d)};s.dS.zqi=function(h){var R=0;if(h.rY.length!=0)R=-5-h.rY[0];else if(JSON.stringify(h.F.ro)=="[1,1,1]")R=-1;
else R=-2-h.F.ro.indexOf(1);return R};s.dS.zBy=function(h,R){var d,L=new A(0,0,h.k,h.$);if(-5<R&R<0){var $=-R-1,W=h.DP(),M=z.h(L.s());
if($==0)z.sz(W,M);else z.nP(W,M,$-1);d={channel:M,rect:L.clone()}}if(R<-4){d=s.dS.zzY(h.Mk[-R-5],L)}return d};
s.dS.zzY=function(h,R){var d,L;if(h.IZ()==0){L=h.OG();if(L.s()==0)return;d=h.Qt()}else{L=R;d=z.h(L.s());
h.AY(L,d)}return{channel:d,rect:L}};s.dS.prototype.pZ=function(h){return this.Tv||h.Pv&&this.id!=s.zMw};
s.dS.prototype.RU=function(h,R,d){var L=new X(R,!0);L.data=d;h.R(L)};s.dS.prototype.ztY=function(h,R){var d=new X(e.E.Z,!0);
d.data={c:e.j.sm,_u:R};h.R(d)};s.dS.prototype.OG=function(h,R,d){R=h.z==null||this.Tn>1||this.$d>1?R:null;
var L=this.sT,$=this.pV;if(d){L.x=Math.max(0,Math.min(h.k,L.x));L.y=Math.max(0,Math.min(h.$,L.y));$.x=Math.max(0,Math.min(h.k,$.x));
$.y=Math.max(0,Math.min(h.$,$.y))}var W=s.gn.NB(L,$,R,!0,this.uO._G),M=W[0].x,x=W[0].y;return new A(M,x,W[1].x-M,W[1].y-x)};
s.dS.prototype.pf=function(h,R,d,L,$){if(this.jI())return;this.Ps=R;this.MI=!1;this.Tf=L.u(m.ka);this.tX=L.u(m.tw);
this.Tn=this.Tf?0:1;this.$d=this.tX?0:1;this.sT=h.F.Px($.x,$.y);this.sT=s.Kf.KG(h,this.sT,d);if(this.zzQ(h,this.sT)){this.Tv=!0;
this.ww=h.z.rect.clone();return}this.sn(h,d,L,$);h.F.Ya=new A};s.dS.prototype.zzQ=function(h,R){if(h.z&&this.uO.Zc=="front")return z.F$(R,h.z.channel,h.z.rect);
return!1};s.dS.prototype.yn=function(h,R,d,L,$){this.Ps=R;if(this.lS)return;var W=h.F.Px($.x,$.y);if(kY.ZW(this.sT,W)*h.F.P>5)this.MI=!0;
if(L.u(m.Ap)){if(this.wp==null)this.wp=new kY(W.x-this.sT.x,W.y-this.sT.y);this.sT.x=W.x-this.wp.x;this.sT.y=W.y-this.wp.y}else this.wp=null;
this.pV=W;if(!this.Tv)this.pV=s.Kf.KG(h,this.pV,d);if(this.zzQ(h,this.pV))this.ztY(R,"move");else this.ztY(R,this.bq);
if(this.Tv){var M=this.ww.clone();M.x+=this.pV.x-this.sT.x;M.y+=this.pV.y-this.sT.y;var x=s.Kf.OL(h,M,d);
h.z.rect.x=Math.round(this.pV.x-this.sT.x+this.ww.x+x[0]);h.z.rect.y=Math.round(this.pV.y-this.sT.y+this.ww.y+x[1]);
h.td=!0;s.Kf.Ox(h,M,x);return}this.xT(h,d,L,$);if(h.F.Ya)h.F.Ya=this.OG(h,L)};s.dS.prototype.jI=function(){return!1};
s.dS.prototype.WL=function(h,R,d,L,$){h.F.Ya=null;this.pV=h.F.Px($.x,$.y);this.pV=s.Kf.KG(h,this.pV,d);
if(this.Tv){this.Tv=!1;if(this.pV.PC(this.sT)&&this.zBX()=="front"){this.RU(R,e.E.nN,s.dS.HY());return}this.ztT(h,this.ww,h.z.rect.clone());
if(h!=null&&h.d.Nq){h.d.Nq=null;h.Dw=!0}return}this.GL(h,d,L,$);s.dS.zSA(R,d)};s.dS.prototype.ztT=function(h,R,d){var L=h.jL();
if(L!=null&&L.L==this&&L.data.c=="movesel"){}else{L=new zk([7,7],this);L.data={c:"movesel",nu:R};h.FD(L)}L.data.Hz=d;
this.uj(L.data,h)};s.dS.prototype.xH=function(h,R,d,L,$){this.lS=!0};s.dS.prototype.VK=function(h,R,d,L,$){var W=new X(e.E.Z,!0);
W.data={c:e.j.Ui,L:this.id,qM:$,pe:h,Ow:d};R.R(W);this.lS=!1};s.dS.prototype.LT=function(h,R,d,L){var $=L.u(m.ka),W=L.u(m.tw);
if(this.MI){if(this.Tn==0&&!$)this.Tn++;if(this.Tn==1&&$)this.Tn++;if(this.$d==0&&!W)this.$d++;if(this.$d==1&&W)this.$d++}if(h!=null&&h.z!=null){var M=L.AF();
if(M.x!=0||M.y!=0){var x=h.z.rect.clone();x.x+=M.x;x.y+=M.y;this.ztT(h,h.z.rect.clone(),x)}}var t=s.dS.jQ(this.uO.Zc,$,W),g=new X(e.E.Z,!0);
g.data={c:e.j.Ui,L:this.id,Zc:t};R.R(g)};s.dS.prototype.finish=function(h,R,d,L){var $=h.z,W=this.getSelection(h,R,d,L);
if(W==null)W=s.dS.HY();else{var M=this.uO.EI,x=this.zBX();if(M!=0)W.QZ.Fthr={t:"UntF",v:{type:"#Pxl",val:M}};
if(x!="front"&&x!="xor")W.Mh={union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[x]}this.RU(this.Ps,e.E.nN,W);
this.sT.qC(-1,-1);this.pV.qC(-1,-1)};s.dS.prototype.zBX=function(){return s.dS.jQ(this.uO.Zc,this.Tf,this.tX)};
s.dS.jQ=function(h,R,d){if(R)h="union";if(d)h="difference";if(R&&d)h="intersection";return h};s.dS.prototype.getSelection=function(h,R,d,L){return null};
s.dS.prototype.sn=function(h,R,d,L){};s.dS.prototype.xT=function(h,R,d,L){};s.dS.prototype.GL=function(h,R,d,L){};
s.dS.prototype.Lu=function(h,R){var d=h.c;if(d=="changesel")R.z=h.mN;if(d=="movesel")R.z.rect=h.nu;if(h.ew){if(h.zp_){R.rY=[R.Mk.length];
R.Mk.push(h.zp_)}else{R.Mk.pop();R.rY=[]}}R.td=!0};s.dS.prototype.uj=function(h,R){var d=h.c;if(d=="changesel")R.z=h.Qn;
if(d=="movesel")R.z.rect=h.Hz;if(h.ew){if(h.zmM){R.rY=[R.Mk.length];R.Mk.push(h.zmM)}else{R.Mk.pop();
R.rY=[]}}R.td=!0};s.dS.prototype.e$=function(h){this.uO=h};s.dS.prototype.ztd=function(h){var R=z.G.yl(h.B);
if(R.dp())return null;var d=e.X("canvas","");d.width=R.k;d.height=R.$;var L=d.getContext("2d");L.beginPath();
L.translate(-R.x,-R.y);Typr.U.pathToContext({cmds:h.D,crds:h.B},L);L.closePath();L.fill();var $=z.h(R.s()),W=L.getImageData(0,0,d.width,d.height);
z.nP(W.data,$,3);return{rect:R,channel:$}};s.dS.zFp=function(h,R,d,L,$){if(d)R=Math.round(R*.7);var W=Math.ceil(2.6*R),M=h.rect.clone();
M.si(W,W);if(L&&!$)M=M.hc(L);var x=z.h(M.s()),t=z.h(x.length);z.mF(h.channel,h.rect,t,M);z.blur.yj(t,x,M,R);
if(d){var g=x.length;for(var r=0;r<g;r++){var l=(x[r]-128)*R*2.5;x[r]=Math.max(0,Math.min(255,Math.round(128+l)))}}return{channel:x,rect:M}};
s.dS.zdz=function(h,R,d){var L=Math.max(1,Math.ceil(d)),$=h.rect.clone();$.si(L,L);var W=$.s(),M={channel:z.h(W),rect:$},x=z.h(W);
z.mF(h.channel,h.rect,x,M.rect);if(d!=0)z.style.stroke(x,M.channel,M.rect,d);else z.kW(x,M.channel);
var t=z.h(W);z.Gv(x);if(R!=0)z.style.stroke(x,t,M.rect,R);else z.kW(x,t);z.QT.hc(M.channel,t,M.channel);
return M};s.dS.ztp=function(h,R,d,L){var $=new A(0,0,h.k,h.$),W=h.DP();if(h.z){var M=h.z.rect.hc($),x=z.h(M.s()*4);
z.bt(W,$,x,M);$=M;W=x}var t=$.s(),g=z.h(t),r=1/L;for(var l=0;l<t;l++){var H=l<<2,y=z.Jk(W[H],W[H+1],W[H+2]),f=z.Yj(y,R,d,L,r);
g[l]=255*f}return{rect:$,channel:g}};s.LD=function(){s.kq.call(this,[10,18],s.ug,"tools/blur");this._Q="copy"};
s.LD.prototype=new s.kq;s.LD.prototype.pf=function(h,R,d,L,$){var W=L.u(m.tw)?uf.XG:uf.ug;this.AG(h,d,L,$,this.uO.strn,W);
if(this.qE==null)return;this.Yu(h)};s.LD.prototype.yn=function(h,R,d,L,$){this.AK(h,R,d);if(this.gb)this.mv(h,d,$);
if(this.qE==null)return;if(!$.Pv)return;this.gh(h,d,L,$);this.Yu(h)};s.LG=function(){s.kq.call(this,[10,0],s.xZ,"tools/brush");
this._Q="draw"};s.LG.prototype=new s.kq;s.LG.prototype.pf=function(h,R,d,L,$){if(this.Rr(L,R,$))return;
this.AG(h,d,L,$,this.uO.flow);if(this.qE==null)return;this.Yu(h)};s.LG.prototype.yn=function(h,R,d,L,$){this.AK(h,R,d);
if(this.gb)this.mv(h,d,$);if(this.qE==null)return;if(!$.Pv)return;this.gh(h,d,L,$);this.Yu(h)};s.Lg=function(){s.kq.call(this,[10,42],s.zaC,"tools/crepl");
this._Q="idraw";this.uO.bmode="hue "};s.Lg.prototype=new s.kq;s.Lg.prototype.pf=function(h,R,d,L,$){if(this.Rr(L,R,$))return;
this.AG(h,d,L,$,this.uO.flow);if(this.qE==null)return;this.Yu(h)};s.Lg.prototype.yn=function(h,R,d,L,$){this.AK(h,R,d);
if(this.gb)this.mv(h,d,$);if(this.qE==null)return;if(!$.Pv)return;this.gh(h,d,L,$);this.Yu(h)};s.LI=function(){s.kq.call(this,[10,43],s.zM$,"tools/redeye");
this.uO.smode=0;this._Q="redeye"};s.LI.prototype=new s.kq;s.LI.prototype.pf=function(h,R,d,L,$){this.AG(h,d,L,$,this.uO.flow);
if(this.qE==null)return;this.Yu(h)};s.LI.prototype.yn=function(h,R,d,L,$){this.AK(h,R,d);if(this.gb)this.mv(h,d,$);
if(this.qE==null)return;if(!$.Pv)return;this.gh(h,d,L,$);this.Yu(h)};s.LQ=function(){s.kq.call(this,[10,38],s.Ra,"tools/pencil");
this._Q="draw"};s.LQ.prototype=new s.kq;s.LQ.prototype.pf=function(h,R,d,L,$){if(this.Rr(L,R,$))return;
this.AG(h,d,L,$,this.uO.flow);if(this.qE==null)return;this.Yu(h)};s.LQ.prototype.yn=function(h,R,d,L,$){this.AK(h,R,d);
if(this.gb)this.mv(h,d,$);if(this.qE==null)return;if(!$.Pv)return;this.gh(h,d,L,$);this.Yu(h)};s.LK=function(){s.kq.call(this,[10,22],s.zMK,"tools/burn");
this._Q="burn"};s.LK.prototype=new s.kq;s.LK.prototype.pf=function(h,R,d,L,$){this.AG(h,d,L,$,this.uO.expo/Math.E);
if(this.qE==null)return;this.Yu(h)};s.LK.prototype.yn=function(h,R,d,L,$){this.AK(h,R,d);if(this.gb)this.mv(h,d,$);
if(this.qE==null)return;if(!$.Pv)return;this.gh(h,d,L,$);this.Yu(h)};s.zM=function(h,R,d){s.kq.call(this,h==""?null:h?h:[10,1],R?R:s.OE,d?d:"tools/clone");
this._Q="clone";this.bP=null;this.T=null};s.zM.prototype=new s.kq;s.zM.prototype.pf=function(h,R,d,L,$){var W=this.uO,M=W.alt[0];
if(L.u(m.tw)||L.u(m.mT)||M){this.bP=h.F.Px($.x,$.y);this.T=null;if(M)this.ux({alt:[!1]},R);this.MZ(d,L,h,$);
return}if(this.bP==null){alert(uP.get([15,7,0]));return}this.MZ(d,L);this.AG(h,d,L,$,this.uO.flow);if(this.qE==null)return;
this.T=this.zMZ(h.F.Px($.x,$.y));this.Yu(h)};s.zM.prototype.zMZ=function(h){var R=this.T;if(R==null||!this.uO.algnd)R=new kY(Math.round(h.x-this.bP.x),Math.round(h.y-this.bP.y));
return R};s.zM.prototype.yn=function(h,R,d,L,$){this.AK(h,R,d);if(this.gb)this.mv(h,d,$);if(this.qE==null){if(this.bP!=null)this.MZ(d,L,h,$);
return}if(!$.Pv||this.bP==null)return;this.gh(h,d,L,$);this.Yu(h)};s.zM.prototype.Rv=function(){return this.T};
s.zM.prototype.disable=function(h,R,d,L){this.bP=null;this.T=null};s.hu=function(h,R,d){s.Cx.call(this,h,R,d);
this.$E={ks:{BA:0,x:0,y:0}};this.A$=null;this.cursor=null;this.zmG=0;this.Vb=null;this.sT=null;this.To=null};
s.hu.prototype=new s.Cx;s.hu.prototype.TZ=function(){return this.A$!=null};s.hu.prototype.pZ=function(h){return this.A$&&this.A$.zMv()};
s.hu.prototype.pf=function(h,R,d,L,$){this.Vb=$;var W=h.F.Px($.x,$.y);W.x=Math.round(W.x);W.y=Math.round(W.y);
var M=this.$E.ks,x=M.BA!=0?M.x/M.y:null;if(this.A$)this.A$.pf(h,d,L,W,x,!1);else this.sT=s.Kf.KG(h,W,d)};
s.hu.prototype.zzO=function(h,R){var d=[h.x,h.y,h.x+h.k,h.y,h.x+h.k,h.y+h.$,h.x,h.y+h.$];return new WN(d,!0,!1,this.id==s.jj,!0,R,this.id==s.jj?2:0)};
s.hu.prototype.MZ=function(h){var R=new X(e.E.Z,!0);R.data={c:e.j.sm,_u:this.cursor};h.R(R)};s.hu.prototype.enable=function(h,R,d,L){this.cursor="crosshair";
this.MZ(R);if(h!=null&&h.z){var $=this.$E.ks={BA:0,x:0,y:0};this.RU(R,e.E.Z,{c:e.j.Ui,L:this.id,w_:!1,_G:$});
this.e$({PU:"cropby",zAF:3},R,h,L,d)}};s.hu.prototype.yn=function(h,R,d,L,$){this.Vb=$;var W=h.F.Px($.x,$.y);
if(!$.Pv){var M="crosshair";if(this.A$){var x=this.A$.gW(W,h.F.P);if(x)M=x;else M="default"}if(M!=this.cursor){this.cursor=M;
this.MZ(R)}}if(this.A$)this.A$.yn(h,d,L,W);else if(this.sT){var t=s.gn.NB(this.sT,s.Kf.KG(h,W,d),L,!0,this.$E.ks),g=t[0].x,r=t[0].y,l=this.To=new A(g,r,t[1].x-g,t[1].y-r);
h.d.Gw=z.G.ii(l);h.Dw=!0;s.Cx.uF($.x+10,$.y-10,l,h,d)}};s.hu.prototype.WL=function(h,R,d,L,$){this.Vb=$;
if(this.A$==null){if(this.sT){var W=this.To;if(W){var M=this.$E.ks;this.A$=this.zzO(W,M.BA!=0);this.A$.rv(h,d);
this.To=null;this.RU(R,e.E.Z,{c:e.j.Ui,L:this.id,w_:!0})}this.sT=null;h.d.jc=[];h.Dw=!0}return}var x=h.F.Px($.x,$.y);
this.A$.WL(h,d,L,x);this.RU(R,e.E.Z,{c:e.j.Ui,L:this.id,w_:!0});var t=this.A$.$F();if(Math.abs(t[0]-t[4])<2||Math.abs(t[1]-t[5])<2){this.disable(h,R,null,L);
return}if(Date.now()-this.zmG<200&&this.A$.hN(x)){this.jZ(h,d);this.disable(h,R,d,L);return}this.zmG=Date.now()};
s.hu.prototype.LT=function(h,R,d,L){var $=this.A$;if($==null||this.Vb&&this.Vb.Pv)return;if(L.u(m.FA)){this.jZ(h,d);
this.disable(h,R,d,L)}else if(L.u(m.$j)){this.disable(h,R,d,L)}else $.LT(h,d,L)};s.hu.jK=function(h,R){if(R==null)R=[!0,!0,!0,!0];
var d={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][h]}}},L=["Top","Left","Btom","Rght"];
for(var $=0;$<4;$++)d[L[$]]={t:"bool",v:R[$]};return{Mh:"trim",QZ:d}};s.hu.zMQ=function(h,R,d,L){var $={classID:"null"};
if(L!=null){$.Wdth={t:"UntF",v:{type:"#Pxl",val:h}};$.Hght={t:"UntF",v:{type:"#Pxl",val:R}};$.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][L]}}}if(d!=null)$.Rslt={t:"UntF",v:{type:"#Rsl",val:d}};
return{Mh:"imageSize",QZ:$}};s.hu.ztF=function(h,R,d){if(d==null)d=4;var L=Math.floor(d/3),$=d%3;return{Mh:"canvasSize",QZ:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:h}},Hght:{t:"UntF",v:{type:"#Pxl",val:R}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][$]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][L]}}}}};
s.hu.prototype.ns=function(h,R,d,L,$){var W=new A(0,0,d.k,d.$),M=[11,3],x=d.EY,t=d.k/2,g=d.$/2,r=1,U,B;
if(h.c=="fromAction"){var l=h.Tm,H=l.Mh,y=l.QZ,f=d.k/d.$,b=y.Wdth?y.Wdth.v.val:-1,K=y.Hght?y.Hght.v.val:-1,x=y.Rslt?y.Rslt.v.val:null,Z=y.Wdth?y.Wdth.v.type:y.Hght?y.Hght.v.type:-1,J=1,u;
if(H=="imageSize"){if(y.Intr){if(y.Intr.v.Intp=="Nrst")J=0;if(y.Intr.v.Intp=="bicubicSharper")J=2;if(b==-1&&K==-1){var C=x/d.EY;
b=Math.round(d.k*C);K=Math.round(d.$*C)}else if(Z=="#Prc"){if(b!=-1)b=Math.round(d.k*b/100);if(K!=-1)K=Math.round(d.$*K/100)}if(y.CnsP&&y.CnsP.v){if(b==-1)b=Math.round(K*f);
if(K==-1)K=Math.round(b/f)}}else{if(Z=="#Prc")x=Math.round(d.EY/((b!=-1?b:K)/100));else if(Z==-1)x=Math.round(x);
else throw"e";b=d.k;K=d.$}u={c:"imgsize",wm:b,wQ:K,w$:x,HW:J}}else if(H=="canvasSize"){console.log(H,y);
if(b==-1)b=d.k;if(K==-1)K=d.$;if(y.Rltv&&y.Rltv.v==!0){if(y.Wdth)b+=d.k;if(y.Hght)K+=d.$}var Q=y.Vrtc?y.Vrtc.v.VrtL:"Cntr",i=y.Hrzn?y.Hrzn.v.HrzL:"Cntr";
u={c:"canvsize",wm:b,wQ:K,IT:3*["Top","Cntr","Btom"].indexOf(Q)+["Left","Cntr","Rght"].indexOf(i)}}else if(H=="revealAll"){u={c:"revealAll"}}else if(H=="trim"){var j={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[y.trimBasedOn.v.trimBasedOn];
if(j==null)throw"e";var V=["Top","Left","Btom","Rght"],E=[!0,!0,!0,!0];for(var N=0;N<4;N++)if(y[V[N]])E[N]=y[V[N]].v;
u={c:"trim",zdr:j,_G:E}}if(u)this.ns(u,R,d,L,$);return}else if(h.c=="imgsize"){W=new A(0,0,h.wm,h.wQ);
if(h.w$)x=h.w$;r=h.HW}else if(h.c=="canvsize"){var n=h.IT!=null?h.IT:0;W=new A(0,0,h.wm,h.wQ);var a=d.k-h.wm,I=d.$-h.wQ,q=Math.round(a/2),k=Math.round(I/2);
if(n==1||n==4||n==7)W.x=q;if(n==2||n==5||n==8)W.x=a;if(n==3||n==4||n==5)W.y=k;if(n==6||n==7||n==8)W.y=I;
if(h.T){W.x=h.T.x;W.y=h.T.y}}else if(h.c=="rot"&&(h.a+2*Math.PI)%(Math.PI/2)!=0){var F=z.G.ii(W).B,o=new um;
o.translate(-t,-g);o.rotate(h.a);o.translate(t,g);z.G.V(F,o,F);W=z.G.yl(F)}else if(h.c=="rot"&&h.a!=Math.PI&&h.a!=-Math.PI){W=new A(t-d.$/2,g-d.k/2,d.$,d.k);
if((d.k+d.$&1)==1){t=Math.floor(t);g=Math.floor(g);W=new A(t-Math.floor(d.$/2),g-Math.floor(d.k/2),d.$,d.k);
if((d.k&1)==1&&h.a!=-Math.PI/2)W.y--;if((d.$&1)==1&&h.a==-Math.PI/2)W.x--}}else if(h.c=="trim"){M=[11,12,0];
var G=d.DP(),w=new A(0,0,d.k,d.$);W=z.qg(G,w,h.zdr,h._G);if(W.dp())W=w}else if(h.c=="cropbysel"){M=[11,12,1];
W=d.z.rect.clone()}else if(h.c=="revealAll"){M=[11,12,2];W=d.root.OG(d,!0)}if(h.c=="imgsize"||h.c=="rot"||h.c=="scl"){var D=new um;
if(h.c=="imgsize"){M=[11,10];D.scale(h.wm/d.k,h.wQ/d.$)}else{D.translate(-t,-g);if(h.c=="rot")D.rotate(h.a);
if(h.c=="scl")D.scale(h.a.x,h.a.y);D.translate(t,g);M=h.zv}B=z.S.iE(D);U=this.zby(d,$,B,r)}var P=new A(0,0,d.k,d.$);
if(!W.dp()&&(!W.PC(P)||U!=null)){var v=new zk(M,this);v.data={nu:P,Hz:W,zAY:d.EY,w$:x,bp:U,TY:B,wR:s.hu.ztO(d,W,P,U!=null)};
d.FD(v);this.uj(v.data,d)}};s.hu.ztO=function(h,R,d,L){if(h.tj.length==0)return null;var $=JSON.stringify(h.tj),W=JSON.parse($);
s.B$.zuT(W,R,d,L);W=JSON.stringify(W);return[$,W]};s.hu.prototype.zby=function(h,R,d,L,$){var W={_:[],TG:null,GE:null};
for(var M=0;M<h._.length;M++)W._.push(M);for(var M=0;M<h.bs.length;M++)W._.push(-1-M);W.TG=s.w.Wc(h,W._,!0);
s.w.NI(h,R,W._,W.TG,L,d,null,!0,$);W.GE=s.w.Wc(h,W._,!0);return W};s.hu.prototype.uj=function(h,R){if(h.w$)R.EY=h.w$;
if(h.wR)R.tj=JSON.parse(h.wR[1]);if(h.bp){s.hu.zGp(R,z.S.Qx(h.TY));s.w.WY(R,h.bp._,h.bp.GE)}s.hu.Wb(R,h.Hz)};
s.hu.prototype.Lu=function(h,R){if(h.zAY)R.EY=h.zAY;if(h.wR)R.tj=JSON.parse(h.wR[0]);var d=h.nu.clone();
d.offset(-h.Hz.x,-h.Hz.y);s.hu.Wb(R,d);if(h.qW)R.F.T.lQ(h.qW);R.zEn();if(h.bp){var L=z.S.Qx(h.TY).clone();
L.Gv();s.hu.zGp(R,L);s.w.WY(R,h.bp._,h.bp.TG)}};s.hu.zGp=function(h,R){for(var d=0;d<h._.length;d++){var L=h._[d];
if(L.add.artb==null)continue;var $=z.G.ii(L.Al()).B;z.G.V($,R,$);var W=z.G.yl($);L.zV(W)}};s.hu.Wb=function(h,R){h.k=R.k;
h.$=R.$;var d=[];for(var L=0;L<h._.length;L++)d.push(L);s.Kf.JW(h,d,null,-R.x,-R.y);for(var L=0;L<h._.length;
L++){h._[L].eG(h)}h.zEn();h.F.T.qC(0,0);if(h.z)h.z.rect.offset(-R.x,-R.y);for(var L=0;L<h.Mk.length;
L++)h.Mk[L].rect.offset(-R.x,-R.y)};s.hu.prototype.e$=function(h,R,d,L,$){if(h.PU=="commit"){this.jZ(d,$);
this.disable(d,R,null,L)}else if(h.PU=="cancel"){this.disable(d,R,null,L)}var W=null,M=this.$E.ks;if(h.PU=="config"){this.$E=h.$E;
M=this.$E.ks;if(d==null)return;W=new A(0,0,d.k,d.$);if(M.BA==1){var x=M.x/M.y;W.$=Math.round(W.k/x)}if(M.BA==2){W.k=M.x;
W.$=M.y}W.x=Math.round((d.k-W.k)/2);W.y=Math.round((d.$-W.$)/2)}if(h.PU=="cropby"){if(d==null)return;
var t=h.zAF,W;if(t==0)W=d.root.OG(d,!0);if(t==1){if(d.f.length==0)alert("No layer is selected.");else{var g=d.root.UZ(d.f[0]);
W=g.OG(d,!0)}}if(t==2){if(d.f.length==0)alert("No layer is selected.");else{var r=d._[d.f[0]];W=z.qg(r.buffer,r.rect,0);
if(W.dp())W=r.rect.clone()}}if(t==3){if(d.z!=null)W=d.z.rect;else alert("There is no selection.")}}if(W&&W.dp())W=null;
if(W!=null){this.A$=this.zzO(W,M.BA!=0);this.A$.rv(d,$);this.RU(R,e.E.Z,{c:e.j.Ui,L:this.id,w_:!0})}};
s.hu.prototype.jZ=function(h,R){var d=this.A$.$F(),L=z.G.yl(d),$=this.zMb(h,d),W=!1,M=this.$E.ks,x=M.x,t=M.y,l;
if(this.id==s.AX&&M.BA==2&&$.s()!=x*t){$=new A($.x,$.y,x,t);W=!0}var g=z.S.wy(d,$);g=z.S.Gv(g);var r=z.S.Kv(g),H=Math.atan2(g[3],g[0]);
if(Math.abs(H)>1e-9||!r||W)l=this.zby(h,R,g,1,L);var y=new zk(this.name,this),f=new A(0,0,h.k,h.$);y.data={nu:f,Hz:$,bp:l,TY:g,qW:h.F.T.clone(),wR:s.hu.ztO(h,$,f,!1)};
h.FD(y);this.uj(y.data,h)};s.hu.prototype.zMb=function(h,R){var d=z.S.wy(R),L=z.S.Kv(d),$=z.S.Qx(d),W=$.RZ,M=$.fA,x=Math.atan2($.W,$.r$);
$.rotate(x);var t=new A(W,M,$.r$,$.Cv);if(!L){function g(u,C,Q){var i=u[C]-u[Q],j=u[C+1]-u[Q+1];return Math.sqrt(i*i+j*j)}var r=g(R,0,2),l=g(R,4,6),H=Math.max(r,l),y=g(R,2,4),f=g(R,6,0),b=Math.max(y,f),K=s.hu.zMd(R,h.k/2,h.$/2),Z,J;
if(isNaN(K)||K==Infinity||K==-Infinity||Math.min(K,1/K)<.1)K=(r+l)/(y+f);if(H/b>K){Z=H*1;J=Z/K}else{J=b*1;
Z=J*K}t.k=Z;t.$=J}t.x=Math.round(t.x);t.y=Math.round(t.y);t.k=Math.round(t.k);t.$=Math.round(t.$);return t};
s.hu.zMd=function(h,R,d){var L=h[0]-R,$=h[1]-d,W=h[2]-R,M=h[3]-d,x=h[6]-R,t=h[7]-d,g=h[4]-R,r=h[5]-d,l=(($-r)*x-(L-g)*t+L*r-$*g)/((M-r)*x-(W-g)*t+W*r-M*g),H=(($-r)*W-(L-g)*M+L*r-$*g)/((t-r)*W-(x-g)*M+x*r-t*g),y=-((H*t-$)*(l*M-$)+(H*x-L)*(l*W-L))/((H-1)*(l-1));
function f(K){return K*K}var b=Math.sqrt((f(l-1)+f(l*M-$)/y+f(l*W-L)/y)/(f(H-1)+f(H*t-$)/y+f(H*x-L)/y));
if(l==1&&H==1)b=Math.sqrt((f(M-$)+f(W-L))/(f(t-$)+f(x-L)));return b};s.hu.prototype.disable=function(h,R,d,L){if(h==null)return;
if(this.A$)this.A$.clear(h);this.A$=null;this.RU(R,e.E.Z,{c:e.j.Ui,L:this.id,w_:!1})};s.hu.prototype.RU=function(h,R,d,L){var $=new X(R,!0);
$.data=d;if(L)$.L=L;h.R($)};s.zmp=function(){s.hu.call(this,[10,2],s.AX,"tools/rcrop")};s.zmp.prototype=new s.hu;
s.zzp=function(){s.hu.call(this,[10,39],s.jj,"tools/pcrop")};s.zzp.prototype=new s.hu;s.LZ=function(){s.kq.call(this,[10,21],s.zzS,"tools/dodge");
this._Q="dodge"};s.LZ.prototype=new s.kq;s.LZ.prototype.pf=function(h,R,d,L,$){this.AG(h,d,L,$,this.uO.expo/Math.PI);
if(this.qE==null)return;this.Yu(h)};s.LZ.prototype.yn=function(h,R,d,L,$){this.AK(h,R,d);if(this.gb)this.mv(h,d,$);
if(this.qE==null)return;if(!$.Pv)return;this.gh(h,d,L,$);this.Yu(h)};s.LR=function(){s.kq.call(this,[10,3],s.uP,"tools/eraser");
this._Q="erase"};s.LR.prototype=new s.kq;s.LR.prototype.pf=function(h,R,d,L,$){this.AG(h,d,L,$,this.uO.flow);
if(this.qE==null)return;this.Yu(h)};s.LR.prototype.yn=function(h,R,d,L,$){this.AK(h,R,d);if(this.gb)this.mv(h,d,$);
if(this.qE==null)return;if(!$.Pv)return;var W=this.gh(h,d,L,$);this.Yu(h)};s.Ly=function(){s.kq.call(this,[10,45],s.zaU,"tools/beraser");
this._Q="ierase"};s.Ly.prototype=new s.kq;s.Ly.prototype.pf=function(h,R,d,L,$){if(this.Rr(L,R,$))return;
this.AG(h,d,L,$,this.uO.flow);if(this.qE==null)return;this.Yu(h)};s.Ly.prototype.yn=function(h,R,d,L,$){this.AK(h,R,d);
if(this.gb)this.mv(h,d,$);if(this.qE==null)return;if(!$.Pv)return;this.gh(h,d,L,$);this.Yu(h)};s.Wq=function(){s.dS.call(this,[10,15],s.GD,"tools/rselect");
this.bq="crosshair"};s.Wq.prototype=new s.dS;s.Wq.prototype.xT=function(h,R,d,L){if(!L.Pv||!this.MI)return;
var $=this.OG(h,d,!0);h.d.Gw=z.G.ii($);h.Dw=!0;s.Cx.uF(L.x+10,L.y-10,$,h,R)};s.Wq.prototype.GL=function(h,R,d,L){h.d.Gw=null;
h.d.jc=[];h.Dw=!0;this.finish(h,R,d,L)};s.Wq.prototype.getSelection=function(h,R,d,L){if(this.sT.PC(this.pV)||!this.MI)return null;
var $=this.OG(h,d,!0);if($.dp())return null;return s.dS.jg("Rctn",$)};s.mA=function(){s.dS.call(this,[10,4],s.zCn,"tools/eselect");
this.bq="crosshair"};s.mA.prototype=new s.dS;s.mA.prototype.xT=function(h,R,d,L){if(!L.Pv||!this.MI)return;
var $=this.OG(h,d);h.d.Gw=s.mA.zMD($);h.Dw=!0;s.Cx.uF(L.x+10,L.y-10,$,h,R)};s.mA.prototype.GL=function(h,R,d,L){h.d.Gw=null;
h.d.jc=[];h.Dw=!0;this.finish(h,R,d,L)};s.mA.prototype.getSelection=function(h,R,d,L){if(this.sT.PC(this.pV)||!this.MI)return null;
var $=this.OG(h,d);if(!$.Yf(new A(0,0,h.k,h.$)))return null;return s.dS.jg("Elps",$)};s.mA.zMD=function(h){var R=h.x,d=h.y,L=h.x+h.k,$=h.y+h.$,W=(R+L)/2,M=(d+$)/2,x=(R-L)/2,t=(d-$)/2,g=.5522848,r={B:[W,M-t],D:["M","C","C","C","C"]};
r.B.push(W+g*x,M-t,W+x,M-g*t,W+x,M);r.B.push(W+x,M+g*t,W+g*x,M+t,W,M+t);r.B.push(W-g*x,M+t,W-x,M+g*t,W-x,M);
r.B.push(W-x,M-g*t,W-g*x,M-t,W,M-t);return r};s.gj=function(){s.Cx.call(this,[10,5],s.zt_,"tools/eyedropper");
this.TV=!1;this.lO=1};s.gj.prototype=new s.Cx;s.gj.prototype.pZ=function(h){return h.Pv};s.gj.prototype.ns=function(h,R,d,L,$){if(h.c=="pickhere")this.jR(d,R,$,L,h.zKH)};
s.gj.prototype.pf=function(h,R,d,L,$){this.TV=!0;this.jR(h,R,d,L,$)};s.gj.prototype.yn=function(h,R,d,L,$){if(this.TV)this.jR(h,R,d,L,$)};
s.gj.prototype.WL=function(h,R,d,L,$){this.TV=!1};s.gj.prototype.jR=function(h,R,d,L,$){var W=s.gj.Wj(h,$,this.lO),M=new X(e.E.Z);
M.data={c:e.j.nY,Ns:uh.Pf,Ek:0,a:W};R.R(M)};s.gj.Wj=function(h,R,d){var L=h.F.Px(R.x,R.y),$=Math.floor(L.x),W=Math.floor(L.y),M=(d-1)/2,x=Math.max(0,$-M),t=Math.max(0,W-M),g=Math.min(h.k,$+M+1),r=Math.min(h.$,W+M+1),l=(g-x)*(r-t),H=h.DP(),y=0,f=0,b=0;
for(var $=x;$<g;$++)for(var W=t;W<r;W++){var K=4*(W*h.k+$);y+=H[K];f+=H[K+1];b+=H[K+2]}y=Math.round(y/l);
f=Math.round(f/l);b=Math.round(b/l);return y<<16|f<<8|b};s.gj.prototype.e$=function(h){this.lO=h.lO};
s.Iq=function(){s.Cx.call(this,[10,6],s.zal,"tools/gradient");this.uO={i:JSON.parse(uz.sN.zuj).v,rE:"Lnr",qv:!1,zOa:!1,zOu:"norm",kP:1};
this.Yb=!1;this.UF=null};s.Iq.prototype=new s.Cx;s.Iq.prototype.enable=function(h,R,d,L){var $=new X(e.E.Z,!0);
$.data={c:e.j.sm,_u:"default"};R.R($)};s.Iq.prototype.e$=function(h){this.uO=h.Ns};s.Iq.prototype.pf=function(h,R,d,L,$){if(!h.wI())return;
this.UF=h.F.Px($.x,$.y);this.UF=s.Kf.KG(h,this.UF,d);this.Yb=!0};s.Iq.prototype.yn=function(h,R,d,L,$){if(!this.Yb)return;
var W=h.F.Px($.x,$.y);W=s.Kf.KG(h,W,d);if(L.u(m.ka))W=s.Iq.zE(this.UF,W);h.d.Gw={B:[this.UF.x,this.UF.y,W.x,W.y],D:["M","L"]};
h.d.CI=[this.UF.x,this.UF.y,W.x,W.y];h.Dw=!0};s.Iq.prototype.WL=function(h,R,d,L,$){if(!this.Yb)return;
var W=h._[h.f[0]],M=h.F.Px($.x,$.y);M=s.Kf.KG(h,M,d);if(L.u(m.ka))M=s.Iq.zE(this.UF,M);var x=M.FZ(this.UF),t=kY.dj(this.UF,M,.5),g=Math.atan2(x.y,x.x),r=kY.ZW(this.UF,M),l=Math.sin(g),H=Math.cos(g);
if(r>2){var y;if(h.z)y=h.z.rect;else y=new A(0,0,h.k,h.$);var f=z.h(y.s()*4),b=this.uO,K=b.rE;if(K!="Lnr"){r*=2;
t=this.UF}z.i.zD(b.i,f,y,[H*1/r,l*1/r,-l*1/r,H*1/r],t.x,t.y,b.qv,uz.i.types.indexOf(K),d.Ch,d._W,null,b.zOa);
var Z=Math.round(b.kP*256),J=f.length;if(Z!=256)for(var u=0;u<J;u+=4)f[u+3]=f[u+3]*Z>>>8;var C=new X(e.E.Q);
C.L=s.uP;C.data={c:"fillBMP",oW:f,js:b.zOu,zv:this.name};R.R(C)}h.d.Gw=null;h.d.CI=[];h.Dw=!0;this.Yb=!1};
s.Iq.zE=function(h,R){if(h.PC(R))return h;var d=R.x-h.x,L=R.y-h.y,$=Math.abs(d),W=Math.abs(L);if($>W)W=$/2>W?0:$;
if(W>$)$=W/2>$?0:W;$=d>0?$:-$;W=L>0?W:-W;var M=Math.sqrt(d*d+L*L)/Math.sqrt($*$+W*W);return new kY(h.x+$*M,h.y+W*M)};
s.Iq.cv=function(h,R,d,L,$,W,M){if(M==null)M=e.X("canvas","");var x=M.getContext("2d");M.width=R;M.height=d;
var t=new A(0,0,R,d),g=z.h(R*d*4);z.VG(g,R,d,4,0,0);var r=Math.sin(L),l=Math.cos(L),H=z.h(R*d*4);z.i.zD(h,H,t,[l*1/R,r*1/R,-r*1/d,l*1/d],R/2,d/2,!1,0,$,W);
z.K.Uu("norm",H,t,g,t,t,1);var y=x.getImageData(0,0,R,d);z.kW(g,y.data);x.putImageData(y,0,0);return M.toDataURL()};
s.Iq.zMY=function(h,R,d){var L=JSON.parse(JSON.stringify(h));for(var $=0;$<L.Clrs.v.length;$++){var W=L.Clrs.v[$].v,M=W.Type.v.Clry;
if(M=="UsrS")continue;var x=M=="FrgC"?R:d;W.Type.v.Clry="UsrS";W.Clr={t:"Objc",v:z.i.ZR({H:x>>16&255,N:x>>8&255,W:x&255})}}return L};
s.UT=function(){s.Cx.call(this,[10,7],s.OO,"tools/hand");this.Ht=new kY(0,0);this.HM=new kY(0,0)};s.UT.prototype=new s.Cx;
s.UT.prototype.ns=function(h,R,d,L,$){var W=h.c;if(W=="setcls"){d.F.ro=h.ro;d.Dw=!0}if(W=="scroll"&&!L.u(m.tw)){if(L.u(m.Is))s.UT.Lf(d,d.F.T.x-h.bQ.y,d.F.T.y-h.bQ.x);
else s.UT.Lf(d,d.F.T.x-h.bQ.x,d.F.T.y-h.bQ.y)}};s.UT.prototype.enable=function(h,R,d,L){var $=new X(e.E.Z,!0);
$.data={c:e.j.sm,_u:"grab"};R.R($)};s.UT.prototype.pf=function(h,R,d,L,$){this.HM.lQ(h.F.T);this.Ht.qC($.x,$.y)};
s.UT.prototype.yn=function(h,R,d,L,$){if(!$.Pv)return;s.UT.Lf(h,this.HM.x+($.x-this.Ht.x),this.HM.y+($.y-this.Ht.y))};
s.UT.Lf=function(h,R,d){var L=h.F.P;if(h.k*L<h.F.C.k&&h.$*L<h.F.C.$)h.F.T.qC(0,0);else{h.F.T.x=R;h.F.T.y=d}h.tf=!0};
s.jH=function(){s.zM.call(this,[10,25],s.ok,"tools/hbrush")};s.jH.prototype=new s.zM("");s.jH.prototype.WL=function(h,R,d,L,$){if(this.qE==null)return;
this.or(h,"heal",this.qE.kE(),this.qE.OG(),this.qE.ZV());this.I(h,this.qE.ZV());s.kq.prototype.WL.call(this,h,R,d,L,$);
if(!this.uO.algnd)this.T=null};s.dg=function(){s.Cx.call(this,[10,8],s._y,"tools/htype");this.Fb=[];
this.C$=null;this.Ow=null;this.caller=null;this.zOn=0;this.ws=0;this.zgz=null;this.Hk=null;this.UW=null;
this.ln=null;this.$N=null;this.FP=null;this.zgw=null;this.bK=null;this.A$=null;this.ZG=!1;this.rj=!1;
this.Ib=!1;this.lC=null;this.tl=null;this.zIt=null;this.HE=!1;this.Hh=!1;this._e=-1;this.Bg=-1;this.um=document.createElement("textarea");
this.um.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1;  position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; user-select:none; width:200px; height:150px;");
this.um.addEventListener("input",this.zaV.bind(this),!1);this.um.addEventListener("keydown",this.zkq.bind(this),!1)};
s.dg.prototype=new s.Cx;s.dg.prototype.pZ=function(h){return h.Pv};s.dg.prototype.mG=function(h,R,d,L){if(this.UW!=null)return;
this.caller=R;this.C$=h;var $=this.zhj(h);if($.length!=0){var W=null,M=[],x=[];for(var t=0;t<$.length;
t++){var g=h._[$[t]],r=g.add.TySh,l=0,H=uM.Yk(r.h_).length-2,y=uM.tZ(r.h_,l,H);uM._R(y,s.w.NU(r.V));
if(y.U$.Font!=null)y.U$.Font=y.lw[y.U$.Font].Name;W=y.lw;M.push(y.U$);x.push(y.Rx)}var y={lw:W,U$:uM.wq(M),Rx:uM.wq(x)};
if(y.U$.Font)uM.xY(y,y.U$.Font);this.zBf(R,y)}};s.dg.prototype.zhj=function(h){var R=[];for(var d=0;
d<h.f.length;d++)if(h._[h.f[d]].add.TySh)R.push(h.f[d]);return R};s.dg.prototype.ns=function(h,R,d,L,$){if(h.c=="updateStyles"){if(this.UW==null){var W=this.zhj(d),M=!1;
if(W.length!=0){this.Lo(d,R,$,W);for(var x=0;x<W.length;x++){var t=d._[W[x]],g=t.add.TySh;this.UW=t;
var r=uM.Yk(g.h_);this._e=0;this.Bg=r.length-1;uM.sp(g.h_,this._e,this.Bg,this.jf($,g));var l=this.mO(d,$);
if(l==!1)M=!0}if(M){this.HE=!0;return}this.Lc(d,R)}return}this.jy($)}if(h.c.startsWith("warp")){var H=this.Hh;
if(h.c=="warp"||h.c=="warpCancel"){if(h.c=="warp")this.UW.add.TySh.gf=h.Mp;else this.UW.add.TySh.gf=this.zgw;
var d=this.C$;this.mO(d,$);if(!H)this.mg(d)}if(h.c!="warp")this.um.focus();if((h.c=="warpConfirm"||h.c=="warpCancel")&&H){this.Hh=!1;
if(h.c=="warpConfirm")this.Lc(d,R);else this.dy(d,R)}}if(h.c=="editCurr"){if(this.UW!=null)this.disable(d,R,$,L);
this.C$=d;this.Ow=$;this.caller=R;this.Lo(d,R,$,[h.bC]);var r=uM.Yk(this.UW.add.TySh.h_);this._e=0;this.Bg=r.length-1;
this.mg(d);this.WS();this.um.focus()}if(h.c=="switchPntPrgr"){var t=d._[d.f[0]],g=t.add.TySh,y=g.V.NU(),f=JSON.parse(JSON.stringify(g.h_)),b=uM.NZ(f),K=b==1?uM.Rh(f):[0,0,Math.round(t.rect.k*1.05/y),Math.round(t.rect.$*1.25/y)],Z=uM.tZ(f,0,0),J=[0,K[2],K[2]/2][Z.Rx.Justification%3],u=Z.U$.FontSize*.8;
uM.sw(f,1-b);if(b==0){J=-J;u=-u;uM.RY(f,[0,0,K[2],K[3]])}var C=new um(1,0,0,1,J,u);C.concat(g.V);this.ns({Fc:d.f[0],c:"newED",He:f,V:C},R,d,L,$)}if(h.c=="newED"){var t=d._[h.Fc],g=t.add.TySh,Q=this.JM(d,[h.Fc]);
g.h_=h.He;if(h.V)g.V=h.V;var i=new zH(g.h_,$.UX),j=Wg.sj(i,g);t.rect=j.e;t.buffer=j.tP;t.I();d.I();var V=new zk(this.name,this);
V.data={kV:Q,Hi:this.JM(d,[h.Fc])};d.FD(V)}};s.dg.prototype.jy=function(h){var R=Math.min(this._e,this.Bg),d=Math.max(this._e,this.Bg),L=this.UW.add.TySh;
uM.sp(L.h_,R,d-1,this.jf(h,L));var $=this.C$,W=this.mO($,h);if(W)this.mg($);if(document.activeElement.tagName.toLowerCase()!="input")this.um.focus()};
s.dg.prototype.J$=function(h){return this.Fb.indexOf(h)!=-1};s.dg.prototype.enable=function(h,R,d,L){var $=this.um;
if(!e.Rn($))R.M.appendChild($);this.bK="default";this.MZ(R)};s.dg.prototype.TZ=function(){return this.UW!=null};
s.dg.prototype.zFI=function(h,R){for(var d=h._.length-1;d>=0;d--){var L=h._[d];if(L.add.TySh&&L.rect.hR(R)&&h.zmx(d)){var $=L.NG(2)||L.NG(31);
return $?-2:d}}return-1};s.dg.prototype.pf=function(h,R,d,L,$){this.C$=h;this.Ow=d;this.caller=R;var W=h.F.Px($.x,$.y),M=this.UW==null;
if(M){var x=this.zFI(h,W);if(x==-2){alert(uP.get([6,57,0]));return}if(x>=0){if(!Wg.na(h._[x].add.TySh,d.UX)){alert("Fonts not loaded yet");
return}this.Lo(h,R,d,[x])}else{this.Ib=!0;this.lC=$;return}}if(this.A$&&this.A$.pf(h,d,L,W)&&z.Mp.Lp(this.UW.add.TySh.gf)||!M&&z.G.VV(W,this.UW.rect)>20/h.F.P&&uM.NZ(this.UW.add.TySh.h_)==0){this.ZG=!0;
this.tl=W;this.zIt=this.UW.add.TySh.V.clone();if(this._e==-1&&this.Bg==-1)this._e=this.Bg=this.Pu(W)}else{if(this.$N==null){alert("Fonts not loaded yet");
return}this.rj=!0;this._e=this.Bg=this.Pu(W);var t=Date.now();if(t-this.zOn>300)this.ws=0;this.ws++;
this.zOn=t;if(this.ws==2)this.zkW();if(this.ws==3)this.zkB();if(this.ws>1){this.rj=!1;this.WS()}}this.mg(h)};
s.dg.prototype.Lo=function(h,R,d,L){var $=h._[L[0]];this.UW=$;this.RU(R,e.E.Z,{c:e.j.Ui,L:this.id,PU:"showactive"});
this.ln=L;h.f=L.slice(0);h.pw();h.HD=!0;this.FP=this.JM(h,L);this.zth($.add.TySh);this.mO(h,d)};s.dg.prototype.zth=function(h){if(uM.NZ(h.h_)!=1)return;
var R=uM.Rh(h.h_);R=new A(0,0,R[2]-R[0],R[3]-R[1]);var d=[R.x,R.y,R.x+R.k,R.y,R.x+R.k,R.y+R.$,R.x,R.y+R.$];
z.G.V(d,h.V,d);this.A$=new WN(d,!1,!1,!1,!0)};s.dg.prototype.zkW=function(){var h=uM.Yk(this.UW.add.TySh.h_);
this._e=this.zMq(h,this._e);this.Bg=this.zwT(h,this._e)};s.dg.prototype.zMq=function(h,R){var d=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",L=[];
for(var $=0;$<d.length;$++)L.push(d.charAt($));var W=L.indexOf(h[R])==-1?!0:!1;for(var $=R-1;$>=0;$--)if(L.indexOf(h.charAt($))!=-1==W)return $+1;
return 0};s.dg.prototype.zwT=function(h,R){var d=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",L=[];for(var $=0;
$<d.length;$++)L.push(d.charAt($));var W=L.indexOf(h[R])==-1?!0:!1;for(var $=R+1;$<h.length;$++)if(L.indexOf(h.charAt($))!=-1==W)return $;
return h.length-1};s.dg.prototype.zkB=function(){var h=this.$N.zSz(this._e);this._e=h[0];this.Bg=h[1]};
s.dg.prototype.MZ=function(h){var R=new X(e.E.Z,!0);R.data={c:e.j.sm,_u:this.bK};h.R(R)};s.dg.prototype.yn=function(h,R,d,L,$){var W=h.F.Px($.x,$.y),M=this.UW;
if(!$.Pv){var x="default";if(this.A$&&z.Mp.Lp(M.add.TySh.gf)){var t=this.A$.gW(W,h.F.P);if(t)x=t;else if(this.A$.hN(W))x="text"}else if(M&&z.G.VV(W,M.rect)>20/h.F.P)x="move";
else if(this.zFI(h,W)>=0)x="text";if(x!=this.bK){this.bK=x;this.MZ(R)}}if(this.Ib&&kY.ZW(this.lC,$)>4){this.Ib=!1;
this.zzi(h,R,d,L,$);M=this.UW;this.ZG=!0;this.A$=new WN(null,!1,!1,!1,!0);var g=h.F.Px(this.lC.x,this.lC.y);
g.x=Math.round(g.x);g.y=Math.round(g.y);this.A$.pf(h,d,L,g)}if(this.ZG){var r=M.add.TySh;if(this.A$){this.A$.yn(h,d,L,W);
var l=r.V.clone(),H=Math.atan2(l.W,l.r$);l.rotate(H);var y=z.S.Qx(z.S.wy(this.A$.$F())),f=Math.atan2(y.W,y.r$);
y.rotate(f);if(!isNaN(y.r$)&&y.r$*y.Cv-y.W*y.DS!=0){var b=new A(0,0,y.r$/l.r$,y.Cv/l.Cv),K=Math.round(b.k),Z=Math.round(b.$),J=r.h_.Curve;
if(J){var u=uM.Rh(r.h_),C=new um(K/u[2],0,0,Z/u[3],0,0);z.G.V(J.Points,C,J.Points);uM.GY(r)}uM.RY(r.h_,[0,0,K,Z]);
r.V=z.S.Qx(z.S.wy(this.A$.$F(),b));this.mO(h,d);uM.GY(r)}}else{var Q=W.x-this.tl.x,i=W.y-this.tl.y;r.V=this.zIt.clone();
var j=new kY(r.V.RZ+Q,r.V.fA+i);j=s.Kf.KG(h,j,d);r.V.RZ=j.x;r.V.fA=j.y;this.mO(h,d)}}if(this.rj)this.Bg=this.Pu(W);
if(this.ZG||this.rj)this.mg(h)};s.dg.prototype.zzi=function(h,R,d,L,$){var W=h.lH(),M=W[0],x=W[1],t=h.mS();
t.add.lnsr="rend";var g=h._.slice(0);t.AI("Text layer "+g.length);this.UW=t;var r=h.f.length==0?h._.length-1:h.f[h.f.length-1],l=r+1;
if(g[r].add.lsct==W_.ei)l--;this.FP={CH:g.slice(0),mN:h.f.slice(0)};g.splice(l,0,t);h.f=[l];this._e=this.Bg=0;
h.$Z(g);this.FP.eq=g.slice(0);this.FP.Qn=h.f.slice(0);this.RU(R,e.E.Z,{c:e.j.Ui,L:this.id,PU:"showactive"});
var H=h.F.Px($.x,$.y);t.add.TySh=uM.gD(H.x,H.y,d.QS);var y=t.add.TySh,f=y.h_;if($.Pv)uM.sw(f,1);else{uM.sw(f,0);
var b=M[x.pop()],K=b?b.add.vmsk:null;if(K){K=K.clone();var Z=K.r,C,Q;for(var J=0;J<Z.length;J++)if(Z[J].uH!=null)Z[J].uH=0;
var u=4*e.p()/h.F.P;C=z.t.F$(K.r,H,!0,u);if(C.KW==-1)C=z.t.F$(K.r,H);if(C.KW!=-1){uM.sw(f,1);var i=z.t._r(Z,C.KW),j=z.t.dY(Z,C.KW)-1;
Z=K.r=Z.slice(0,2).concat(Z.slice(i,i+j+1));K.f=[];y.add={vmsk:K,vogk:S.kd(Z)};f.Curve={};uM.dN(y);if(C.DE!=null){var V=zH.Xx(f.Curve);
z.G.V(V[0],y.V,V[0]);var E=z.G.ZU(V[0],H.x,H.y),N=d.QS.Rx.Justification;if(N==2||N==5){var n=(V[2][E]+V[3]*.5)%V[3];
E=zH._m(n,V[2])}var a=V[1][E];a=a%j;K.nD=[a,a];uM.dN(y)}else this.zth(y)}}}return t};s.dg.prototype.WL=function(h,R,d,L,$){var W=h.F.Px($.x,$.y),M=this.Ib;
if(this.Ib){this.Ib=!1;this.zzi(h,R,d,L,$);this.rj=!0}if(this.ZG||this.rj){this.mg(h);this.WS();if(M)this.jy(d)}if(this.ZG&&this.A$)this.A$.WL(h,d,L,W);
this.ZG=this.rj=!1;this.um.focus()};s.dg.prototype.WS=function(){var h=this.UW.add.TySh,R=Math.min(this._e,this.Bg),d=Math.max(this._e,this.Bg),L,$;
if(R==d){var W=uM.Yk(h.h_);if(R==0||W.charAt(R-1)=="\n")L=$=R;else L=$=R-1}else{L=R;$=d-1}var M=uM.tZ(h.h_,L,$);
uM._R(M,s.w.NU(h.V));this.zBf(this.caller,M)};s.dg.prototype.zBf=function(h,R){this.RU(h,e.E.Z,{c:e.j.nY,Ns:uh.hV,QS:R})};
s.dg.prototype.LT=function(h,R,d,L){if(L.u(m.$j))this.dy(h,R)};s.dg.prototype.disable=function(h,R,d,L){var $=this.UW;
this.Lc(h,R)};s.dg.prototype.e$=function(h,R,d,L,$){if(this.Hh)return;if(h.PU=="commit")this.Lc(d,R);
if(h.PU=="cancel")this.dy(d,R);if(h.PU=="showwarp"){if(d==null)return;if(this.UW==null){var W=d._[d.f[0]],M=W.add.TySh;
if(M==null)return;this.Lo(d,R,$,[d.f[0]]);this.um.focus();this.Hh=!0}this.zgw=this.UW.add.TySh.gf;var x=new X(e.E.Z,!0);
x.data={c:e.j.pY,DN:"textwarp"};R.R(x)}};s.dg.prototype.Nk=function(h,R){if(R!=uh.ze)return;if(this.HE){this.HE=!1;
var d=this.C$,L=this.ln;for(var $=0;$<L.length;$++){this.UW=d._[L[$]];this.mO(d,h)}this.Lc(d,this.caller);
return}if(this.UW)this.jy(h)};s.dg.prototype.jf=function(h,R){var d=JSON.parse(JSON.stringify(h.QS));
uM._R(d,1/s.w.NU(R.V));return d};s.dg.prototype.uj=function(h,R){if(h.kV!=null)this.Pt(R,h.Hi);else this.ztV(R,h.eq,h.Qn)};
s.dg.prototype.Lu=function(h,R){if(h.kV!=null)this.Pt(R,h.kV);else this.ztV(R,h.CH,h.mN)};s.dg.prototype.Pt=function(h,R){for(var d=0;
d<R.length;d++){var L=R[d],$=L.Fc,W=h._[$];W.buffer=L.Ry;W.rect=L.e.clone();W.I();var M=W.add.TySh;M.gf=L.Mp;
M.bz=L.bz.clone();M.V=L.V.clone();M.h_=JSON.parse(JSON.stringify(L.h_));W.DR()}h.I()};s.dg.prototype.JM=function(h,R){var d=[];
for(var L=0;L<R.length;L++){var $=R[L],W=h._[$],M=W.add.TySh;d.push({Fc:$,V:M.V.clone(),Mp:JSON.parse(JSON.stringify(M.gf)),bz:M.bz.clone(),h_:JSON.parse(JSON.stringify(M.h_)),Ry:z.clone(W.buffer),e:W.rect.clone()})}return d};
s.dg.prototype.ztV=function(h,R,d){h.f=d;h.$Z(R);h.I()};s.dg.prototype.mO=function(h,R,d){if(d==null)d=!1;
var L=this.UW.add.TySh;if(!Wg.na(L,R.UX))return!1;this.$N=new zH(L.h_,R.UX);if(!d){var $=uM.Yk(L.h_);
this.um.value=$.slice(0,$.length-1)}var W=Wg.sj(this.$N,L);if(z.Mp.Lp(L.gf))L.bz=new A;else{if(uM.NZ(L.h_)==1){var M=uM.Rh(L.h_),x=W.bz.y;
L.bz=new A(0,x,M[2]-M[0],M[3]-M[1]-x)}else{L.bz=W.bz}}var t=this.UW.rect;this.UW.rect=W.e;this.UW.buffer=W.tP;
this.UW.I();h.Ov();h.I(h.root.DV(W.e.DM(t),h,h._.indexOf(this.UW)));return!0};s.dg.prototype.zaV=function(h){if(this.UW==null||this.Hh)return;
var R=this.um.selectionStart,d=this.UW.add.TySh,L=uM.Yk(d.h_),$=this.um.value+"\n",W=Math.min(this._e,this.Bg),M=Math.max(this._e,this.Bg),l=!1;
this._e=Math.min(R,W);if($.length-R<L.length-this.Bg)this.Bg=L.length-$.length+R;if(L!=$){while(this._e>0&&L.charAt(this._e-1)!=$.charAt(this._e-1))this._e--}var x=L.substring(0,this._e),t=L.substring(this.Bg,L.length),g=$.substring(this._e,$.length-t.length);
uM._K(d.h_,this._e,this.Bg);uM.sq(d.h_,this._e,g);var r=this.jf(this.Ow,d),H=-1;for(var y=0;y<g.length;
y++)H=Math.max(H,g.charCodeAt(y));if(H!=-1&&H>128&&r.U$.Font!=null){var f=r.lw[r.U$.Font].Name,b=this.Ow.UX.lz(H,f,r.lw);
if(f!=b){uM.xY(r,b);l=!0}}if(this.Hk!=null&&g==this.Hk){var K=JSON.parse(this.zgz);r.U$=K.U$;r.lw=K.lw;
l=!0}uM.sp(d.h_,this._e,this._e+g.length-1,r);this._e=this.Bg=x.length+g.length;var Z=this.C$,J=this.mO(Z,this.Ow,!0);
if(J)this.mg(Z,!0);if(l)this.WS()};s.dg.prototype.zkq=function(h){if(this.UW==null||this.Hh)return;if(this.UW==null)return;
var R=m,d=0,L=0,Z=!1;if(R.Zt(h.code,R.zzj))d=1;if(R.Zt(h.code,R.zAO))d=-1;if(R.Zt(h.code,R.bc))L=-1;
if(R.Zt(h.code,R.Bq))L=1;var $=h.ctrlKey||h.metaKey,W=R.Zt(h.code,m.zbC),M=R.Zt(h.code,m.zbU);if(R.Zt(h.code,m.FA)&&$){this.Lc(this.C$,this.caller);
return}if(R.Zt(h.code,m.Ha)){h.preventDefault();var x=this.um,t=x.value,g=x.selectionStart,r=x.selectionEnd;
x.value=t.substring(0,g)+"\t"+t.substring(r);x.selectionStart=x.selectionEnd=g+1;this.zaV(null);return}if((R.Zt(h.code,R.gd)||R.Zt(h.code,R.HF))&&$){var l=this._e,H=this.Bg;
if(l>H){var y=l;l=H;H=y}var f=this.UW.add.TySh,b=uM.Yk(f.h_);if(l!=H){this.Hk=b.slice(l,H);this.zgz=JSON.stringify(this.Ow.QS)}}var K=uM.Yk(this.UW.add.TySh.h_);
if(d!=0||L!=0||W||M){h.preventDefault();var J=this._e;if(d!=0){if($&&d==-1)J=this.zMq(K,this._e-1);else if($&&d==1)J=this.zwT(K,this._e);
else J=this._e+d}else if(L!=0){var u=this.$N.Xr(this._e);if(L==-1&&u.lx==0)J=0;else if(L==1&&u.lx==this.$N.zPv()-1)J=99999999999;
else J=this.$N.zhP(new kY(u.e.x+u.e.k/2,0),u.lx+L)}else if(W){var C=this._e-1;while(C>0&&K.charCodeAt(C)!=10)C--;
J=C==0?0:C+1}else if(M){var C=this._e;while(C<K.length-1&&K.charCodeAt(C)!=10)C++;J=C}J=Math.max(0,Math.min(K.length-1,J));
if(h.shiftKey)this._e=J;else this._e=this.Bg=J;Z=!0}if(R.Zt(h.code,m.j)&&$){this._e=0;this.Bg=K.length-1;
Z=!0}if(Z){this.WS();this.mg(this.C$)}};s.dg.zkF=function(h,R){var d=h.length;if(d!=R.length)return!1;
for(var L=0;L<d;L++)if(h[L].Fc!=R[L].Fc)return!1;return!0};s.dg.prototype.Lc=function(h,R){if(this.UW==null)return;
this.UW.DR();var d=this.FP;if(d instanceof Array){var L=this.JM(h,this.ln),$=h.jL();if($!=null&&$.L==this&&$.data.kV&&s.dg.zkF($.data.kV,d))$.data.Hi=L;
else{var W=new zk(this.name,this);W.data={kV:d,Hi:L};h.FD(W)}}else{var W=new zk(this.name,this);W.data={CH:d.CH,eq:d.eq,mN:d.mN,Qn:d.Qn};
h.FD(W)}this.escape(h,R)};s.dg.prototype.dy=function(h,R){if(this.UW==null)return;if(this.FP instanceof Array){this.Pt(h,this.FP);
if(this.UW)uM.GY(this.UW.add.TySh)}else{h.f=this.FP.mN;h.$Z(this.FP.CH)}h.I();this.escape(h,R)};s.dg.prototype.escape=function(h,R){this.UW=null;
this.ln=null;this.$N=null;this.A$=null;this.um.blur();h.d.Gw=null;h.d.Wa=null;h.d.CI=[];h.Dw=!0;this.ZG=!1;
this.rj=!1;this._e=this.Bg=-1;this.RU(R,e.E.Z,{c:e.j.Ui,L:this.id,PU:"hideactive"})};s.dg.prototype.RU=function(h,R,d,L){var $=new X(R,!0);
$.data=d;if(L)$.L=L;h.R($)};s.dg.prototype.Pu=function(h){var R=this.UW.add.TySh,d=this.$N,L=R.V.clone();
L.Gv();var $=L.Ny(h),W=uM.OG(R,d),M=z.Mp.Qs(R.gf,W),x=z.be.Y.Vt(M,0,1,0,1),t=new Uint32Array(30),g=z.be.Y.zNg(x.jt,x.ob,$.x,$.y,t),r=z.be.F$(M,$.x,$.y,x.jt,t,g,!1),l=z.be.Kc;
if(l==null)l=new Float64Array(2);$=new kY(W.x+l[0]*W.k,W.y+l[1]*W.$);var H=d.zhP($);return H};s.dg.prototype.mg=function(h,R){if(R==null)R=!1;
var d=this.UW.add.TySh,L=uM.NZ(d.h_),$=this.$N,W=$?uM.OG(d,$):null;h.d.CI=[];h.d.Gw=null;h.d.Wa=null;
if(this.A$){this.A$.rv(h,this.Ow,!z.Mp.Lp(d.gf));var M=d.V.clone();M.Gv();z.G.V(h.d.CI,M,h.d.CI);z.G.V(h.d.Gw.B,M,h.d.Gw.B);
if($&&$.zPc()){var x=W.k-20,t=W.$+8;h.d.Gw.B.push(x,t,x+10,t,x+5,t-5,x+5,t+5);h.d.Gw.D.push("M","L","M","L")}}else if(L==0)this.zkE(h,d,$);
else h.d.Gw={B:[],D:[]};var g=Math.min(this._e,this.Bg),r=Math.max(this._e,this.Bg);if(!R){this.um.selectionStart=g;
this.um.selectionEnd=r}if($!=null){var l=function(Q,i){var j=Q.x,V=Q.y+Q.$,E=new um;E.translate(-j,-V);
E.rotate(-i);E.translate(j,V);Q.y+=Q.$*.27;var J=z.G.ii(Q);z.G.V(J.B,E,J.B);return J};if(g==r){g=Math.max(g,0);
var H=$.Xr(g);if(H){var y=H.e,f=this.Ow.QS.U$.FontSize;if(f!=null&&f!=0){y.y+=y.$-f;y.$=f}var b=$.zNF(g);
if(b!=null&&b.Fv==1)y.x+=y.k;var K=l(y,H.bX).B;h.d.Gw.D.push("M","L");h.d.Gw.B.push(K[0],K[1],K[6],K[7])}}else{h.d.Wa={B:[],D:[]};
for(var Z=g;Z<r;Z++){var H=$.Xr(Z),J=l(H.e,H.bX);z.G.concat(h.d.Wa,J)}}}if($!=null){if(!W.dp()){var u=z.Mp.Qs(d.gf,W),C=Math.min(W.k,W.$)/10;
if(h.d.Gw){h.d.Gw=z.G.zs(h.d.Gw);h.d.Gw=z.G.zo(h.d.Gw,C);z.be.apply(u,h.d.Gw.B,W)}if(h.d.Wa){h.d.Wa=z.G.zs(h.d.Wa);
h.d.Wa=z.G.zo(h.d.Wa,C);z.be.apply(u,h.d.Wa.B,W)}z.be.apply(u,h.d.CI,W)}}if(h.d.Gw)z.G.V(h.d.Gw.B,d.V,h.d.Gw.B);
if(h.d.Wa)z.G.V(h.d.Wa.B,d.V,h.d.Wa.B);z.G.V(h.d.CI,d.V,h.d.CI);h.Dw=!0};s.dg.prototype.zkE=function(h,R,d){if(d==null)return;
h.d.CI.push(0,0);if(h.d.Gw==null)h.d.Gw={D:[],B:[]};for(var L=0;L<d.Rx.length;L++){var $=d.Rx[L];for(var W=0;
W<$._U.length;W++){var M=$._U[W],x=$.KP.x+M.KP.x+M.e.x,t=$.KP.y+M.KP.y+M.e.y+M.e.$;h.d.Gw.D.push("M","L");
h.d.Gw.B.push(x,t,x+M.e.k,t)}}h.Dw=!0};s._l=function(){s.dS.call(this,[10,9],s.zMw,"tools/lasso");this.bq="crosshair";
this.ex=null;this.BM=null;this.tl=null};s._l.prototype=new s.dS;s._l.prototype.sn=function(h,R,d,L){this.ex=this.sT;
this.BM={B:[this.ex.x,this.ex.y],D:["M"]}};s._l.prototype.xT=function(h,R,d,L){this.tl=L;var $=this.BM;
if($==null)return;if(!L.Pv){if(this.BM!=null&&this.$d>1&&d.u(m.tw)){$.B.pop();$.B.pop();$.B.push(this.pV.x,this.pV.y);
h.d.Gw=$;h.Dw=!0}return}$.D.push("L");$.B.push(this.pV.x,this.pV.y);this.ex=this.pV;if(this.MI){h.d.Gw=$;
h.Dw=!0}};s._l.prototype.TZ=function(){return this.BM!=null};s._l.prototype.jI=function(){return this.BM!=null};
s._l.prototype.LT=function(h,R,d,L){s.dS.prototype.LT.call(this,h,R,d,L);if(this.BM&&this.$d>1&&this.tl&&!this.tl.Pv&&!L.u(m.tw))this.zMz(h,d,L)};
s._l.prototype.GL=function(h,R,d,L){this.tl=L;var $=this.BM;if($==null)return;if(this.$d>1&&d.u(m.tw)){$.D.push("L");
$.B.push(this.pV.x,this.pV.y);return}this.zMz(h,R,d)};s._l.prototype.zMz=function(h,R,d){this.finish(h,R,d,this.tl);
this.BM=null;h.d.Gw=null;h.Dw=!0};s._l.prototype.getSelection=function(h,R,d,L){if(this.sT.PC(this.pV)||!this.MI)return null;
return s.dS.uU(this.BM.B)};s.Kf=function(){s.Cx.call(this,[10,11],s._h,"tools/move");this.wf=new kY(0,0);
this.wv=new kY(0,0);this.Un=null;this.PP=null;this.bF=new kY(0,0);this.Uf=null;this.Nt=null;this.Ps=null;
this.$y=null;this.Mq=[];this.$A=null;this.Yb=!1;this.c=0;this.Hj=null;this.Fl=null;this.Dz=null;this.ls=!1;
this.uO={HL:!1,Hy:!1,g_:!1};this.A$=null;this.KV=null;this.zIJ=null;var h=[];for(var R=0;R<z.ru.tz.length;
R++)h.push({name:z.ru.tz[R],n:function(d,L,$){return{fz:L.UU.CQ==$}}});this.fa=new MQ(h);this.fa.A("select",this.Pd,this)};
s.Kf.prototype=new s.Cx;s.Cx.prototype.pZ=function(h){return this.Yb&&this.c!=2};s.Kf.prototype.ztG=function(){return this.Yb&&this.c==0};
s.Kf.prototype.zzP=function(h,R,d,L){this.Ww(h,-this.bF.x,-this.bF.y);this.bF.qC(0,0);this.Wm(h,null,d);
this.Nd(h)};s.Kf.prototype.xc=function(){var h=this.uO;return[h.HL?1:0,h.Hy?1:0,h.g_?1:0]};s.Kf.prototype.zqB=function(h,R,d){var L=this.uO;
if(h&&h[0]!=null)L.HL=h[0]==1;if(h&&h[1]!=null)L.Hy=h[1]==1;if(h&&h[2]!=null)L.g_=h[2]==1;var $=new X(e.E.Z,!0);
$.data={c:e.j.Ui,L:this.id,Dt:L,zKv:R};d.R($)};s.Kf.zpy=function(h,R,d,L,$,W,M){if(M==null)M=[!1,!0];
var x=new A(0,0,h.k,h.$),t=h.HP(null,$,!0),g=h.zFW(t,M[0]?x:null,M[1]?null:x)[0];if(d!=1){var r=new A(0,0,Math.round(g.k*d),Math.round(g.$*d));
s.hu.Wb(g,r);var l=[];for(var H=0;H<g._.length;H++)l.push(H);var y=s.w.Wc(g,l,!0);s.w.NI(g,L,l,y,1,z.S.iE(new um(d,0,0,d,0,0)),null,!0);
g.UL()}var f=[];for(var H=0;H<R.length;H++)f.push(ud.wg(g,R[H].toUpperCase(),null,null,W?W[H]:null,L));
return f};s.Kf.prototype.ztB=function(h,R,d,L,$){if(h==null||h.f.length==0)return;var W=s.Kf.zpy(h,[R],d,L,null)[0],M=new X(e.E.Z,!0);
M.data={c:e.j.Eb,data:W,name:h._[h.f[0]].getName()+"."+R};$.R(M)};s.Kf.prototype.e$=function(h,R,d,L,$){if(h.Ek=="getPNG"){this.ztB(d,"png",h.zQy,$,R)}else if(h.Ek=="getSVG"){this.ztB(d,"svg",h.zQy,$,R)}if(h.Ek=="prms"){this.uO=h;
this.Nd(d)}};s.Kf.zke=function(h){var R=h.length,L=0;h.sort(function(x,t){return x[0]+x[1]/2-(t[0]+t[1]/2)});
var d=h[R-1][0]+h[R-1][1]-h[0][0];for(var $=0;$<R;$++)L+=h[$][1];var W=Math.round((d-L)/(R-1)),M=h[0][0];
for(var $=0;$<R;$++){h[$][0]=M;M+=h[$][1]+W}};s.Kf.prototype.ns=function(h,R,d,L,$){var W=h.c;if(W=="trsl"){var M=Math.round(h.zKm),x=Math.round(h.zKA);
this.bF.qC(M,x);this.Ju(d,R,L,$,!1,h.J);this.Ww(d,M,x);this.Wm(d,null,$)}else if(W=="gids"||W=="gidsFromLayer"){var t=h.Fl,g,r;
if(t==null)t=JSON.parse(JSON.stringify(d.Py));if(W=="gids"){g=h.RI;var l=t[0].length+t[1].length,H=g[0].length+g[1].length;
r=l==H?[23,2]:l>H?[23,3]:[23,4];if(H==0)r=[11,15,0]}else if(W=="gidsFromLayer"){var y=[[],[]];for(var f=0;
f<d.f.length;f++){var b=d._[d.f[f]].rect;if(b.dp())continue;y[0].push(b.x,b.x+b.k);y[1].push(b.y,b.y+b.$)}r=[11,15,1];
g=JSON.parse(JSON.stringify(d.Py));s.Kf.PB(g,y)}if(JSON.stringify(t)==JSON.stringify(g))return;var W=new zk(r,this);
W.data={c:2,Fl:t,RI:g};d.FD(W);this.uj(W.data,d)}else if(W=="algn"){var K=h.a;if(d==null)return;if(d.f.length<2&&!(d.z!=null&&K!=3&&K!=7)){alert(uP.get([15,7,5]));
return}var Z=d.z;d.z=null;var b=Z?Z.rect:s.w.OG(d);this.Ju(d,R,L,$,!1);if(!this.Yb)return;var J=this.$y,u={},C=[],Q=[],i=[];
for(var f=0;f<J.length;f++){var j=J[f];while(d._[j].getName()=="</Layer group>")j++;var V=d.root.UZ(j),E=V;
while(V.parent!=null){V=V.parent;if(J.indexOf(V.index)!=-1)E=V}var N=Q.indexOf(E.index);if(N==-1){N=Q.length;
Q.push(E.index)}C[f]=N}var n=[],a=[],I=[];for(var f=0;f<Q.length;f++){var q=s.w.OG(d,d.HP(!0,Q[f]));
I.push(q);var k=K==3?[q.y,q.$]:[q.x,q.k];n[f]=k;a.push(k)}s.Kf.zke(a);for(var f=0;f<Q.length;f++){var q=I[f],F=q.x,o=q.y;
if(K==0)F=b.x;if(K==1)F=b.x+(b.k-q.k)/2;if(K==2)F=b.x+(b.k-q.k);if(K==3)o=n[f][0];if(K==4)o=b.y;if(K==5)o=b.y+(b.$-q.$)/2;
if(K==6)o=b.y+(b.$-q.$);if(K==7)F=n[f][0];i.push(Math.round(F-q.x),Math.round(o-q.y))}var G=[];for(var f=0;
f<J.length;f++){var w=C[f];G[2*f]=i[2*w];G[2*f+1]=i[2*w+1]}this.Ww(d,0,0,null,G);var U=K==3||K==7?[20,4,6]:[20,4,K<3?K:K-1];
this.Wm(d,null,$,G,U);d.z=Z}};s.Kf.PB=function(h,R){for(var d=0;d<R.length;d++)for(var L=0;L<R[d].length;
L++)if(h[d].indexOf(R[d][L])==-1)h[d].push(R[d][L])};s.Kf.prototype.enable=function(h,R,d,L,$){this.Nt=d;
this.Ps=R;this.ls=$?!0:!1;this.Nd(h);this.MZ("default",R)};s.Kf.prototype.disable=function(h,R,d,L){this.zgJ(h)};
s.Kf.prototype.zgJ=function(h){if(h==null)return;if(this.A$){this.A$.clear(h);this.A$=null}if(h.d.g_){h.d.g_=null;
h.Dw=!0}if(h.d.Nq){h.d.Nq=null;h.Dw=!0}if(h.d.Uh[this.id]){delete h.d.Uh[this.id];h.Dw=!0}if(h.d.jc.length!=0){h.d.jc=[];
h.Dw=!0}};s.Kf.prototype.mG=function(h,R,d,L){if(d.KJ!=this.id)return;this.Nd(h)};s.Kf.prototype.Nd=function(h,R){if(h==null)return;
var d=this.uO;this.zgJ(h);if(!this.ls){var L;if(d.Hy||d.g_)L=z.G.Hv(s.w.OG(h));if(d.Hy&&!L.dp()){this.A$=new WN([L.x,L.y,L.x+L.k,L.y,L.x+L.k,L.y+L.$,L.x,L.y+L.$],!0);
this.A$.rv(h,this.Nt)}if(d.g_){var $=h.zgs(h.f[0]),r=null,l=!1;if($==null)$=new A(0,0,h.k,h.$);h.d.g_={vl:[L],vV:[]};
var W=h.d.g_.vV,M=L.x+L.k,x=L.y+L.$,t=L.x+Math.floor(L.k/2),g=L.y+Math.floor(L.$/2);if(R){var H=h.root.F$(new kY(Math.floor(R.x),Math.floor(R.y)));
if(H){r=z.G.Hv(H.J.Ay(h));if(r.Yf(L)){l=(r.nF(L)||L.nF(r))&&!L.PC(r);if(!l)r=null}}}this.zhh(L,W);if(r!=null){h.d.g_.vl.push(r);
var y=r.x+r.k,f=r.y+r.$,b=r.x+Math.floor(r.k/2),K=r.y+Math.floor(r.$/2);if(l){var Z=t,J=g;if(L.nF(r)){Z=b;
J=K}W.push(L.x,J,r.x,J);W.push(M,J,y,J);W.push(Z,L.y,Z,r.y);W.push(Z,x,Z,f)}else{this.zhh(r,W);var u=x<r.y||f<L.y,C=M<r.x||y<L.x;
if(M<r.x)W.push(M,g,r.x,g);if(y<L.x)W.push(y,g,L.x,g);if(x<r.y)W.push(t,x,t,r.y);if(f<L.y)W.push(t,f,t,L.y);
if(u&&!C){if(L.x<r.x)W.push(L.x,K,r.x,K);if(r.x<L.x)W.push(r.x,g,L.x,g)}}}else{if(L.y>$.y)W.push(t,$.y,t,L.y);
if(x<$.y+$.$)W.push(t,x,t,$.y+$.$);if(L.x>$.x)W.push($.x,g,L.x,g);if(M<$.x+$.k)W.push(M,g,$.x+$.k,g)}h.Dw=!0}}if(this.c==2&&this.Yb){var Q=this.$y,i=Q[0],j=(i==0?"X":"Y")+": "+z.ru.fS(h.Py[i][Q[1]],h.EY,this.Nt,i==0?h.k:h.$,!0);
s.Cx.zhf(Math.round(this.Un.x)+10,Math.round(this.Un.y)-10,[j],h);h.Dw=!0}if(this.c==3&&this.Yb){var V=z.G.ii(this.Hj);
h.d.Uh[this.id]={Gw:V};h.Dw=!0}};s.Kf.prototype.zhh=function(h,R){var d=h.k,L=h.$,$=h.x+Math.floor(d*.2),W=h.y+Math.floor(L*.2);
R.push($,h.y,$,h.y+L);R.push(h.x,W,h.x+d,W)};s.Kf.prototype.MZ=function(h,R){var d={c:e.j.sm,_u:h},L=new X(e.E.Z,!0);
L.data=d;R.R(L)};s.Kf.prototype.UP=function(h){var R=this.KV.Ir()[0],d=this.Uf,L=this.zIJ[R];this.zhp(d,L)};
s.Kf.prototype.Pd=function(h){var R=JSON.parse(JSON.stringify(this.Nt.UU));R.CQ=this.fa.Ir()[0];var d=new X(e.E.Z,!0);
d.data={c:e.j.nY,Ns:uh.bi,sg:R};this.Ps.R(d)};s.Kf.prototype.VK=function(h,R,d,L,$){if(this.Yb)this.WL(h,R,d,L,$);
this.Uf=h;this.Nt=d;this.Ps=R;var W=h.F.Px($.x,$.y),M;if(s.Kf.PS(d,$)){M=this.fa}else{if(this.KV)this.KV.removeEventListener("select",this.UP);
var x=[];h.root.F$(W,x);if(x.length==0)return;var t=[];this.zIJ=x;for(var g=0;g<x.length;g++)t.push({name:h._[x[g]].getName()});
M=this.KV=new MQ(t);M.A("select",this.UP,this)}M.parent=R;M.o();M.update(h,d);var r=new X(e.E.Z,!0);
r.data={c:e.j.eN,_z:M,x:$.lV+2,y:$.ZE+1};R.R(r)};s.Kf.prototype.ztm=function(h,R,d,L,$){return s.Kf.PS(d,$)};
s.Kf.prototype.pf=function(h,R,d,L,$){this.Un=$;this.wf.qC($.x,$.y);this.wv=h.F.Px($.x,$.y);this.PP=new Bo(this.wv);
this.Ju(h,R,L,d,!0)};s.Kf.PS=function(h,R){return h.Qj&&(0<R.x&&R.x<z.ru.Tx||0<R.y&&R.y<z.ru.Tx)};s.Kf.prototype.Ju=function(h,R,d,L,$,W){var M,x=this.wv,t=!1;
if($){var g=L.gl&&L.UU.Py;if(s.Kf.PS(L,this.wf)){M=JSON.parse(JSON.stringify(h.Py));if(this.wf.x<z.ru.Tx)h.Py[0].push(x.x);
if(this.wf.y<z.ru.Tx)h.Py[1].push(x.y);if(!g){var r=new X(e.E.Z);if(!L.UU.Py){r.data={c:e.j.nY,Ns:uh.b_};
R.R(r)}if(!L.gl){r.data={c:e.j.nY,Ns:uh.zw};R.R(r)}g=!0}}var l=this.zqD(h,x);if(g&&l){this.c=2;this.Fl=M?M:JSON.parse(JSON.stringify(h.Py));
this.$y=l;this.Yb=!0;this.$A=s.w.OG(h);return}if(h.rY.length!=0){this.c=4;this.$A=h.Mk[h.rY[0]].rect.clone();
this.Yb=!0;return}if(this.A$&&this.A$.gW(x,h.F.P,!0)!=null){var r=new X(e.E.Z);r.data={c:e.j.uA,L:s.ON};
R.R(r);var H=new X(e.E.Q);H.L=s.ON;H.data={c:"doMouseDown",Un:this.wf};R.R(H);return}if(h.z&&h.z.rect.hR(x)){var y=Math.round(x.x),f=Math.round(x.y),b=h.z.rect;
t=h.z.channel[(f-b.y)*b.k+y-b.x]>128}if(!t&&(!this.ls&&(d.u(m.Is)||this.uO.HL)||this.ls&&this.uO.HL&&(d.u(m.ka)||h.f.length<2))){var K=this.zkj(h,x,d);
if(!K){h.f=[];h.NF=null;h.RL=h.lX=!0;this.c=3;this.Hj=new A;this.Yb=!0;return}}if(d.u(m.tw)&&!t){var H=new X(e.E.Q);
H.L=s.br;H.data={c:S.OP,zKl:!0};R.R(H)}}if(h.rY.length!=0){this.c=4;this.$A=h.Mk[h.rY[0]].rect.clone();
this.Yb=!0;return}this.$y=h.HP(W==null,W,null,!0);for(var Z=0;Z<this.$y.length;Z++){var J=h._[this.$y[Z]];
if(J.NG(2)||J.NG(31)){alert(uP.get([6,57,0]));return}}this.Mq=s.Kf.zq_(h,this.$y);this.c=0;if(h.z&&(!$||t)&&h.f.length==1&&h.wI(!1)){if(!h.zh$()){this.Yb=!1;
return}var u=h._[h.f[0]],C=d.u(m.tw);this.c=1;var Q=h.history[h.mB];if(Q.L==this&&Q.data.c==1&&Q.data.J==h.f[0]&&u.GJ==u.De.GJ&&!C){this.Dz=Q}else{var i=u.De,j=!1,V;
if(!u.Hf(h,h.z)||C){j=!0;u.D$(h,h.z,C)}if(u.De.GJ<=0){V=z.h(u.De.LC.length>>2);z.nP(u.De.LC,V,3)}else V=z.clone(h.z.channel);
var E={rect:u.De.RH.clone(),channel:V};this.Dz=new zk(C?[12,53]:[12,54],this);this.Dz.data={c:1,J:h.f[0],De:u.De,Bz:i,$$:j,mN:h.z,Qn:E,Cv:new kY(0,0)};
h.FD(this.Dz);h.z=E;h.td=!0}}this.Yb=!0;this.$A=s.w.OG(h)};s.Kf.prototype.zkj=function(h,R,d){var L=h.root.F$(new kY(Math.floor(R.x),Math.floor(R.y)));
if(L){if(L.J.add.vmsk)h.Dw=!0;var $=h._.indexOf(L.J);if(d.u(m.ka)){var W=h.f.indexOf($);if(W==-1)h.f.push($);
else if(h.f.length>1)h.f.splice(W,1)}else if(h.f.indexOf($)==-1){this.zhp(h,$)}}return L!=null};s.Kf.prototype.zhp=function(h,R){h._[R].GJ=0;
h.f=[R];h.NF=null;h.pw();h.HD=!0;h.RL=!0};s.Kf.prototype.yn=function(h,R,d,L,$){this.Un=$;var W=h.F.Px($.x,$.y),H,y;
if(this.PP&&this.c<2)W=this.PP.XN(W,L);if(!this.Yb){if(d.gl&&d.UU.Py){var M=this.zqD(h,W),x="default";
if(M)x=["col-resize","row-resize"][M[0]];else if(this.A$){var t=this.A$.gW(W,h.F.P);if(t)x=t}this.MZ(x,R)}this.Nd(h,W);
return}var g=this.wv,r=Math.round(W.x-g.x)-this.bF.x,l=Math.round(W.y-g.y)-this.bF.y;if(this.$A){if(this.c==2){W=s.Kf.KG(h,W,d,[!1,h.z?h.z.rect:this.$A,!0])}else{y=this.$A.clone();
y.offset(this.bF.x+r,this.bF.y+l);H=s.Kf.OL(h,y,d);r+=Math.round(H[0]);l+=Math.round(H[1])}}this.bF.x+=r;
this.bF.y+=l;this.Ww(h,r,l,W,null,L.u(m.ka));this.Nd(h,W);if(H)s.Kf.Ox(h,y,H)};s.Kf.prototype.zqD=function(h,R){R=[R.x,R.y];
for(var d=0;d<2;d++)for(var L=0;L<h.Py[d].length;L++)if(Math.abs(h.Py[d][L]-R[d])*h.F.P<4)return[d,L];
return null};s.Kf.prototype.Ww=function(h,R,d,L,$,W){if(this.c==0){if($)s.Kf.Jh(h,this.$y,this.Mq,$);
else s.Kf.JW(h,this.$y,this.Mq,R,d)}else if(this.c==1){var M=this.Dz.data;M.Cv.offset(R,d);s.Kf.WG(h,M.J,R,d)}else if(this.c==2){var x=1e-5;
if(W)x=h.F.P<=1?10:1;else if(h.F.P<=1)x=1;var t=x*Math.round(L.x/x),g=x*Math.round(L.y/x),r=[t,g],l=this.$y;
h.Py[l[0]][l[1]]=r[l[0]]}else if(this.c==3){var H=this.wv,y=z.G.yl([H.x,H.y,L.x,L.y]);this.Hj=y;var f=[];
h.root.zBo(y,f);if(JSON.stringify(h.f)!=JSON.stringify(f)){h.f=f;h.RL=!0;h.lX=!0}}else if(this.c==4){for(var b=0;
b<h.rY.length;b++)h.Mk[h.rY[b]].rect.offset(R,d);h.Dw=!0}};s.Kf.WG=function(h,R,d,L){var $=h._[R];h.z.rect.offset(d,L);
$.IK(h,d,L,h.z);h.td=!0;h.I()};s.Kf.prototype.WL=function(h,R,d,L,$){this.Wm(h,$,d);this.Nd(h)};s.Kf.prototype.Wm=function(h,R,d,L,$){if(!this.Yb)return;
this.Yb=!1;if(this.c==0){if(L){this.zSQ(h,null,L,$)}else{if(this.bF.x==0&&this.bF.y==0)return;this.zSQ(h,this.bF.clone())}h.tf=!0}else if(this.c==2){var W=0;
R=[R.x,R.y];var M=this.$y,x=this.Fl[0].length+this.Fl[1].length,t=h.Py[0].length+h.Py[1].length;if(d.Qj&&R[M[0]]<z.ru.Tx){h.Py[M[0]].splice(M[1],1);
W=1;if(x==t-1)return}if(x<t)W=2;var g=new zk([[23,2],[23,3],[23,4]][W],this);g.data={c:2,Fl:this.Fl,RI:JSON.parse(JSON.stringify(h.Py))};
h.FD(g)}else if(this.c==4){var g=new zk([12,54],this);g.data={c:4,f:h.rY.slice(0),T:this.bF.clone()};
h.FD(g)}this.bF.qC(0,0)};s.Kf.prototype.LT=function(h,R,d,L){var $=L.AF();if(h!=null&&($.x!=0||$.y!=0)){this.bF.qC($.x,$.y);
this.Ju(h,R,L,d,!1);if(!this.Yb)return;this.Ww(h,$.x,$.y);this.Wm(h,null,d);this.Nd(h)}};s.Kf.prototype.Lu=function(h,R){if(h.c==0)s.Kf.Jh(R,h.f,h.FY,h.lf,!0);
else if(h.c==2){R.Py=JSON.parse(JSON.stringify(h.Fl));R.Dw=!0}else if(h.c==4){for(var d=0;d<h.f.length;
d++)R.Mk[h.f[d]].rect.offset(-h.T.x,-h.T.y);R.Dw=!0}else{var L=R._[h.J];if(h.$$){L.Dx(R,h.Bz);R.z=h.mN;
R.td=!0;R.I();L.I()}else{s.Kf.WG(R,h.J,-h.Cv.x,-h.Cv.y)}}};s.Kf.prototype.uj=function(h,R){if(h.c==0)s.Kf.Jh(R,h.f,h.FY,h.lf);
else if(h.c==2){R.Py=JSON.parse(JSON.stringify(h.RI));R.Dw=!0}else if(h.c==4){for(var d=0;d<h.f.length;
d++)R.Mk[h.f[d]].rect.offset(h.T.x,h.T.y);R.Dw=!0}else{var L=R._[h.J];if(h.$$){L.De=h.De;R.z=h.Qn;s.Kf.WG(R,h.J,0,0);
L.I()}else{s.Kf.WG(R,h.J,h.Cv.x,h.Cv.y)}}};s.Kf.prototype.zSQ=function(h,R,d,L){if(d){var $=!0;for(var W=0;
W<d.length;W++)if(d[W]!=0)$=!1;if($)return}var M=h.history[h.mB];if(M.data&&M.L==this&&M.data.c==0&&d==null&&JSON.stringify(M.data.f)==JSON.stringify(this.$y)&&JSON.stringify(M.data.FY)==JSON.stringify(this.Mq)){var x=M.data.lf,t=M.data.zZk.QZ.T.v;
t.Hrzn.v.val+=R.x;t.Vrtc.v.val+=R.y;for(var W=0;W<x.length;W+=2){x[W]+=R.x;x[W+1]+=R.y}}else{if(R==null)R=new kY(d[0],d[1]);
var g={Mh:"move",QZ:{classID:"null",null:tQ.sx("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:R.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:R.y}}}}}},r=new zk(L?L:[12,54],this);
if(d)r.data={c:0,f:this.$y,FY:this.Mq,lf:d};else r.data={c:0,f:this.$y,FY:this.Mq,lf:s.Kf.zMh(this.$y,R.x,R.y)};
r.data.zZk=g;h.FD(r);this.track(g)}};s.Kf.zMh=function(h,R,d){var L=[];for(var $=0;$<h.length;$++)L.push(R,d);
return L};s.Kf.JW=function(h,R,d,L,$){s.Kf.Jh(h,R,d,s.Kf.zMh(R,L,$))};s.Kf.Jh=function(h,R,d,L,$){if(R.length==0)return;
if(d==null){d=[];for(var W=0;W<R.length;W++){d.push(h._[R[W]].UN(h,!0))}}var M=new A,x=new A(0,0,h.k,h.$);
for(var W=0;W<R.length;W++){var t=L[2*W],g=L[2*W+1];if($){t=-t;g=-g}var r=h._[R[W]],l=d[W];if(r.add.fxrp&&(l.indexOf(0)!=-1||r.ej()))r.add.fxrp.offset(t,g);
for(var H=0;H<l.length;H++){var y=l[H];if(y==0){r.rect.offset(t,g);if(r.lq()&&r.ez(h))r.ez(h).rect.offset(t,g);
if(r.add.artb){var f=r.Al();f.offset(t,g);r.zV(f)}if(r.add.TySh){r.add.TySh.V.translate(t,g);if(r.add.TySh.add){r.add.TySh.add.vmsk.offset(t,g)}}if(r.add.SoLd){var b=new um(1,0,0,1,t,g),K=r.add.SoLd,Z=s.w.vD(K.Trnf),J=s.w.vD(K.nonAffineTransform);
z.G.V(Z,b,Z);z.G.V(J,b,J);K.Trnf=s.w.Lt(Z);K.nonAffineTransform=s.w.Lt(J)}}if(y==1)r.rc().rect.offset(t,g);
if(y==2){r.add.vmsk.offset(t,g);if(r.add.vogk)z.qK.V(r.add.vogk,[1,0,t,0,1,g,0,0],[])}if(y==3){r.ez(h).v.rect.offset(t,g);
if(l.length==1)r.I()}}if(l.length>0){var u=r.add.GdFl;if(u==null)u=r.add.PtFl;if(r.ej()&&!r.eM()&&r.add.vmsk!=null&&z.t.tT(r.add.vmsk.r)&&r.add.vmsk.wX==255&&(u==null||u.Algn&&u.Algn.v)){r.rect.offset(t,g)}else r.eG(h);
var C=h.root.DV(r.Ay(h),h,R[W]);M=M.DM(C);C.offset(-t,-g);M=M.DM(C);if(r.add.SoCo||r.add.GdFl||r.add.PtFl||uJ.get(r.add)!=null)M=M.DM(x);
r.zim()}}h.I(M)};s.Kf.zq_=function(h,R){var d=[];for(var L=0;L<R.length;L++){var $=h._[R[L]];d.push($.UN(h))}return d};
s.Kf.Ox=function(h,R,d){var L=h.d.Nq={B:[],D:[]},$=R.x+d[0],W=R.y+d[1];if(d[2]!=1e9){L.D.push("M","L");
L.B.push(d[2],W,d[2],W+R.$)}if(d[3]!=1e9){L.D.push("M","L");L.B.push($,d[3],$+R.k,d[3])}h.Dw=!0};s.Kf.KG=function(h,R,d,L){var $=s.Kf.zOw(h,[[R.x],[R.y]],d,L);
return new kY(R.x+$[0],R.y+$[1])};s.Kf.OL=function(h,R,d,L,$){var W=$==!0?0:1,M=s.Kf.zOw(h,[[R.x,R.x+(R.k>>>W),R.x+R.k],[R.y,R.y+(R.$>>>W),R.y+R.$]],d,L);
return M};s.Kf.zOw=function(h,R,d,L){if(L==null)L=[!0,null,!0];var $=[0,0,1e9,1e9];if(!d.Yt)return $;
var W=JSON.parse(JSON.stringify(R));for(var M=0;M<2;M++){var x=1e9,t=R[M],g=0;for(var r=0;r<t.length;
r++){var l=s.Kf.zkp(h,t[r],W[1-M][r],M,d,L);if(l!=1e9)W[M][r]=l;if(l!=1e9&&Math.abs(l-t[r])<Math.abs(x)){x=l-t[r];
g=l}}if(x!=1e9){$[M]=x;$[M+2]=g}}return $};s.Kf.zkp=function(h,R,d,L,$,W){var M=1e9,x=$.Bp,t=$.UU;if(W[0]&&x[0]&&t.Py&&$.gl){var g=h.Py[L];
for(var r=0;r<g.length;r++)if(Math.abs(g[r]-R)<Math.abs(M-R))M=g[r]}if(x[1]&&t.dT&&$.gl){var l=Math.round(z.ru.tv(t.nt,h,t.nq));
if(L==1&&t.BK==1){var H=d*.5*Math.sqrt(4/3),y;l*=Math.sqrt(4/3);y=Math.round((R-H)/l)*l+H;if(Math.abs(y-R)<Math.abs(M-R))M=y;
y=Math.round((R+H)/l)*l-H;if(Math.abs(y-R)<Math.abs(M-R))M=y}else{var y=Math.round(R/l)*l;if(Math.abs(y-R)<Math.abs(M-R))M=y}}var f=h.tj;
if(x[3]&&t.tj&&$.gl&&f.length!=0){for(var r=0;r<f.length;r++){if(!W[2]&&h.Cy.indexOf(r)!=-1)continue;
var b=s.B$.Bo(f,r);for(var K=0;K<3;K+=2)if(b[K+L]!=R&&Math.abs(b[K+L]-R)<Math.abs(M-R))M=b[K+L]}}if(W[1]){var Z=W[1],J=Z.k,u=Z.$,C=[Z.x,Z.y,Z.x+(J>>>1),Z.y+(u>>>1),Z.x+J,Z.y+u];
for(var r=0;r<6;r+=2)if(Math.abs(C[r+L]-R)<Math.abs(M-R))M=C[r+L]}if(x[4]){var J=h.k,u=h.$,C=[0,0,J>>>1,u>>>1,J,u];
for(var r=0;r<6;r+=2)if(Math.abs(C[r+L]-R)<Math.abs(M-R))M=C[r+L]}var Q=Math.abs(M-R)<=4*e.p()/h.F.P?M:1e9;
return Q};s.el=function(){s.dS.call(this,[10,12],s.zaN,"tools/mwand")};s.el.prototype=new s.dS;s.el.prototype.sn=function(h,R,d,L){this.finish(h,R,d,L)};
s.el.prototype.getSelection=function(h,R,d,L){var $=this.pV,W=s.dS.zzU(new kY(Math.floor($.x),Math.floor($.y)),this.uO.Ty);
return W};s.el.zdx=function(h,R,d){if(h.f.length!=1){alert("More than one layer selected.");return null}var L=h._[h.f[0]],$;
if(L.add.lsct!=null&&L.add.lsct!=W_.DL){alert("No layer selected.");return null}if(R.x<0||R.x>h.k||R.y<0||R.y>h.$)return null;
var W=new A(0,0,h.k,h.$),M=L.GJ<=0?null:L.GJ==1?L.rc():L.ez(h).v;if(M==null&&W.PC(L.rect))$=L.buffer;
else{$=z.h(W.s()*4);if(M==null)z.bt(L.buffer,L.rect,$,W);else s.kq.cj(M.channel,M.rect,M.color,$,W)}var x=s.el.zAb($,W,R,null,d),t=z.Xb(x,W),g=z.h(t.s());
z.mF(x,W,g,t);return{rect:t,channel:g}};s.el.JB=function(h,R,d){var L=R.k,W=0,M=0,x=0,t=0;h=new Uint32Array(h.buffer);
var $=[],g=d.length;for(var r=0;r<g;r++){var l=d[r],H=Math.round(l.x-.5-R.x),y=Math.round(l.y-.5-R.y);
if(!R.hR(l))H=y=0;var f=y*L+H,b=h[f];$.push([b&255,b>>8&255,b>>16&255,b>>>24])}return $};s.el.zAb=function(h,R,d,L,$){h=new Uint32Array(h.buffer);
var W=R.k,M=R.$,x=W*M;if(L==null)L=s.el.JB(h,R,[d]);var t=Math.round(d.x-.5-R.x),g=Math.round(d.y-.5-R.y),r=g*W+t,l=Date.now(),H=z.h(W*M),y=$[0],f=1/y,b=$[1]&&y>0?255:0;
if($[2]){var K=z.h(H.length),Z=new Uint32Array(x),J=1;Z[0]=t<<16|g;K[r]=1;while(J>0){var u=Z[J-1];J--;
var C=u>>>16,Q=u&65535,i=Q*W+C,j=s.el.Pp(h[i],L);if(j>y){var V=b*(1-Math.max(0,Math.min(1,(j-y)*f)));
H[i]=~~V}else{H[i]=255;if(Q!=M-1&&K[i+W]==0){Z[J++]=C<<16|Q+1;K[i+W]=1}if(Q!=0&&K[i-W]==0){Z[J++]=C<<16|Q-1;
K[i-W]=1}if(C!=W-1&&K[i+1]==0){Z[J++]=C+1<<16|Q;K[i+1]=1}if(C!=0&&K[i-1]==0){Z[J++]=C-1<<16|Q;K[i-1]=1}}}}else{for(var i=0;
i<x;i++){var j=s.el.Pp(h[i],L);if(j<=y)H[i]=255}for(var Q=0;Q<M;Q++)for(var C=0;C<W;C++){var i=Q*W+C;
if(H[i]==0&&(C>0&&(H[i-1]==255||Q>0&&H[i-W-1]==255||Q<M-1&&H[i+W-1]==255)||C<W-1&&(H[i+1]==255||Q>0&&H[i-W+1]==255||Q<M-1&&H[i+W+1]==255)||Q>0&&H[i-W]==255||Q<M-1&&H[i+W]==255)){var j=s.el.Pp(h[i],L),V=b*(1-Math.max(0,Math.min(1,(j-y)*f)));
H[i]=~~V}}}return H};s.el.Pp=function(h,R){var d=R.length,L=s.el.zMa(h,R[0]),$=1;while($!=d){L=Math.min(L,s.el.zMa(h,R[$]));
$++}return L};s.el.zMa=function(h,R){var d=h&255,L=h>>>8&255,$=h>>>16&255,W=h>>>24&255;if(R[3]==0)return W<5?0:255;
var M=Math.max(Math.abs(d-R[0]),Math.max(Math.abs(L-R[1]),Math.abs($-R[2])));return W==0?255:M};s.zm=function(){s.kq.call(this,[10,26],s.zta,"tools/patch");
this.ex=null;this.BM=null;this.T=null;this.KP=null;this.HS=new kY;this.HG=null};s.zm.prototype=new s.kq;
s.zm.prototype.pf=function(h,R,d,L,$){var W=h.F.Px($.x,$.y);if(h.z&&z.F$(W,h.z.channel,h.z.rect)){var M=new A(0,0,h.k,h.$),x=M.hc(h.z.rect);
if(!h.wI()||x.dp())return;if(!x.PC(h.z.rect)){var t=z.h(x.s());z.mF(h.z.channel,h.z.rect,t,x);h.z={channel:t,rect:x}}this.uC(h);
this.KP=W;this.HS=new kY(W.x-h.z.rect.x,W.y-h.z.rect.y);this.HG=z.h(h.z.rect.s()*4);z.set(this.HG,4294967295);
if(this.uO.patch==1){var g=h._[h.f[0]];g.D$(h,h.z,!0);if(g.De==null)this.KP=null}}else{this.BM={B:[W.x,W.y],D:["M"]};
this.ex=W}};s.zm.prototype.yn=function(h,R,d,L,$){var W=h.F.Px($.x,$.y);if(this.KP){if(this.uO.patch==1){var M=h._[h.f[0]].De,x=W.x-this.HS.x,t=W.y-this.HS.y;
s.Kf.WG(h,h.f[0],Math.round(x-M.RH.x),Math.round(t-M.RH.y))}else this.zzg(h,W,"clone")}if(this.ex){this.BM.D.push("L");
this.BM.B.push(W.x,W.y);this.ex=W;h.d.Gw=this.BM;h.Dw=!0}};s.zm.prototype.WL=function(h,R,d,L,$){var W=h.F.Px($.x,$.y);
if(this.KP){this.zzg(h,W,"heal");this.finish(h,h.z.rect);this.KP=null}if(this.ex){var M=s.dS.jQ(this.uO.setop,L.u(m.ka),L.u(m.tw)),x=new X(e.E.nN,!0);
if(this.BM.B.length<=4)x.data=s.dS.HY();else x.data=s.dS.uU(this.BM.B,M);R.R(x);this.ex=null;h.d.Gw=null;
h.Dw=!0}};s.zm.prototype.Rv=function(){return this.T};s.zm.prototype.e$=function(h,R,d,L,$){s.kq.prototype.e$.call(this,h,R,d,L,$);
this.MZ($,L)};s.zm.prototype.MZ=function(h,R){var d="auto;";if(R!=null&&R.u(m.ka)&&!R.u(m.tw)||this.uO.setop=="union")d="copy";
var L=new X(e.E.Z,!0);L.data={c:e.j.sm,_u:d};if(this.caller)this.caller.R(L)};s.zm.prototype.zzg=function(h,R,d){var L=new kY(Math.round(this.KP.x-R.x),Math.round(this.KP.y-R.y));
if(this.uO.patch==1)L.qC(-L.x,-L.y);this.T=L;this.or(h,d,this.HG,h.z.rect,h.z.rect);this.I(h,h.z.rect)};
s.WA=function(){s.kq.call(this,[10,13],s.zzA,"tools/pbucket")};s.WA.prototype=new s.kq;s.WA.prototype.enable=function(h,R,d,L){var $=new X(e.E.Z,!0);
$.data={c:e.j.sm,_u:"default"};R.R($)};s.WA.prototype.Nk=function(h,R){};s.WA.prototype.WL=function(h,R,d,L,$){if(!h.wI())return;
var W=h.F.Px($.x,$.y),M=s.el.zdx(h,W,this.uO.wconf);if(M==null)return;var x=z.h(M.rect.s()*4);z._M(x,(d.Ch&255)<<16|(d.Ch>>8&255)<<8|(d.Ch>>16&255)<<0);
z.Gn(M.channel,x,3);this.uC(h);this.or(h,"draw",x,M.rect,M.rect);this.I(h,M.rect);this.finish(h,M.rect)};
s.CZ=function(){s.dS.call(this,[10,14],s.zaa,"tools/plasso");this.bq="crosshair";this.Fb=[];this.BM=null;
this.zKC=0};s.CZ.prototype=new s.dS;s.CZ.prototype.disable=function(h,R,d,L){this.cI(h)};s.CZ.prototype.sn=function(h,R,d,L){this.Fb=[m.rT,m.rQ]};
s.CZ.prototype.J$=function(h){return this.Fb.indexOf(h)!=-1};s.CZ.prototype.pZ=function(h){return this.BM!=null};
s.CZ.prototype.jI=function(){return this.BM!=null};s.CZ.prototype.TZ=function(){return this.BM!=null};
s.CZ.prototype.xT=function(h,R,d,L){if(this.BM==null)return;var $=this.BM,W=$.B,M=W.length-2,x=this.pV;
if(this.$d>1&&d.u(m.tw)&&L.Pv){W.push(0,0);$.D.push("L");M+=2}else if(d.u(m.ka))x=s.Iq.zE(new kY(W[M-2],W[M-1]),x);
W[M]=x.x;W[M+1]=x.y;h.d.Gw=$;h.Dw=!0};s.CZ.prototype.GL=function(h,R,d,L){var $=Date.now();if(this.BM==null)this.BM={B:[this.pV.x,this.pV.y,this.pV.x,this.pV.y],D:["M","L"]};
else{this.xT(h,R,d,L);this.BM.D.push("L");this.BM.B.push(this.pV.x,this.pV.y);h.d.Gw=this.BM;if($-this.zKC<250||kY.ZW(this.pV,new kY(this.BM.B[0],this.BM.B[1]))<5*e.p()/h.F.P){this.finish(h,R,d,L);
this.cI(h)}}this.zKC=$;h.d.Gw=this.BM};s.CZ.prototype.cI=function(h){this.BM=null;this.Fb=[];if(h!=null){h.d.Gw=null;
h.Dw=!0}};s.CZ.prototype.LT=function(h,R,d,L){s.dS.prototype.LT.call(this,h,R,d,L);if(this.BM==null)return;
if(L.u(m.rT)||L.u(m.rQ)){this.BM.B.pop();this.BM.B.pop();this.BM.D.pop();this.xT(h,d,L)}if(L.u(m.FA)){if(this.BM.B.length>4)this.finish(h,d,L);
this.BM=null}if(L.u(m.$j)){this.BM=null}h.d.Gw=this.BM;h.Dw=!0};s.CZ.prototype.getSelection=function(h,R,d,L){return s.dS.uU(this.BM.B)};
s.xv=function(){s.dS.call(this,[10,10],s.zaz,"tools/mlasso");this.bq="crosshair";this.Fb=[];this.r=[];
this.YM=[];this._U=[];this.Yh=null;this.nd=null;this.D_=null;this.DG=0;this.Ki=0};s.xv.prototype=new s.dS;
s.xv.prototype.disable=function(h,R,d,L){this.clear(h)};s.xv.prototype.pZ=function(h){return this.r.length!=0};
s.xv.prototype.TZ=function(){return this.r.length!=0};s.xv.prototype.J$=function(h){return this.Fb.indexOf(h)!=-1};
s.xv.prototype.sn=function(h,R,d,L){this.Fb=[m.rT,m.rQ];var $=this.Jq(this.sT,h);if(this.r.length!=0&&(kY.ZW($,this.r[0])<4*e.p()/h.F.P||Date.now()-this.DG<300)){this.WT(h,this.r[0]);
this.finish(h,R,d);this.clear(h);return}this.DG=Date.now();if(this.r.length!=0)$=this.Pm($,h);else{var W=h.k,M=h.$,x=z.h(W*M),t=h.DP(),g=W*M*4;
for(var r=0;r<g;r+=4)x[r>>>2]=~~(.5+z.py(t[r],t[r+1],t[r+2])*(t[r+3]*(1/255)));this.Yh=z.Nb.zNI(x,W,M);
this.D_=new Uint16Array(x.length)}this.WT(h,$);this.Ki=d.u(m.tw)?1:0;this.Ux(h)};s.xv.prototype.WT=function(h,R){var d=this.r;
this.YM[d.length]=this._U.length;if(d.length!=0){z.Nb.FF(this.nd,R.y*h.k+R.x);var L=this.P_(h,R);L.reverse();
var $=s.xv.zmS(h,L);this._U=this._U.concat($)}d.push(R);this.zqp(h)};s.xv.prototype.zqp=function(h){var R=this.r[this.r.length-1],d=R.y*h.k+R.x;
this.nd=z.Nb.zN$(this.Yh.$m,this.Yh.NM,d);this.D_.fill(0)};s.xv.prototype.Jq=function(h,R){return new kY(Math.floor(Math.max(0,Math.min(R.k-1,h.x))),Math.floor(Math.max(0,Math.min(R.$-1,h.y))))};
s.xv.prototype.clear=function(h){this._U=[];this.r=[];this.YM=[];this.Yh=null;this.nd=null;this.D_=null;
if(h!=null){h.d.Gw=null;h.d.CI=[];h.Dw=!0}this.Fb=[]};s.xv.prototype.xT=function(h,R,d,L){var $=this.r,W=$.length;
if(W==0)return;var M=this.Pm(this.Jq(this.pV,h),h),x=this.P_(h,M);for(var t=0;t<x.length;t++){var g=x[t],r=new kY(g%h.k,Math.floor(g/h.k));
if(this.D_[g]>30&&kY.ZW(r,$[W-1])>20){this.WT(h,r);return}this.D_[g]++}if(this.Ki==1&&L.Pv)this.WT(h,M);
this.Ux(h)};s.xv.prototype.Ux=function(h){var R=this.r;if(R.length!=0){var d=this.Pm(this.Jq(this.pV,h),h),L=this.P_(h,d);
L.reverse();var $=s.xv.zmS(h,L),W=this._U.concat($),M=h.d.Gw={B:W,D:["M"]};for(var x=2;x<W.length;x+=2)M.D.push("L")}h.d.CI=[];
for(var x=0;x<R.length;x++)h.d.CI.push(R[x].x+.5,R[x].y+.5);h.Dw=!0};s.xv.prototype.GL=function(h,R,d,L){};
s.xv.prototype.LT=function(h,R,d,L){if(this.r.length==0)return;if(L.u(m.rT)||L.u(m.rQ)){this.r.pop();
this._U=this._U.slice(0,this.YM[this.r.length]);this.YM.pop();if(this.r.length==0)this.clear(h);else this.zqp(h);
this.Ux(h)}if(L.u(m.FA)){var $=this.Jq(this.pV,h);this.WT(h,$);this.finish(h,d,L);this.clear(h)}if(L.u(m.$j)){this.clear(h)}};
s.xv.prototype.getSelection=function(h,R,d,L){return s.dS.uU(this._U)};s.xv.prototype.P_=function(h,R){var d=this.r[this.r.length-1],L=d.y*h.k+d.x,$=R.y*h.k+R.x;
if(this.Ki==1)return[$,L];var W=[$];while($!=L){$=this.nd.QV[$];W.push($);if(W.length>5e3){console.log(W);
throw"e"}}return W};s.xv.zmS=function(h,R){var d=[],L=h.k;for(var $=0;$<R.length;$++){var W=R[$];d.push(W%L+.5,Math.floor(W/L)+.5)}return d};
s.xv.prototype.Pm=function(h,R){var d=R.k,L=R.$,$=h.clone(),M=3;z.Nb.FF(this.nd,h.y*d+h.x);var W=this.nd.jd[h.y*d+h.x];
for(var x=-M+1;x<M;x++)for(var t=-M+1;t<M;t++){var g=h.x+t,r=h.y+x;if(g<0||g>=d||r<0||r>=L)continue;
z.Nb.FF(this.nd,r*d+g);if(this.nd.jd[r*d+g]<W)$.qC(g,r)}return $};s.rM=function(){s.Cx.call(this,[10,36],s.zaD,"tools/ruler");
this.nD=null;this.ni=null;this.HA=null;this.HO=null};s.rM.prototype=new s.Cx;s.rM.prototype.pZ=function(h){return h.Pv};
s.rM.prototype.disable=function(h,R,d,L){this.nD=this.ni=null;if(h)this.Nd(h)};s.rM.prototype.pf=function(h,R,d,L,$){var W=h.F.P/e.p(),M=h.F.Px($.x,$.y);
M.x=Math.round(M.x);M.y=Math.round(M.y);var x=this.nD;if(x&&kY.ZW(M,x[0])*W<6)this.ni=[0];else if(x&&kY.ZW(M,x[1])*W<6)this.ni=[1];
else if(x&&s.rM.zkC(x[0],x[1],M)*W<6&&Math.min(x[0].x,x[1].x)-5<=M.x&&M.x<=Math.max(x[0].x,x[1].x)+5&&Math.min(x[0].y,x[1].y)-5<=M.y&&M.y<=Math.max(x[0].y,x[1].y)+5){this.ni=[0,1];
this.HO=[x[0].clone(),x[1].clone()];this.HA=M}else{this.nD=[M.clone(),M.clone()];this.ni=[1]}};s.rM.prototype.yn=function(h,R,d,L,$){if(this.ni==null)return;
var W=this.nD,M=this.ni,x=h.F.Px($.x,$.y);x.x=Math.round(x.x);x.y=Math.round(x.y);if(M.length==2){var t=x.x-this.HA.x,g=x.y-this.HA.y;
W[0]=this.HO[0].clone();W[0].offset(t,g);W[1]=this.HO[1].clone();W[1].offset(t,g)}else{W[M[0]].qC(x.x,x.y);
if(L.u(m.ka)){W[M[0]]=s.Iq.zE(W[1-M[0]],W[M[0]])}}this.Nd(h);this.RU(R,e.E.Z,{c:e.j.Ui,L:this.id,zZW:W[0],ji:W[1]})};
s.rM.prototype.WL=function(h,R,d,L,$){this.ni=null};s.rM.prototype.RU=function(h,R,d){var L=new X(R,!0);
L.data=d;h.R(L)};s.rM.prototype.Nd=function(h){var R=this.nD;if(R==null){h.d.Gw=null;h.d.CI=[]}else{var d=[R[0].x,R[0].y,R[1].x,R[1].y];
h.d.Gw={D:["M","L"],B:d};h.d.CI=d}h.Dw=!0};s.rM.zkC=function(h,R,d){var L=R.x-h.x,$=R.y-h.y,W=Math.abs($*d.x-L*d.y+R.x*h.y-R.y*h.x),M=Math.sqrt(L*L+$*$);
return W/M};s.JF=function(){s.kq.call(this,[10,19],s.un,"tools/sharpen");this._Q="copy"};s.JF.prototype=new s.kq;
s.JF.prototype.pf=function(h,R,d,L,$){var W=this.uO.pdetail?uf.XG:uf.un;if(L.u(m.tw))W=uf.ug;this.AG(h,d,L,$,this.uO.strn,W);
if(this.qE==null)return;this.Yu(h)};s.JF.prototype.yn=function(h,R,d,L,$){this.AK(h,R,d);if(this.gb)this.mv(h,d,$);
if(this.qE==null)return;if(!$.Pv)return;this.gh(h,d,L,$);this.Yu(h)};s.WH=function(){s.kq.call(this,[10,24],s.zBs,"tools/shbrush");
this._Q="draw";this.uO.opacity=.5};s.WH.prototype=new s.kq;s.WH.prototype.pf=function(h,R,d,L,$){this.AG(h,d,L,$,1);
if(this.qE==null)return;this.Yu(h)};s.WH.prototype.yn=function(h,R,d,L,$){this.AK(h,R,d);if(this.gb)this.mv(h,d,$);
if(this.qE==null)return;if(!$.Pv)return;this.gh(h,d,L,$);this.Yu(h)};s.WH.prototype.WL=function(h,R,d,L,$){if(this.qE==null)return;
this.or(h,"sheal",this.qE.kE(),this.qE.OG(),this.qE.ZV(),null);this.I(h,this.qE.ZV());s.kq.prototype.WL.call(this,h,R,d,L,$)};
s.Jd=function(){s.kq.call(this,[10,20],s.od,"tools/smudge");this._Q="copy"};s.Jd.prototype=new s.kq;
s.Jd.prototype.pf=function(h,R,d,L,$){this.AG(h,d,L,$,this.uO.strn,uf.od);if(this.qE==null)return;this.Yu(h)};
s.Jd.prototype.yn=function(h,R,d,L,$){this.AK(h,R,d);if(this.gb)this.mv(h,d,$);if(this.qE==null)return;
if(!$.Pv)return;this.gh(h,d,L,$);this.Yu(h)};s.Je=function(){s.kq.call(this,[10,23],s.zzw,"tools/sponge");
this._Q="sponge"};s.Je.prototype=new s.kq;s.Je.prototype.pf=function(h,R,d,L,$){this.AG(h,d,L,$,this.uO.flow);
if(this.qE==null)return;this.Yu(h)};s.Je.prototype.yn=function(h,R,d,L,$){this.AK(h,R,d);if(this.gb)this.mv(h,d,$);
if(this.qE==null)return;if(!$.Pv)return;this.gh(h,d,L,$);this.Yu(h)};s.en=function(){s.Cx.call(this,[10,17],s.Gp,"tools/zoom");
this.Gv=!1;this.oV=!0;this.Dg=0;this.YP=null;this.UF=null;this.Hg=0;this.qW=null;this.BZ=0;this.fa=new MQ([{name:[8,0],sv:"Ctrl + +"},{name:[8,1],sv:"Ctrl + -",OC:!0},{name:[20,3],sv:"Ctrl + 0"},{name:[20,2],n:function(h){return{Zz:uP.get([20,2])+": 100%"}},sv:"Ctrl + 1"}],[{m:e.E.Q,L:s.Gp,g:{c:"zoom",oV:!0}},{m:e.E.Q,L:s.Gp,g:{c:"zoom",oV:!1}},{m:e.E.Q,L:s.Gp,g:{c:"adapt",a:"fitscr"}},{m:e.E.Q,L:s.Gp,g:{c:"adapt",a:"pixel"}}])};
s.en.prototype=new s.Cx;s.en.prototype.VK=function(h,R,d,L,$){var W=this.fa;W.o();W.parent=R;W.update(h,d);
var M=new X(e.E.Z,!0);M.data={c:e.j.eN,_z:W,x:$.lV+2,y:$.ZE+1};R.R(M)};s.en.prototype.enable=function(h,R,d,L){this.Na(R,L);
if(Date.now()-this.Dg<300)this.ns({c:"adapt",a:"pixel"},R,h,L,d);this.Dg=Date.now()};s.en.prototype.pf=function(h,R,d,L,$){this.UF=new kY($.x,$.y);
this.Hg=h.F.P;this.qW=h.F.T.clone()};s.en.prototype.yn=function(h,R,d,L,$){if(this.UF==null)return;var W=Math.round(($.x-this.UF.x)/16);
if(W==0)return;var M=s.en.PR(this.Hg),x=s.en.GC[Math.max(0,Math.min(s.en.GC.length-1,M-W))];h.F.P=this.Hg;
h.F.T=this.qW.clone();this.ns({c:"zoom",P:x,Un:this.UF},R,h,L,d)};s.en.prototype.WL=function(h,R,d,L,$){if(kY.ZW(this.UF,$)<4){var W=this.znh(L);
this.ns({c:"zoom",oV:W,Un:$},R,h,L,d)}this.UF=null};s.en.GC=[32,16,12,8,7,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
s.en.Pn=function(h,R,d,L){var $=1;while(h*$*1/2>d||R*$*1/2>L)$*=1/2;if(h*$*2/3>d||R*$*2/3>L)$*=1/2;else if(h*$>d||R*$>L)$*=2/3;
return $};s.en.zkL=function(h,R){var d=s.en.PR(h);if(R&&d==0)return h;if(!R&&d==s.en.GC.length-1)return h;
return s.en.GC[R?d-1:d+1]};s.en.PR=function(h){var R=0;while(s.en.GC[R]>h)R++;return R};s.en.Wr=function(h,R,d,L){var $=h.C$;
if(L==0||L==null){L=s.en.zkL(h.P,d);if(L==h.P)return}var W=h.Px(R.x,R.y);if($.k*L<=h.C.k&&$.$*L<=h.C.$)h.T.qC(0,0);
else{h.T.x=Math.round($.k*L/2-W.x*L+(R.x-h.C.k/2));h.T.y=Math.round($.$*L/2-W.y*L+(R.y-h.C.$/2))}h.P=L};
s.en.prototype.ns=function(h,R,d,L,$){var W=0,M=!1,x=null;if(h.c=="adapt"){var t=0;if(h.a=="pixel")t=1;
if(h.a=="fitscr"){var t=0,g=d.F.C.k,r=d.F.C.$;if(d.k<=g&&d.$<=r){var l=1;while(d.k*(l+1)<=g&&d.$*(l+1)<=r)l++;
t=l}else{t=s.en.Pn(d.k,d.$,g,r)}}x=new kY(Math.round(d.F.C.k/2),Math.round(d.F.C.$/2));W=t;s.en.Wr(d.F,x,M,W);
d.tf=!0}if(h.c.startsWith("multi")){function H(n){var a=n[0].x-n[1].x,I=n[0].y-n[1].y;return Math.sqrt(a*a+I*I)}function y(n){return new kY((n[0].x+n[1].x)/2,(n[0].y+n[1].y)/2)}var f=h.HZ,b=y(f);
if(h.c=="multidown"){this.YP=[f,d.F.P,d.F.Px(b.x,b.y)]}else{W=this.YP[1]*H(f)/H(this.YP[0]);if(W>=1)W=Math.min(32,Math.round(W));
else{var K=0,Z=1e9,J=s.en.GC;for(var u=0;u<J.length;u++){var C=Math.abs(1-W/J[u]);if(C<Z){Z=C;K=u}}W=J[K]}if(W!=d.F.P)s.en.Wr(d.F,b,M,W);
var Q=this.YP[2],i=d.F.Ia(Q.x,Q.y),j=d.F.T;j.x=Math.round(j.x+b.x-i.x);j.y=Math.round(j.y+b.y-i.y);d.tf=!0}}if(h.c=="scroll"){x=h.Un;
this.BZ+=h.bQ.y;var V=14;if(this.BZ<-V){M=!0;this.BZ=Math.max(this.BZ+V,-(V-1))}else if(this.BZ>V){M=!1;
this.BZ=Math.min(this.BZ-V,V-1)}else return;s.en.Wr(d.F,x,M,W);d.tf=!0}if(h.c=="zoom"){x=h.Un?h.Un:new kY(Math.round(d.F.C.k/2),Math.round(d.F.C.$/2));
if(h.P!=null)W=h.P;else M=h.oV;s.en.Wr(d.F,x,M,W);d.tf=!0}if(h.c=="mskView"){var E=d._[d.f[0]],N=E.GJ==3?E.ez(d).v:E.rc();
if(h.a==0){d.F.ro=[1,1,1];N.Ar=!1}if(h.a==1){d.F.ro=[1,1,1];N.Ar=!0}if(h.a==2){d.F.ro=[0,0,0];N.Ar=!0}for(var u=0;
u<d.Mk.length;u++)d.Mk[u].Ar=!1;d.rY=[];d.Dw=!0}};s.en.prototype.LT=function(h,R,d,L){if(this.Gv!=L.u(m.tw)){this.Gv=L.u(m.tw);
var $={c:e.j.Ui,L:this.id,Gv:this.Gv},W=new X(e.E.Z,!0);W.data=$;R.R(W);this.Na(R,L)}};s.en.prototype.Na=function(h,R){var d=new X(e.E.Z,!0),L=this.znh(R);
d.data={c:e.j.sm,_u:L?"zoom-in":"zoom-out"};h.R(d)};s.en.prototype.e$=function(h,R,d,L){this.oV=h.oV;
this.Na(R,L)};s.en.prototype.znh=function(h){var R=this.oV;if(h.u(m.Ap)&&h.u(m.Is))R=!0;if(this.Gv)R=!R;
return R};s.rf=function(h,R,d){s.Cx.call(this,h,R,d);this.iW=null;this.Nt=null;this.Ps=null;this.zZf=0};
s.rf.prototype=new s.Cx;s.rf.prototype.enable=function(h,R,d,L,$){this.Nt=d;var W=new X(e.E.Z,!0);W.data={c:e.j.sm,_u:"default"};
R.R(W)};s.rf.prototype.VK=function(h,R,d,L,$){if(h.lH()[0].length==0)return;var W=new X(e.E.Z,!0);W.data={c:e.j.Ui,L:this.id,qM:$,pe:h,Ow:d};
R.R(W)};s.rf.prototype.ztI=function(h,R){var d=new X(e.E.Z,!0);d.data={c:e.j.nY,Ns:uh.zw};if(!R.gl)h.R(d);
d.data={c:e.j.nY,Ns:uh.IW};if(!R.UU.bs)h.R(d)};s.rf.prototype.mG=function(h,R,d,L){if(d.KJ!=this.id)return;
if(h.f.length==0)return;var $=h._[h.f[0]],W=$.add.vmsk,M=$.add.vstk,x=s.rf.NW(h,h.f[0]);this.iW=h;this.Ps=R;
if($.ej()&&W!=null&&(JSON.stringify(M)!=JSON.stringify(d.Do)||JSON.stringify(x)!=JSON.stringify(d.Dc))){this.zZf=Date.now();
var t=new X(e.E.Z,!0);t.data={c:e.j.nY,Ns:uh.gc,a:x};R.R(t);t.data={c:e.j.nY,Ns:uh.bB,a:M};R.R(t)}};
s.rf.prototype.Nk=function(h,R){if(this.iW==null)return;if(R==uh.QU||R==uh.gc||R==uh.bB){if(Date.now()-this.zZf<50)return;
var d=R==uh.gc,L=this.iW,$=d?h.Dc:h.Do,W=[];for(var M=0;M<L.f.length;M++){var x=L.f[M],t=L._[x];if(!t.ej()||t.add.vmsk==null)continue;
W.push(x)}var g=new X(e.E.Q,!0);g.L=s.br;g.data={c:S.Kl,TP:W,Q_:d,a:$};if(W.length!=0)this.Ps.R(g)}};
s.rf.prototype.zuO=function(h){if(typeof h=="number"){var R=new X(e.E.nN,!0);R.data=s.gn._v(0);R.data.QZ.Usng.v.Type.v.Clr.v=z.i.ZR({H:h>>>16&255,N:h>>>8&255,W:h>>>0&255});
this.Ps.R(R)}};s.rf.prototype.ns=function(h,R,d,L,$){this.Ps=R;if(h.c=="newfill"){if(h.cP==0){var W=new X(e.E.Z,!0);
W.data={c:e.j.pY,DN:"colorpicker",lo:$.Ch,YN:this.zuO.bind(this)};R.R(W)}}else if(h.c=="pathedit"){var M=h.Ek,x="",t=d.bs.slice(0),g=d.Qg.slice(0),r=d.bs.slice(0),l=d.Qg.slice(0);
if(M=="rnm"){var H=-1-h.KW,y=t[H],f=zG.Mv(h.name,y.add);r[H]=f;x="Rename"}else if(M=="new"){r.push(zG.Mv("Path "+t.length));
l=[r.length-1];x="New"}else if(M=="del"){if(l.length==0)return;l.sort(function(N,G){return N-G});if(l[0]==0){r[0]=zG.Mv(t[0].name);
l=l.slice(1)}var b=0;while(l.length!=0){r.splice(l[0]-b,1);l=l.slice(1);b++}x="Delete"}else if(M=="fromsel"){var K=r[0]=zG.Mv("Work Path");
l=[0];if(d.z==null)return;var Z=d.z.channel.slice(0);for(var J=0;J<Z.length;J++)Z[J]=Z[J]>128?2:1;var u=d.z.rect.clone();
u.si(1,1);var C=z.h(u.s());z.mF(Z,d.z.rect,C,u);var Q=kn.E_(C,u.k,u.$,Math.round(u.s()*5e-4)),i=kn.lH(Q),j=new um(1,0,0,1,-1+d.z.rect.x,-1+d.z.rect.y);
for(var J=0;J<i.length;J++)z.G.V(i[J].path.B,j,i[J].path.B);for(var J=0;J<i.length;J++){var V=i[J];if(V.color==1&&V.parent==-1)continue;
var E=z.G.yp(i[J].path,!1);K.add.vmsk.r=K.add.vmsk.r.concat(E)}K.add.vogk=S.kd(K.add.vmsk.r);x="Selection to"}var N=new zk(x+" Path",this);
N.data={vk:t,H$:g,zZb:r,Hc:l};if(M=="fromsel"){N.data.mN=d.z;N.data.Qn=null}d.FD(N);this.uj(N.data,d)}else{var n=d.lH(h.c=="append"),i=n[0],a=n[1],K=i[a[0]],I=K.add.vmsk,q=K.add.vogk,k=I.clone(),F=I.clone(),o=JSON.stringify(q);
if(h.c=="remove"){if(F.f.length==0)return;var b=0;for(var J=0;J<F.f.length;J++){q.splice(F.f[J]+b,1);
b--}F.r=z.t.zZT(F.r,F.f);F.f=[];F.ih=[]}if(h.c=="append"){s.rf.zwh(h.zZq,F,q)}this.gG(d,K.KW,F,q);this.rk(d,h.zv,K.KW,k,F.clone(),null,o,JSON.stringify(q))}};
s.rf.zEW=function(h,R){var d=z.t.zZr(h.r,h.f),L=[];for(var $=0;$<h.f.length;$++)L.push(JSON.parse(JSON.stringify(R[h.f[$]])));
return[d,L]};s.rf.zwh=function(h,R,d){var L=z.t.iG(R.r),$=z.t.iG(h[0]);R.r=R.r.concat(h[0].slice(2));
R.f=[];for(var W=0;W<$;W++)R.f.push(L+W);for(var W=0;W<$;W++)d.push(JSON.parse(JSON.stringify(h[1][W])))};
s.rf.prototype.J$=function(h,R){if(R==null)return!1;var d=R.lH(),L=d[0],$=d[1];if($.length==0)return!1;
var W=L[$[0]],M=W.add.vmsk;if(M&&M.f.length+M.ih.length!=0)return[m.rT,m.rQ].indexOf(h)!=-1};s.rf.prototype.LT=function(h,R,d,L){if(h==null)return;
var $=h.lH(),W=$[0],M=$[1];if(M.length==0)return;var x=W[M[0]],t=x.add.vmsk;if(L.u(m.$j)||L.u(m.FA)){t.ih=[];
h.Dw=!0}if(t.f.length!=0){var g=L.AF();if(g.x!=0||g.y!=0){var r=t.clone(),l=t.clone(),H=new um(1,0,0,1,g.x,g.y),y=x.add.vogk,f=JSON.stringify(y);
z.t._B(l.r,H,l.f);z.qK.V(y,z.S.iE(H),l.f);this.gG(h,x.KW,l,y);this.rk(h,"Move Paths",x.KW,r,l.clone(),!0,f,JSON.stringify(y))}if(L.u(m.rT)||L.u(m.rQ))this.ns({c:"remove",zv:"Delete Paths"},R,h,L,d)}};
s.rf.prototype.rk=function(h,R,d,L,$,W,M,x){var t=new zk(R,this);t.data={Ft:d,rK:L,WO:$,znC:W,zCG:M,rU:x};
h.FD(t)};s.rf.prototype.uj=function(h,R){if(h.Ft!=null)this.gG(R,h.Ft,h.WO.clone(),JSON.parse(h.rU));
else{R.bs=h.zZb.slice(0);R.Qg=h.Hc.slice(0);R.Dw=R.RL=!0}if(h.mN||h.Qn){R.z=h.Qn;R.td=!0}};s.rf.prototype.Lu=function(h,R){if(h.Ft!=null)this.gG(R,h.Ft,h.rK.clone(),JSON.parse(h.zCG));
else{R.bs=h.vk.slice(0);R.Qg=h.H$.slice(0);R.Dw=R.RL=!0}if(h.mN||h.Qn){R.z=h.mN;R.td=!0}};s.rf.prototype.gG=function(h,R,d,L){var $=R<0?h.bs[-1-R]:R<1e6?h._[R]:h._[R-1e6].add.TySh;
$.add.vmsk=d;$.add.vogk=L;if(1e6<=R){uM.dN($);var W=h._[R-1e6],M=$,x=this.Nt,t=new zH(M.h_,x.UX),g=Wg.sj(t,M);
W.rect=g.e;W.buffer=g.tP;W.I();h.I()}else if(0<=R){d.RT=!0;$.eG(h);h.I()}h.Dw=h.RL=!0};s.rf.NW=function(h,R){var d=h._[R],L=d.add.vstk,$=null;
if(L&&!L.fillEnabled.v)$={sS:0};else if(d.add.SoCo)$={sS:1,ke:d.add.SoCo};else if(d.add.GdFl)$={sS:2,ke:d.add.GdFl};
else if(d.add.PtFl)$={sS:3,ke:d.add.PtFl};return $};s.rf.Ji=function(h,R){var d=h.add.vmsk,L=h.add.vstk,$=R.sS;
if(L)L.fillEnabled.v=$!=0;if($>0){var W=["SoCo","GdFl","PtFl"][$-1];for(var M=0;M<3;M++)delete h.add[["SoCo","GdFl","PtFl"][M]];
h.add[W]=R.ke}};s.gn=function(h,R,d,L){s.rf.call(this,h,R,d);this.uO={tmode:1,shape:WX.hx(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,cstr:{BA:0}};
this.zZE=L;this.Bl=null;this.rX=null;this.Dv=null};s.gn.prototype=new s.rf;s.gn.prototype.pZ=function(h){return h.Pv&&this.id!=s.Om};
s.gn.prototype.enable=function(h,R,d,L,$){this.Nt=d;var W=new X(e.E.Z,!0);W.data={c:e.j.sm,_u:"crosshair"};
R.R(W)};s.gn.prototype.Wg=function(h,R,d,L){};s.gn.prototype.pf=function(h,R,d,L,$){this.ztI(R,d);var W=this.uO.tmode;
if(W==2&&!h.wI())return;var M=h.F.Px($.x,$.y);M=s.Kf.KG(h,M,d);this.Dv=[M.x,M.y];this.Bl=M;this.rX=new kY(0,0)};
s.gn.prototype.zD_=function(h,R,d){var L=[this.Bl.clone(),R.clone()];if(this.zZE)L=s.gn.NB(L[0],L[1],d,!0,this.uO.cstr);
if(h)h.F.Ya=new A(L[0].x,L[0].y,L[1].x-L[0].x,L[1].y-L[0].y);return this.Wg(L[0],L[1],d.u(m.ka),this.Dv)};
s.gn.prototype.zhN=function(h,R,d){var L=h.F.Px(R.x,R.y),$=this.uO.cstr;if($.BA==2){var W=new A(L.x-$.x,L.y-$.y,$.x,$.y),M=s.Kf.OL(h,W,d);
L.x+=M[0];L.y+=M[1];s.Kf.Ox(h,W,M)}else L=s.Kf.KG(h,L,d);return L};s.gn.prototype.yn=function(h,R,d,L,$){if(this.Bl==null)return;
var W=this.zhN(h,$,d);if(L.u(m.Ap))this.Bl=W.FZ(this.rX);else this.rX=W.FZ(this.Bl);this.Dv.push(W.x,W.y);
if(this.uO.shape==null)this.uO.shape=d.DY[0];var M=this.zD_(h,W,L)[0],x=z.G.yJ(M);h.d.Gw=x;if(this.id!=s.Om&&this.id!=s.RW&&this.id!=s.Rp)s.Cx.uF($.x+10,$.y-10,h.F.Ya,h,d);
h.Dw=!0};s.gn.prototype.zu$=function(h,R,d,L){var $=h[4].clone();if(L){$.x-=R/2;$.y-=d/2}var W=this.Wg($,new kY($.x+R,$.y+d),!1,this.Dv);
this.zWC(h[0],h[1],h[2],W)};s.gn.prototype.zWC=function(h,R,d,L){var $=new X(e.E.nN,!0);$.data=s.gn.zhS(L[1],d);
R.R($);if(L[1].v.classID=="customShape"&&L[1].v.Nm.v.startsWith("--")){var W=h.lH(),M=W[0],x=W[1],t=M[x.pop()],g=t.add.vmsk,r=t.add.vogk,l=g.clone();
l.r=L[0];this.gG(h,t.KW,l,r)}};s.gn.prototype.WL=function(h,R,d,L,$){if(this.Bl==null)return;var W=this.zhN(h,$,d),M=this.uO.binop,x=this.uO.tmode,t=this.Dv,g=t.length;
if(this.id==s.Om&&g<=4){}else if(g<=4){W.x=Math.round(W.x);W.y=Math.round(W.y);var r=new X(e.E.Z);r.data={c:e.j.pY,DN:"createshape",zZi:this.zu$.bind(this),zZD:this.name,zZp:[h,R,d,L,W]};
R.R(r)}else if(g!=2){var l=this.zD_(h,W,L),H=l[0];if(x==0&&H.length>2){H[2].uH=[1,2,3,0][M];var y=h.lH(!0),f=y[0],b=y[1],K=f[b.pop()],Z=K.add.vmsk,J=K.add.vogk,u=Z.clone(),C=Z.clone(),Q=JSON.stringify(J);
C.r=C.r.concat(H.slice(2));C.f=[z.t.iG(C.r)-1];var i=z.qK.Vo(l[1]);J.push(i?i:z.qK.uv());this.gG(h,K.KW,C,J);
this.rk(h,this.name,K.KW,u,C,null,Q,JSON.stringify(J))}else if(x==1){this.zWC(h,R,d,l)}else if(x==2){var C=new S.EF;
C.r=C.r.concat(H.slice(2));var j=C.rc(),V=z.h(j.rect.s()*4);z._M(V,(d.Ch&255)<<16|(d.Ch>>8&255)<<8|(d.Ch>>16&255)<<0);
z.Gn(j.channel,V,3);var E=new X(e.E.Q,!0);E.L=s.xZ;E.data={c:"draw",Mg:{buffer:V,rect:j.rect.clone()},zv:this.name};
R.R(E)}}this.Bl=null;h.d.Gw=null;h.d.Nq=null;h.d.jc=[];h.F.Ya=null;h.Dw=!0};s.gn.prototype.e$=function(h,R,d,L,$){for(var d in h)this.uO[d]=h[d]};
s.gn.NB=function(h,R,d,L,$){var W=h.x,M=h.y,x=R.x,t=R.y;if($&&$.BA==2){if(L){x=Math.round(x);t=Math.round(t)}W=x-$.x;
M=t-$.y}else{var g=0;if($&&$.BA==1)g=$.y/$.x;else if(d&&d.u(m.ka))g=1;if(g!=0){if(L){if(W<x)W=Math.floor(W);
else W=Math.ceil(W);if(M<t)M=Math.floor(M);else M=Math.ceil(M)}var r=Math.abs(x-W),l=Math.abs(t-M),H=r;
if(l/r<g)H*=l/r/g;x=x>W?W+H:W-H;t=t>M?M+H*g:M-H*g}if(d&&d.u(m.tw)){W-=x-W;M-=t-M}}var h=new kY(W,M),R=new kY(x,t);
if(L)s.gn.zux(h,R);return[h,R]};s.gn.zux=function(h,R){if(h.x>R.x){var d=h.x;h.x=R.x;R.x=d}if(h.y>R.y){var d=h.y;
h.y=R.y;R.y=d}h.x=Math.floor(h.x);h.y=Math.floor(h.y);R.x=Math.ceil(R.x);R.y=Math.ceil(R.y)};s.gn.zuR=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
s.gn._v=function(h,R){var d=s.gn.zuR();if(R==null)R=JSON.parse(JSON.stringify(uz.kM[h]));uE._k.hG(R,d.Usng.v.Type.v,h);
return{Mh:"make",QZ:d}};s.gn.zhS=function(h,R){var d=R.Dc,L=JSON.parse(JSON.stringify(R.Do));if(d.sS==0)L.fillEnabled.v=!1;
var $=s.gn._v(Math.max(0,d.sS-1),d.ke);$.QZ.Usng.v.Shp=h;$.QZ.Usng.v.strokeStyle={t:"Objc",v:L};return $};
s.cc=function(){s.rf.call(this,[10,29],s.jw,"tools/pen");this.nH=null;this.$U=null;this.pM=1;this.zaG=0;
this.YS=null;this.YG=!1};s.cc.prototype=new s.rf;s.cc.prototype.pZ=function(h){return this.nH!=null};
s.cc.prototype.pf=function(h,R,d,L,$){this.ztI(R,d);var W=h.F.Px($.x,$.y),y,f;W.x=Math.round(W.x);W.y=Math.round(W.y);
var M=s.Kf.KG(h,W,d),x=h.lH(this.pM==0),t=x[0],g=x[1],r=t[g.pop()],l=r?r.add.vmsk:null,H=4*e.p()/h.F.P;
if(l)y=z.t.F$(l.r,W,!0,H);if(this.pM==1&&(l==null||(l.ih.length==0||l.ih[0]!=l.r.length-1)&&y.KW==-1)){var b=new X(e.E.nN,!0),K=z.qK.Hx("customShape",[0,0,1,1],null,null,null,"--");
b.data=s.gn.zhS(K,d);R.R(b);x=h.lH(!0);t=x[0];g=x[1];r=t[g.pop()];l=r.add.vmsk;l.r=l.r.slice(0,2)}var Z=r.add.vogk;
this.nH=l.clone();this.$U=JSON.stringify(Z);var J=l.r,u=z.t.iG(J);f=z.t.nO(l.r,new A(W.x-H,W.y-H,H*2,H*2));
y=z.t.F$(l.r,W,!0,H);if(y.KW!=-1&&f[0].length==0){var C=z.t._r(J,y.KW);while(J[C].length<=y.DE){y.DE-=J[C].length;
C+=J[C].length+1}J[C].length++;J.splice(C+2+y.DE,0,{type:4,MW:M.clone(),O:M.clone(),dD:M.clone()});l.ih=[C+2+y.DE]}else if(f[0].length==1&&L.u(m.tw)){var Q=f[0],i=l.r.length-1,j=l.r[Q];
j.dD=j.O.clone();if(Q!=i)j.MW=j.O.clone()}else{var V=0;if(l.ih.length!=1){l.f=[u];J.push({type:3,length:1,uH:[1,2,3,0][this.zaG],pa:0,Qu:0,Qb:0});
V=J.length;Z.push(z.qK.uv())}else{var E=l.ih[0],N=z.t.ul(J,E),C=z.t._r(J,N);if(E==C+J[C].length&&kY.ZW(W,J[C+1].O)<H){J[C].type=0;
l.ih=[C+1];this.YS=M;this.YG=!0;this.gG(h,r.KW,l,Z);h.Dw=!0;return}J[C].length++;V=E+1}if(L.u(m.ka)&&J[V-1]&&J[V-1].O)M=s.Iq.zE(J[V-1].O,M);
J.splice(V,0,{type:4,MW:M.clone(),O:M.clone(),dD:M.clone()});l.ih=[V];this.YS=M}this.gG(h,r.KW,l,Z);
h.Dw=!0};s.cc.prototype.yn=function(h,R,d,L,$){if(this.nH==null)return;var W=h.F.Px($.x,$.y),M=s.Kf.KG(h,W,d),x=h.lH(this.pM==0),t=x[0],g=x[1],r=t[g.pop()],l=r.add.vmsk,H=l.r,y=H[l.ih[0]];
if(L.u(m.Ap)){if(L.u(m.ka))M=s.Iq.zE(this.YS,M);var f=y.O.FZ(y.dD),b=y.MW.FZ(y.O);y.dD=M;y.O=M.add(f);
y.MW=y.O.add(b)}else{if(L.u(m.ka))M=s.Iq.zE(y.O,M);if(this.YG){var K=kY.ZW(y.O,M),Z=K==0?0:kY.ZW(y.O,y.dD)/K;
y.dD.x=y.O.x+Z*(M.x-y.O.x);y.dD.y=y.O.y+Z*(M.y-y.O.y)}else y.dD=M;if(L.u(m.tw))y.type=5;else{y.type=4;
y.MW=y.O.add(y.O.FZ(M))}this.YS=M}this.gG(h,r.KW,l,r.add.vogk);h.Dw=!0};s.cc.prototype.WL=function(h,R,d,L,$){if(this.nH==null)return;
var W=h.lH(this.pM==0),M=W[0],x=W[1],t=M[x.pop()],g=t.add.vmsk,r=t.add.vogk;this.rk(h,this.YG?"Close Path":"Add Anchor Point",t.KW,this.nH,g.clone(),null,this.$U,JSON.stringify(r));
this.YG=!1;this.nH=null};s.cc.prototype.e$=function(h,R,d,L,$){this.pM=h.tmode;this.zaG=h.binop};s.NN=function(){s.gn.call(this,[10,30],s.Om,"tools/fpen",!1)};
s.NN.prototype=new s.gn;s.NN.prototype.Wg=function(h,R,d,L){return[z.t.Ez(L,this.uO.tolr),z.qK.Hx("customShape",[0,0,1,1],null,null,null,"--")]};
s.mI=function(){s.rf.call(this,[10,27],s.VL,"tools/pselect");this.Eq=null;this.pk=!1;this.BM=null;this.nH=null;
this.sM=null;this.$U=null;this.sk=null;this.$A=null;this.pW=null;this.PP=null};s.mI.prototype=new s.rf;
s.mI.prototype.pZ=function(h){return h.Pv};s.mI.prototype.pf=function(h,R,d,L,$){var W=h.F.Px($.x,$.y),M=h.lH(),x=M[0],t=M[1],g,r;
for(var l=0;l<t.length;l++){var H=x[t[l]],y=H.add.vmsk,f=z.t.F$(y.r,W).KW;if(f!=-1){this.BM=g=H;r=f}for(var b=0;
b<y.nD.length;b++){var K=z.t.kg(y.r,y.nD[b]);if(K==null)continue;var Z=kY.ZW(K,W);if(Z<4*e.p()/h.F.P){var J=h._[H.KW-1e6].add.TySh,u=J.h_.Curve,C=J.V,Q=u.Reversed;
u.Reversed=!1;var u=zH.Xx(J.h_.Curve);u.Reversed=Q;z.G.V(u[0],C,u[0]);this.pW=[u,b,C.r$*C.Cv-C.W*C.DS];
this.BM=g=H;r=0}}if(this.pW)break}if(g!=null){var y=g.add.vmsk;y.ih=[];var i=y.f.indexOf(r);if(L.u(m.ka)){if(i==-1){y.f.push(r);
this.pk=!0}else y.f.splice(i,1)}else{if(i==-1)y.f=[r];this.pk=!0}this.$A=z.t.wZ(y.r,y.f)}this.Eq=W;this.PP=new Bo(W);
h.RL=!0;h.Dw=!0};s.mI.prototype.yn=function(h,R,d,L,$){if(this.Eq==null)return;var W=h.F.Px($.x,$.y);
if(this.pk){W=this.PP.XN(W,L);var M=this.BM;if(this.nH==null){this.nH=this.sM=M.add.vmsk.clone();this.$U=this.sk=JSON.stringify(M.add.vogk);
if(L.u(m.tw)){var x=this.nH.clone(),t=JSON.parse(this.$U),g=s.rf.zEW(x,t);s.rf.zwh(g,x,t);this.sM=x;
this.sk=JSON.stringify(t)}}var x=this.sM.clone(),t=JSON.parse(this.sk);if(this.pW){var r=this.pW,l=r[0][0],H=z.G.ZU(l,W.x,W.y);
x.nD[r[1]]=r[0][1][H];var y=l[H*2],f=l[H*2+1],b=(l[H*2+2]-y)*(W.y-f)-(l[H*2+3]-f)*(W.x-y);if(r[2]<0)b=-b;
x.qv=b>0}else{var K=this.$A.clone(),Z=K.x,J=K.y;K.offset(W.x-this.Eq.x,W.y-this.Eq.y);K.x=Math.round(K.x);
K.y=Math.round(K.y);var u=s.Kf.OL(h,K,d),C=new um(1,0,0,1,K.x-Z+u[0],K.y-J+u[1]);z.t._B(x.r,C,x.f);z.qK.V(t,z.S.iE(C),x.f);
s.Kf.Ox(h,K,u)}this.gG(h,M.KW,x,t)}else{var Q=this.Eq;h.d.Gw=z.G.ii(new A(Q.x,Q.y,W.x-Q.x,W.y-Q.y));
h.Dw=!0}};s.mI.prototype.WL=function(h,R,d,L,$){if(this.Eq==null)return;var W=h.F.Px($.x,$.y),M=this.BM,x=M?M.add.vmsk:null;
if(this.pk){var t=JSON.stringify(M.add.vogk);if(!this.Eq.PC(W))this.rk(h,"Move Paths",M.KW,this.nH,x,null,this.$U,t);
if(h!=null&&h.d.Nq){h.d.Nq=null;h.Dw=!0}}else{if(x){var g=this.Eq,r=new A(g.x,g.y,W.x-g.x,W.y-g.y),l=z.t.zZK(x.r,r);
if(L.u(m.ka)){for(var H=0;H<l.length;H++)if(x.f.indexOf(l[H])==-1)x.f.push(l[H])}else x.f=l}h.d.Gw=null;
h.Dw=!0}this.Eq=null;this.nH=null;this.pW=null;this.pk=!1;this.PP=null};s.mI.prototype.mG=function(h,R,d,L){s.rf.prototype.mG.call(this,h,R,d,L);
if(d.KJ!=this.id)return;if(h.f.length==0)return;var $=h.lH(),W=$[0],M=$[1];if(M.length==0)return;var x=W[M[0]],t=x.add.vmsk,g=x.add.vstk,r=x.add.vogk,l=new X(e.E.Z,!0);
l.data={c:e.j.Ui,L:this.id,PU:"main",ER:t?t:null,qK:r};R.R(l)};s.mI.prototype.e$=function(h,R,d,L,$){var W=h.YT;
if(W.ER){var M=d.lH(),x=M[0],t=M[1],g=x[t[0]],r=g.add.vmsk.clone(),l=JSON.stringify(g.add.vogk),H=W.ER;
this.gG(d,g.KW,H,W.qK);var y=[18,5];if(r.r.length==H.r.length)y=r.f[0]==H.f[0]?"Fill Rule":"Path Order";
this.rk(d,y,g.KW,r,H,null,l,JSON.stringify(W.qK))}};s.Bd=function(){s.rf.call(this,[10,28],s.Rk,"tools/dselect");
this.Es=-1;this.nG=-1;this.Ym=null;this.Eq=null;this.BM=null;this.nH=null;this.$U=null;this.DG=0;this.zMi={psnap:!1};
this.PP=null};s.Bd.prototype=new s.rf;s.Bd.prototype.pZ=function(h){return h.Pv};s.Bd.prototype.e$=function(h){this.zMi=h};
s.Bd.prototype.disable=function(h,R,d,L){this.Np(h)};s.Bd.prototype.pf=function(h,R,d,L,$){this.Np(h);
var W=h.F.Px($.x,$.y),l,H,y;this.Ym=W.clone();var M=h.lH(),x=M[0],t=M[1];if(t.length==0)return;var g=4*e.p()/h.F.P,r=new A(W.x-g,W.y-g,g*2,g*2);
for(var f=0;f<t.length;f++){l=this.BM=x[t[f]];H=l.add.vmsk;y=z.t.nO(H.r,r);if(y[0].length+y[1].length+y[2].length!=0)break}var b=[!1,!1,!1];
for(var K=0;K<3;K++){for(var Z=0;Z<y[K].length;Z++)if(H.ih.indexOf(y[K][Z])!=-1){y[K]=[y[K][Z]];b[K]=!0;
break}}if(y[0].length!=0&&(b[0]||!b[1]&&!b[2])){var J=y[0][0],u=H.ih.indexOf(J);if(L.u(m.ka)){if(u==-1)H.ih.push(J);
else{H.ih.splice(u,1);h.Dw=!0;return}}else if(u==-1)H.ih=[J];this.Es=J;this.nG=0}else if(y[1].length!=0&&(b[1]||!b[2])){this.Es=y[1][0];
this.nG=1}else if(y[2].length!=0){this.Es=y[2][0];this.nG=2}else{var C=z.t.F$(H.r,W,!0,g);if(C.KW==-1)this.Eq=W;
else{H.f=[C.KW];H.ih=[]}}if(this.nH==null){this.nH=l.add.vmsk.clone();this.$U=JSON.stringify(l.add.vogk)}this.PP=new Bo(W);
h.Dw=!0};s.Bd.prototype.yn=function(h,R,d,L,$){if(h==null)return;var W=h.F.Px($.x,$.y),M=this.BM;if(this.Es!=-1){var x=this.nH.clone(),t=M.add.vogk,g=x.r[this.Es];
g=[g.O,g.MW,g.dD][this.nG];if(L.u(m.ka)){W=this.PP.XN(W,L);W.x+=g.x-this.Ym.x;W.y+=g.y-this.Ym.y}else{if(this.zMi.psnap){W.x=Math.round(W.x);
W.y=Math.round(W.y)}W=s.Kf.KG(h,W,d)}if(this.nG==0){var r=new um(1,0,0,1,W.x-g.x,W.y-g.y);z.t._B(x.r,r,null,x.ih)}else{var l=x.r[this.Es],H=l.MW,y=l.dD;
if(this.nG==2){H=l.dD;y=l.MW}H.qC(W.x,W.y);if(l.type==1||l.type==4){var f=kY.ZW(H,l.O),b=kY.ZW(y,l.O);
if(b!=0){y.x=l.O.x-(H.x-l.O.x)*(b/f);y.y=l.O.y-(H.y-l.O.y)*(b/f)}}}this.NA(x,t);this.gG(h,M.KW,x,t)}else if(this.Eq!=null){var K=this.Eq;
h.d.Gw=z.G.ii(new A(K.x,K.y,W.x-K.x,W.y-K.y));h.Dw=!0}else{var Z=h.lH(),J=Z[0],u=Z[1],M,x,i;if(u.length==0)return;
var C=4*e.p()/h.F.P,Q=new A(W.x-C,W.y-C,C*2,C*2);for(var j=0;j<u.length;j++){M=J[u[j]];x=M.add.vmsk;
i=z.t.nO(x.r,Q);if(i[0].length+i[1].length+i[2].length!=0)break}this.Np(h);for(var V=0;V<3;V++){for(var E=0;
E<i[V].length;E++){var N=i[V][E],n=x.r[N];n=V==0?n.O:V==1?n.MW:n.dD;h.d.ph.push(h.d.$r.length>>>1);h.d.$r.push(n.x,n.y);
h.Dw=!0}}}};s.Bd.prototype.Np=function(h){if(h.d.$r.length!=0){h.d.$r=[];h.d.ph=[];h.Dw=!0}};s.Bd.prototype.WL=function(h,R,d,L,$){var W=h.F.Px($.x,$.y),M=this.BM,x=M?M.add.vmsk:null,t=M?M.add.vogk:null;
if(this.Es!=-1){if(Date.now()-this.DG<300){var g=x.r[this.Es],r=this.nG,l=null;if(r==0){var H=g.MW.PC(g.O),y=g.dD.PC(g.O);
if(!H&&!y){l="Anchor Type";if(g.type==1||g.type==4)g.type++;else{g.type--;g.dD=g.O.add(g.O.FZ(g.MW))}}else{l="Add Handles";
if(H&&y){g.MW.x-=30;g.dD.x+=30}else if(H)g.MW=g.O.add(g.O.FZ(g.dD));else if(y)g.dD=g.O.add(g.O.FZ(g.MW))}}else{l="Remove Handle";
if(r==1)g.MW.lQ(g.O);else g.dD.lQ(g.O)}this.NA(x,t);this.gG(h,M.KW,x,t);this.rk(h,l,M.KW,this.nH,x,null,this.$U,JSON.stringify(t))}else if(!this.Ym.PC(W)){this.rk(h,"Drag Anchors",M.KW,this.nH,x,null,this.$U,JSON.stringify(t))}this.DG=Date.now()}else if(this.Eq!=null){var f=this.Eq,b=new A(f.x,f.y,W.x-f.x,W.y-f.y);
if(b.k<0)b.x+=b.k;if(b.$<0)b.y+=b.$;b.k=Math.abs(b.k);b.$=Math.abs(b.$);var K=z.t.nO(x.r,b);x.ih=K[0];
h.d.Gw=null}this.BM=null;this.nH=null;this.Eq=null;this.Es=this.nG=-1;this.PP=null;h.Dw=!0};s.Bd.prototype.NA=function(h,R){for(var d=0;
d<h.ih.length;d++){var L=z.t.ul(h.r,h.ih[d]);z.qK.Ze(R,L)}};s.Bd.prototype.LT=function(h,R,d,L){if(h==null)return;
var $=h.lH(),W=$[0],M=$[1];if(M.length==0)return;var x=W[M[0]],t=x.add.vmsk;if(t==null||t.ih.length==0)return;
var g=x.add.vogk,r=JSON.stringify(g),l=L.AF();if(l.x!=0||l.y!=0){var H=t.clone(),y=t.clone(),f=new um(1,0,0,1,l.x,l.y);
z.t._B(y.r,f,null,y.ih);this.NA(y,g);this.gG(h,x.KW,y,g);this.rk(h,"Move Anchors",h.f[0],H,y.clone(),!0,r,JSON.stringify(g))}if(L.u(m.rT)||L.u(m.rQ)){var H=t.clone(),y=t.clone();
y.r=z.t.zZx(y.r,y.ih,g);y.ih=[];this.gG(h,x.KW,y,g);this.rk(h,"Delete Anchors",x.KW,H,y.clone(),!0,r,JSON.stringify(g))}};
s.Bd.prototype.rk=function(h,R,d,L,$,W,M,x){var t=h.jL();if(W&&t!=null&&t.L==this&&t.data.znC&&t.data.Ft==d&&JSON.stringify(t.data.rK.ih)==JSON.stringify(L.ih)){t.data.WO=$;
t.data.rU=x}else{var t=new zk(R,this);t.data={Ft:d,rK:L,WO:$,znC:W,zCG:M,rU:x};h.FD(t)}};s.Rect=function(){s.gn.call(this,[10,32],s.Ru,"tools/rect",!0)};
s.Rect.prototype=new s.gn;s.Rect.prototype.Wg=function(h,R,d){var L=this.uO.crad,$=R.x-h.x,W=R.y-h.y;
return[z.t.WB.Rect(h.x,h.y,$,W,L),z.qK.Hx("Rctn",[h.x,h.y,R.x,R.y],[L,L,L,L])]};s.Rc=function(){s.gn.call(this,[10,33],s.jD,"tools/ellipse",!0)};
s.Rc.prototype=new s.gn;s.Rc.prototype.Wg=function(h,R,d){var L=R.x-h.x,$=R.y-h.y;return[z.t.WB.Rc(h.x,h.y,L,$),z.qK.Hx("Elps",[h.x,h.y,R.x,R.y])]};
s.NO=function(){s.gn.call(this,[10,34],s.RW,"tools/pshape",!1)};s.NO.prototype=new s.gn;s.NO.prototype.Wg=function(h,R,d){var L=this.uO.pshape,$=this.uO.crad,W=this.uO.irad/100,M=this.uO.sides,x=this.uO.width,t=this.uO.tsiz,g=this.uO.length,K;
R=R.clone();if(d){if(Math.abs(R.x-h.x)<Math.abs(R.y-h.y))R.x=h.x;else R.y=h.y}var r=h.x,l=h.y,H=R.x,y=R.y,f=Math.sqrt((H-r)*(H-r)+(y-l)*(y-l)),b=Math.atan2(-y+l,H-r);
if(L==0)K=z.t.WB.Eh(r,l,f,b,M,$);if(L==1)K=z.t.WB.zCB(r,l,f,b,M,$,W);if(L==2)K=z.t.WB.zCq(h.x,h.y,R.x,R.y,x,t/100);
if(L==3)K=z.t.WB.zCM(r,l,f,b,g);return[K,z.qK.Hx("customShape",[h.x,h.y,R.x,R.y],null,null,null,"--")]};
s.GF=function(){s.gn.call(this,[10,35],s.Rp,"tools/line",!1)};s.GF.prototype=new s.gn;s.GF.prototype.Wg=function(h,R,d){var L=this.uO.width;
R=R.clone();if(d){R=s.Iq.zE(h,R)}return[z.t.WB.GF(h.x,h.y,R.x,R.y,L),z.qK.Hx("Ln",null,null,[h.x,h.y,R.x,R.y],L)]};
s.Ng=function(){s.gn.call(this,[10,31],s.jp,"tools/cshape",!0)};s.Ng.prototype=new s.gn;s.Ng.prototype.Wg=function(h,R,d){var L=this.uO.shape,$=L.Re.k/L.Re.$,W=S.EF.MK(L.r);
R=R.clone();if(d){R.y=h.y+(R.x-h.x)/$}var M=R.x-h.x,x=R.y-h.y;z.t._B(W,new um(M,0,0,x,h.x,h.y));return[W,z.qK.Hx("customShape",[h.x,h.y,R.x,R.y],null,null,null,L.Kn)]};
s.w=function(h,R,d){s.Cx.call(this,h,R,d);this.My=0;this._=null;this.$s=null;this.Ow=null;this.HW=1;
this.YK=!1;this.cursor=null;this.Bz=null;this.mN=null;this.$$=!1;this.TG=null;this.zMJ=0;this.su=null;
this.Ki=0;this.nu=null;this.A$=null;this.QA=null;this.sW=null;this.sh=null};s.w.prototype=new s.Cx;s.w.OT=function(h,R){var d={classID:"null",null:tQ.sx("Dcmn",!0)};
if(h)d.Angl={t:"UntF",v:{type:"#Ang",val:R}};else d.Axis={t:"enum",v:{Ornt:R}};return{Mh:h?"rotateEventEnum":"flip",QZ:d}};
s.w.prototype.VK=function(h,R,d,L,$){var W=new X(e.E.Z,!0);W.data={c:e.j.Ui,L:this.id,qM:$,pe:h,Ow:d};
R.R(W);this.lS=!1};s.w.prototype.pZ=function(h){return this.A$&&this.A$.zMv()};s.w.prototype.ns=function(h,R,d,L,$){this.Ow=$;
if(h.c=="again"&&this.su==null)return;if(h.c=="doMouseDown"){if(this.A$==null)return;this.pf(d,R,$,L,h.Un);
return}if(!this.xo(d,$))return;if(this.A$){this.zqb(h,this.A$.Au());this.lE(d,$,0);this.my(d);return}this.zqv(d,h.J==null,h.J);
this.zdW(d);this.zqb(h);this.Lc(d,R,h.zv,!1)};s.w.prototype.zqb=function(h,R){var d=this.nu;if(R==null){var L=h.IT!=null?h.IT:4;
R=this.A$.zWa()[L]}var $=R.x,W=R.y;if(h.c=="rot"&&h.a!=Math.PI&&(d.k+d.$&1)==1){$=Math.floor($);W=Math.floor(W)}var M=new um;
M.translate(-$,-W);if(h.c=="rot")M.rotate(h.a);if(h.c=="scl")M.scale(h.a.x,h.a.y);if(h.c=="mat")M.concat(h.a);
M.translate($,W);if(h.c=="again")M=this.su;var x=this.A$.$F();z.G.V(x,M,x);this.A$.SM(x)};s.w.prototype.TZ=function(){return!0};
s.w.prototype.xo=function(h,R){if(h==null)return!1;if(this.id==s.R_)return h.z!=null;var d=h.HP(!0,null,null,!0);
for(var L=0;L<d.length;L++){var $=h._[d[L]];if($.NG(2)||$.NG(31)){alert(uP.get([6,57,0]));return!1}if($.add.artb){alert("You can not transform the whole artboard");
return!1}if($.add.TySh)if(!Wg.na($.add.TySh,R.UX))return!1;if($.add.SoLd){if(d.length==1&&!z.Mp.Lp($.add.SoLd.warp.v)&&($.rc()&&$.rc()._q||$.add.vmsk&&$.add.vmsk._q)){alert("Unlink masks before transforming Smart Object");
return!1}if(!h.ziN($.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+h.On($.add.SoLd.Idnt.v).qZ+")");
return!1}}}if(h.z==null)return!0;if(!h.wI())return!1;return h.zh$()};s.w.prototype.pf=function(h,R,d,L,$){var W=h.F.Px($.x,$.y);
if(this.Ki==1){var M=z.S.Gv(z.S.wy(this.A$.$F(),this.nu));W=z.S.Vd(M,W)}var x=this.Ki==0?this.A$:this.QA;
this.YK=x.pf(h,d,L,W);if(this.YK&&x.hN(W)){if(Date.now()-this.zMJ<250)this.Lc(h,R,null,!0);this.zMJ=Date.now()}};
s.w.prototype.MZ=function(h){var R=new X(e.E.Z,!0);R.data={c:e.j.sm,_u:this.cursor};h.R(R)};s.w.prototype.yn=function(h,R,d,L,$){var W=h.F.Px($.x,$.y);
if(this.Ki==1){var M=z.S.Gv(z.S.wy(this.A$.$F(),this.nu));W=z.S.Vd(M,W)}var x=this.Ki==0?this.A$:this.QA;
if(!$.Pv){var t="default";if(x){var g=x.gW(W,h.F.P);if(g)t=g}if(t!=this.cursor){this.cursor=t;this.MZ(R)}}if(!this.YK)return;
x.yn(h,d,L,W);this.lE(h,d,0);this.my(h);this.Oc(R)};s.w.prototype.WL=function(h,R,d,L,$){var W=h.F.Px($.x,$.y);
this.A$.WL(h,d,L,W);this.YK=!1};s.w.prototype.LT=function(h,R,d,L){if(L.u(m.FA))this.Lc(h,R,null,!0);
else if(L.u(m.$j))this.dy(h,R);else{var $=this.A$.LT(h,d,L);if($){this.lE(h,d,0);this.Oc(R)}}};s.w.prototype.e$=function(h,R,d,L){if(h.PU=="commit")this.Lc(d,R,null,!0);
else if(h.PU=="cancel")this.dy(d,R);else if(h.PU=="switchWarp"){this.Ki=1-this.Ki;this.zuL();this.my(d);
this.Oc(R)}else if(h.PU=="wrp"){this.QA.zEG(h.Yn);this.my(d);this.lE(d,this.Ow,0)}else if(h.PU=="ctyp"){this.A$.zWS(h.sE);
this.my(d);this.Oc(R)}else if(h.PU=="cen"){this.A$.zWK(h.hs);this.my(d);this.lE(d,this.Ow,0);this.Oc(R)}else if(h.PU=="trn"){var $=z.S.iE(h.nE),W=this.nu,M=z.S.wy(this.A$.$F(),this.nu);
$[6]=M[6],$[7]=M[7];var x=[W.x,W.y,W.x+W.k,W.y,W.x+W.k,W.y+W.$,W.x,W.y+W.$];z.S.apply($,x);this.HW=h.HW;
this.A$.SM(x);this.my(d);this.lE(d,this.Ow,0)}};s.w.prototype.my=function(h){if(this.Ki==0)this.A$.rv(h,this.Ow);
else{this.QA.rv(h);var R=z.S.wy(this.A$.$F(),this.nu);z.S.apply(R,h.d.Gw.B);z.S.apply(R,h.d.CI)}};s.w.prototype.Lc=function(h,R,d,L){this.lE(h,this.Ow,this.HW);
var $=new zk(d?d:this.name,this);if(this.My==0)$.data={type:this.My,_:this._,TG:this.$s,GE:s.w.Wc(h,this._)};
else if(this.My==1){var W=h._[this._[0]],M;if(W.De.GJ<=0){M=z.h(W.De.RH.s());z.nP(W.De.LC,M,3)}else M=h.z.channel;
var x={rect:W.De.RH.clone(),channel:M};$.data={type:this.My,J:this._[0],mN:this.mN,Qn:x,Bz:this.Bz,$$:this.$$,De:W.De,TG:this.TG,GE:{e:W.De.RH,Ry:W.De.LC}}}else if(this.My==2){$.data={type:this.My,mN:this.mN,Qn:{rect:h.z.rect.clone(),channel:z.clone(h.z.channel)}}}h.FD($);
var t=this.nu,g=new kY(t.x+t.k/2,t.y+t.$/2),r=z.S.wy(this.A$.$F(),t),l=z.S.Qx(r),H=new um;H.translate(g.x,g.y);
H.concat(l);H.translate(-g.x,-g.y);l=H.clone();var y=-Math.atan2(-l.W,l.r$),f=new um;f.rotate(y);l.concat(f);
function b(Z,J){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][J],val:Z}}}var K={classID:"null",null:tQ.sx("Lyr",!0),FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:b(H.RZ,0),Vrtc:b(H.fA,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:b(Math.atan(l.DS)*180/Math.PI,2),Vrtc:b(0,2)}},Wdth:b(l.r$*100,1),Hght:b(l.Cv*100,1),Angl:b(y*180/Math.PI,2)};
this.Ps=R;this.track({Mh:"transform",QZ:K});this.escape(h,R,L)};s.w.prototype.dy=function(h,R){if(this.My==0)s.w.WY(h,this._,this.$s);
else if(this.My==1){var d=h._[this._[0]];h.z=this.mN;if(!this.$$){d.De.RH=this.TG.e;d.De.LC=this.TG.Ry;
d.IK(h,0,0,h.z)}else{d.Dx(h,this.Bz)}h.I();h.td=!0}else if(this.My==2){h.z=this.mN;h.td=!0}this.escape(h,R,!0)};
s.w.prototype.escape=function(h,R,d){this.A$.clear(h);this.A$=null;this.QA=null;this.Ki=0;if(d)this.RU(R,e.E.Z,{c:e.j.AA})};
s.w.prototype.uj=function(h,R){if(h.type==0)s.w.WY(R,h._,h.GE);else{if(h.type==1){var d=R._[h.J];if(h.$$){d.De=h.De}else{d.De.RH=h.GE.e;
d.De.LC=h.GE.Ry}d.IK(R,0,0,R.z);R.I()}R.z={rect:h.Qn.rect.clone(),channel:z.clone(h.Qn.channel)};R.td=!0}};
s.w.prototype.Lu=function(h,R){if(h.type==0)s.w.WY(R,h._,h.TG);else{if(h.type==1){var d=R._[h.J];if(h.$$){d.Dx(R,h.Bz)}else{d.De.RH=h.TG.e;
d.De.LC=h.TG.Ry;d.IK(R,0,0,R.z)}R.I()}R.z=h.mN;R.td=!0}};s.w.prototype.zqv=function(h,R,d){h.lH();var L=[];
if(d==null)for(var $=0;$<h.Qg.length;$++)if(h.bs[h.Qg[$]].add.vmsk.r.length>2)L.push(-1-h.Qg[$]);var W=[];
if(d!=null||L.length==0||h.NF!=null&&h.NF.length!=0)W=h.HP(R,d,null,!0);W=W.concat(L);this._=W};s.w.prototype.enable=function(h,R,d,L,$,W,M){if(this.cursor==null)this.cursor="default";
this.MZ(R);if(this.A$)return;this.Ow=d;this.zqv(h,!0);this.zdW(h,W&&W.Km==1?1:null,M);this.Oc(R);this.my(h);
if(W&&W.Km==2)this.e$({PU:"switchWarp"},R,h,L)};s.w.prototype.Oc=function(h){var R={c:e.j.Ui,L:this.id};
if(this.Ki==0){var d=z.S.wy(this.A$.$F(),this.nu),L=z.S.Qx(d);R.nE={lh:L,sE:this.A$.zWB(),hs:this.A$.Au(),e:this.nu.clone()}}else{R.Yn=this.QA.Sb()}R.zZA=this.QA!=null;
this.RU(h,e.E.Z,R)};s.w.prototype.zdW=function(h,R,d){var L=this.id==s.R_,$=!0,W=this._[0],M=h._[W],g=null;
if(L){this.My=2;this.mN=h.z}else if(h.z&&this._.length==1&&W>=0&&!M.rect.dp()){this.My=1;this.mN=h.z;
this.Bz=M.De;this.$$=!1;if(!M.Hf(h,h.z)){this.$$=!0;M.D$(h,h.z,!1)}this.TG={Ry:M.De.LC,e:M.De.RH}}else{this.My=0;
this.$s=s.w.Wc(h,this._,null,d);for(var x=0;x<this.$s.length;x++)if(this.$s[x][3]!=null)$=!1}var t=this.My==1;
if(this.$s&&this.$s.length==1){var r=this.$s[0];if(r[3]==null)t=!0;if(r[4]!=null){g=h._[this._[0]].add.SoLd;
if(r[1]||r[2])t=!1}}var l=L?h.z.rect.clone():s.w.OG(h,this._,d);this.nu=l;if(!L&&g){var H=s.w.vD(g.nonAffineTransform);
this.nu=z.G.oY(z.Mp.Qs(g.warp.v));if(t)this.QA=new hW(g.warp.v);this.sW=z.S.wy(H,this.nu);this.A$=new WN(H,!0,!0,$,!1,!1,R)}else{if(t||L)this.QA=new hW(z.Mp.h(this.nu));
this.sW=[1,0,0,0,1,0,0,0];this.A$=new WN([l.x,l.y,l.x+l.k,l.y,l.x+l.k,l.y+l.$,l.x,l.y+l.$],!0,!0,$,!1,!1,R)}this.sh=[1,0,0,0,1,0,0,0]};
s.w.OG=function(h,R,d){if(R==null)R=h.HP(!0,null,null,!0);var L=new A;if(h.z&&R.length==1&&R[0]>=0)L=h.z.rect.clone();
else for(var $=0;$<R.length;$++){var W=R[$],M=0<=W?h._[W]:h.bs[-1-W],x=M.add.vmsk,t=0<=W?M.Ay(h,R.length==1,!1,d):z.t.wZ(x.r,R.length==1&&x.f.length!=0?x.f:null);
L=L.DM(t)}return L};s.w.prototype.RU=function(h,R,d,L){var $=new X(R,!0);$.data=d;if(L)$.L=L;h.R($)};
s.w.Wc=function(h,R,d,L){var $=[];for(var W=0;W<R.length;W++){var M=R[W],x,t;if(M>=0){x=h._[M];t=x.UN(h,d,L)}else{x=h.bs[-1-M];
t=[2]}var g=[];if(t.indexOf(0)!=-1){var r={sP:[z.clone(x.buffer),x.rect.clone()]};g.push(r);if(x.lq()){var l=x.ez(h);
r.zZI=z.clone(l.buffer);r.zZZ=l.rect.clone()}}else g.push(null);if(t.indexOf(1)!=-1)g.push(x.rc().clone());
else g.push(null);if(t.indexOf(2)!=-1)g.push({ER:x.add.vmsk.clone(),ri:x.add.vstk?JSON.parse(JSON.stringify(x.add.vstk)):null,ke:x.add.vstk?s.rf.NW(h,M):null,qK:x.add.vogk?JSON.parse(JSON.stringify(x.add.vogk)):null});
else g.push(null);if(x.add.TySh&&g[0]){uM.dN(x.add.TySh);g.push(x.add.TySh.V.clone())}else g.push(null);
if(x.add.SoLd&&g[0])g.push(JSON.parse(JSON.stringify(x.add.SoLd)));else g.push(null);if(t.indexOf(3)!=-1)g.push(x.ez(h).v.clone());
else g.push(null);if(x.add.lmfx)g.push(JSON.stringify(x.add.lmfx));else g.push(null);$.push(g)}return $};
s.w.WY=function(h,R,d){for(var L=0;L<R.length;L++){var $=R[L],W=0<=$?h._[$]:h.bs[-1-$],M=d[L];if(M[0]){W.rect=M[0].sP[1].clone();
W.buffer=z.clone(M[0].sP[0]);if(W.lq()){var x=W.ez(h);x.buffer=z.clone(M[0].zZI);x.rect=M[0].zZZ.clone()}}if(M[1]){W.rc().channel=z.clone(M[1].channel);
W.rc().rect=M[1].rect.clone();W.rc().RT=!0}if(M[2]){W.add.vmsk=M[2].ER.clone();if(M[2].ke)s.rf.Ji(W,M[2].ke);
if(M[2].ri)W.add.vstk=JSON.parse(JSON.stringify(M[2].ri));if(M[2].qK)W.add.vogk=JSON.parse(JSON.stringify(M[2].qK))}if(M[3]){W.add.TySh.V=M[3].clone();
uM.GY(W.add.TySh)}if(M[4]){W.add.SoLd=JSON.parse(JSON.stringify(M[4]))}if(M[5]){var t=W.ez(h).v;t.channel=z.clone(M[5].channel);
t.rect=M[5].rect.clone()}if(M[6]){W.add.lmfx=JSON.parse(M[6])}if(0<=$){W.eG(h);W.I()}}h.I()};s.w.NU=function(h){var R=h.clone(),d=Math.atan2(-R.W,R.r$),L=new um;
L.rotate(-d);R.concat(L);return(Math.abs(R.r$)+Math.abs(R.Cv))/2};s.w.NI=function(h,R,d,L,$,W,M,x,t){var g=z.S.Qx(W),r=s.w.NU(g);
for(var l=0;l<d.length;l++){var H=d[l],y=0<=H?h._[H]:h.bs[-1-H],f=L[l];if(y.add.lmfx&&x)uS.zFJ(y.add.lmfx,r);
if(f[0]&&!f[3]&&!f[4]&&!f[5]){var b=f[0].sP;if(t){var K=t.clone(),Z=z.h(K.s()*4);z.bt(b[0],b[1],Z,K);
b=[Z,K]}var J=s.w.mf(b,$,W,M,$==0?y.buffer.buffer:null);if(J){y.rect=J.rect;y.buffer=J.buffer}}if(f[1])s.w.zpV(h,f[1],y.rc(),$,W,M);
if(f[2]){var u=M&&!z.Mp.Lp(M),C=f[2].ER.clone(),Q=d.length==1&&C.f.length!=0,i=d.length==1&&C.ih.length>1;
if(i)Q=!1;var j=Q?C.f:null,V=i?C.ih:null;if(u){var E=z.Mp.Qs(M);z.S.apply(W,E);z.t.zKP(C.r,E,j,V)}else z.t.zKe(C.r,W,j,V);
if(y.add.vstk&&x){y.add.vstk.strokeStyleLineWidth.v.val=f[2].ri.strokeStyleLineWidth.v.val*r;var N=f[2].ke;
if(N.sS==3){N=JSON.parse(JSON.stringify(N));var n=N.ke.phase.v;N.ke.Scl.v.val=Math.round(N.ke.Scl.v.val*r);
n.Hrzn.v=Math.round(n.Hrzn.v*r);n.Vrtc.v=Math.round(n.Vrtc.v*r);s.rf.Ji(y,N)}}if(y.add.vogk){y.add.vogk=JSON.parse(JSON.stringify(f[2].qK));
if(u||i)z.qK.zpv(y.add.vogk);else z.qK.V(y.add.vogk,W,d.length>1?[]:C.f,x)}C.EI*=r;y.add.vmsk=C;if(y.add.vogk)z.qK.Zi(y.add.vogk,y.add.vmsk)}if(f[3]){var a=f[3].clone();
a.concat(g);y.add.TySh.V=a;uM.GY(y.add.TySh);var I=new zH(y.add.TySh.h_,R.UX),q=Wg.sj(I,y.add.TySh);
y.rect=q.e;y.buffer=q.tP}if(f[4]){var k=y.add.SoLd,F=s.w.vD(f[4].nonAffineTransform);z.S.apply(W,F);
var o=z.G.yl(F);if(WN.Sk(F)){if(M){var G=z.G.oY(z.Mp.Qs(f[4].warp.v)),w=z.S.wy(F,G),U=z.G.oY(z.Mp.Qs(M));
F=[U.x,U.y,U.x+U.k,U.y,U.x+U.k,U.y+U.$,U.x,U.y+U.$];z.S.apply(w,F);k.warp.v=M}var B=z.S.wy(F),D=F;if(!z.S.Kv(B)){B[6]=B[7]=0;
D=[0,0,1,0,1,1,0,1];z.S.apply(B,D)}k.Trnf=s.w.Lt(D);k.nonAffineTransform=s.w.Lt(F);y.eb(h,$==0)}}if(f[5])s.w.zpV(h,f[5],y.ez(h).v,$,W,M);
if(0<=H){if($!=0)y.tn();y.eG(h);y.I()}}h.I()};s.w.GT=function(h,R,d,L,$,W){if(d==null)d=!1;return s.w.mf(h,d?0:1,z.S.iE(R),null,L,$,W)};
s.w.mf=function(h,R,d,L,$,W,M){var x={},l=0;if(L&&!z.Mp.Lp(L)){var t=z.Mp.Qs(L);z.S.apply(d,t);x.rect=z.G.yl(t);
x.buffer=z.h(x.rect.s()*4);z.be.drawImage(t,h[0],h[1].k,h[1].$,x.buffer,x.rect,R==0);return x}z.Qd(h);
var g=h[0],r=h[1];while(l+3<h.length&&h[l+3].s()>16&&z.S.Kv(d)&&s.w.NU(z.S.Qx(d))<.3){l+=2;var H=h[l],y=h[l+1],f=r.k/y.k,b=r.$/y.$;
d=z.S.wq(d,[1,0,r.x,0,1,r.y,0,0]);d=z.S.wq(d,[f,0,0,0,b,0,0,0]);d=z.S.wq(d,[1,0,-r.x,0,1,-r.y,0,0]);
r=y;g=H}var K=z.S.wq(d,z.S.iE(new um(r.k,0,0,r.$,r.x,r.y))),Z=[0,0,1,0,1,1,0,1];z.S.apply(K,Z);x.rect=z.G.yl(Z);
if(M)x.rect=x.rect.hc(M);if(!WN.Sk(Z)||x.rect.k>1e5||x.rect.$>1e5||x.rect.s()>3e4*3e4)return null;var J=x.rect.s()*4;
if($&&$.byteLength>=J&&J>=$.byteLength>>2){x.buffer=new Uint8Array($)}else{x.buffer=z.h(J)}z.S.drawImage(K,g,r.k,r.$,x.buffer,x.rect,R==0,W);
if(R==2&&x.buffer){var u=x.rect.k,C=x.rect.$,Q;Q=[0,-1,0,-1,16,-1,0,-1,0];Q=z.ee.pi(Q);var i=x.buffer.slice(0);
z.VA(i);z.ee.Jc(i,x.buffer,u,C,Q,0);z.YQ(x.buffer);z.VQ(x.buffer)}if(x.buffer)return x};s.w.zpV=function(h,R,d,L,$,W){if(R.color==255)z.Gv(R.channel);
var M=R.rect,x=z.h(M.s()*4);z.Gn(R.channel,x,3);var t=s.w.mf([x,M],L,$,W);if(t){d.rect=t.rect;d.channel=z.h(t.rect.s());
z.nP(t.buffer,d.channel,3);d.RT=!0}if(R.color==255){z.Gv(R.channel);if(t)z.Gv(d.channel)}};s.w.vD=function(h){var R=[],d=h.v.length;
for(var L=0;L<d;L++)R.push(h.v[L].v);return R};s.w.Lt=function(h){var R={t:"VlLs",v:[]},d=h.length;for(var L=0;
L<d;L++)R.v.push({t:"doub",v:h[L]});return R};s.w.prototype.zuL=function(){var h=z.G.oY(z.Mp.Qs(this.QA.Sb())),R=z.S.wy(this.A$.$F(),this.nu),d=[h.x,h.y,h.x+h.k,h.y,h.x+h.k,h.y+h.$,h.x,h.y+h.$];
z.S.apply(R,d);this.A$.SM(d);this.nu=h};s.w.prototype.lE=function(h,R,d){var L=z.S.wy(this.A$.$F(),this.nu),x=1e-10,y=!1,f=!1;
L=z.S.wq(L,z.S.Gv(this.sW));var $=z.S.Qx(L),W=this.sh,M=z.S.Qx(W);this.sh=L;var t=Math.abs,g=Math.round,r=L[2]-W[2],l=L[5]-W[5],H=t(L[0]-W[0])<x&&t(L[1]-W[1])<x&&t(L[3]-W[3])<x&&t(L[4]-W[4])<x&&t(L[6]-W[6])<x&&t(L[7]-W[7])<x&&t(r-g(r))<x&&t(l-g(l))<x;
if(this.My==0&&this._.length==1){var b=this.$s[0][2];y=b&&(b.ER.f.length!=0||b.ER.ih.length>1)}for(var K=0;
K<this._.length;K++)if(this._[K]<0)f=!0;if(H&&this.My==0&&d==0&&this.Ki==0&&!y&&!f){s.Kf.JW(h,this._,s.Kf.zq_(h,this._),Math.round(-M.RZ+$.RZ),Math.round(-M.fA+$.fA));
return}var Z=this.QA?this.QA.Sb():null;if(this.My==0){this.su=z.S.Qx(L);s.w.NI(h,R,this._,this.$s,d,L,Z)}else if(this.My==1){var J=h._[this._[0]],u=this.TG.e;
if(J.GJ<=0){var C=this.TG.Ry,Q=this.mN;if(Z&&!z.Mp.Lp(Z)&&!Q.rect.PC(u)){var i=z.h(Q.rect.s()*4);z.bt(C,u,i,Q.rect);
C=i;u=Q.rect}var j=s.w.mf([C,u],d,L,Z);if(j){J.De.LC=j.buffer;J.De.RH=j.rect;var V=z.h(j.rect.s());z.nP(J.De.LC,V,3);
h.z={channel:V,rect:J.De.RH.clone()}}}else{var E=z.h(u.s()*4);z.Gn(this.TG.Ry,E,3);var j=s.w.mf([E,u],d,L,Z);
if(j){J.De.LC=z.h(j.rect.s());z.nP(j.buffer,J.De.LC,3);J.De.RH=j.rect}this.zhq(h,d,L,Z)}J.IK(h,0,0,h.z);
if(d!=0){J.tn();z.tn(h.z)}h.td=!0;h.I()}else if(this.My==2)this.zhq(h,d,L,Z)};s.w.prototype.zhq=function(h,R,d,L){var $=this.mN.rect,W=z.h($.s()*4);
z.Gn(this.mN.channel,W,3);var M=s.w.mf([W,$],R,d,L),x=z.h(M.rect.s());z.nP(M.buffer,x,3);h.z={channel:x,rect:M.rect};
h.td=!0};s.w.prototype.disable=function(h,R,d,L){if(this.A$)this.Lc(h,R,null,!0)};s.zdN=function(){s.w.call(this,[10,16],s.ON,"tools/transform")};
s.zdN.prototype=new s.w;s.zma=function(){s.w.call(this,[7,10],s.R_,"tools/transform")};s.zma.prototype=new s.w;
s.Lk=function(h,R,d){s.Cx.call(this,[10,46],s.j_,"tools/transform");this.OB=[1,1,2,!0];this.jY="\0\0\x03\x82";
this.sO=null;this.zkt=null;this.nI=null;this.gr=null;this.tl=null;this.uZ=null;this.Uj=[]};s.Lk.prototype=new s.Cx;
s.Lk.prototype.TZ=function(){return!0};s.Lk.ztu=function(h){if(h==null)return!1;if(h.f.length!=1)return!1;
var R=h._[h.f[0]];return R.add.SoLd||h.wI(!1)};s.Lk.prototype.xo=function(h,R){return s.Lk.ztu(h)};s.Lk.prototype.enable=function(h,R,d,L,$,W,M){this.zkt=W.PD;
var x=W.PD,t,b=null;if(x){var g=h._[x.J];if(g.add.SoLd.filterFX!=null){var r=g.add.SoLd.filterFX.v.filterFXList.v;
if(r[x.index])t=JSON.parse(JSON.stringify(r[x.index].v.Fltr.v))}}var l=t==null,g=h._[h.f[0]],H=g.buffer,y=g.rect,f=g.add.SoLd;
if(f){var K=f.nonAffineTransform.v;b=[];for(var Z=0;Z<4;Z++)b.push(K[Z*2].v,K[Z*2+1].v);if(l)this.Jj("edit",R);
var J=g.ez(h);H=J.buffer;y=J.rect}this.sO={buffer:H.slice(0),rect:y.clone(),zZy:b};if(l)t=s.Lk.zwy(this.sO,this.OB);
this.nI=t;this.gr=s.Lk.NY(this.nI,this.OB);this.Nx();this.Nd(h);if(l)this.VN(R);var u=new X(e.E.Z,!0);
u.data={c:e.j.Ui,L:this.id,Ns:this.OB};R.R(u);u.data={c:e.j.sm,_u:"default"};R.R(u)};s.Lk.prototype.disable=function(h,R,d,L){if(this.gr)this.Lc(h,R,!0)};
s.Lk.prototype.Nx=function(h){var R=this.gr;this.Uj=[];for(var d=0;d<R.length;d++){var L=R[d];for(var $=0;
$<L.f.length;$++)this.Uj.push([d,L.f[d]]);L.oC=z.Gx.ds(L);if(h)z.Gx.dW(L)}};s.Lk.prototype.e$=function(h,R,d,L){if(h.PU=="commit")this.Lc(d,R,!0);
else if(h.PU=="cancel")this.dy(d,R,!0);else if(h.PU=="prm"){var $=!1;for(var W=0;W<3;W++)if(this.OB[W]!=h.Ns[W])$=!0;
this.OB=h.Ns;if($){this.nI=s.Lk.zwy(this.sO,this.OB,this.nI);this.gr=s.Lk.NY(this.nI,this.OB);this.Nx(!0);
this.VN(R)}this.Nd(d)}else if(h.PU=="moveDepth"){var M=this.gr;for(var x=0;x<M.length;x++){var t=M[x];
for(var W=0;W<t.f.length;W++){var g=t.f[W];t.Us[g]+=h.zZv?1:-1}}this.VN(R)}};s.Lk.prototype.J$=function(h,R){return h==m.rT||h==m.rQ};
s.Lk.prototype.LT=function(h,R,d,L){var $=L.AF();if(L.u(m.FA))this.Lc(h,R,!0);else if(L.u(m.$j))this.dy(h,R,!0);
else if(L.u(m.rT)||L.u(m.rQ)){var W=this.gr;for(var M=0;M<W.length;M++){var x=W[M];x.f.sort(function(l,H){return H-l});
for(var t=0;t<x.f.length;t++){var g=x.f[t],r=g*2;x.Us.splice(g,1);x.YJ.splice(g,1);x.Yv.splice(g,1);
x.Gd.splice(g,1);x.bM.splice(r,2);x.vv.splice(r,2)}x.f=[];if(x.Gd.length==0){x.JG=x.by.slice(0);x.hl=x.by.slice(0)}}this.Nx(!0);
this.VN(R);this.Nd(h)}else if($.x!=0||$.y!=0){this.zht(h,$.x,$.y,R);this.WW=null}};s.Lk.prototype.Lc=function(h,R,d){this.Jj("confirm",R);
this.escape(h,R,d)};s.Lk.prototype.dy=function(h,R,d){this.Jj("cancel",R);this.escape(h,R,d)};s.Lk.prototype.escape=function(h,R,d){h.d.Gw=null;
h.d.$r=[];h.Dw=!0;this.gr=null;var L=new X(e.E.Z,!0);L.data={c:e.j.AA};if(d)R.R(L)};s.Lk.prototype.pf=function(h,R,d,L,$){var W=h.F.Px($.x,$.y),M=W.x,x=W.y,t=this.gr,g=null,r=[0,2,4,1.2,1.2,1.2],l=-1,H=e.p()*5/h.F.P;
for(var y=0;y<t.length;y++){var f=t[y],b=z.G.ZU(f.vv,M,x,H);if(b!=-1)g=[y,b];if(l==-1&&z.Gx.df.zOt(f.hl,f.eV,M,x))l=y}if(g==null&&l!=-1){var f=t[l];
s.Lk.zDF(f,M,x,M,x,0);g=[l,f.Gd.length-1];f.oC=z.Gx.ds(f)}this.tl=W;if(g){var K=t[g[0]].f.indexOf(g[1])!=-1;
if(L.u(m.ka)&&!K){t[g[0]].f.push(g[1]);this.Uj.push(g)}else if(!K){t[g[0]].f=[g[1]];this.Uj=[g]}}this.Nd(h)};
s.Lk.zDF=function(h,R,d,L,$,W){var M=z.G.ZU(h.hl,R,d);h.Gd.push(M);h.vv.push(L,$);h.bM.push(h.hl[M*2]-R,h.hl[M*2+1]-d);
h.Yv.push(0);h.YJ.push(!1);h.Us.push(W)};s.Lk.prototype.yn=function(h,R,d,L,$){var W=h.F.Px($.x,$.y),M=this.tl;
if(M)this.zht(h,W.x-M.x,W.y-M.y,R)};s.Lk.prototype.zht=function(h,R,d,L){var $={},W=this.Uj,M=this.gr;
if(this.WW==null){this.WW=[];for(var x=0;x<M.length;x++)this.WW.push(M[x].vv.slice(0))}for(var x=0;x<W.length;
x++){var t=this.Uj[x],g=t[0],r=M[t[0]],l=t[1]*2;r.vv[l+0]=this.WW[g][l+0]+R;r.vv[l+1]=this.WW[g][l+1]+d;
$[g]=g}for(var g in $)z.Gx.dW(this.gr[$[g]]);this.Nd(h);this.VN(L)};s.Lk.prototype.Jj=function(h,R){var d=new X(e.E.Q,!0);
d.L=s.nj;d.data={c:h,PD:this.zkt,jY:this.jY,gE:this.nI};R.R(d)};s.Lk.prototype.WL=function(h,R,d,L,$){this.tl=null;
this.WW=null};s.Lk.prototype.VN=function(h){s.Lk.zWq(this.gr,this.OB,this.nI);this.Jj("edit",h)};s.Lk.prototype.Nd=function(h){var R=this.gr,d=this.nI;
h.d.Gw={B:[],D:[]};h.d.$r=[];h.d.ph=[];for(var L=0;L<R.length;L++){var $=R[L];for(var W=0;W<$.f.length;
W++)h.d.ph.push((h.d.$r.length>>>1)+$.f[W]);h.d.$r=h.d.$r.concat($.vv);if(this.OB[3])z.G.concat(h.d.Gw,z.G.zGr($.hl,$.eV))}h.Dw=!0};
s.Lk.zwy=function(h,R,d){var L=h.buffer,$=h.rect,W=h.zZy,M=u$.hx("\0\0\x03\x82");if(W)for(var x=0;x<4;
x++){M["PuX"+x].v=W[x*2];M["PuY"+x].v=W[x*2+1]}var t=M.puppetShapeList.v,g=z.Gx.zEg(L,$.k,$.$,R[1],R[2]),r=[];
for(var l=0;l<g.length;l++){var H={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
H.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var y=g[l];t.push({t:"Objc",v:H});var f=y.by.slice(0);z.G.V(f,new um(1,0,0,1,$.x,$.y),f);var b=y.eV;
for(var x=0;x<b.length;x+=3){var K=b[x+1];b[x+1]=b[x+2];b[x+2]=K}r.push({eV:b,by:f,JG:f,hl:f,Gd:[],bM:[],vv:[],oC:null,f:[],Yv:[],YJ:[],Us:[]})}if(d){var Z=s.Lk.NY(d,[]),J=r[0];
for(var x=0;x<Z.length;x++){var u=Z[x];for(var C=0;C<u.f.length;C++)J.f.push((J.vv.length>>>1)+u.f[C]);
for(var C=0;C<u.Gd.length;C++){var Q=u.Gd[C]*2,i=u.by[Q]-u.bM[C*2],j=u.by[Q+1]-u.bM[C*2+1];s.Lk.zDF(J,i,j,u.vv[C*2],u.vv[C*2+1],u.Us[C])}}}s.Lk.zWq(r,R,M);
return M};s.Lk.NY=function(h,R){function d(j){var V=[];for(var b=0;b<j.length;b++)V.push(j[b].v);return V}var L=h.puppetShapeList.v,$=[];
for(var W=0;W<L.length;W++){var M=L[W].v;R[0]=M.meshRigidity.v-1;R[1]=M.meshQuality.v-1;R[2]=M.meshExpansion.v;
var x=M.pinVertexIndices.v.length,t=M.meshBoundaryPath.v.pathComponents.v[0].v.SbpL.v[0].v.Pts;t.v=[];
var g=new Uint32Array(new Uint8Array(M.indexArray.v).buffer),r=new Float32Array(new Uint8Array(M.originalVertexArray.v).buffer),l=new Float32Array(new Uint8Array(M.deformedVertexArray.v).buffer),H=[],y=[],f=[];
for(var b=0;b<g.length;b++)H.push(g[b]);for(var b=0;b<r.length;b++){y.push(r[b]);f.push(l[b])}var K=d(M.pinVertexIndices.v),Z=d(M.pinOffsets.v),J=d(M.posFinalPins.v),u=d(M.PnRt.v),C=d(M.PnOv.v),Q=d(M.PnDp.v),i=d(M.selectedPin.v);
$.push({eV:H,by:y,JG:f.slice(0),hl:f,Gd:K,bM:Z,vv:J,oC:null,Yv:u,YJ:C,Us:Q,f:i})}return $};s.Lk.zWq=function(h,R,d){function L(y,f){var b=[];
for(var r=0;r<y.length;r++)b.push({t:f,v:y[r]});return b}function $(y,f,b){var K=new(b?Uint32Array:Float32Array)(y),Z=new Uint8Array(K.buffer);
for(var r=0;r<Z.length;r++)f[r]=Z[r]}var W=d.puppetShapeList.v;for(var M=0;M<W.length;M++){var x=h[M],t=W[M].v;
t.meshRigidity.v=R[0]+1;t.meshQuality.v=R[1]+1;t.meshExpansion.v=R[2];$(x.eV,t.indexArray.v,!0);$(x.by,t.originalVertexArray.v);
$(x.hl,t.deformedVertexArray.v);var g=[];for(var r=0;r<x.Gd.length;r++){var l=x.Gd[r]*2,H=r*2;g[H]=x.by[l]-x.bM[H];
g[H+1]=x.by[l+1]-x.bM[H+1]}t.PinP.v=L(g,"doub");t.pinVertexIndices.v=L(x.Gd,"long");t.pinOffsets.v=L(x.bM,"doub");
t.posFinalPins.v=L(x.vv,"doub");t.PnRt.v=L(x.Yv,"long");t.PnOv.v=L(x.YJ,"bool");t.PnDp.v=L(x.Us,"doub");
t.selectedPin.v=L(x.f,"long")}};s.B$=function(h,R,d){s.Cx.call(this,h?h:[10,40],R?R:s.xV,d?d:"tools/slice");
this.Nf=null;this.Ps=null;this.pB=null;this.zkM=null;this.W$=null;this.fa=null};s.B$.prototype=new s.Cx;
s.B$.F$=function(h,R){var d=-1;for(var L=0;L<h.length;L++){var $=s.B$.Bo(h,L);if($[0]<=R.x&&R.x<=$[2]&&$[1]<=R.y&&R.y<=$[3]){d=L;
break}}return d};s.B$.prototype.ns=function(h,R,d,L,$){this.lN(d);d.tj[d.Cy[0]].v=h;d.Dw=!0;this.gz(d)};
s.B$.prototype.enable=function(h,R,d,L,$,W){s.Cx.prototype.enable.call(this,h,R,d,L,$,W);if(!d.UU.tj){var M=new X(e.E.Z,!0);
M.data={c:e.j.nY,Ns:uh.TL};R.R(M)}};s.B$.prototype.disable=function(){this.Nf=null;this.Ps=null};s.B$.prototype.VK=function(h,R,d,L,$){var W=h.F.Px($.x,$.y),M=s.B$.F$(h.tj,W);
if(M==-1)return;this.Nf=h;this.Ps=R;h.Cy=[M];h.Dw=!0;if(this.fa==null){this.fa=new MQ([{name:[5,4]},{name:[8,11,1],eZ:!0}]);
this.fa.A("select",this.Pd,this)}var x=this.fa;x.parent=R;x.o();x.update(h,d);var t=new X(e.E.Z,!0);
t.data={c:e.j.eN,_z:x,x:$.lV+2,y:$.ZE+1};R.R(t)};s.B$.prototype.Pd=function(h){var R=this.fa.Ir()[0],d=this.Nf;
if(R==0){this.lN(d);d.tj.splice(d.Cy[0],1);d.Cy=[];d.Dw=!0;this.gz(d)}if(R==1){var L=new X(e.E.Z,!0);
L.data={c:e.j.pY,DN:"soptions",a:d.tj[d.Cy[0]].v};this.Ps.R(L)}};s.B$.prototype.pf=function(h,R,d,L,$){if(h==null)return;
this.lN(h);var W=h.F.Px($.x,$.y);W=s.Kf.KG(h,W,d,[!0,null,!1]);W.x=Math.round(W.x);W.y=Math.round(W.y);
this.W$=W;h.tj.unshift(s.B$.zS_());h.Cy=[0];s.B$.Vz(h.tj,0,[W.x,W.y,W.x+20,W.y+20]);h.Dw=!0};s.B$.prototype.yn=function(h,R,d,L,$){if(this.pB==null)return;
var W=h.F.Px($.x,$.y),M=this.W$;W=s.Kf.KG(h,W,d,[!0,null,!1]);W.x=Math.round(W.x);W.y=Math.round(W.y);
var x=[M.x,M.y,W.x,W.y];s.B$.zhg(x);s.B$.Vz(h.tj,0,x);h.Dw=!0};s.B$.prototype.WL=function(h,R,d,L,$){this.gz(h);
this.W$=null};s.B$.prototype.lN=function(h){this.pB=JSON.stringify(h.tj);this.zkM=JSON.stringify(h.Cy)};
s.B$.prototype.gz=function(h){var R=JSON.stringify(h.tj);if(R!=this.pB){var d=new zk(this.name,this);
d.data={TG:this.pB,GE:R,znz:this.zkM,znt:JSON.stringify(h.Cy)};h.FD(d)}this.pB=null};s.B$.prototype.Lu=function(h,R){R.tj=JSON.parse(h.TG);
R.Cy=JSON.parse(h.znz);R.Dw=!0};s.B$.prototype.uj=function(h,R){R.tj=JSON.parse(h.GE);R.Cy=JSON.parse(h.znt);
R.Dw=!0};s.B$.prototype.J$=function(h,R){return R!=null&&R.Cy.length!=0&&(h==m.rT||h==m.rQ)};s.B$.prototype.LT=function(h,R,d,L){if(h==null)return;
this.lN(h);var $=L.AF();if($.x!=0||$.y!=0)s.B$.rj(h,$);if(L.u(m.rT)||L.u(m.rQ)){var W=h.tj.slice(0);
for(var M=0;M<h.Cy.length;M++)h.tj.splice(h.tj.indexOf(W[h.Cy[M]]),1);h.Cy=[]}this.gz(h)};s.B$.prototype.e$=function(h,R,d,L,$){if(d==null||d.Cy.length==0)return;
this.lN(d);var W=d.tj,M=d.Cy;M.sort(function(f,b){return f-b});console.log(M);var x=W.slice(0),t=[],g=[];
for(var r=0;r<M.length;r++){var l=M[r],H=W[l];g.push(H);x.splice(x.indexOf(H),1)}var y=Math.max(0,Math.min(x.length,M[0]-h.dir));
for(var r=0;r<g.length;r++){x.splice(y+r,0,g[r]);t.push(y+r)}d.tj=x;d.Cy=t;this.gz(d)};s.B$.zuT=function(h,R,d,L){var $=new kY(-R.x,-R.y),W=R.k/d.k,M=R.$/d.$,x=[0,0,R.k,R.$];
for(var t=0;t<h.length;t++){var g=s.B$.Bo(h,t);if(L){g[0]=Math.round(g[0]*W);g[1]=Math.round(g[1]*M);
g[2]=Math.round(g[2]*W);g[3]=Math.round(g[3]*M)}else{s.B$.Sz(g,$);s.B$.zuU(g,x)}if(g[0]>=g[2]||g[1]>=g[3]){h.splice(t,1);
t--;continue}s.B$.Vz(h,t,g)}};s.B$.rj=function(h,R){var d=h.tj;for(var L=0;L<h.Cy.length;L++){var $=s.B$.Bo(d,h.Cy[L]);
s.B$.Sz($,R);s.B$.Vz(d,h.Cy[L],$)}};s.B$.zuU=function(h,R){if(h[0]<R[0])h[0]=R[0];if(h[1]<R[1])h[1]=R[1];
if(R[2]<h[2])h[2]=R[2];if(R[3]<h[3])h[3]=R[3]};s.B$.Sz=function(h,R){h[0]=Math.round(h[0]+R.x);h[2]=Math.round(h[2]+R.x);
h[1]=Math.round(h[1]+R.y);h[3]=Math.round(h[3]+R.y)};s.B$.Vz=function(h,R,d){var L=h[R].v.bounds.v;L.Left.v=d[0];
L.Top.v=d[1];L.Rght.v=d[2];L.Btom.v=d[3]};s.B$.Bo=function(h,R){var d=h[R].v.bounds.v;return[d.Left.v,d.Top.v,d.Rght.v,d.Btom.v,R]};
s.B$.zhg=function(h){if(h[2]<h[0]){var R=h[0];h[0]=h[2];h[2]=R}if(h[2]==h[0])h[2]++;if(h[3]<h[1]){var R=h[1];
h[1]=h[3];h[3]=R}if(h[3]==h[1])h[3]++};s.B$.oY=function(h,R){var d=1e9,L=-1e9,$=1e9,W=-1e9;for(var M=0;
M<R.length;M++){var x=s.B$.Bo(h,R[M]);d=Math.min(d,x[0]);$=Math.min($,x[1]);L=Math.max(L,x[2]);W=Math.max(W,x[3])}return[d,$,L,W]};
s.B$.zS_=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
s.mo=function(){s.B$.call(this,[10,41],s.jS,"tools/sselect");this.W$=null;this.TE=null;this._n=null;
this.uZ=null;this.sK=!1};s.mo.prototype=new s.B$;s.mo.prototype.pf=function(h,R,d,L,$){if(h==null)return;
var W=h.F.Px($.x,$.y),M=s.mo.zFO(W,4/h.F.P,h.tj,h.Cy);M.pop();if(M.length!=0){this.W$=W;this._n=M;this.lN(h);
return}var x=h.tj,t=s.B$.F$(x,W);if(t==-1)h.Cy=[];else{var g=h.Cy.indexOf(t);if(L.u(m.ka)){if(g==-1)h.Cy.push(t);
else h.Cy.splice(g,1)}else{h.Cy.sort(function(K,Z){return K-Z});if(g==-1)h.Cy=[t];this.W$=W;this.lN(h);
this.TE=s.B$.oY(x,h.Cy);this.uZ=[];for(var r=0;r<h.Cy.length;r++)this.uZ.push(s.B$.Bo(x,h.Cy[r]));if(L.u(m.tw)){var l=x.slice(0),H=h.Cy,y=[];
for(var r=0;r<H.length;r++){var t=H[r],f=l[t],b=x.indexOf(f);y.push(b);x.splice(b,0,JSON.parse(JSON.stringify(f)))}h.Cy=y}}}h.Dw=!0};
s.mo.prototype.yn=function(h,R,d,L,$){var W=h.F.Px($.x,$.y);if(this.W$==null){var M=s.mo.zFO(W,4/h.F.P,h.tj,h.Cy),x=M.pop(),t=M.length==0?"default":["ew","nwse","ns","nesw"][x]+"-resize",g=new X(e.E.Z,!0);
g.data={c:e.j.sm,_u:t};R.R(g);return}if(!this.sK&&W.PC(this.W$))return;this.sK=!0;var r=h.tj,M=this._n;
if(M){W=s.Kf.KG(h,W,d,[!0,null,!1]);var l=Math.round(W.x),H=Math.round(W.y);for(var y=0;y<M.length;y+=2){var f=s.B$.Bo(r,M[y]),b=M[y+1];
f[b]=(b&1)==0?l:H;s.B$.zhg(f);s.B$.Vz(r,M[y],f)}}else{var K=W.FZ(this.W$),Z=this.TE.slice(0);s.B$.Sz(Z,K);
var J=new A(Z[0],Z[1],Z[2]-Z[0],Z[3]-Z[1]),u=s.Kf.OL(h,J,d,[!0,null,!1],!0);s.Kf.Ox(h,J,u);K.x+=u[0];
K.y+=u[1];for(var y=0;y<h.Cy.length;y++)s.B$.Vz(r,h.Cy[y],this.uZ[y]);s.B$.rj(h,K)}h.Dw=!0};s.mo.prototype.WL=function(h,R,d,L,$){if(this.W$==null)return;
this.gz(h);h.d.Nq=null;h.Dw=!0;this.W$=null;this._n=null;this.uZ=null;this.sK=!1};s.mo.zFO=function(h,R,d,L){var $=h.x,W=h.y,M=[],x=-1,t=[];
for(var g=0;g<L.length;g++){var r=L[g],l=s.B$.Bo(d,r),H=l[0],y=l[1],f=l[2],b=l[3];if($<H-R||f+R<$||W<y-R||b+R<W)continue;
var K=[$<H+R,W<y+R,f-R<$,b-R<W],Z=-1;for(var J=0;J<4;J++){if(K[J]&&K[J+1&3])Z=1+2*(J&1);if(K[J])M.push(r,J)}if(Z==-1){if(K[0]||K[2])Z=0;
if(K[1]||K[3])Z=2}if(Z!=-1){x=Z;t.push(r)}}var u=M.length;for(var g=0;g<u;g+=2){var r=M[g],C=M[g+1],Q=s.B$.Bo(d,r)[C];
for(var J=0;J<L.length;J++){var i=L[J];if(t.indexOf(i)!=-1)continue;var l=s.B$.Bo(d,i);if(l[C&1]==Q)M.push(i,C&1);
if(l[2+(C&1)]==Q)M.push(i,2+(C&1))}}M.push(x);return M};s.zf=function(){s.dS.call(this,[10,44],s.zCL,"tools/oselect");
this.bq="crosshair";this.zkN=0};s.zf.prototype=new s.dS;s.zf.prototype.sn=function(h,R,d,L){if(Math.random()<1/(1+this.zkN)){alert("The cross should be fully inside the object.",3500);
this.zkN++}};s.zf.prototype.xT=function(h,R,d,L){s.Po.zz$(h,s.dS.LE,this.Ps);if(!L.Pv||!this.MI)return;
var $=this.OG(h,d,!1),W=$.k,M=$.$,x=$.x,t=$.y,g=$.x+W,r=$.y+M,l=x+W/2,H=t+M/2,y=s.zf.zih;h.d.Gw={B:[x,t,g,t,g,r,x,r,l-W*y,H,l+W*y,H,l,H-M*y,l,H+M*y],D:"M L L L Z M L M L".split(" ")};
h.Dw=!0};s.zf.zih=.12;s.zf.prototype.GL=function(h,R,d,L){h.d.Gw=null;h.Dw=!0;this.finish(h,R,d,L)};
s.zf.prototype.getSelection=function(h,R,d,L){if(this.sT.PC(this.pV)||!this.MI)return null;var $=this.OG(h,d,!1),W=h._[h.f[0]];
if($.dp()||!$.Yf(W.rect))return null;return s.dS.jg("ObSl",$)};s.Po=function(){s.kq.call(this,[10,37],s.Vn,"tools/qselect");
this._Q="qselect"};s.Po.prototype=new s.kq;s.Po.prototype.pf=function(h,R,d,L,$){this.AG(h,d,L,$,1);
if(this.qE==null)return;this.Yu(h)};s.Po.prototype.yn=function(h,R,d,L,$){this.AK(h,R,d);s.Po.zz$(h,s.dS.LE,R);
if(this.gb)this.mv(h,d,$);if(this.qE==null)return;if(!$.Pv)return;var W=this.gh(h,d,L,$);if(W!=1)this.Yu(h)};
s.Po.zz$=function(h,R,d){if(h&&R.key!=s.Po.St(h)){R.key=s.Po.St(h);var L=h._[h.f[0]].rect.s(),W="Image Analysis ...";
if(L==0)return;var $=L>1e6,M=new X(e.E.Z,!0);M.data={c:e.j.AO,Cb:W};if($)d.R(M);setTimeout(function(){var x=s.Po.ztR(h);
for(var t in x)R[t]=x[t];var M=new X(e.E.Z,!0);M.data={c:e.j.AZ,Cb:W};if($)d.R(M)},30)}};s.Po.St=function(h){var R=h.f[0],d=h._[R],L=d.rect,$=L.k,W=L.$,M=$*W,x=d.buffer;
return[R,L.x,L.y,$,W,x[0],x[1],x[2],x[3]].join(",")};s.Po.ztR=function(h){var R=h.f[0],d=h._[R],L=d.rect,$=L.k,W=L.$,M=$*W,x=d.buffer,t=Date.now(),g=z.h(M);
g.fill(128);var r=z.Cg.EV(x,$,W);console.log(Date.now()-t);var l={key:s.Po.St(h),sD:x,rect:L.clone(),Hl:$,om:W,KA:12,zkg:!1,IN:g,sJ:r,z:z.h(M),Og:null,VW:null,Vh:null};
s.Po.JS(l);return l};s.Po.JS=function(h,R){var d=h.Hl,L=h.om,$=0,W=0,M=Date.now(),x=h.Og!=null&&z.Cg.zOk(h.sJ.eV,h.Og.eV,h.Og.mT,h.IN);
$=Date.now()-M;M=Date.now();if(!x&&!h.zkg){h.Og=z.Cg.Ez(h.sJ,d,L,h.IN,h.KA);if(!z.Cg.zOk(h.sJ.eV,h.Og.eV,h.Og.mT,h.IN)){h.zkg=!0;
console.log("conflict")}h.VW=z.Cg.zOA(h.sD,d,L,h.Og.eV,h.Og.mT);h.Vh=[h.VW[0].slice(0),[]];W=Date.now()-M;
M=Date.now()}var M=Date.now();if(R){h.Vh[0].set(h.VW[0]);var t=h.VW[1],g=h.Vh[1];for(var r=0;r<t.length;
r++)g[r]=t[r].slice(0);z.Cg.zOO(h.Og.eV,d,L,h.Og.mT,h.IN,h.z,h.Vh)}};function WN(h,R,d,L,$,W,M){this.vk=null;
this.nD=h?h.slice(0):null;this.ef=4;this.pV=null;this.sX=null;this.VF=null;this.zB=-1;this.PG=null;this.zkI=!1;
this.zuz=[];for(var x=0;x<8;x++)this.zuz.push(ud.zum(0,PIMG.rotate,-.5,-.5,-45-x*45));this.zuI=R;this.znk=d;
this.zne=L;this.zni=$;this.zWk=W;this.Km=M}WN.prototype.zMv=function(){return this.zB!=-1};WN.prototype.$F=function(){return this.nD.slice(0)};
WN.prototype.SM=function(h){this.nD=h};WN.prototype.zWa=function(){return this.VS(this.nD)};WN.prototype.zWB=function(){return this.ef};
WN.prototype.zWS=function(h){this.ef=h};WN.prototype.Au=function(h){if(h==null)h=this.nD;if(this.ef==9)return this.pV;
else return this.VS(h)[this.ef]};WN.prototype.zWK=function(h){if(this.ef==9)this.pV=h.clone();else{var R=this.Au(),d=new um(1,0,0,1,h.x-R.x,h.y-R.y);
z.G.V(this.nD,d,this.nD)}};WN.prototype.gW=function(h,R,d){var L=this.hS(h,R),$;if(L==9)return"default";
if(L==10){if(d)return null;return!this.zuI?"move":null}if(L==-1||L==4)return null;if(L==11){var W=this.Au().FZ(h);
$=90-Math.atan2(W.y,W.x)*180/Math.PI;var M=Math.round(8*($/360));M=(M+8)%8;return this.zuz[M]}else{var x=this.gB(h,this.nD);
$=[135,90,45,180,0,0,225,270,315][L];var t=z.S.wy(this.nD);$+=Math.atan2(-t[3],t[0])*180/Math.PI;var g="ew nesw ns nwse ew nesw ns nwse".split(" "),M=Math.round(8*($/360));
M=(M+8)%8;return g[M]+"-resize"}};WN.prototype.gB=function(h,R){var d=z.S.Gv(z.S.wy(R)),L=new Float64Array(2);
z.S.Fm(h.x,h.y,d,L);return new kY(L[0],L[1])};WN.prototype.hN=function(h){var R=this.gB(h,this.nD);return 0<=R.x&&R.x<=1&&0<=R.y&&R.y<=1};
WN.prototype.pf=function(h,R,d,L,$,W){this.zkI=W;this.PG=L;var M=h.F.P,x;if(this.nD==null)L=s.Kf.KG(h,L,R);
this.VF=L.clone();if(this.nD==null){this.VF.offset(1,1);var t=$==null?1:1/$;this.nD=[L.x,L.y,L.x+1,L.y,L.x+1,L.y+t,L.x,L.y+t];
x=8}else{x=this.hS(L,M);if(0<=x&&x<=8)this.VF=this.VS(this.nD)[x]}this.vk=this.nD.slice(0);this.zB=x;
this.rv(h,R);this.sX=this.Au();return x!=-1};WN.prototype.hS=function(h,R){var d=-1,L=this.VS(),$=6*e.p()/R;
if(d==-1)if(kY.ZW(this.Au(),h)<$)d=9;if(d==-1)for(var W=0;W<L.length;W++)if(W!=4&&kY.ZW(L[W],h)<$)d=W;
if(d==-1){if(this.hN(h)){if(this.zuI)d=10}else{var M=this.gB(h,this.nD),x=new A(0,0,1,1);x.si(.2,.2);
d=x.hR(M)?11:10}}return d};WN.prototype.yn=function(h,R,d,L){if(this.zB==-1)return;this.PG=L;var $=d.u(m.ka),W=d.u(m.tw),M=d.u(m.Is),x=h.F.P,t=this.VF,g=this.zB,r=this.VS(),l=s.Kf.KG(h,t,R),H=s.Kf.KG(h,L,R),y,f;
if(g==9){var r=this.VS(),b=-1;for(var K=0;K<r.length;K++)if(kY.ZW(r[K],H)*x<10)b=K;this.ef=b==-1?9:b;
this.pV=$?s.Iq.zE(l,H):H.clone()}else if(g==10){f=z.G.oY(this.vk);var Z=f.x,J=f.y;f.offset(L.x-t.x,L.y-t.y);
if(this.zGw()){f.x=Math.round(f.x);f.y=Math.round(f.y)}y=s.Kf.OL(h,f,R);var u=new um(1,0,0,1,f.x-Z+y[0],f.y-J+y[1]);
z.G.V(this.vk,u,this.nD)}else if(g==11){var C=this.Au(this.vk),Q=C.FZ(L),i=C.FZ(t),j=Math.atan2(Q.y,Q.x),V=Math.atan2(i.y,i.x),u=new um(1,0,0,1,-C.x,-C.y),E=Math.PI/12;
if($)u.rotate(Math.round((V-j)/E)*E);else u.rotate(V-j);u.translate(C.x,C.y);z.G.V(this.vk,u,this.nD)}else{var N,n=this.vk,a=g==0||g==2||g==6||g==8;
if(this.Km==1){if(a)$=W=M=!0}else if(this.Km==2&&a&&this.zkI!=!0)M=!0;if(this.zne&&a&&M){var K=[0,0,2,0,0,0,6,0,4,0][g],I=-1,q=H.x,k=H.y;
if($){var F=K+6&7,o=K+10&7,G=WN.zww(n[K],n[K+1],n[F],n[F+1],H.x,H.y),w=WN.zww(n[K],n[K+1],n[o],n[o+1],H.x,H.y),U=G[2]<w[2]?G:w;
q=U[0];k=U[1];if(W)I=G[2]<w[2]?F:o}else if(W)I=K+4&7;N=n.slice(0);if(I!=-1){var B=n[I],D=n[I+1],P=(n[K]+B)/2,v=(n[K+1]+D)/2;
N[I]=P-(q-P);N[I+1]=v-(k-v)}N[K]=q;N[K+1]=k}else if(a&&W){var C=this.sX,O=C.x,uk=C.y,ut=l.x-O,ua=l.y-uk,uu=1,uW=1;
if(Math.abs(ut)>=1)uu=(H.x-O)/ut;if(Math.abs(ua)>=1)uW=(H.y-uk)/ua;if($)uu=uW=(uu+uW)/2;var kV=new um;
kV.translate(-O,-uk);kV.scale(uu,uW);kV.translate(O,uk);N=n.slice(0);z.G.V(N,kV,N)}else{if(this.zGw()){H.x=Math.round(H.x);
H.y=Math.round(H.y)}var p=[0,1,2,5,8,7,6,3],_=p[(p.indexOf(g)+4)%8],uB=[];for(var K=0;K<3;K++)for(var I=0;
I<3;I++)uB.push(new kY(I/2,K/2));var C=this.sX,ub=this.gB(H,n),uq=this.gB(t,n),uF=W&&(this.ef==4||this.ef==9)?this.gB(C,n):uB[_],ue=new um,up=new um,uu=(ub.x-uF.x)/(uq.x-uF.x);
if(uu==0)uu=1e-4;var uW=(ub.y-uF.y)/(uq.y-uF.y);if(uW==0)uW=1e-4;if(this.zni){uu=Math.max(uu,0);uW=Math.max(uW,0)}if(g==0||g==2||g==6||g==8){if($||this.zWk)ue.scale(uu,uu);
else ue.scale(uu,uW)}if(g==1||g==3||g==5||g==7){var ui=this.zWk;if(g==1||g==7)ue.scale(ui?uW:1,uW);else ue.scale(uu,ui?uu:1);
if(this.znk&&M){if(g==1||g==7)up.DS=(ub.x-uF.x)/(ub.y-uF.y);else up.W=(ub.y-uF.y)/(ub.x-uF.x)}}var kV=new um;
kV.translate(-uF.x,-uF.y);kV.concat(ue);kV.concat(up);kV.translate(uF.x,uF.y);N=[0,0,1,0,1,1,0,1];z.G.V(N,kV,N);
var U=z.S.wy(n);z.S.apply(U,N)}if(WN.Sk(N))this.nD=N}this.rv(h,R);if(y)s.Kf.Ox(h,f,y)};WN.zww=function(h,R,d,L,$,W){var M=d-h,x=L-R,t=$-h,g=W-R,r=M*M+x*x,l=t*M+g*x,H=l/r,y=h+H*M,f=R+H*x,b=$-y,K=W-f;
return[y,f,Math.sqrt(b*b+K*K)]};WN.prototype.zGw=function(){var h=this.nD;return Math.abs(h[1]-h[3])<1e-6&&Math.abs(h[2]-h[4])<1e-6||Math.abs(h[0]-h[2])<1e-6&&Math.abs(h[3]-h[5])<1e-6};
WN.Sk=function(h){return z.G.VY(h)||z.G.VY([h[6],h[7],h[4],h[5],h[2],h[3],h[0],h[1]])};WN.prototype.WL=function(h,R,d,L){this.zB=-1;
this.PG=null;h.d.Nq=null;h.d.jc=[];h.Dw=!0};WN.prototype.LT=function(h,R,d){var L=d.AF();if(L.x||L.y){var $=new um(1,0,0,1,L.x,L.y);
z.G.V(this.nD,$,this.nD);this.rv(h,R);return!0}return!1};WN.prototype.VS=function(h){if(h==null)h=this.nD;
var R=h[6]-h[0],d=h[7]-h[1],L=h[4]-h[2],$=h[5]-h[3],W=[h[0],h[1],h[2],h[3],h[0]+R/2,h[1]+d/2,h[2]+L/2,h[3]+$/2,h[6],h[7],h[4],h[5]],M=[];
for(var x=0;x<3;x++){var t=x*4,g=W[t+0],r=W[t+1],l=W[t+2],H=W[t+3];M.push(new kY(g,r));M.push(new kY(g+(l-g)/2,r+(H-r)/2));
M.push(new kY(l,H))}return M};WN.prototype.rv=function(h,R,d){if(d==null)d=!1;var L=this.VS(),$=L[0],W=L[2],M=L[6],x=L[8];
h.d.Gw={D:[],B:[]};h.d.Gw.D.push("M","L","L","L","Z");h.d.Gw.B.push($.x,$.y,W.x,W.y,x.x,x.y,M.x,M.y);
if(this.Km==2){var t=W.FZ($),g=M.FZ($),r=x.FZ(W),l=x.FZ(M);for(var H=0;H<3;H++){h.d.Gw.D.push("M","L","M","L");
var y=(H+1)*.25;h.d.Gw.B.push($.x+t.x*y,$.y+t.y*y,M.x+l.x*y,M.y+l.y*y);h.d.Gw.B.push($.x+g.x*y,$.y+g.y*y,W.x+r.x*y,W.y+r.y*y)}}h.F.Ya=new A(0,0,kY.ZW(L[0],L[2]),kY.ZW(L[0],L[6]));
if(this.zB!=-1&&this.zB<9&&this.PG){var f=h.F.Ia(this.PG.x,this.PG.y);s.Cx.uF(f.x+10,f.y-10,h.F.Ya,h,R)}if(!d){h.d.CI=[];
for(var H=0;H<L.length;H++)if(H!=4)h.d.CI.push(L[H].x,L[H].y);var b=this.Au();h.d.CI.push(b.x,b.y)}h.Dw=!0};
WN.prototype.clear=function(h){h.F.Ya=null;h.d.Nq=null;h.d.Gw=null;h.d.CI=[];h.Dw=!0};function hW(h,R){this.Mp=null;
this.zB=-1;this.zEG(h)}hW.prototype.Sb=function(){return JSON.parse(JSON.stringify(this.Mp))};hW.prototype.zEG=function(h){this.Mp=JSON.parse(JSON.stringify(h))};
hW.prototype.hN=function(h){return!0};hW.prototype.gW=function(h,R){var d=this.hS(h,R);if(d==-1)return"default";
return"pointer"};hW.prototype.pf=function(h,R,d,L){this.zB=this.hS(L,h.F.P);return this.zB!=-1};hW.prototype.hS=function(h,R){var d=-1,L=20*e.p(),$=this.zez();
for(var W=0;W<$.length;W++)if(kY.ZW($[W],h)*R<L)d=W;return d};hW.prototype.yn=function(h,R,d,L){if(this.zB==-1)return;
var $=h.F.P,W=this.zB,M=z.Mp.Qs(this.Mp);M[W*2]=L.x;M[W*2+1]=L.y;z.Mp.Wn(M,this.Mp)};hW.prototype.WL=function(h,R,d,L){this.zB=-1;
h.Dw=!0};hW.prototype.LT=function(h,R,d){var L=d.AF();if(L.x||L.y){var $=new um(1,0,0,1,L.x,L.y);z.G.V(this.nD,$,this.nD);
this.rv(h)}};hW.prototype.zez=function(h){var R=z.Mp.Qs(this.Mp),d=[];for(var L=0;L<R.length;L+=2)d.push(new kY(R[L],R[L+1]));
return d};hW.prototype.rv=function(h){var R=this.zez();h.d.Gw={D:[],B:[]};h.d.Gw.D.push("M","C","C","C","C");
var d=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var L=0;L<d.length;L++)h.d.Gw.B.push(R[d[L]].x,R[d[L]].y);
h.d.Gw.D.push("M","L","L","M","L","L","M","L","L","M","L","L");d=[4,0,1,2,3,7,11,15,14,13,12,8];for(var L=0;
L<d.length;L++)h.d.Gw.B.push(R[d[L]].x,R[d[L]].y);h.d.CI=[];for(var L=0;L<R.length;L++)h.d.CI.push(R[L].x,R[L].y);
h.Dw=!0};hW.prototype.clear=function(h){h.d.Gw=null;h.d.CI=[];h.Dw=!0};var uE={};uE.UE=function(h){this.id=h;
this.Ps=null};uE.UE.prototype.ns=function(h,R,d,L,$){};uE.UE.prototype.uj=function(h,R){};uE.UE.prototype.Lu=function(h,R){};
uE.UE.prototype.track=function(h){var R=new X(e.E.nN,!0);R.data=h;h.SX=!0;this.Ps.R(R)};uE.History=function(){uE.UE.call(this,s.HX);
this.sy=!0;this.zbG=0};uE.History.prototype=new uE.UE;uE.History.prototype.ns=function(h,R,d,L){if(h.c=="h_itemchange"){if(h.index<d.mB)for(var $=d.mB;
$>h.index;$--)this.SB(d);if(h.index>d.mB)for(var $=d.mB;$<h.index;$++)this.Sq(d)}if(h.c=="h_stepfwd")this.Sq(d);
if(h.c=="h_stepbck")this.SB(d);if(h.c=="h_undoredo"){var W=this.sy||this.zbG!=d.mB;if(W){this.SB(d);
W=!1}else{this.Sq(d);W=!0}this.sy=W;this.zbG=d.mB}else this.sy=!0};uE.History.prototype.SB=function(h){if(h.mB==0)return;
var R=h.history[h.mB];R.L.Lu(R.data,h);h.mB--};uE.History.prototype.Sq=function(h){if(h.mB==h.history.length-1)return;
var R=h.history[h.mB+1];R.L.uj(R.data,h);h.mB++};uE._k=function(){uE.UE.call(this,s.br);this.Ps=null};
uE._k.prototype=new uE.UE;uE._k.prototype.ns=function(h,R,d,L,$){this.Ps=R;var W=h.c,M=h.J!=null?h.J:d.f.length!=0?d.f[0]:d._.length-1,x=d._[M];
if(W==S.M$&&d.z==null)W=S.OP;if(W==S.MP){var t=new zk([6,33],this),g=x.If()?["pass"].concat(zP.RS):zP.RS,r=h.J!=null?[h.J]:d.f,l=JSON.stringify(r),H=[];
for(var y=0;y<r.length;y++)H.push(d._[r[y]].Pg);t.data={c:W,TP:l,cp:H,sg:g[h.sg]};d.FD(t);this.uj(t.data,d);
this.track(tQ.wn("Md",{t:"enum",v:{BlnM:zP.wc[h.sg]}}))}if(W==S.MN){var t,f=d.jL(),r=h.J!=null?[h.J]:d.f,l=JSON.stringify(r);
if(f&&f.data&&f.data.c==W&&f.data.TP==l)t=f;else{var b=tQ.wn("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(b);var H=[];for(var y=0;y<r.length;y++)H.push(d._[r[y]].opacity);t=new zk([6,32],this);t.data={c:W,TP:l,cp:H,sg:h.sg,sl:b.QZ};
d.FD(t)}t.data.sg=h.sg;t.data.sl.T.v.Opct.v.val=Math.round(h.sg*100/255);this.uj(t.data,d)}if(W==S.q_){if(x.add.iOpa==null)x.add.iOpa=255;
var t,f=d.jL();if(f&&f.data&&f.data.c==W&&f.data.J==M)t=f;else{t=new zk("Fill Opacity Change",this);
t.data={c:W,J:M,cp:x.add.iOpa,sg:h.sg};d.FD(t)}t.data.sg=h.sg;this.uj(t.data,d)}if(W==S.QD){if(x.add.lspf==null)x.add.lspf=0;
var H=x.add.lspf,K=H,Z=h.sg,t;for(var y=0;y<Z[0].length;y++){var J=Z[1][y],u=1<<J;if((K&u)==0&&Z[0][y])K^=u;
else if((K&u)!=0&&!Z[0][y])K^=u}var f=d.jL();if(f&&f.data&&f.data.c==W&&f.data.J==M)t=f;else{var t=new zk([6,57,1],this);
t.data={c:W,J:M,cp:H,sg:K};d.FD(t)}t.data.sg=K;this.uj(t.data,d)}if(W==S.ra){var C="----",Q=h.Ve,K=null;
for(var y=0;y<zQ.dw.dZ.length;y++)if(x.add[zQ.dw.dZ[y]])C=zQ.dw.dZ[y];var i=x.add[C];if(Q=="TySh")K=uM.gD(50,50,$.QS);
var t=new zk("Layer Type",this);t.data={c:W,J:M,zbO:[C,i],Ve:[Q,K]};d.FD(t);this.uj(t.data,d)}if(W==S.OF){var j=[];
if(L.u(m.tw)){var V=d.jL(),E=V?V.data:null;if(V!=null&&V.L==this&&E.c==S.OF&&E.TP.length!=1){var N=new X(e.E.Q);
N.L=s.HX;N.data={c:"h_stepbck"};R.R(N);if(E.J==M)return}var n=d.root.UZ(M),a=d.HP(null,M);while(n.parent!=d.root){a.push(n.parent.index);
n=n.parent}for(var y=0;y<d._.length;y++){var I=d._[y],q=I.rl(),k=a.indexOf(y)!=-1;if(!k&&q)j.push(y);
if(y==M&&!q)j.push(y)}}else{j.push(M);var q=d._[M].rl(),b={Mh:q?"hide":"show",QZ:{classID:q?"Hd":"Shw",null:{t:"VlLs",v:[tQ.sx("Lyr",!0)]}}};
this.track(b)}var t=new zk("Layer visibility",this,!0);t.data={c:W,TP:j,J:M};d.FD(t);this.uj(t.data,d)}if(W==S.MG){var b={Mh:"select",QZ:{classID:"null",MkVs:{t:"bool",v:!1}}},F,escape=!1;
if(d.F.ro.join("")!="111"){d.F.ro=[1,1,1];d.Dw=!0}if(L.u(m.Is)||h.zbg==0){var o=d.f.indexOf(M);if(o==-1)d.f.push(M);
else if(d.f.length>1)d.f.splice(o,1);d.f.sort(function(t,WQ){return t-WQ});b.QZ.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
F=M}else if(L.u(m.ka)&&!L.u(m.tw)&&h.kG>0){W=h.kG==1?S.tg:h.kG==2?S.QF:S.qh;escape=!0}else if((L.u(m.ka)||h.zbg==1)&&d.f.length>0){var G=Math.min(M,d.f[0]),w=Math.max(M,d.f[d.f.length-1]);
d.f=[];for(var y=G;y<=w;y++)if(d._[y].add.lsct!=W_.Oz)d.f.push(y);b.QZ.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
F=M}else{F=M;var I=d._[M];if(I.If()&&h.znp)I.add.lsct=W_.ei;else if(d.f.length==1&&d.f[0]==M&&h.kG==I.GJ){return}d.f=[M];
d.pw()}if(F!=null){b.QZ.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:d._[F].getName()}}]},this.track(b)}if(!escape){if(d.f.length==1){var U=d.f[0];
for(var y=0;y<d._.length;y++){if(y==U)continue;var B=d._[y];B.GJ=0;B.iH=!1}var x=d._[U];if(h.kG==2)x.iH=!x.iH;
else{x.GJ=h.kG<=0?0:h.kG;if(h.kG==1||h.kG==3){var D=h.kG==3?x.ez(d).v:x.rc();D.Ar=!1}}}else for(var y=0;
y<d._.length;y++){var B=d._[y];B.GJ=0;B.iH=!1}d.NF=null;d.tf=!0}}if(W==S.tg||W==S.qh){var P=W==S.tg,D=P?x.rc():x.ez(d).v;
if(D==null)return;var t=new zk(D.isEnabled?P?[6,15]:[6,42]:P?[6,14]:[6,41],this);t.data={c:W,J:M};d.FD(t);
this.uj(t.data,d)}if(W==S.QF){var D=x.add.vmsk;if(D==null)return;var t=new zk(D.isEnabled?[6,17]:[6,16],this);
t.data={c:W,J:M};d.FD(t);this.uj(t.data,d)}if(W==S.zFc){if(x.add.lsct==W_.ei)x.add.lsct=W_.Th;else x.add.lsct=W_.ei;
d.tf=!0}if(W==S.Mn){if(!d.rJ(M))return;var t=new zk(x.Dj?[6,19]:[6,18],this);t.data={c:W,J:M};d.FD(t);
if(h.sg==null||h.sg!=x.Dj)this.uj(t.data,d);this.track({Mh:"groupEvent",QZ:{classID:"GrpL",null:{t:"obj ",v:[tQ.sx("Lyr",!0)]}}})}if(W==S.zdg){if(x.Br())x.CN-=32;
else x.CN+=32;d.tf=!0}if(W==S.qr||W==S.Fw){var t;if(W==S.qr)t=new zk(x.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);
if(W==S.Fw)t=new zk(x.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);t.data={c:W,J:M};d.FD(t);this.uj(t.data,d)}if(W==S.qs||W==S.Fg){var U=h.index,t;
if(W==S.qs)t=new zk(x.add.lmfx[uz.EN[U[0]]].v[U[1]].v.enab.v?[6,30]:[6,29],this);if(W==S.Fg)t=new zk(x.add.SoLd.filterFX.v.filterFXList.v[U].v.enab.v?[6,44]:[6,43],this);
t.data={c:W,J:M,index:h.index};d.FD(t);this.uj(t.data,d)}if(W==S.rq){if(h.src==h.TN)return;var v=d._[h.src],O=d._[h.TN],uk=v.add.lmfx?JSON.stringify(v.add.lmfx):"",ut=O.add.lmfx?JSON.stringify(O.add.lmfx):"";
if(O.add.lmfx==null){O.add.lmfx=JSON.parse(uz.default);for(var y=0;y<uz.order.length;y++)O.add.lmfx[uz.EN[y]]={t:"VlLs",v:[]}}if(h.tx==null){O.add.lmfx=JSON.parse(uk);
if(!h.$o)delete v.add.lmfx}else{var ua=h.tx[0],uu=uz.EN[ua];if(uz.zau.indexOf(uz.order[ua])==-1)O.add.lmfx[uu].v=[];
O.add.lmfx[uu].v.push(v.add.lmfx[uu].v[h.tx[1]]);if(!h.$o)v.add.lmfx[uu].v.splice(h.tx[1],1)}var uW=v.add.lmfx?JSON.stringify(v.add.lmfx):"",kV=O.add.lmfx?JSON.stringify(O.add.lmfx):"";
if(!O.Br())O.CN+=32;var t=new zk("Move Layer Styles",this);t.data={c:W,zqS:h.src,zdd:h.TN,zn_:uk,znG:ut,znO:uW,znH:kV};
d.FD(t);this.uj(t.data,d)}if(W==S.znL){var B=d._[h.src],p=JSON.stringify(B.add.SoLd),_=JSON.parse(p),uB=_.filterFX.v.filterFXList.v;
uB.splice(h.tx,1);var t=new zk([6,53],this);t.data={c:S.FC,FY:[{Ft:h.src,Ci:[p,JSON.stringify(_)]}]};
d.FD(t);this.uj(t.data,d)}if(W==S.zAX){var v=d._[h.src],O=d._[h.TN],ub=[];if(v!=O&&O.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(v==O&&!h.$o&&(h.tx==h.VO||h.tx==-1))return;var uq=v.ez(d),p=JSON.stringify(v.add.SoLd),_=JSON.parse(p),uB=_.filterFX.v.filterFXList.v;
if(v==O){uB.splice(h.VO,0,uB[h.tx]);if(!h.$o)uB.splice(h.tx+(h.tx<h.VO?0:1),1);ub.push({Ft:h.src,Ci:[p,JSON.stringify(_)]})}else if(h.tx==-1){var uF=_.filterFX;
if(!h.$o){delete _.filterFX;ub.push({Ft:h.src,Ci:[p,JSON.stringify(_)],NT:[uq,null]})}var ue=O.lq()?O.ez(d):null,up=zG.zFf(uq),ui=JSON.stringify(O.add.SoLd),zd=JSON.parse(ui);
zd.placed.v=up.id;zd.filterFX=uF;ub.push({Ft:h.TN,Ci:[ui,JSON.stringify(zd)],NT:[ue,up]})}else{var uN=uB[h.tx];
if(!h.$o){uB.splice(h.tx,1);ub.push({Ft:h.src,Ci:[p,JSON.stringify(_)]})}var ui=JSON.stringify(O.add.SoLd),zd=JSON.parse(ui);
if(zd.filterFX==null)zd.filterFX=u$.HU();var u_=zd.filterFX.v.filterFXList.v;u_.splice(h.VO,0,uN);var za={Ft:h.TN,Ci:[ui,JSON.stringify(zd)]};
if(!O.lq()){var up=zG.zwg(O.add.SoLd.placed.v);za.NT=[null,up]}ub.push(za)}var t=new zk([6,52],this);
t.data={c:S.FC,FY:ub};d.FD(t);this.uj(t.data,d)}if(W==S.qP){var D=x.rc(),t=new zk(D._q?[6,26]:[6,25],this);
t.data={c:W,J:M};d.FD(t);this.uj(t.data,d);this.track({Mh:"set",QZ:{classID:"setd",null:{t:"obj ",v:[tQ.sx("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:D._q}}}}})}if(W==S.UJ){var D=x.add.vmsk,t=new zk(D._q?[6,28]:[6,27],this);
t.data={c:W,J:M};d.FD(t);this.uj(t.data,d)}if(W==S.Uy){var uZ=[],t;for(var y=0;y<d.f.length;y++){var uj=d.f[y],I=d._[uj];
if(I.add.vogk)uZ.push(uj,JSON.stringify(I.add.vogk))}for(var y=0;y<d.Qg.length;y++){var uj=d.Qg[y],I=d.bs[uj];
if(I.add.vogk)uZ.push(-1-uj,JSON.stringify(I.add.vogk))}z.qK.z_w(d,h.Re,h.znX);var uw=[];for(var y=0;
y<d.f.length;y++){var uj=d.f[y],I=d._[uj];if(I.add.vogk)uw.push(uj,JSON.stringify(I.add.vogk))}for(var y=0;
y<d.Qg.length;y++){var uj=d.Qg[y],I=d.bs[uj];if(I.add.vogk)uw.push(-1-uj,JSON.stringify(I.add.vogk))}var f=d.jL();
if(f&&f.data&&f.data.c==W){var tI=!0;for(var y=0;y<uZ.length;y+=2)if(uZ[y]!=f.data.VI[y])tI=!1;if(tI){t=f;
t.data.bb=uw}}if(t==null){var t=new zk([12,91,1],this);t.data={c:W,VI:uZ,bb:uw};d.FD(t)}this.uj(t.data,d)}if(W==S.UY){var t,f=d.jL();
if(f&&f.data&&f.data.c==W&&f.data.J==M){t=f;t.data.pq=JSON.stringify(h.pq)}if(t==null){var t=new zk("Editing Artboard",this);
t.data={c:W,J:M,znf:JSON.stringify(x.add.artb),pq:JSON.stringify(h.pq)};d.FD(t)}this.uj(t.data,d)}if(W==S.to){var uw=d.Mk.slice(0),ug=d.rY.slice(0),uO=d.z,uC=d.z;
if(h.Ek=="fromAction"){var ux=h.a.Mh,zu=h.a.QZ;if(ux=="make"||ux=="duplicate"){var uL=uw.length,us=!1,Wa=!1;
if(d.ew())uL--;var un=new S.x_;un.name="Alpha "+(uL+1);if(ux=="make"){var Wt=zu.Nw.v;un.color=255;ug=[uL];
un.Ar=!0;un.Nv=Wt.Opct.v;if(Wt.Nm)un.name=Wt.Nm.v;if(Wt.classID=="SCch"){us=!0;uC=null;un.cP=1}}else{var uV=zu.null.v[0].v;
if(uV.keyID=="fsel")us=!0;else{var zZ=s.dS.zqi(d);uC=s.dS.zBy(d,zZ);un.color=0;un.rect=uC.rect;un.channel=uC.channel}}if(us){un.color=0;
if(d.z){un.rect=d.z.rect.clone();un.channel=d.z.channel.slice(0)}if(Wa){un.color=255-un.color;z.Gv(un.channel)}}uw.splice(uL,0,un)}else if(ux=="delete"){var a=d.rY;
a.sort(function(t,WQ){return WQ-t});if(a.length==0)return;for(var y=0;y<a.length;y++)uw.splice(a[y],1);
ug=[]}else if(ux=="hide"){uw[ug[0]]=uw[ug[0]].clone();uw[ug[0]].Ar=!1}}if(h.Ek=="rnm"){uw[h.KW]=uw[h.KW].clone();
uw[h.KW].name=h.name}var t=new zk("Channel Edit",this);t.data={c:W,VI:d.Mk.slice(0),H$:d.rY.slice(0),bb:uw,Hc:ug,mN:uO,Qn:uC};
this.uj(t.data,d);d.FD(t)}if(W==S.mY){var t=new zk(h.zv,this);t.data={c:S.mY,CH:d._.slice(0),eq:h.eq,tc:d.f.slice(0),ML:h.Qn};
d.FD(t);this.uj(t.data,d)}if(W==S.Ot){var uU=d.HP(null,h.J),uG=1e10;if(uU.length==0)return;if(d._.length==uU.length){alert("Project must have at least 1 layer");
return}var zI=[];for(var y=0;y<d._.length;y++)if(uU.indexOf(y)==-1)zI.push(d._[y]);for(var y=0;y<uU.length;
y++)uG=Math.min(uG,uU[y]);uG=Math.max(uG-1,0);while(zI[uG].name=="</Layer group>")uG++;this.track({Mh:"delete",QZ:{classID:"Dlt",null:tQ.sx("Lyr",!0)}});
var t=new zk([6,31],this);t.data={c:S.mY,CH:d._.slice(0),eq:zI,tc:d.f.slice(0),ML:[uG]};d.FD(t);this.uj(t.data,d)}if(W==S.QW){var a=h.zEw?h.zEw:d.f,WW=0,Wp=!1;
if(a.length==0)return;if(a.length==1&&d._[a[0]].zU==0){alert(uP.get([15,7,5]));return}var Wq=[];for(var y=0;
y<d._.length;y++){var uH=d._[y].zU;Wq.push(uH);WW=Math.max(WW,uH)}var tD=-1,zF=-1;for(var y=0;y<a.length;
y++){var uH=d._[a[y]].zU;if(uH==0)Wp=!0;else if(tD==-1||tD==uH)tD=uH;else zF=uH}if(!Wp)for(var y=0;y<a.length;
y++)d._[a[y]].zU=0;else if(tD!=-1&&zF==-1)for(var y=0;y<a.length;y++)d._[a[y]].zU=tD;else for(var y=0;
y<a.length;y++)d._[a[y]].zU=WW+1;var zO=[];for(var y=0;y<d._.length;y++){var uH=d._[y].zU;if(zO[uH]==null)zO[uH]=0;
zO[uH]++}for(var y=0;y<d._.length;y++){var uH=d._[y].zU;if(zO[uH]==1)d._[y].zU=0}var Wr=Wq;Wq=[];for(var y=0;
y<d._.length;y++){var uH=d._[y].zU;Wq.push(uH);WW=Math.max(WW,uH)}var t=new zk(Wp?[6,54,0]:[6,54,1],this);
t.data={c:S.QW,znc:Wr,znl:Wq};d.FD(t);this.uj(t.data,d)}if(W==S.OP&&(h.J!=null||d.f.length!=0)||W==S.DJ){var z_=d.Fr(W==S.OP?h.J:M,null,h.zKl);
if(W==S.DJ){var B=z_[0],ux=B.add.SoLd.Idnt.v,Wz=d.On(ux).clone();B.add.SoLd.Idnt.v=Wz.uo=zG.jO()+ux.slice(8);
d.add.lnk2.push(Wz)}if(W==S.OP){var Me={Mh:"duplicate",QZ:{classID:"null",null:tQ.sx("Lyr",!0)}};if(h.ko){z_[0].AI(h.ko);
Me.Nm={t:"TEXT",v:h.ko}}this.track(Me);h.zED=h.J}W=S.qX;h._=z_;h.ek=d;h.VH=d}if(W==S.qX){var zp,MB,Wj=h.ek,WA=h.VH;
if(Wj!=WA){console.log("ADDLAYERS different projs");var zp=new A(0,0,Wj.k,Wj.$),MB=new A(0,0,WA.k,WA.$),MA=[],zi=[];
for(var y=0;y<h._.length;y++){var B=h._[y];if(B.add.SoLd==null)continue;var ux=B.add.SoLd.Idnt.v;if(MA.indexOf(ux)==-1){MA.push(ux);
zi.push(zG.jO()+ux.slice(8))}B.add.SoLd.Idnt.v=zi[MA.indexOf(ux)];var uq=B.ez(Wj);if(uq){Wj.pP(uq);WA.MJ(uq)}}if(MA.length>0){if(WA.add.lnk2==null)WA.add.lnk2=[];
for(var y=0;y<MA.length;y++){var MR=Wj.On(MA[y]),Wz=MR.clone();Wz.uo=zi[y];WA.add.lnk2.push(Wz)}}}var uO=WA.f.slice(0);
uO.sort(function(t,WQ){return t-WQ});var zI=WA._.slice(0),uC=[],uv=-1;for(var y=0;y<uO.length;y++)uv=Math.max(uv,uO[y]);
if(h.zED!=null)uv=h.zED;uv++;for(var y=0;y<h._.length;y++){var I=h._[y];zI.splice(uv,0,I);uC.push(uv);
uv++}if(h._[h._.length-1].If())uC=[uv-1];var t=new zk([6,0],this);t.data={c:S.mY,CH:WA._.slice(0),eq:zI,tc:uO,ML:uC};
WA.FD(t);this.uj(t.data,WA)}if(W==S.zqq){var zM=h.J!=null?[h.J]:d.HP(),zI=d._.slice(0);for(var y=0;y<zM.length;
y++){var I=d._[zM[y]].clone();I.zMm(d);zI.splice(zM[y],1,I)}var t=new zk([6,8],this);t.data={c:S.mY,CH:d._.slice(0),eq:zI,tc:d.f.slice(0),ML:d.f.slice(0)};
d.FD(t);this.uj(t.data,d)}if(W==S.zqT){var zI=d._.slice(0),I=zI[d.f[0]]=zI[d.f[0]].clone(),hZ=I.add.lmfx,zA=0;
delete I.add.lmfx;var zr=z.h(I.rect.s());z.nP(I.buffer,zr,3);var tA=uS.pO(hZ,null,zr,I.rect,d,I.rect).type;
for(var y=0;y<uz.order.length;y++){var tj=uz.order[y],Md=tA[tj],MI=y>7;for(var WD=0;WD<Md.length;WD++){var zD=Md[WD],r=d.mS();
r.Pg=zD.js;r.opacity=Math.round(255*zD.Zc);r.Dj=!MI;r.buffer=zD.tP;r.rect=zD.km;r.rect.offset(I.rect.x,I.rect.y);
r.AI(I.getName()+"'s "+uP.get(uz.names[y]));zI.splice(d.f[0]+(MI?0:1),0,r);if(MI)zA++}}var t=new zk("Styles to Layers",this);
t.data={c:S.mY,CH:d._.slice(0),eq:zI,tc:d.f.slice(0),ML:[d.f[0]+zA]};d.FD(t);this.uj(t.data,d)}if(W==S.DU){var zM=d.HP(),zI=d._.slice(0),kJ=new A(0,0,d.k,d.$);
for(var y=0;y<zM.length;y++){var tK=d._[zM[y]],WK=tK.rl();tK.nr(!0);var WV=d.root.UZ(zM[y]);if(tK.If())continue;
if(WV==null)continue;var I=tK.clone();I.zMm(d);var WT=WV.OG(d,!0),MO=d._;d.$Z([tK]);d.I();d.UL();I.buffer=z.h(WT.s()*4);
z.bt(d.DP(),kJ,I.buffer,WT);I.rect=WT;I.opacity=255;I.add.iOpa=255;I.Pg="norm";I.I();I.Y.bN=!0;d.$Z(MO);
if(I.add.lmfx)delete I.add.lmfx;I.v=I.P$=null;zI.splice(zM[y],1,I);I.nr(WK);tK.nr(WK)}var t=new zk([6,34],this);
t.data={c:S.mY,CH:d._.slice(0),eq:zI,tc:d.f.slice(0),ML:d.f.slice(0)};d.FD(t);this.uj(t.data,d)}if(W==S.zEB){var zM=d.HP(),zI=d._.slice(0);
for(var y=0;y<zM.length;y++){var I=d._[zM[y]],MS=I.add.TySh;if(MS==null)continue;var B=new zH(MS.h_,$.UX),hi=z.G.de(Wg.X$(B,MS));
for(var ks in hi){var Wx=hi[ks],uc=I.clone();delete uc.add.TySh;uc.CN=uc.CN|1<<4;uc.add.SoCo=JSON.parse(JSON.stringify(uz.kM[0]));
var hz=uc.add.SoCo.Clr.v;hz.Rd.v=parseInt(ks.slice(1,3),16);hz.Grn.v=parseInt(ks.slice(3,5),16);hz.Bl.v=parseInt(ks.slice(5,7),16);
var bP=new S.EF;bP.r=z.G.yp(Wx,!1);if(uc.add.vmsk!=null){uc.add.vmsk.zeR();bP.concat(uc.add.vmsk)}uc.add.vmsk=bP;
uc.add.vstk=JSON.parse(JSON.stringify(uz.ri.default));uc.kd();uc.eG(d);zI.splice(zI.indexOf(I),0,uc)}zI.splice(zI.indexOf(I),1)}var uC=d.f.slice(0);
for(var y=uC.length-1;y>=0;y--)if(uC[y]>=zI.length)uC.splice(y,1);var t=new zk([6,40],this);t.data={c:S.mY,CH:d._.slice(0),eq:zI,tc:d.f.slice(0),ML:uC};
d.FD(t);this.uj(t.data,d)}if(W==S.zSs){var kR=d.f.length;if(kR<2)return;if(!d.rs())return;var uc=d._[d.f[0]].clone(),zI=[];
for(var y=0;y<d._.length;y++)if(d.f.indexOf(y)==-1)zI.push(d._[y]);zI.splice(d.f[0],0,uc);for(var y=1;
y<kR;y++){var I=d._[d.f[y]],WC=I.rect.clone();WC.si(1,1);var WQ=z.h(WC.s()*4);z.bt(I.buffer,I.rect,WQ,WC);
uc.extend(WC);var bT=z.h(WC.s()*4);z.bt(uc.buffer,uc.rect,bT,WC);var t=z.h(WC.s());z.nP(WQ,t,3);z.round(t,200);
z.Gn(t,WQ,3);z.K.Uu("norm",WQ,WC,bT,WC,WC,1);z.Zr.zC(bT,t,WC);z.bt(bT,WC,uc.buffer,uc.rect)}var t=new zk([2,10],this);
t.data={c:S.mY,CH:d._.slice(0),eq:zI,tc:d.f.slice(0),ML:[d.f[0]]};d.FD(t);this.uj(t.data,d)}if(W==S.Df){var zI=d._.slice(0),ug=d.f.slice(0);
for(var y=0;y<zI.length;y++){var I=zI[y],ht=I.add.vmsk;if(I.ej()&&ht&&I.add.vstk.strokeEnabled.v&&!I.add.vstk.fillEnabled.v){var tR=ht.r,Mx=0,tE=-1;
for(var WD=0;WD<tR.length;WD++){if((tR[WD].type==0||tR[WD].type==3)&&tR[WD].uH!=-1){Mx++;if(tR[WD].type==3&&tE==-1){tR[WD].pa=tR[WD].uH=1;
tE=WD}}}if(Mx>1&&tE!=-1){console.log("separating an open path into a new layer");I=I.clone();ht=I.add.vmsk;
tR=ht.r;var r=tR[tE].length,tg=I.clone();tg.add.lyid=d.rr();ht.r=tR.slice(0,2).concat(tR.slice(tE,tE+r+1));
ht.f=[];I.eG(d);I.I();var Mk=tg.add.vmsk.r;tg.add.vmsk.r=Mk.slice(0,tE).concat(Mk.slice(tE+r+1,Mk.length));
tg.add.vmsk.f=[];tg.eG(d);zI[y]=I;zI.splice(y+1,0,tg);for(var WD=0;WD<ug.length;WD++)if(ug[WD]>y)ug[WD]++;
var tL=ug.indexOf(y);if(tL!=-1){ug.splice(tL+1,0,y+1)}}}}if(zI.length!=d._.length){var t=new zk("Splitting open paths",this);
t.data={c:S.mY,CH:d._.slice(0),eq:zI,tc:d.f.slice(0),ML:ug};d.FD(t);this.uj(t.data,d)}}if(W==S.zzZ){this.ns({c:S.Df},R,d,L,$);
var uO=d.f.slice(0),MO=d._.slice(0),zM=d.HP();if(zM.length==0)return;d.zdQ(zM);var t=new zk([6,36,0],this);
t.data={c:S.mY,CH:MO,eq:d._.slice(),tc:uO,ML:d.f.slice(0)};d.FD(t);this.uj(t.data,d)}if(W==S.BX){var MR=h.C$.On(h.id),Wz=MR.clone();
Wz.raw=h.data;Wz.JA="8BIM";Wz.sS="8BPB";Wz.qZ=Wz.qZ+".psd";Wz.DP(!1);MR.DP(!1);var t=new zk([6,36,1],this);
t.data={c:S.BX,id:h.id,VU:MR,Vr:Wz};h.C$.FD(t);this.uj(t.data,h.C$)}if(W==S.zhO){var MW,tB;if(h.Uv){MW=h.C$;
tB=h.Uv}else{h.C$.Ov();h.C$.s$();h.C$.I();h.C$.UL();h.C$.DP();MW=ud.PSD.Az(h.C$,0,0,[!0,!0]);tB=h.C$.name}if(!(MW instanceof ArrayBuffer))throw"e";
MW=new Uint8Array(MW);var o=h.bC!=null?h.bC:d.f[d.f.length-1]+1,Wl=d.Mf(MW,tB,0,0,!0),zI=d._.slice(0);
zI.splice(o,0,Wl);var t=new zk([6,36,2],this);t.data={c:S.mY,CH:d._.slice(),eq:zI,tc:d.f.slice(0),ML:[zI.indexOf(Wl)]};
d.FD(t);this.uj(t.data,d)}if(W==S.zqy){var zS=[],hP=[],bw=0;for(var y=0;y<d.f.length;y++){var uj=d.f[y],I=d._[uj];
if(I.If()&&zS.indexOf(uj)==-1){zS.push(uj);hP.push(I.getName())}}if(zS.length!=2){zS=[];hP=[];for(var y=0;
y<d._.length;y++){var uj=y,I=d._[uj];if(I.If()&&zS.indexOf(uj)==-1){zS.push(uj);hP.push(I.getName())}}}if(zS.length<2){alert("We need at least two folders of layers");
return}var Md=[];for(var MK=0;MK<zS.length;MK++){var n=d.root.UZ(zS[MK]),za=[[],[],0,MK];Md.push(za);
if(n.children.length==0){alert("There is a folder \""+n.J.getName()+"\" without any layers.");return}for(var y=0;
y<n.children.length;y++){var uj=n.children[y].index,I=n.children[y].J,un=I.getName(),kW=20;if(!un.startsWith("_a_")){alert("Name of every frame should start with \"_a_\"");
return}var bh=un.split(",");if(bh.length>1){var zm=parseInt(bh.pop());if(!isNaN(zm)&&zm!=0)kW=zm}za[0].push(I);
za[1].push(kW);za[2]+=kW}}Md.sort(function(t,WQ){return WQ[2]-t[2]});var ML=Md[0],hn=ML[2];for(var kp=1;
kp<Md.length;kp++){var za=Md[kp],ti=1,Mq=za[1].slice(0),kN=0;while((ti+1)*za[2]<=ML[2]){ti++;Mq=Mq.concat(za[1])}za[1]=Mq;
za[2]*=ti;var tJ=ML[2]/za[2];for(var y=0;y<za[1].length;y++){var hG=Math.floor(za[1][y]*tJ);za[1][y]=hG;
kN+=hG}while(kN<hn){kN++;za[1][za[1].length-1]++}za[2]=kN}var MZ=[],tH=[],hG=[];for(var y=0;y<Md.length;
y++){MZ.push(0);tH.push(0)}while(bw<hn){var kk=1e9,uL=-1;for(var y=0;y<Md.length;y++){var hN=Md[y][1],kx=MZ[y];
if(kx!=hN.length&&tH[y]+hN[kx]<bw+kk){uL=y;kk=tH[y]+hN[kx]-bw}}tH[uL]+=Md[uL][1][MZ[uL]];MZ[uL]++;if(kk!=0){hG.push(kk);
bw+=kk}}for(var y=0;y<hG.length;y++){var WM=hG[y],bI=WM>>>1;if(WM<17){var uj=hG.length-1;if(y==0)hG[1]+=WM;
else if(y==hG.length-1)hG[uj-1]+=WM;else{hG[y-1]+=bI;hG[y+1]+=WM-bI}hG.splice(y,1);y--}}var hI=d.f.slice(0);
d.f=zS;var uU=d.HP();uU.sort(function(t,WQ){return t-WQ});var zI=[];for(var y=0;y<d._.length;y++){if(uU.indexOf(y)==-1)zI.push(d._[y])}Md.sort(function(t,WQ){return t[3]-WQ[3]});
function kc(hN,Bj){var y=0,BP=0;while(BP+hN[y]<=Bj){BP+=hN[y];y++}return y}bw=0;zI.splice(uU[0],0,d.Hb());
for(var ky=0;ky<hG.length;ky++){var j=[],bd=new A;for(var y=0;y<Md.length;y++){var kx=kc(Md[y][1],bw)%Md[y][0].length,I=Md[y][0][kx];
j.push(I);bd=bd.DM(I.rect)}var I=d.mS();I.rect=bd;I.buffer=z.h(bd.s()*4);for(var y=0;y<Md.length;y++){var hD=j[y],hg=hD.opacity/255*(d._[zS[y]].opacity/255);
z.K.Uu("norm",hD.buffer,hD.rect,I.buffer,bd,bd,hg)}I.nr(ky==0);I.AI("_a_frm"+ky+","+hG[ky]);zI.splice(uU[0]+1+ky,0,I);
bw+=hG[ky]}var I=d.mS();I.AI(hP.join(" + "));I.Pg="pass";I.add.lsct=W_.Th;I.CN=24;zI.splice(uU[0]+1+hG.length,0,I);
var t=new zk([6,12,0],this);t.data={c:S.mY,CH:d._,eq:zI,tc:hI,ML:[uU[0]+1+hG.length]};d.FD(t);this.uj(t.data,d)}if(W==S.tN||W==S.Bc||W==S.qk){var MO=d._.slice(0),uO=d.f.slice(0),hL=!0,Wl,uC;
if(W==S.tN)d.f=[d.f[0],d.f[0]-1];if(W==S.qk){d.f=[];for(var y=0;y<d._.length;y++)if(d._[y].rl())d.f.push(y)}var zM=d.HP();
zM.sort(function(t,WQ){return t-WQ});var tU=new A,kJ=new A(0,0,d.k,d.$);for(var y=0;y<zM.length;y++){var uj=zM[y],I=d._[uj];
hL=hL&&I.ej()&&I.add.vmsk!=null;tU=tU.DM(d.root.UZ(uj).OG(d,!0))}if(hL){Wl=d._[zM[0]].clone();var ht=Wl.add.vmsk;
for(var y=1;y<zM.length;y++){var r=d._[zM[y]],Mk=S.EF.MK(r.add.vmsk.r);ht.r=ht.r.concat(Mk.slice(2));
Wl.add.vogk=Wl.add.vogk.concat(JSON.parse(JSON.stringify(r.add.vogk)))}Wl.add.vmsk.RT=!0;Wl.eG(d)}else if(kJ.nF(tU)){Wl=d.mS();
Wl.AI(d._[zM[zM.length-1]].getName());Wl.rect=tU;Wl.buffer=z.h(tU.s()*4);var h_=d.DP(zM);z.bt(h_,kJ,Wl.buffer,tU);
Wl.I()}else{d.zdQ(zM,!0);Wl=d._[d.f[0]];d._.splice(d.f[0],1);var bM=d.On(Wl.add.SoLd.Idnt.v);d.add.lnk2.splice(d.add.lnk2.indexOf(bM),1);
delete Wl.add.SoLd}var hs=L.u(m.tw),hH=-1;if(h.QZ&&h.QZ.Dplc&&h.QZ.Dplc.v)hs=!0;if(hs&&W==S.qk&&d._[uO[0]].Av()&&d._[uO[0]].rect.dp()){hH=uO[0];
Wl.AI(d._[hH].getName())}var zI=[];for(var y=0;y<d._.length;y++)if(hs||zM.indexOf(y)==-1)if(y!=hH)zI.push(d._[y]);
var z$=zM[zM.length-1],tv=z$==d._.length-1?null:d._[z$+1],hC=tv?zI.indexOf(tv):zI.length;zI.splice(hC,0,Wl);
uC=[hC];var t=new zk([6,12,0],this);t.data={c:S.mY,CH:MO,eq:zI,tc:uO,ML:uC};d.FD(t);this.uj(t.data,d)}if(W==S.Ds){var uc=d.mS();
uc.rect=new A(0,0,d.k,d.$);uc.buffer=z.h(uc.rect.s()*4);z._M(uc.buffer,4294967295);z.K.Uu("norm",d.DP(),uc.rect,uc.buffer,uc.rect,uc.rect,1);
uc.AI("Background");uc.add.lspf=1<<2;var t=new zk([6,12,1],this);t.data={c:S.mY,CH:d._.slice(),eq:[uc],tc:d.f.slice(0),ML:[0]};
d.FD(t);this.uj(t.data,d)}if(W==S.O_||W==S.qy||W==S.OQ||W==S.Fk||W==S.M$){var I=W==S.M$?d._[d.f[0]].clone():d.mS(),hr=uP.get([0,3]),kU=h.ko,bZ=!1,Bt,hV;
if(W==S.OQ)hr=uP.get([12,76,1]);if(W==S.M$){var tK=d._[d.f[0]],ho=tK.zEo(d,d.z);if(ho==null){alert("Copied area is empty");
return}I.rect=ho.rect,I.buffer=ho.Ry}if(W==S.Fk){I.rect=uE._k.zpl(h.Mg,d);I.buffer=z.clone(h.Mg.buffer)}if(W==S.O_){this.track({Mh:"make",QZ:{classID:"Mk",null:tQ.sx("Lyr")}})}if(W==S.qy){I.CN|=16;
var bq=h.QZ.Usng.v,ba=bq.Type.v,Wy=uJ.HR[ba.classID];hr=uP.get(uJ.names[Wy]);if(bq.Nm)kU=bq.Nm.v;I.add[Wy]=u$.hx(Wy);
for(var ts in ba)I.add[Wy][ts]=JSON.parse(JSON.stringify(ba[ts]));I.v=uE._k.zwO(d)}if(W==S.OQ){I.CN|=16;
var zu=h.QZ,bq=zu.Usng.v,bk=bq.Type.v,MJ=bq.Shp;if(MJ==null)I.v=uE._k.zwO(d);else{console.log(bq);I.add.vmsk=new S.EF;
I.add.vstk=JSON.parse(JSON.stringify(bq.strokeStyle?bq.strokeStyle.v:uz.ri.default));I.add.vogk=[];if(MJ){var tl=z.qK.Vo(MJ);
if(tl){I.add.vogk=[tl];I.add.vmsk.r.push({type:0,uH:1,length:0});z.qK.Zi(I.add.vogk,I.add.vmsk)}else{MJ=MJ.v;
var bp=MJ.classID;if(bp=="Plgn"){var W$=MJ.Cntr.v,bx=MJ.corner.v;W$=new kY(W$.Hrzn.v.val,W$.Vrtc.v.val);
bx=new kY(bx.Hrzn.v.val,bx.Vrtc.v.val);I.add.vmsk.r=z.t.WB.Eh(W$.x,W$.y,Math.sqrt(bx.x*bx.x+bx.y*bx.y),Math.atan2(bx.y,bx.x),MJ.sides.v,0)}else if(bp=="customShape"){var kv=z.qK.dk(MJ),bz=kv[2]-kv[0],zK=kv[3]-kv[1],bF=$.DY,bb,hX;
for(var y=0;y<bF.length;y++)if(bF[y].Kn==MJ.Nm.v)bb=bF[y];if(bb){hX=S.EF.MK(bb.r);z.t._B(hX,new um(bz,0,0,zK,kv[0],kv[1]))}else hX=z.t.WB.Rect(kv[0],kv[1],bz,zK,0);
I.add.vmsk.r=hX}I.kd()}}}var Mt={solidColorLayer:0,gradientLayer:1,patternLayer:2}[bk.classID],zs=["SoCo","GdFl","PtFl"][Mt];
I.add[zs]=JSON.parse(JSON.stringify(uz.kM[Mt]));uE._k.hG(bk,I.add[zs],Mt);if(MJ==null)hr=uP.get([6,48,0,Mt]);
if(zs=="PtFl")d.OZ(uS.$V(I.add[zs].Ptrn.v,$.Wy));I.eG(d)}var kR=uE._k.zhB(d,hr+" ");I.AI(hr+" "+(kR+1));
if(kU)I.AI(kU);var tM=d.f.length==0?d._.length-1:d.f[d.f.length-1],bE=d._[tM];if(W==S.OQ&&bE.Av()&&bE.rect.dp()){bZ=!0;
I.AI(bE.getName());Bt=tM}else{Bt=tM+1;if(bE.add.lsct==W_.ei)Bt--}var zI=d._.slice(0);zI.splice(Bt,bZ?1:0,I);
var zf=[5,2];if(W==S.O_)zf=[6,13];if(W==S.qy)zf=[6,1];if(W==S.OQ){zf=[6,48,1];var MJ=h.QZ.Usng.v.Shp;
if(MJ){var zv={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[MJ.v.classID];
if(zv)zf=zv}}if(W==S.M$){zf=[6,49]}if(W==S.M$||W==S.OQ||W==S.Fk)if(d.z)hV=[d.z,null];var t=new zk(zf,this);
t.data={c:S.mY,CH:d._.slice(0),eq:zI,tc:d.f.slice(0),ML:[Bt],eD:hV};d.FD(t);this.uj(t.data,d);if(W==S.OQ&&MJ==null&&Mt!=0||W==S.qy){var bR=new X(e.E.Z);
bR.data={c:e.j.nx,DN:uy.co.fe};R.R(bR)}}if(W==S.rB){var I=d.mS();I.AI(uP.get([0,4])+" "+d._.length);
I.Pg="pass";I.add.lsct=W_.ei;I.CN=24;var hx=d.Hb(),tM=M,Bt=tM+1,zI=d._.slice(0);zI.splice(Bt,0,hx,I);
var t=new zk([6,20],this);t.data={c:S.mY,CH:d._.slice(0),eq:zI,tc:d.f.slice(0),ML:[Bt+1]};d.FD(t);this.uj(t.data,d)}if(W==S.Qc||W==S.MO){var bX=W==S.Qc?h.source:d.f[0],hM,Br,bj=d.f.indexOf(bX)!=-1,Mu=L.u(m.tw)|h.znY,td;
if(bj)td=d.HP();else td=d.Fy(bX);td.sort(function(t,WQ){return t-WQ});if(W==S.Qc){hM=h.target;Br=h.sY>.5}else if(h.target!=null){hM=h.target;
Br=!0;d.HD=!0}else{var tk=h.Ek;Br=tk>1;if(tk==0){hM=d._.length-1}if(tk==1){hM=td[td.length-1]+1;var r=d.Fy(hM);
if(r.indexOf(bX)==-1)hM+=r.length-1}if(tk==2){hM=td[0]-1;var r=d.Fy(hM);if(r.indexOf(bX)==-1)hM-=r.length-1}if(tk==3){hM=0}if(hM<0||hM>d._.length-1)return;
d.HD=!0}if(td.indexOf(hM)!=-1)return;var Mg=d._[hM],zI=[];if(Mu)zI=d._.slice(0);else for(var y=0;y<d._.length;
y++)if(td.indexOf(y)==-1)zI.push(d._[y]);var bA=zI.indexOf(Mg);if(W==S.Qc&&Mg.If()&&Mg.add.lsct==W_.Th&&h.sY>.8)bA-=d.Fy(hM).length-1;
var bo=[],bc=Mu?d.Fr(bj?null:bX):null;for(var y=0;y<td.length;y++){var hv=bA+(Br?0:1)+y,B=Mu?bc[y]:d._[td[y]];
zI.splice(hv,0,B);bo.push(hv)}var t=new zk(Mu?[6,0]:[6,35],this);t.data={c:S.mY,CH:d._.slice(0),eq:zI,tc:d.f.slice(0),ML:bo};
d.FD(t);this.uj(t.data,d);var zu={classID:"move",null:tQ.sx("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:bA+(Br?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:Mu}};
this.track({Mh:"move",QZ:zu})}if(W==S.FW){var I=d.mS(),bf=uP.get([0,4])+" ";I.AI(bf+(uE._k.zhB(d,bf)+1));
I.Pg="pass";if(h.ko)I.AI(h.ko);I.add.lsct=d.f.length==1?W_.ei:W_.Th;I.CN=24;var hx=d.Hb(),td=d.HP();
if(td.length==0)return;td.sort(function(t,WQ){return t-WQ});var zI=[];for(var y=0;y<d._.length;y++)if(td.indexOf(y)==-1)zI.push(d._[y]);
var tM=d.f[d.f.length-1]-td.length;zI.splice(tM+1,0,hx);for(var y=0;y<td.length;y++)zI.splice(tM+2+y,0,d._[td[y]]);
zI.splice(tM+2+td.length,0,I);var t=new zk([6,9],this);t.data={c:S.mY,CH:d._.slice(0),eq:zI,tc:d.f.slice(0),ML:[zI.indexOf(I)]};
d.FD(t);this.uj(t.data,d);var b={Mh:"make",SX:!0};b.QZ={classID:"Mk",null:tQ.sx("layerSection"),From:tQ.sx("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:I.getName()}}}};
this.track(b)}if(W==S.zFi){if(d.f.length!=1)return;var o=d.f[0],bY=L.u(m.tw);if(d._[o].rc()==null){W=S.ed;
h.Km=d.z?!bY?"RvlS":"HdSl":!bY?"RvlA":"HdAl"}else W=S.tR}if(W==S.ed){if(d.f.length!=1)return;var o=d.f[0],I=d._[o],hw=I.rc();
if(hw==null||h.zCa){var t=new zk([6,21],this),ha=new S.x_,Wf=h.Km,bu=Wf=="RvlS"||Wf=="HdSl";if(Wf=="RvlS"||Wf=="HdAl"||Wf=="Trns")ha.color=0;
if(bu){ha.channel=z.clone(d.z.channel);ha.rect=d.z.rect.clone();if(Wf=="HdSl")z.Gv(ha.channel)}if(Wf=="Trns"){ha.rect=I.rect.clone();
ha.channel=z.h(I.rect.s());z.nP(I.buffer,ha.channel,3)}t.data={c:W,J:o,v:ha,sV:hw,eD:bu?[d.z,null]:null};
d.FD(t);this.uj(t.data,d);d._[o].GJ=1;this.track({Mh:"make",QZ:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:Wf}}}})}}else if(W==S.US){var v=d._[h.src],O=d._[h.TN];
if(O.rc())return;var t=new zk([6,21],this),ha=v.rc();if(h.$o){t.data={c:S.ed,J:h.TN,v:ha.clone()}}else{t.data={c:W,src:h.src,TN:h.TN,v:ha}}d.FD(t);
this.uj(t.data,d)}if(W==S.Qe){if(d.f.length!=1)return;var o=M;if(d._[o].rc()!=null){var t=new zk([6,22],this);
t.data={c:W,J:o,v:d._[o].rc()};d.FD(t);this.uj(t.data,d)}}if(W==S.DX){var MO=d._.slice(0),uc=x.clone(),bm=uc.rc();
z.eo(bm.AY(uc.rect),uc.rect,uc.buffer,uc.rect);uE._k.gq(d,uc);d._[d.f[0]]=uc;var t=new zk([5,8],this);
t.data={c:S.mY,CH:MO,eq:d._.slice(),tc:d.f.slice(0),ML:d.f.slice(0)};d.FD(t);this.uj(t.data,d)}if(W==S.rD){if(d.f.length!=1)return;
var o=d.f[0];if(d._[o].ez(d).v==null){var t=new zk([6,45],this);t.data={c:W,J:o,v:new S.x_};d.FD(t);
this.uj(t.data,d)}}if(W==S.rG){if(d.f.length!=1)return;var o=d.f[0];if(d._[o].ez(d).v!=null){var t=new zk([6,46],this);
t.data={c:W,J:o,v:d._[o].ez(d).v};d.FD(t);this.uj(t.data,d)}}if(W==S.Dy){if(h.J==null&&d.f.length!=1)return;
if(d._[M].lq()){var t=new zk([6,47],this),p=JSON.stringify(d._[M].add.SoLd),_=JSON.parse(p);delete _.filterFX;
t.data={c:S.FC,FY:[{Ft:M,Ci:[p,JSON.stringify(_)],NT:[d._[M].ez(d),null]}]};d.FD(t);this.uj(t.data,d)}}if(W==S.tR){if(d.f.length!=1)return;
if(x.add.vmsk==null){var t=new zk([6,23],this),ha=new S.EF;ha.r[1].all=h.zEe?0:1;t.data={c:W,J:M,Xa:!0,v:ha,qK:"[]",ri:null};
if(x.ej()){t.data.ri=JSON.stringify(uz.ri.default)}d.FD(t);this.uj(t.data,d)}}if(W==S.UC){var v=d._[h.src],O=d._[h.TN];
if(O.add.vmsk)return;var t=new zk([6,23],this),ht=v.add.vmsk;t.data={J:h.TN,Xa:v.iH,v:ht.clone(),qK:JSON.stringify(v.add.vogk),ri:v.add.vstk?JSON.stringify(v.add.vstk):null};
if(h.$o){t.data.c=S.tR}else{t.data.c=W;t.data.src=h.src;t.data.TN=h.TN}d.FD(t);this.uj(t.data,d)}if(W==S.Qi){if(d.f.length!=1)return;
var I=d._[M],ht=I.add.vmsk;if(ht!=null){var t=new zk([6,24],this);t.data={c:W,J:M,Xa:I.iH,v:ht,qK:JSON.stringify(I.add.vogk),ri:I.add.vstk?JSON.stringify(I.add.vstk):null};
d.FD(t);this.uj(t.data,d)}}if(W==S.rP){var t=new zk("Metadata",this);t.data={c:W,TG:JSON.stringify(d.zj),GE:JSON.stringify(h.GE)};
d.FD(t);this.uj(t.data,d)}if(W==S.Fd){var bB=h.TN?h.TN:d,bK=bB.name,kU=h.a+".psd";if(bK==kU)return;var t=new zk([6,37],this);
t.data={c:W,Xt:bK,ko:kU};if(h.zCW!=!0)bB.FD(t);this.uj(t.data,bB)}if(W==S.Kb){var bK=x.getName(),kU=h.name.substring(0,255);
if(bK==kU)return;var t=new zk([6,37],this);t.data={c:W,J:M,Xt:bK,ko:kU,zEQ:x.add.lnsr,zEC:null};d.FD(t);
this.uj(t.data,d);this.track(tQ.wn("Nm",{t:"TEXT",v:kU}))}if(W==S.Kr){var Bb=d.HP(),BB=[],Bq=[];for(var y=0;
y<Bb.length;y++){BB.push(d._[Bb[y]].add.lclr);Bq.push(h.zeg)}var t=new zk([6,38],this);t.data={c:W,_:Bb,zCh:BB,zCd:Bq};
d.FD(t);this.uj(t.data,d)}if(W==S.rI){var t=d.history[d.mB];if(t!=null&&t.L==this&&t.data.c==W&&t.data.J==h.XM&&t.data.sg.rz==h.TO.rz)t.data.sg=h.TO;
else{t=new zk("Mask Density / Feather",this);t.data={c:W,J:h.XM,$c:d._[h.XM].zhw(h.TO.rz),sg:h.TO};d.FD(t)}this.uj(t.data,d)}if(W==S.Kl){var bU=JSON.stringify(h.a),bS=JSON.parse(bU),t=d.history[d.mB];
if(t!=null&&t.L==this&&t.data.c==W&&t.data.Q_==h.Q_&&t.data.TP.join(",")==h.TP.join(",")){for(var y=0;
y<h.TP.length;y++)t.data.Xk[y]=bS;if(t.data.QZ&&bS.sS!=0)uE._k.hG(bS.ke,t.data.QZ.T.v,bS.sS-1)}else{t=new zk([11,6],this);
t.data={c:W,TP:h.TP,Q_:h.Q_,zel:[],Xk:[]};var bV=!1;for(var y=0;y<h.TP.length;y++){var uj=h.TP[y],I=d._[uj],BE=h.Q_?s.rf.NW(d,uj):JSON.parse(JSON.stringify(I.add.vstk));
t.data.zel.push(BE);t.data.Xk.push(bS);if(JSON.stringify(BE)!=bU)bV=!0}if(!bV)return;d.FD(t);if(h.Q_&&bS.sS>0){var zu=t.data.QZ={classID:"setd",null:tQ.sx("contentLayer",!0),T:{t:"Objc",v:{}}},zs=["SoCo","GdFl","PtFl"][bS.sS-1];
uE._k.hG(bS.ke,zu.T.v,bS.sS-1);this.track({Mh:"set",QZ:zu})}}if(h.Q_&&bS.sS==3)d.OZ(uS.$V(bS.ke.Ptrn.v,$.Wy));
if(!h.Q_){var zl=bS.strokeStyleContent.v;if(zl.classID==uz.ri.Wp[2])d.OZ(uS.$V(zl.Ptrn.v,$.Wy))}this.uj(t.data,d)}};
uE._k.hG=function(h,R,d){var L=[uz.kv,uz.$n,uz.$J][d];if(R.classID==null)R.classID=["solidColorLayer","gradientLayer","patternLayer"][d];
for(var $=0;$<L.length;$++)if(h[L[$]])R[L[$]]=JSON.parse(JSON.stringify(h[L[$]]))};uE._k.zwO=function(h){var R=new S.x_;
if(h.z!=null){R.color=0;R.channel=z.clone(h.z.channel);R.rect=h.z.rect.clone()}return R};uE._k.zMC=function(h,R,d,L){var $=L.k/d.k,W=L.$/d.$,M=L.k/2,x=L.$/2,t=z.G.ii(L).B;
for(var g=0;g<h._.length;g++){var r=h._[g],l=r.add.SoLd;if(l==null||l.Idnt.v!=R)continue;if($!=1||W!=1){var H=s.w.vD(l.nonAffineTransform),y=z.S.wy(H,L),f=new um;
f.translate(-M,-x);f.scale($,W);f.translate(M,x);var b=z.S.wq(y,z.S.iE(f)),K=t.slice(0);z.S.apply(b,K);
l.Trnf=s.w.Lt(K);l.nonAffineTransform=s.w.Lt(K)}r.eb(h)}h.I()};uE._k.zQl=function(h,R,d){R.color=255-R.color;
z.Gv(R.channel);R.RT=!0;h.eG(d);d.I()};uE._k.prototype.Lu=function(h,R){var d=h.c,L=R._[h.J];if(d==S.BX){R.add.lnk2.splice(R.add.lnk2.indexOf(h.Vr),1,h.VU);
uE._k.zMC(R,h.id,h.Vr.Im[1],h.VU.Im[1])}if(d==S.MP){var $=JSON.parse(h.TP);for(var W=0;W<$.length;W++)R._[$[W]].Pg=h.cp[W];
R.I()}if(d==S.MN){var $=JSON.parse(h.TP);for(var W=0;W<$.length;W++)R._[$[W]].opacity=h.cp[W];R.I()}if(d==S.QD){L.add.lspf=h.cp}if(d==S.ra){var M=h.Ve,x=h.zbO;
delete L.add[M[0]];if(x[0]!="----")L.add[x[0]]=x[1]}if(d==S.q_){L.add.iOpa=h.cp;R.I()}if(d==S.OF){for(var W=0;
W<h.TP.length;W++){var t=R._[h.TP[W]];t.nr(!t.rl())}R.I()}if(d==S.tg){var g=L.rc();g.isEnabled=!g.isEnabled;
L.eG(R);R.I()}if(d==S.qh){var g=L.ez(R).v;g.isEnabled=!g.isEnabled;L.I();R.I()}if(d==S.QF){var g=L.add.vmsk;
g.isEnabled=!g.isEnabled;if(!g.isEnabled){if(L.P$){L.v=L.P$;L.P$=null}else L.v=null}else if(L.v){L.P$=L.v;
L.v=null}L.eG(R);R.I()}if(d==S.Mn){L.Dj=!L.Dj;R.I()}if(d==S.qr){L.add.lmfx.masterFXSwitch.v=!L.add.lmfx.masterFXSwitch.v;
L.Y.bN=!0;R.I()}if(d==S.Fw){L.add.SoLd.filterFX.v.enab.v=!L.add.SoLd.filterFX.v.enab.v;L.MF(R);R.I()}if(d==S.qs){var r=h.index,l=L.add.lmfx[uz.EN[r[0]]].v[r[1]].v;
l.enab.v=!l.enab.v;L.Y.bN=!0;R.I()}if(d==S.rq){var H=R._[h.zqS],y=R._[h.zdd],f=h.zn_,b=h.znG;if(f=="")delete H.add.lmfx;
else H.add.lmfx=JSON.parse(f);if(b=="")delete y.add.lmfx;else y.add.lmfx=JSON.parse(b);H.Y.bN=!0;y.Y.bN=!0;
R.I()}if(d==S.Fg){var K=L.add.SoLd.filterFX.v.filterFXList.v[h.index].v;K.enab.v=!K.enab.v;L.MF(R);R.I()}if(d==S.zMp){L.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(h.zjL));
L.MF(R);R.I()}if(d==S.qP){var g=L.rc();g._q=!g._q}if(d==S.UJ){var g=L.add.vmsk;g._q=!g._q}if(d==S.Uy){var Z=h.VI;
for(var W=0;W<Z.length;W+=2){var J=Z[W],t=J>=0?R._[J]:R.bs[-1-J];t.add.vogk=JSON.parse(Z[W+1]);z.qK.Zi(t.add.vogk,t.add.vmsk);
if(J>=0)t.eG(R)}R.I()}if(d==S.UY){L.add.artb=JSON.parse(h.znf);R.I()}if(d==S.to){R.z=h.mN;R.Mk=h.VI.slice(0);
R.rY=h.H$.slice(0);R.Dw=R.RL=!0}if(d==S.QW){var u=h.znc;for(var W=0;W<u.length;W++)R._[W].zU=u[W]}if(d==S.mY){if(h.tc)R.f=h.tc;
if(h.eD)R.z=h.eD[0];R.NF=null;R.I();R.$Z(h.CH)}if(d==S.ed){uE._k.gq(R,L);if(h.sV)uE._k.hL(R,L,h.sV);
if(h.eD){var C=h.eD[0];if(C==null)delete R.z;else R.z=C}}if(d==S.US){uE._k.gq(R,R._[h.TN]);uE._k.hL(R,R._[h.src],h.v)}if(d==S.Qe){uE._k.hL(R,L,h.v)}if(d==S.rD){L.ez(R).v=null;
L.I();R.I()}if(d==S.rG){L.ez(R).v=h.v;L.I();R.I()}if(d==S.FC){uE._k.zSY(R,h.FY,0)}if(d==S.tR){uE._k.JD(R,L,!0)}if(d==S.UC){uE._k.JD(R,R._[h.TN],h.v.isEnabled);
uE._k.JC(R,R._[h.src],h)}if(d==S.Qi){uE._k.JC(R,L,h)}if(d==S.rP){R.zj=JSON.parse(h.TG)}if(d==S.Fd){R.name=h.Xt}if(d==S.Kb){L.AI(h.Xt);
if(h.zEQ)L.add.lnsr=h.zEQ;else delete L.add.lnsr}if(d==S.Kr){for(var W=0;W<h._.length;W++)R._[h._[W]].add.lclr=h.zCh[W]}if(d==S.Kl){var Q=h.zel;
for(var W=0;W<h.TP.length;W++){var t=R._[h.TP[W]],i=Q[W];if(!h.Q_)t.add.vstk=JSON.parse(JSON.stringify(i));
else s.rf.Ji(t,JSON.parse(JSON.stringify(i)));t.Hs(R)}R.I()}if(d==S.rI){L.zqf(h.$c);L.eG(R);R.I()}R.tf=!0};
uE._k.prototype.uj=function(h,R){var d=h.c,L=R._[h.J];if(d==S.BX){R.add.lnk2.splice(R.add.lnk2.indexOf(h.VU),1,h.Vr);
uE._k.zMC(R,h.id,h.VU.Im[1],h.Vr.Im[1])}if(d==S.MP){var $=JSON.parse(h.TP);for(var W=0;W<$.length;W++)R._[$[W]].Pg=h.sg;
R.I()}if(d==S.MN){var $=JSON.parse(h.TP);for(var W=0;W<$.length;W++)R._[$[W]].opacity=h.sg;R.I()}if(d==S.QD){L.add.lspf=h.sg}if(d==S.ra){var M=h.zbO,x=h.Ve;
delete L.add[M[0]];if(x[0]!="----")L.add[x[0]]=x[1]}if(d==S.q_){L.add.iOpa=h.sg;R.I()}if(d==S.OF){for(var W=0;
W<h.TP.length;W++){var t=R._[h.TP[W]];t.nr(!t.rl())}R.I()}if(d==S.tg){var g=L.rc();g.isEnabled=!g.isEnabled;
L.eG(R);R.I()}if(d==S.qh){var g=L.ez(R).v;g.isEnabled=!g.isEnabled;L.I();R.I()}if(d==S.QF){var g=L.add.vmsk;
g.isEnabled=!g.isEnabled;if(!g.isEnabled){if(L.P$){L.v=L.P$;L.P$=null}else L.v=null}else if(L.v){L.P$=L.v;
L.v=null}L.eG(R);R.I()}if(d==S.Mn){L.Dj=!L.Dj;R.I()}if(d==S.qr){L.add.lmfx.masterFXSwitch.v=!L.add.lmfx.masterFXSwitch.v;
L.Y.bN=!0;R.I()}if(d==S.Fw){L.add.SoLd.filterFX.v.enab.v=!L.add.SoLd.filterFX.v.enab.v;L.MF(R);R.I()}if(d==S.qs){var r=h.index,l=L.add.lmfx[uz.EN[r[0]]].v[r[1]].v;
l.enab.v=!l.enab.v;L.Y.bN=!0;R.I()}if(d==S.rq){var H=R._[h.zqS],y=R._[h.zdd],f=h.znO,b=h.znH;if(f=="")delete H.add.lmfx;
else H.add.lmfx=JSON.parse(f);if(b=="")delete y.add.lmfx;else y.add.lmfx=JSON.parse(b);H.Y.bN=!0;y.Y.bN=!0;
R.I()}if(d==S.Fg){var K=L.add.SoLd.filterFX.v.filterFXList.v[h.index].v;K.enab.v=!K.enab.v;L.MF(R);R.I()}if(d==S.zMp){L.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(h.zjJ));
L.MF(R);R.I()}if(d==S.qP){var g=L.rc();g._q=!g._q}if(d==S.UJ){var g=L.add.vmsk;g._q=!g._q}if(d==S.Uy){var Z=h.bb;
for(var W=0;W<Z.length;W+=2){var J=Z[W],t=J>=0?R._[J]:R.bs[-1-J];t.add.vogk=JSON.parse(Z[W+1]);z.qK.Zi(t.add.vogk,t.add.vmsk);
if(J>=0)t.eG(R)}R.I()}if(d==S.UY){L.add.artb=JSON.parse(h.pq);R.I()}if(d==S.to){R.z=h.Qn;R.Mk=h.bb.slice(0);
R.rY=h.Hc.slice(0);R.Dw=R.RL=!0}if(d==S.QW){var u=h.znl;for(var W=0;W<u.length;W++)R._[W].zU=u[W]}if(d==S.mY){var C=h.eq,Q=0,i;
for(var W=0;W<C.length;W++){var t=C[W],j=t.add.lsct;if(j==W_.Oz)Q++;else if(j==W_.ei||j==W_.Th)Q--;if(t.add.artb&&Q!=0)i="Artboards can not be inside folders."}if(i){R.history.pop();
R.mB--;alert(i);return}if(h.ML)R.f=h.ML;if(h.eD)R.z=h.eD[1];R.NF=null;R.I();R.$Z(h.eq)}if(d==S.ed){if(h.sV)uE._k.gq(R,L);
uE._k.hL(R,L,h.v);if(h.eD){var V=h.eD[1];if(V==null)delete R.z;else R.z=V}}if(d==S.US){uE._k.gq(R,R._[h.src]);
uE._k.hL(R,R._[h.TN],h.v)}if(d==S.Qe){uE._k.gq(R,L)}if(d==S.rD){L.ez(R).v=h.v;L.GJ=0;L.I();R.I()}if(d==S.rG){L.ez(R).v=null;
L.GJ=0;L.I();R.I()}if(d==S.FC){uE._k.zSY(R,h.FY,1)}if(d==S.tR){uE._k.JC(R,L,h)}if(d==S.UC){uE._k.JD(R,R._[h.src],h.v.isEnabled);
uE._k.JC(R,R._[h.TN],h)}if(d==S.Qi){uE._k.JD(R,L,h.v.isEnabled)}if(d==S.rP){R.zj=JSON.parse(h.GE)}if(d==S.Fd){R.name=h.ko}if(d==S.Kb){L.AI(h.ko);
if(h.zEC)L.add.lnsr=h.zEC;else delete L.add.lnsr}if(d==S.Kr){for(var W=0;W<h._.length;W++)R._[h._[W]].add.lclr=h.zCd[W]}if(d==S.Kl){var E=h.Xk;
for(var W=0;W<h.TP.length;W++){var t=R._[h.TP[W]],N=E[W];if(!h.Q_)t.add.vstk=JSON.parse(JSON.stringify(N));
else s.rf.Ji(t,JSON.parse(JSON.stringify(N)));t.Hs(R)}R.I()}if(d==S.rI){L.zqf(h.sg);L.eG(R);R.I()}R.tf=!0};
uE._k.zhB=function(h,R){var d=0;for(var L=0;L<h._.length;L++){var $=h._[L].getName();if($.startsWith(R)){var W=$.slice(R.length).trim(),M=parseInt(W);
if(!isNaN(M)&&M+""==W)d=M}}return d};uE._k.zSY=function(h,R,d){for(var L=0;L<R.length;L++){var $=R[L],W=h._[$.Ft];
if($.Ci){W.add.SoLd=JSON.parse($.Ci[d])}if($.NT){if($.NT[1-d]!=null)h.pP($.NT[1-d]);if($.NT[d]!=null)h.MJ($.NT[d]);
else W.GJ=0}W.eb(h)}};uE._k.zpl=function(h,R){var d=h.BD,L=h.rect.clone();if(d!=null&&(d.x!=R.k||d.y!=R.$)){L.x=Math.floor((R.k-L.k)/2);
L.y=Math.floor((R.$-L.$)/2)}return L};uE._k.gq=function(h,R){if(R.P$)R.P$=null;else R.v=null;R.eG(h);
h.I();R.GJ=0};uE._k.hL=function(h,R,d){if(R.v)R.P$=d;else R.v=d;R.eG(h);h.I()};uE._k.JD=function(h,R,d){if(R.P$&&d){R.v=R.P$;
R.P$=null}else if(R.v&&d){R.v=null}delete R.add.vogk;delete R.add.vstk;delete R.add.vmsk;R.eG(h);R.iH=!1;
h.I()};uE._k.JC=function(h,R,d){R.add.vogk=JSON.parse(d.qK);if(d.ri)R.add.vstk=JSON.parse(d.ri);else delete R.add.vstk;
R.add.vmsk=d.v.clone();if(R.v&&R.add.vmsk.isEnabled)R.P$=R.v;R.eG(h);R.iH=d.Xa;h.I()};uE.UO=function(){uE.UE.call(this,s.mm);
this.Wo=null;this.QK=null;this.eX=null;this.ny=[];this.za=null};uE.UO.prototype=new uE.UE;uE.UO.prototype.ns=function(h,R,d,L,$){var W=d._[h.J],M=h.KW,t=null;
if(this.Wo==null){this.eX=uE.UO.t_(d,W);this.Wo=JSON.stringify(this.eX);if(W.add.lmfx)this.QK=JSON.stringify(W.add.lmfx)}if(W.add.lmfx==null){W.add.lmfx=JSON.parse(uz.default);
for(var x=0;x<uz.order.length;x++)W.add.lmfx[uz.EN[x]]={t:"VlLs",v:[]}}if(h.c=="changeprop"){if(M!=0){var g=this.ny[M[0]];
if(g==null)g=uz.ny[M[0]];g=JSON.parse(g);var r=W.add.lmfx[uz.EN[M[0]]].v;if(r[M[1]]==null)r[M[1]]={t:"Objc",v:g};
t=r[M[1]].v;for(var l in g)if(t[l]==null)t[l]=g[l]}if(h.c=="changeprop"){if(M==0){this.eX[h.Nc].v=h.a;
uE.UO.hr(d,W,this.eX)}else if(h.Nc=="lagl"){if(t.uglg&&t.uglg.v){d.ry(h.a.val);this.eX.zij=d.kt()}else t[h.Nc].v=h.a}else if(h.Nc=="Lald"){if(t.uglg.v){d.rV(h.a.val);
this.eX.zil=d.FU()}else t[h.Nc].v=h.a}else if((M[0]==3||M[0]==8)&&(h.Nc=="Clr"||h.Nc=="Grad")){if(h.Nc=="Clr"){t.Clr={t:"Objc",v:h.a};
delete t.Grad}if(h.Nc=="Grad"){t.Grad={t:"Objc",v:h.a};delete t.Clr}}else{t[h.Nc].v=h.a}if(M!=0)this.ny[M[0]]=JSON.stringify(t)}if(M!=0)if(t.Ptrn)d.OZ(uS.$V(t.Ptrn.v,$.Wy))}else if(h.c=="setstl"){var H=h.a.Lefx;
if(H)uS.zdH(H,d,$.Wy);uS.zSq(h.a,W);this.eX=uE.UO.t_(d,W)}else if(h.c=="st_dupsingle"){var y=W.add.lmfx[uz.EN[h.Pl[0]]].v;
if(y[h.Pl[1]]==null)return;var f=JSON.parse(JSON.stringify(y[h.Pl[1]]));y.splice(h.Pl[1],0,f)}else if(h.c=="st_movsingle"){var b=h.Pl[1],y=W.add.lmfx[uz.EN[h.Pl[0]]].v;
if(y[h.Pl[1]]==null)return;var K=Math.max(0,Math.min(y.length-1,b+h.zNz)),Z=y[K];y[K]=y[b];y[b]=Z}else if(h.c=="cancel"){if(this.QK==null)delete W.add.lmfx;
else W.add.lmfx=JSON.parse(this.QK);uE.UO.hr(d,W,JSON.parse(this.Wo));this.Wo=null;this.QK=null}else if(h.c=="confirm"){var J=new zk([11,6],this);
J.data={_:[h.J],Xq:[this.QK],Xd:[JSON.stringify(W.add.lmfx)],XE:[this.Wo],Xe:[JSON.stringify(this.eX)]};
d.FD(J);this.Wo=null;this.QK=null}else if(h.c=="st_copy"){this.za=[this.Wo,this.QK];this.Wo=null;this.QK=null}else if(h.c=="st_paste"||h.c=="st_clear"){if(h.c=="st_paste"&&this.za==null)return;
var u=d.f.indexOf(h.J)==-1?[h.J]:d.f.slice(0),C=[],Q=[],i=[],j=[];for(var x=0;x<u.length;x++){var W=d._[u[x]],V=uE.UO.t_(d,W);
C.push(W.add.lmfx?JSON.stringify(W.add.lmfx):null);i.push(JSON.stringify(V));if(h.c=="st_paste"){Q.push(this.za[1]);
j.push(this.za[0])}else{Q.push(null);V.lrMd.v=0;V.Opct.v.val=100;V.iOpa.v.val=100;V.blIf={v:[]};for(var E=0;
E<10;E++)V.blIf.v.push(0,0,255,255);j.push(JSON.stringify(V))}}var J=new zk([11,6],this);J.data={_:u,Xq:C,Xd:Q,XE:i,Xe:j};
this.uj(J.data,d);d.FD(J);this.Wo=null;this.QK=null}else{var N=this.eX,n=null;if(h.c=="st_delsingle"){n=JSON.parse(this.QK);
n[uz.EN[h.Pl[0]]].v.splice(h.Pl[1],1);n=JSON.stringify(n)}if(n==null)delete W.add.lmfx;else W.add.lmfx=JSON.parse(n);
if(N!=null)uE.UO.hr(d,W,N);var J=new zk([11,6],this);J.data={_:[h.J],Xq:[this.QK],Xd:[n],XE:[this.Wo],Xe:[JSON.stringify(N)]};
d.FD(J);this.Wo=null;this.QK=null}W.Y.bN=!0;d.I()};uE.UO.t_=function(h,R){if(R.add.iOpa==null)R.add.iOpa=255;
var d=R.If()?["pass"].concat(zP.RS):zP.RS;return{lrMd:{v:d.indexOf(R.Pg)},Opct:{v:{type:"#Prc",val:Math.round(R.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(R.add.iOpa*100/255)},t:"UntF"},blIf:{v:R.cT.slice(0)},zij:h.kt(),zil:h.FU(),If:R.If()}};
uE.UO.hr=function(h,R,d){var L=R.If()?["pass"].concat(zP.RS):zP.RS;R.Pg=L[d.lrMd.v];R.opacity=Math.round(d.Opct.v.val*255/100);
R.add.iOpa=Math.round(d.iOpa.v.val*255/100);R.cT=d.blIf.v.slice(0);h.ry(d.zij);h.rV(d.zil)};uE.UO.prototype.Lu=function(h,R){for(var d=0;
d<h._.length;d++){var L=R._[h._[d]],$=h.Xq[d];if($==null)delete L.add.lmfx;else L.add.lmfx=JSON.parse($);
uE.UO.hr(R,L,JSON.parse(h.XE[d]));L.Y.bN=!0}R.I()};uE.UO.prototype.uj=function(h,R){for(var d=0;d<h._.length;
d++){var L=R._[h._[d]],$=h.Xd[d];if($==null)delete L.add.lmfx;else L.add.lmfx=JSON.parse($);uE.UO.hr(R,L,JSON.parse(h.Xe[d]));
L.Y.bN=!0}R.I()};uE.Ah=function(){uE.UE.call(this,s.RR)};uE.Ah.prototype=new uE.UE;uE.Ah.prototype.ns=function(h,R,d,L){var $=JSON.parse(JSON.stringify(d.__)),W=JSON.parse(JSON.stringify(d.__)),M=null,x=null,t=null,g=-1,r=!1;
if(h.c=="delLC"){var l=uE.Ah.Jl(d.__,h.KW),H=d.__.lastAppliedComp?d.__.lastAppliedComp.v:0;W.list.v.splice(l,1);
if(H==h.KW)delete W.lastAppliedComp;M="Delete Layer Comp"}if(h.c=="editLC"){var l=uE.Ah.Jl(d.__,h.KW),y=W.list.v[l].v;
if(h.ko!=null)y.Nm.v=h.ko;if(h.zwb!=null){var f=h.zwb,b=y.capturedInfo.v,K=b&(1<<f)-1;b=b>>f;if((b&1)==1)b--;
else b++;y.capturedInfo.v=(b<<f)+K}M="Layer Comp properties"}if(h.c=="setLC"){uE.Ah.JU(d);if(h.KW==0)delete W.lastAppliedComp;
else W.lastAppliedComp={t:"long",v:h.KW};M="Switch Layer Comp";r=!0}if(h.c=="updLC"){uE.Ah.JU(d);x=uE.Ah.zWc(d,h.KW);
t=uE.Ah.SE(d,h.KW);W.lastAppliedComp={t:"long",v:h.KW};M="Update Layer Comp";g=h.KW;r=!0}if(h.c=="addLC"){uE.Ah.JU(d);
var Z=1;for(var J=0;J<W.list.v.length;J++)Z=Math.max(Z,W.list.v[J].v.compID.v)+1;Z+=Math.floor(Math.random()*1e4);
var u={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(W.list.v.length+1)},compID:{t:"long",v:Z},capturedInfo:{t:"long",v:7}}};
W.list.v.push(u);W.lastAppliedComp={t:"long",v:Z};M="New Layer Comp";var C=uE.Ah.SE(d,Z);uE.Ah.TD(d,C,Z)}var Q=new zk(M,this);
Q.data={zCE:$,zCe:W,zwH:x,zwU:t,KW:g,Ux:r};this.uj(Q.data,d);d.FD(Q)};uE.Ah.prototype.uj=function(h,R){R.__=h.zCe;
R.RL=!0;if(h.zwU)uE.Ah.TD(R,h.zwU,h.KW);if(h.Ux){var d=R.__.lastAppliedComp?R.__.lastAppliedComp.v:0,L=uE.Ah.Jl(R.__,d),$=L==-1?null:R.__.list.v[L].v,W=$?$.capturedInfo.v:7;
uE.Ah.Tb(R,d,W);R.I()}};uE.Ah.prototype.Lu=function(h,R){R.__=h.zCE;R.RL=!0;if(h.zwH)uE.Ah.TD(R,h.zwH,h.KW);
if(h.Ux){var d=R.__.lastAppliedComp?R.__.lastAppliedComp.v:0,L=uE.Ah.Jl(R.__,d),$=L==-1?null:R.__.list.v[L].v,W=$?$.capturedInfo.v:7;
uE.Ah.Tb(R,d,W);R.I()}};uE.Ah.JU=function(h){if(h.__.lastAppliedComp!=null||!h.Xi)return;var R=uE.Ah.SE(h,0);
uE.Ah.TD(h,R,0);h.Xi=!1};uE.Ah.Jo=function(h,R,d){h.v.Hrzn.v+=R;h.v.Vrtc.v+=d};uE.Ah.Jl=function(h,R){var d=h.list.v;
for(var L=0;L<d.length;L++)if(d[L].v.compID.v==R)return L;return-1};uE.Ah.zWo=function(h){var R=h.layerSettings.v,$=null;
if(R.length==0)return;var d="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),L=R[0].v;
if(L.enab==null)L.enab={t:"bool",v:!0};if(L.Ofst==null)L.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var W=0;W<R.length;W++){var M=R[W].v;if($==null)$=JSON.parse(JSON.stringify(M));else for(var x=0;
x<d.length;x++){var t=d[x];if(M[t])$[t]=JSON.parse(JSON.stringify(M[t]))}R[W].v=JSON.parse(JSON.stringify($))}};
uE.Ah.zaA=function(h,R){var d=h.add.shmd.cmls,L=d.layerSettings.v;for(var $=0;$<L.length;$++){var W=L[$].v,M=W.compList.v[0].v;
if(M==R)return $}return-1};uE.Ah.zFT=function(h,R){var d=uE.Ah.zaA(h,R);return d==-1?null:h.add.shmd.cmls.layerSettings.v[d].v};
uE.Ah.Tb=function(h,R,d){for(var L=0;L<h._.length;L++){var $=h._[L],W=$.add.shmd.cmls;if(W==null)continue;
var M=W.layerSettings.v,x=uE.Ah.zFT($,R);if(x==null){$.nr(!1);continue}if((d&1)!=0){if(x.enab)$.nr(x.enab.v);
else $.nr(!0)}if((d&2)!=0){if(x.Ofst){var t=x.Ofst.v,g=$.Ay(h),r=Math.round(t.Hrzn.v-g.x),l=Math.round(t.Vrtc.v-g.y);
if(r!=0||l!=0)s.Kf.JW(h,[L],null,r,l)}}if((d&4)!=0){if(x.Lefx){var H=JSON.parse(JSON.stringify(x.Lefx.v));
ty.CJ(H);if(JSON.stringify(H)!=JSON.stringify($.add.lmfx)){$.add.lmfx=H;$.Y.bN=!0}}else delete $.add.lmfx;
if(x.blendOptions){var y=x.blendOptions.v;if(y.Opct)$.opacity=Math.round(255*y.Opct.v.val/100);if(y.Md)$.Pg=$.add.lsct==W_.Oz?"norm":zP._d(y.Md.v.BlnM)}else{$.opacity=255;
$.Pg=$.If()?"pass":"norm"}}}};uE.Ah.zWc=function(h,R){var d={};for(var L=0;L<h._.length;L++){var $=h._[L];
if($.add.shmd==null||$.add.shmd.cmls==null)continue;d["l"+$.add.lyid]=JSON.parse(JSON.stringify(uE.Ah.zFT($,R)))}return d};
uE.Ah.SE=function(h,R){var d={};for(var L=0;L<h._.length;L++){var $=h._[L],W=$.add.lyid;d["l"+W]=uE.Ah.zwI(h,$,R)}return d};
uE.Ah.zwI=function(h,R,d){var L=R.add.shmd?R.add.shmd.cmls:null,$={classID:"null"},W=R.Ay(h),M={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:W.x},Vrtc:{t:"long",v:W.y}}};
$.compList={t:"VlLs",v:[{t:"long",v:d}]};$.enab={t:"bool",v:R.rl()};$.Ofst=JSON.parse(JSON.stringify(M));
$.FXRefPoint=JSON.parse(JSON.stringify(L&&L.origFXRefPoint?L.origFXRefPoint:M));$.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:zP.IQ(R.Pg)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*R.opacity/255}}}};
if(R.add.vmsk){$.vectorMask={t:"Objc",v:{classID:"null"}};$.vectorMask.v.Ofst=JSON.parse(JSON.stringify(M))}if(R.add.lmfx){$.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(R.add.lmfx))};
ty.EL($.Lefx.v)}return $};uE.Ah.zhb=function(h,R){var d=R.add.lyid;if(R.add.shmd==null)R.add.shmd={};
if(R.add.shmd.cmls==null){R.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:d},layerSettings:{t:"VlLs",v:[{t:"Objc",v:uE.Ah.zwI(h,R,0)}]}}}};
uE.Ah.TD=function(h,R,d){for(var L=0;L<h._.length;L++){var $=h._[L],W=$.add.lyid;uE.Ah.zhb(h,$);var M=$.add.shmd.cmls,x=M.layerSettings.v,t=R["l"+W];
if(t!=null)t={t:"Objc",v:JSON.parse(JSON.stringify(t))};var g=uE.Ah.zaA($,d);if(g==-1){if(t==null)continue;
else x.push(t)}else{if(t==null)x.splice(g,1);else x[g]=t}}};uE.Ah.Se=function(h,R){for(var d=0;d<h._.length;
d++){var L=h._[d],$=L.add.lyid;if(L.add.shmd==null||L.add.shmd.cmls==null)continue;var W=L.Ay(h),M=Math.round(W.x),x=Math.round(W.y);
if(!R){M=-M;x=-x}var t=L.add.shmd.cmls,g=t.layerSettings.v;if(t.origFXRefPoint)uE.Ah.Jo(t.origFXRefPoint,-M,-x);
for(var r=0;r<g.length;r++){var l=g[r].v;uE.Ah.Jo(l.Ofst,M,x);var H=l.imageMask,y=l.vectorMask;if(H&&H.v.Ofst)uE.Ah.Jo(H.v.Ofst,M,x);
if(y&&y.v.Ofst)uE.Ah.Jo(y.v.Ofst,M,x)}}};uE.Ri=function(){uE.UE.call(this,s.Vl);this.GE=null;this.Cc=null};
uE.Ri.prototype=new uE.UE;uE.Ri.TA=function(h,R,d,L){if(L)R/=4;var $=0,W=0,M=255,x=0,t=0,g=255;while(W+h[$]<R){W+=h[$];
$++}while(x+h[M]<R){x+=h[M];M--}if(L){$-=Math.round(h[$]/(d/32));M+=Math.round(h[M]/(d/32));if($<0)t=Math.round(-$*255/(M-$));
if(M>255)g=255-Math.round((M-255)*255/(M-$))}return[Math.max($,0),Math.min(M,255),t,g,100]};uE.Ri.prototype.ns=function(h,R,d,L,$){var W=h.c;
if(W=="auto"){var M=h.Xj,x=uE.Ri.getData(d);for(var t=0;t<x.length;t++){var g=x[t],r;if(M<3){}else{var l=u$.hx("hue2");
zg.Uk(l,0,[0,-100,0]);r=uJ.zA("hue2",l)}uJ.zI(r,g.Ry,g.it,g.e)}uE.Ri.Sr(d,x);uE.Ri.SK(d,x,M<3?[4,16,M]:[19,7,0],this);
d.I()}if(W=="edit_layer")this.zhJ(h,R,d,L);if(W=="edit"||W=="confirm"||W=="cancel")this.SN(h,R,d,$,!0);
if(W=="start"){if(d.f.length==0)return;var H=d._[d.f[0]];if(H.add.SoLd&&H.GJ<=0){var y=new X(e.E.Q,!0);
y.L=s.nj;y.data={c:"start",jY:h.tC};R.R(y);return}if(!d.rs())return;if(Y[h.tC]&&h.gE==null){if(d.f.length!=1)alert("Will be applied to "+d.f.length+" layers.");
var y=new X(e.E.Z,!0);y.data={c:e.j.pY,DN:"afw_"+h.tC};R.R(y)}else{this.SN({c:"edit",gE:h.gE,jY:h.tC},R,d,$);
this.SN({c:"confirm",jY:h.tC},R,d,$)}}};uE.Ri.prototype.zhJ=function(h,R,d,L){var $=h.c,W=d.f[0],M=d._[W],x=d.history[d.mB],t;
if(x&&x.L==this&&x.data.$c!=null&&x.data.J==W)t=x;else{var g=new X(e.E.nN,!0),r={classID:"setd",null:tQ.sx("AdjL",!0),T:{t:"Objc",v:h.a}};
g.data={SX:!0,Mh:"set",QZ:r};R.R(g);var t=new zk([6,39],this),l=uJ.get(M.add);t.data={J:W,$c:M.add[l],sg:h.a,sl:r};
d.FD(t)}t.data.sg=h.a;t.data.sl.T.v=h.a;this.uj(t.data,d)};uE.Ri.getData=function(h,R,d){var L=[],$=new A(0,0,h.k,h.$),W=h.rY.length!=0?[-1-h.rY[0]]:h.f;
for(var M=0;M<W.length;M++){var x=W[M],t=x<0?null:h._[x],g={J:x,$u:x<0?1:t.GJ};L.push(g);var r=h.Mk[-1-x];
if(0<=x)r=t.GJ<=0?null:t.GJ==1?t.rc():t.ez(h).v;var l=r?r.rect:t.rect;if(h.z)g.e=r!=null?h.z.rect.hc($):h.z.rect.hc(l);
else g.e=R||r!=null?l.DM($):l.clone();if(d)g.e=d[M].e.clone();var H=g.e.s();g.Ry=z.h(H*4);if(r)s.kq.cj(r.channel,r.rect,r.color,g.Ry,g.e);
else z.bt(t.buffer,l,g.Ry,g.e);g.it=g.Ry.slice(0);if(h.z){g.rd=z.h(H);z.mF(h.z.channel,h.z.rect,g.rd,g.e)}}return L};
uE.Ri.zhT=function(h,R,d){if(R==null)return R;var L=uJ.wY(h,R),W;if(L==-1)return R;var $=d.length>>>2,M=z.DD(d),x=.001*$;
if(L==0||L==2)W=[[0,255,0,255,100],uE.Ri.TA(M[1],x,$,L==2),uE.Ri.TA(M[2],x,$,L==2),uE.Ri.TA(M[3],x,$,L==2)];
if(L==1)W=[uE.Ri.TA(M[0],x*.33,$,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var t=u$.hx("levl");
for(var g=0;g<4;g++)tm.Uk(t,g,W[g]);return t};uE.Ri.prototype.SN=function(h,R,d,L){if(this.GE==null)this.GE=uE.Ri.getData(d,null,h.jY=="fade"?d.jL().data:null);
if(h.c=="edit"){this.Cc=[h.jY,h.gE];var $=this.GE[0],W=uE.Ri.zhT(h.jY,h.gE,$.Ry),M=uJ.zA(h.jY,W);if(h.jY=="fade")M=h.gE;
if(M!=null){for(var x=0;x<this.GE.length;x++){var t=this.GE[x];if(h.rp)z.kW(t.Ry,t.it);else if(h.jY=="fade"){var g=zP._d(h.gE.Md.v.BlnM),r=h.gE.Opct.v.val/100,l=d.jL().data[x];
z.kW(l.Ry,t.it);if(g=="norm")z.K.jU(t.Ry,t.e,t.it,t.e,null,null,null,t.e,r);else{var H=uS.Zo();H.QX=!0;
for(var x=0;x<l.Ry.length;x+=4)if(l.Ry[x+3]!=t.Ry[x+3]){H=null;break}z.K.Uu(g,t.Ry,t.e,t.it,t.e,t.e,r,H)}}else uJ.zI(M,t.Ry,t.it,t.e)}uE.Ri.Sr(d,this.GE)}}if(h.c=="cancel"){uE.Ri.zEs(d,this.GE);
this.GE=null}if(h.c=="confirm"){var y=h.jY=="fade"?[2,11]:uJ.names[h.jY],f=uJ.wY(h.jY,this.Cc[1]);if(f!=-1)y=[4,16,f];
uE.Ri.SK(d,this.GE,y,this);this.GE=null;if(f==-1)uE.Ri.zhD(R,this.Cc)}d.I()};uE.Ri.zhD=function(h,R){var d=R[0],L=R[1],$,W;
if(uJ.Ff[d]){$=uJ.Ff[d];if(Y[d])W=L}if(u$.Ff[d]){$=u$.Ff[d];if(Y[d])W=L}if($==null)return;var M=new X(e.E.nN,!0);
M.data={SX:!0,Mh:$};if(W){W=JSON.parse(JSON.stringify(W));W.classID="null";delete W.__name;M.data.QZ=W}h.R(M)};
uE.Ri.zEs=function(h,R){uE.Ri.gF(h,R)};uE.Ri.SK=function(h,R,d,L){for(var $=0;$<R.length;$++){var W=R[$],M=h._[W.J],x=W.J<0?h.Mk[-1-W.J]:W.$u<=0?null:W.$u==1?M.rc():M.ez(h).v;
if(x){x.tn();x.RT=!0;if(M)M.eG(h)}else{M.tn();M.I()}delete W.it;delete W.rd}var t=new zk(d,L);t.data=R;
h.FD(t)};uE.Ri.Sr=function(h,R,d){for(var L=0;L<R.length;L++){var $=R[L],W=h._[$.J],M=d?$.Ry:$.it,x=$.e;
if($.$u==0){W.extend(x);if($.rd){z.bt($.Ry,x,W.buffer,W.rect);z.K.jU(M,x,W.buffer,W.rect,$.rd,x,0,x,1)}else z.bt(M,x,W.buffer,W.rect)}else{var t=$.J<0?h.Mk[-1-$.J]:$.$u==1?W.rc():W.ez(h).v;
t.extend(x);if($.rd){var g=z.h(x.s()*4);z.kW($.Ry,g);z.K.jU(M,x,g,x,$.rd,x,0,x,1);s.kq.Ld(g,x,t)}else s.kq.Ld(M,x,t);
t.RT=!0;if(W)W.eG(h)}if(W)W.I()}if(!d)uE.Ri.zPB(h,R)};uE.Ri.gF=function(h,R){for(var d=0;d<R.length;
d++){var L=R[d],$=h._[L.J],W=L.e,M=z.h(W.s()*4);if(L.$u==0){z.bt($.buffer,$.rect,M,W);$.extend(W);z.bt(L.Ry,W,$.buffer,$.rect);
$.tn()}else{var x=L.J<0?h.Mk[-1-L.J]:L.$u==1?$.rc():$.ez(h).v;s.kq.cj(x.channel,x.rect,x.color,M,W);
x.extend(W);s.kq.Ld(L.Ry,W,x);x.tn();x.RT=!0;if($)$.eG(h)}L.Ry=M;if($)$.I()}};uE.Ri.zPB=function(h,R){var d=uE.Ri.zGP(h),L=~d;
if(d==16777215)return;for(var $=0;$<R.length;$++){var W=R[$],M=h._[W.J],x=W.e;if(W.$u!=0)continue;M.extend(x);
var t=x.x-M.rect.x,g=x.y-M.rect.y,r=M.rect.k,l=new Uint32Array(W.Ry.buffer),H=new Uint32Array(M.buffer.buffer);
for(var y=0;y<x.$;y++)for(var f=0;f<x.k;f++){var b=y*x.k+f,K=(y+g)*r+(f+t);H[K]=H[K]&d|l[b]&L}M.tn();
M.I()}h.I()};uE.Ri.zGP=function(h){var R=h.F.ro;return R[2]*16711680|R[1]*65280|R[0]*255};uE.Ri.prototype.Lu=function(h,R){var d=R._[h.J];
if(h.$c!=null)d.add[uJ.get(d.add)]=h.$c;else uE.Ri.gF(R,h);R.I()};uE.Ri.prototype.uj=function(h,R){var d=R._[h.J];
if(h.$c!=null)d.add[uJ.get(d.add)]=h.sg;else uE.Ri.gF(R,h);R.I()};uE.BV=function(){uE.UE.call(this,s.nj);
this.GE=null;this.zt=null;this.c=null;this.Cc=null};uE.BV.prototype=new uE.UE;uE.BV.prototype.ns=function(h,R,d,L,$){if(h.c=="start"){if(d.f.length==0)return;
var W=d._[d.f[0]];if(W.add.SoLd&&W.GJ<=0){}else if(!d.rs())return;var M=h.jY;if((Y[M]||u$.Kj[M])&&h.gE==null){if(d.f.length!=1)alert("Will be applied to "+d.f.length+" layers.");
var x=new X(e.E.Z,!0);x.data=uE.BV.znn(M,this.wb(d,M));R.R(x)}else{var t={c:"edit",jY:M,gE:h.gE,PD:this.wb(d)};
this.ns(t,R,d,L,$);t.c="confirm";delete t.gE;this.ns(t,R,d,L,$)}}if(h.c=="edit"||h.c=="cancel"||h.c=="confirm"){if(h.c=="edit")this.Cc=[h.jY,h.gE];
if(h.PD)this.zhH(h,d,$);else this.zhU(h,R,d,$)}if(h.c=="applylast"&&this.Cc!=null){var t={c:"edit",jY:this.Cc[0],gE:this.Cc[1],PD:this.wb(d)};
this.ns(t,R,d,L,$);t.c="confirm";delete t.gE;this.ns(t,R,d,L,$)}};uE.BV.znn=function(h,R){var d=u$.Kj[h];
if(d)return{c:e.j.uA,L:d,Dt:{PD:R}};else return{c:e.j.pY,DN:"afw_"+h,PD:R}};uE.BV.prototype.wb=function(h,R){var d=h._[h.f[0]],L;
if(d.add.SoLd&&d.GJ<=0){L={J:h.f[0],index:0};if(d.add.SoLd.filterFX!=null){var $=d.add.SoLd.filterFX.v.filterFXList.v;
L.index=$.length;for(var W=0;W<$.length;W++)if(T.$W($[W].v.filterID.v)==R&&u$.Kj[R])L.index=W}}return L};
uE.BV.prototype.zhH=function(h,R,d){var L=R._[h.PD.J],$=h.jY;if(h.c=="edit"){if(this.c==null){var W=u$.names[$];
if(W==null)W=uJ.names[$];this.c=new zk(W,this);this.c.data={PD:h.PD,zCj:JSON.parse(JSON.stringify(L.add.SoLd))}}if(!L.lq()){L.add.SoLd.filterFX=u$.HU();
this.c.data.NT=zG.zwg(L.add.SoLd.placed.v);R.MJ(this.c.data.NT);L.eb(R)}var M=L.add.SoLd.filterFX.v.filterFXList.v;
if(M[h.PD.index]==null){M.push(u$.I_($,d))}if(h.gE){M[h.PD.index].v.enab.v=h.rp!=!0;M[h.PD.index].v.Fltr.v=h.gE}this.c.data.zCP=JSON.parse(JSON.stringify(L.add.SoLd));
this.uj(this.c.data,R)}if(h.c=="cancel"){if(this.c)this.Lu(this.c.data,R);this.c=null}if(h.c=="confirm"){if(this.c)R.FD(this.c);
this.c=null}};uE.BV.prototype.gd=function(h){return{H:h>>>16,N:h>>>8&255,W:h&255}};uE.BV.prototype.zhU=function(h,R,d,L){if(this.GE==null){var $=u$.zFb(h.jY,h.gE);
this.GE=uE.Ri.getData(d,$.x!=0||$.y!=0)}if(h.c=="edit"){var W=JSON.stringify(h.gE);if((h.gE==null||W!=this.zt)&&h.rp!=!0)for(var M=0;
M<this.GE.length;M++){var x=this.GE[M],t={rect:x.e,buffer:x.Ry},g={rect:x.e,buffer:x.it};u$.zI(h.jY,t,h.gE,this.gd(L.Ch),this.gd(L._W),g,[d.add.lnk2?d.add.lnk2:[],d._[d.f[0]].rc(),d.Mk]);
this.zt=W}uE.Ri.Sr(d,this.GE,h.rp)}if(h.c=="cancel"){uE.Ri.zEs(d,this.GE);this.GE=null;this.zt=null}if(h.c=="confirm"){uE.Ri.SK(d,this.GE,u$.names[h.jY],this);
this.GE=null;this.zt=null;uE.Ri.zhD(R,this.Cc)}d.I()};uE.BV.prototype.Lu=function(h,R){if(h.PD){var d=R._[h.PD.J];
if(h.NT)R.pP(h.NT);d.add.SoLd=JSON.parse(JSON.stringify(h.zCj));if(d.lq())d.MF(R);else{d.eb(R);d.GJ=0}}else uE.Ri.gF(R,h);
R.I()};uE.BV.prototype.uj=function(h,R){if(h.PD){var d=R._[h.PD.J];if(h.NT)R.MJ(h.NT);d.add.SoLd=JSON.parse(JSON.stringify(h.zCP));
if(d.lq())d.MF(R);else d.eb(R);if(!d.Br())d.CN+=32}else uE.Ri.gF(R,h);R.I()};var uh={QU:"0",xZ:"1",gp:"2",ho:"3",ma:"4",zb:"5",zq:"6",g$:"7",Q:"8",sb:"8.5",zF:"8.8",gH:"9",ze:"10",hV:"11",gc:"12",bB:"13",tA:"14",bd:"15",Pf:"21",Tg:"22",zw:"23",bi:"23.0",b_:"23.1",T$:"23.2",IW:"23.3",wP:"23.4",TL:"23.5",TT:"23.6",zWw:"30",b$:"31",Tc:"40",bR:"41",bJ:"42"};
uh.LM={};uh.LM[uh.xZ]=["abr","brushes",WH,[9,3]];uh.LM[uh.gp]=["grd","gradients",hS,[12,37]];uh.LM[uh.ho]=["shc","contours",qh,[12,21]];
uh.LM[uh.ma]=["asl","styles",BN,[12,22]];uh.LM[uh.zb]=["pat","patterns",tc,[12,62]];uh.LM[uh.zq]=["csh","shapes",WX,[12,77]];
uh.LM[uh.g$]=["aco","swatches",tC,[9,8]];uh.LM[uh.Q]=["atn","actions",tP,[9,9]];uh.LM[uh.sb]=["tpl","tpresets",Bs,[9,12]];
uh.LM[uh.zF]=["icc","profiles",tZ,"ICCs"];function m(){this.ip={};this.zu=0}m.prototype.reset=function(){this.ip={};
this.zu=0};m.prototype.zbt=function(h){this.zu++;this.ip[h]=!0};m.prototype.zbM=function(h){this.zu--;
delete this.ip[h];if(this.zu<=0||m.Zt(h,m.zNa))this.reset()};m.prototype.u=function(h){for(var R=0;R<h.MA.length;
R++)if(this.ip[h.MA[R]])return!0;return!1};m.prototype.AF=function(){var h=this,R=h.u(m.ka)?10:1,d=0,L=0;
if(h.u(m.zAO))d=-R;if(h.u(m.zzj))d=R;if(h.u(m.bc))L=-R;if(h.u(m.Bq))L=R;return new kY(d,L)};m.prototype.wN=function(){var h=this,R=m.H_;
for(var d=0;d<10;d++)if(h.u(R[d]))return d;return-1};m.Zt=function(h,R){return R.MA.indexOf(h)!=-1};
m.zbX=function(h){var R=h.code,$=!1;if(R=="")return!1;var d=m.Zt,L=m.H_.concat([m.BH,m.HB,m.Hq,m.wS]);
for(var W=0;W<L.length;W++)if(d(R,L[W]))$=!0;if(h.altKey&&!h.shiftKey&&!h.ctrlKey&&$)return!1;return m.zqk.indexOf(R)==-1||h.shiftKey&&(R=="F5"||R=="F6")};
m.zKk=function(h){var R=h.code;return R!=""&&(m.zqk.indexOf(R)==-1||h.shiftKey&&(R=="F5"||R=="F6"))};
m.zbB=function(h){if(h==null)return"";var R=[];for(var d=0;d<h.length;d++)R.push(h[d].WO);return R.join(" + ")};
m.zqk="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
m.zFN=function(h){var R={"+":"NumpadAdd","-":"NumpadSubtract"},d=h.code,L=h.key.toLowerCase(),$=L.charCodeAt(0);
if(L.length==1){if(97<=$&&$<=122&&d.startsWith("Key")&&d.toLowerCase().charCodeAt(3)!=$){var W="Key"+L.toUpperCase();
d=W}else if(R[L])d=R[L]}return d};m.FA={WO:"Enter",MA:["Enter","NumpadEnter"]};m.ka={WO:"Shift",MA:["ShiftLeft","ShiftRight"]};
m.zNa={WO:"Meta",MA:["MetaLeft","MetaRight","OSLeft","OSRight"]};m.Is={WO:"Ctrl",MA:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
m.tw={WO:"Alt",MA:["AltLeft","AltRight"]};m.zbZ={WO:"CtrlOrAlt",MA:m.Is.MA.concat(m.tw.MA)};m.$j={WO:"Escape",MA:["Escape"]};
m.Ap={WO:"Space",MA:["Space"]};m.Ha={WO:"Tab",MA:["Tab"]};m.zbC={WO:"Home",MA:["Home"]};m.zbU={WO:"End",MA:["End"]};
m.zAO={WO:"Left",MA:["ArrowLeft"]};m.bc={WO:"Up",MA:["ArrowUp"]};m.zzj={WO:"Right",MA:["ArrowRight"]};
m.Bq={WO:"Down",MA:["ArrowDown"]};m.BH={WO:"+",MA:["NumpadAdd","Equal"]};m.HB={WO:"-",MA:["NumpadSubtract","Minus","Slash"]};
m.zbo={WO:";",MA:["Semicolon"]};m.zKW={WO:"Dead",MA:["Dead"]};m.zbv={WO:"=",MA:["Equal"]};m.rQ={WO:"Backspace",MA:["Backspace"]};
m.rT={WO:"Delete",MA:["Delete"]};m.zbl={WO:"Backslash",MA:["Backslash","IntlBackslash"]};m.zBh={WO:"Backquote",MA:["Backquote"]};
m.Hq={WO:"[",MA:["BracketLeft"]};m.wS={WO:"]",MA:["BracketRight"]};m.zqt={WO:".",MA:["Period"]};m.zqM={WO:",",MA:["Comma"]};
m.zq$={WO:"'",MA:["Quote"]};m.j={WO:"A",MA:["KeyA"]};m.zkn={WO:"B",MA:["KeyB"]};m.gd={WO:"C",MA:["KeyC"]};
m._t={WO:"D",MA:["KeyD"]};m.E={WO:"E",MA:["KeyE"]};m.eC={WO:"F",MA:["KeyF"]};m.zuX={WO:"G",MA:["KeyG"]};
m.zWv={WO:"H",MA:["KeyH"]};m.wG={WO:"I",MA:["KeyI"]};m.zeo={WO:"J",MA:["KeyJ"]};m.mT={WO:"K",MA:["KeyK"]};
m.UM={WO:"L",MA:["KeyL"]};m.mc={WO:"M",MA:["KeyM"]};m.$m={WO:"N",MA:["KeyN"]};m.zzv={WO:"O",MA:["KeyO"]};
m.IF={WO:"P",MA:["KeyP"]};m.zqR={WO:"Q",MA:["KeyQ"]};m.co={WO:"R",MA:["KeyR"]};m.zub={WO:"S",MA:["KeyS"]};
m.Y={WO:"T",MA:["KeyT"]};m.tq={WO:"U",MA:["KeyU"]};m.zGl={WO:"V",MA:["KeyV"]};m.zBJ={WO:"W",MA:["KeyW"]};
m.HF={WO:"X",MA:["KeyX"]};m.zqo={WO:"Y",MA:["KeyY"]};m.HN={WO:"Z",MA:["KeyZ"]};m.zEd={WO:"0",MA:["Numpad0","Digit0"]};
m.zSO={WO:"1",MA:["Numpad1","Digit1"]};m.zqV={WO:"2",MA:["Numpad2","Digit2"]};m.zFm={WO:"3",MA:["Numpad3","Digit3"]};
m.zFR={WO:"4",MA:["Numpad4","Digit4"]};m.zFU={WO:"5",MA:["Numpad5","Digit5"]};m.zFv={WO:"6",MA:["Numpad6","Digit6"]};
m.zFl={WO:"7",MA:["Numpad7","Digit7"]};m.zdu={WO:"8",MA:["Numpad8","Digit8"]};m.zdj={WO:"9",MA:["Numpad9","Digit9"]};
m.H_=[m.zEd,m.zSO,m.zqV,m.zFm,m.zFR,m.zFU,m.zFv,m.zFl,m.zdu,m.zdj];m.zKc={WO:"F1",MA:["F1"]};m.zKY={WO:"F2",MA:["F2"]};
m.zKV={WO:"F3",MA:["F3"]};m.zZa={WO:"FF",MA:["F4"]};m.zd_={WO:"F5",MA:["F5"]};m.zdm={WO:"F6",MA:["F6"]};
m.zZF={WO:"F7",MA:["F7"]};m.zZS={WO:"F8",MA:["F8"]};m.zZm={WO:"F9",MA:["F9"]};m.zZO={WO:"F10",MA:["F10"]};
m.zZg={WO:"F11",MA:["F11"]};m.zZQ={WO:"F12",MA:["F12"]};function zk(h,R,d){if(d==null)d=!1;this.name=h;
this.L=R;this.XS=d;this.data=null}var tQ={};tQ.sx=function(h,R){var d={t:"Clss",v:{classID:h}};if(R)d={t:"Enmr",v:{classID:h,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[d]}};tQ.wn=function(h,R){var d={classID:"Lyr"};d[h]=R;return{Mh:"set",QZ:{classID:"null",null:tQ.sx("Lyr",!0),T:{t:"Objc",v:d}}}};
tQ.zds=function(h,R,d,L,$){var W=new X(e.E.nN,!0),M=[],x=0,t=tQ.zw_(R,d,L,M);while(M.length!=0){var g=M.pop();
x++;if(!g.n)continue;if(g.Mh=="conditional"){var r=h._[h.f[0]],l=g.QZ.null.v.Cndt,H=!1;if(l=="Bckg")H=!1;
else if(l=="Pxel"&&h.wI(!1))H=!0;else if(l=="Adjs"&&uJ.get(r.add))H=!0;else if(l=="Shp"&&r.add.vogk)H=!0;
else if(l=="Grup"&&r.If())H=!0;var y=g.QZ.then.v;if(H)tQ.zw_(R,y[0].v.val,y[1].v.val,M)}else if(g.Mh=="stop"){alert(g.QZ.Msge.v);
break}else{W.data={Mh:g.Mh,QZ:g.QZ};$.R(W)}}};tQ.zw_=function(h,R,d,L){var $;for(var W=0;W<h.length;
W++){if(h[W].zv!=d)continue;var M=h[W].C;for(var x=0;x<M.length;x++){if(M[x].zv!=R)continue;$=M[x].C}}var t=$.length;
for(var W=0;W<t;W++)L.push($[t-1-W])};tQ.zEm=function(h){var R=h.Mh,d=h.QZ,L,M,x,t,g,r;if(d&&d.null)L=d.null.v[0];
if(d&&L==null&&d.At)L=d.At.v[0];if(L&&L.t=="obj ")L=L.v[0];var $=L?L.v.classID:null,W=["purge"];if(W.indexOf(R)!=-1)return R[0].toUpperCase()+R.slice(1);
r=uJ.Ff;for(M in r)if(r[M]==R)x=M;r=u$.Ff;for(M in r)if(r[M]==R)t=M;r=tz.Ff;for(M in r)if(r[M]==R)g=M;
if(x){var l=uJ.wY(x,d);if(l!=-1)return[4,16,l];return uJ.names[x]}if(t)return u$.names[t];if(g)return tz.names[g];
var H=tQ.zGN;if(R=="make"){if(L){if($=="AdjL")return[6,1];else if($=="layerSection")return[6,9];else if($=="Lyr")return[6,13];
else if($=="Chnl"&&L.v.enum=="Msk")return[6,2];else if($=="contentLayer")return[6,48,1];else if($=="BckL")return"Make Background Layer";
else if($=="Path")return"Make Path"}if(d.Nw){$=d.Nw.v.classID;if($=="Dcmn")return[11,7];else if($=="Chnl"||$=="SCch")return"New Channel"}}else if(R=="select"){if($=="Chnl")return"Select "+(L.v.enum=="Msk"?"Mask ":"")+"Channel";
else if($=="Mn")return"Select Panel \""+L.v.enum+"\"";else if($=="Lyr")return"Select Layer \""+L.v.val+"\""}else if(H[R]&&$=="Chnl"){var y=L.v.keyID=="fsel";
return H[R]+" "+(y?"Selection":"Channel")}else if(R=="set"){if($=="Lyr")return"Set Current Layer";else if($=="AdjL")return[6,39];
else if($=="contentLayer")return[6,48,2];else if($=="Prpr")return[11,6];else if($=="Clr")return"Set "+(L.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else console.log($)}else if(R=="move"){if($=="Lyr")return"Move Layer"}else if(R=="show"||R=="hide"){var f="";
if($=="Lyr")+"Layer";if($=="Chnl")+"Channel";return(R=="show"?"Show":"Hide")+" "+f}else if(R=="reset"){if($=="Clr")return"Reset Colors"}else if(R=="exchange"){if($=="Clr")return[22,7,0]}else if(R=="rotateEventEnum")return[2,5];
else if(R=="flip"){var b=d.Axis.v.Ornt=="Hrzn";return[2,6,[22,4,b?2:3]]}if($=="Chnl"){if(R=="duplicate"){if(L.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(R=="delete")return"Delete Channel"}var K={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49],copyMerged:[5,7],paste:[5,2],close:[1,12],groupEvent:[6,18],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],transform:[10,16],delete:d?[6,31]:[2,2],align:[20,4,0],placedLayerEditContents:"Edit Contents",newPlacedLayer:[6,7],canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],conditional:"If"},Z=K[R];
if(Z==null)Z=tQ.zwG[R];if(Z)return Z;console.log(R,d);return R};tQ.zwG={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
tQ.zGN={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
tQ.zEA=function(h,R,d,L){var $=h.Mh,W=h.QZ,M=new X(e.E.Q,!0),g,r,l,H,y,Z;M.L=s.br;var x=new X(e.E.Z,!0),t=["purge","updatePlacedLayer"];
if(t.indexOf($)!=-1)return;y=uJ.Ff;for(g in y)if(y[g]==$)r=g;y=u$.Ff;for(g in y)if(y[g]==$)l=g;y=tz.Ff;
for(g in y)if(y[g]==$)H=g;if(r){M.L=s.Vl;M.data={c:"start",tC:r,gE:W}}else if(l){M.L=s.nj;M.data={c:"start",jY:l,gE:W}}else if(H){M.L=s.nj;
M.data={c:"start",jY:"GEfc",gE:W}}else if($=="imageSize"||$=="canvasSize"||$=="revealAll"||$=="trim"){M.L=s.AX;
M.data={c:"fromAction",Tm:h}}else if($=="fill"||$=="delete"&&W==null){M.L=s.xZ;M.data={c:"fromAction",Tm:h}}else if($=="colorRange"){var f=W.Mnm.v,b=W.Mxm.v;
M.L=s.GD;M.data={c:"crange",hm:{UM:f.Lmnc.v,r$:f.A.v,W:f.B.v},hA:{UM:b.Lmnc.v,r$:b.A.v,W:b.B.v},KA:W.Fzns.v/200}}else if(tQ.zwG[$]||tQ.zGN[$]&&(!1||W.With&&W.With.v[0].v.keyID=="fsel"||W.From&&W.From.v[0].v.keyID=="fsel"||W.null&&W.null.v[0].v.keyID=="fsel"||W.T.v[0]&&W.T.v[0].v.keyID=="fsel")){M.L=s.GD;
M.data={c:"fromAction",Tm:h}}var K={copyToLayer:S.M$,mergeLayersNew:L&&L.f.length==1?S.tN:S.Bc,rasterizeLayer:S.zqq,mergeVisible:S.qk,flattenImage:S.Ds,newPlacedLayer:S.zzZ};
if(K[$])M.data={c:K[$],QZ:W};if(M.data){R.R(M);return}if($=="desaturate"){M.L=s.Vl;M.data={c:"auto",Xj:3};
R.R(M);return}if($=="close"){if(W.Svng.v.YsN=="Ys"){x.data={c:e.j.kf};R.R(x)}x.data={c:e.j.AL,Q$:L};
R.R(x);return}var K={placedLayerEditContents:e.j.zdT,copyEvent:e.j.ub,paste:e.j.n$};if(K[$])x.data={c:K[$]};
if(x.data){R.R(x);return}if(W.null||W.At)Z=(W.null?W.null:W.At).v;else Z=[{t:"----",v:W}];if(Z[0].t=="obj "){if(Z.length!=1)throw"e";
Z=Z[0].v}for(var J=0;J<Z.length;J++){var u=Z[J],C=u.v.classID;M.data=null;if($=="make"){if(W.null==null&&W.Nw)C=W.Nw.v.classID;
if(C=="AdjL"){M.data={c:S.qy,QZ:W}}else if(C=="layerSection"){M.data={c:S.FW};if(W.Usng)M.data.ko=W.Usng.v.Nm.v}else if(C=="Lyr"){if(W.Usng&&W.Usng.v.length==2)M.data={c:S.zqT};
else{M.data={c:S.O_};if(W.Usng)M.data.ko=W.Usng.v.Nm.v}}else if(C=="Chnl"&&u.v.enum=="Msk"){M.data={c:S.ed,Km:W.Usng.v.UsrM}}else if(C=="Chnl"||C=="SCch"){M.data={c:S.to,Ek:"fromAction",a:h}}else if(C=="contentLayer"){M.data={c:S.OQ,QZ:W}}else if(C=="BckL"){L._[L.f[0]].zeq();
continue}else if(C=="Dcmn"){var Q=W.Nw.v;x.data={c:e.j.In,C$:zG.zip(Q,d)}}else if(C=="Ptrn")x.data={c:e.j.EB,Ns:0};
else if(C=="Path"){M.L=s.VL;M.data={c:"pathedit",Ek:"fromsel"}}else{console.log($,W);throw"e"}}else if($=="select"){if(C=="Lyr"){var i=W.selectionModifier,j=i?i.v.selectionModifierType:null,V=tQ.tr(L,u);
M.data={c:S.MG,J:V,zbg:j?["addToSelection","addToSelectionContinuous"].indexOf(j):null,kG:0,znp:!0}}else if(C=="Chnl"){M.data={c:S.MG,J:V,kG:1}}}else if(($=="set"||$=="reset"||$=="exchange")&&C=="Clr"){x.data={c:e.j.nY,Ns:uh.Pf,Ek:$=="reset"?3:2};
if($=="set"){x.data.Ek=u.v.keyID=="FrgC"?0:1;var E=z.i.IZ(W.T.v);x.data.a=E.H<<16|E.N<<8|E.W}}else if($=="set"){if(C=="AdjL"){var N=W.T.v.classID;
N=uJ.HR[N];M.L=s.Vl;if(N)M.data={c:"edit_layer",a:W.T.v}}else if(C=="Lyr"){var n=W.T.v,V=tQ.tr(L,u);
if(n.Nm)M.data={c:S.Kb,name:n.Nm.v};else if(n.Opct)M.data={c:S.MN,sg:Math.round(n.Opct.v.val*255/100)};
else if(n.fillOpacity)M.data={c:S.q_,sg:Math.round(n.fillOpacity.v.val*255/100)};else if(n.Md)M.data={c:S.MP,sg:zP.wc.indexOf(n.Md.v.BlnM)};
else if(n.Usrs)M.data={c:S.qP,J:V};else if(n.Blnd){M.L=s.mm;M.data={c:"setstl",J:V,a:{blendOptions:{t:"objc",v:n}}};
R.R(M);M.data={c:"confirm",J:V}}else if(n.Clr){var a={Ylw:3}[n.Clr.v.Clr];if(a==null)throw"e";M.data={c:S.Kr,zeg:a}}else if(Z[0].t=="prop")continue;
else{console.log(W);throw"e"}var I=L._[V];I.zeG()}else if(C=="Prpr"){var n=JSON.parse(JSON.stringify(W.T.v));
if(u.v.keyID=="TxtS"){var V=tQ.tr(L,W.null.v[1]),I=L._[V],q=I.add.TySh,k=JSON.parse(JSON.stringify(q.h_)),F=uM.Yk(k),o=uM.tZ(k,0,F.length-2);
if(n.Undl&&n.Undl.v.Undl=="underlineOnLeftInVertical")o.U$.Underline=!0;uM.sp(k,0,F.length-1,o);M.L=s._y;
M.data={c:"newED",Fc:V,He:k};J=1e9}else{for(var G in n)if(n[G].v){if(G=="Scl")n[G].v.val=100;if(n[G].v.TrnS&&n[G].v.TrnS.v.Crv==null){n[G].v.TrnS=JSON.parse(uz.ny[9]).TrnS}}ty.CJ(n);
if(n.masterFXSwitch==null)n.masterFXSwitch={t:"bool",v:!0};var V=tQ.tr(L,W.null.v[1]);M.L=s.mm;M.data={c:"setstl",J:V,a:{Lefx:{t:"objc",v:n}}};
R.R(M);M.data={c:"confirm",J:V}}}else if(C=="contentLayer"){var V=tQ.tr(L,u),n=W.T.v;if(n.classID=="shapeStyle")n=n.FlCn.v;
var w={solidColorLayer:0,gradientLayer:1,patternLayer:2}[n.classID],l=JSON.parse(JSON.stringify(uz.kM[w]));
uE._k.hG(n,l,w);M.data={c:S.Kl,TP:[V],Q_:!0,a:{sS:w+1,ke:l}}}else{console.log(u,W);throw C}}else if($=="move"){if(C=="Lyr"){var n=W.T.v;
if(n.classID=="Ofst"){M.data={c:"trsl",zKm:n.Hrzn.v.val,zKA:n.Vrtc.v.val};M.L=s._h}else{var U,B;if(n[0].t=="Enmr"){if(n[0].v.enum=="Frnt")B=0;
else if(n[0].v.enum=="Prvs")B=2;else if(n[0].v.enum=="Back")B=3;else throw"e"}else U=n[0].v.val;M.data={c:S.MO,target:U,Ek:B,znY:W.Dplc?W.Dplc.v:!1}}}}else if($=="groupEvent")M.data={c:S.Mn};
else if($=="show"||$=="hide"){if(C=="Lyr"){var V=tQ.tr(L,u);if(V==-1)continue;var D=L._[V].rl();if($=="show"&&D||$=="hide"&&!D)continue;
M.data={c:S.OF,J:V}}else if(C=="Chnl"){M.data={c:S.to,Ek:"fromAction",a:h}}}else if($=="rotateEventEnum"){M.L=s.AX;
var P=W.Angl.v.val;M.data={c:"rot",zv:[2,5],a:-P*Math.PI/180}}else if($=="flip"){M.L=s.AX;var v=W.Axis.v.Ornt=="Hrzn",O=v?new kY(-1,1):new kY(1,-1);
M.data={c:"scl",zv:[2,6,[22,4,v?2:3]],a:O}}else if($=="transform"){var uk=1,ut=1,ua=0,uu=0,uW=0,kV=0,p=0;
if(W.Wdth)uk=W.Wdth.v.val/100;if(W.Hght)ut=W.Hght.v.val/100;if(W.Skew){var _=W.Skew.v;ua=_.Hrzn.v.val;
uu=_.Vrtc.v.val}if(W.Ofst){var uB=W.Ofst.v;kV=uB.Hrzn.v.val;p=uB.Vrtc.v.val}if(W.Angl)uW=W.Angl.v.val;
var ub=new um;ub.concat(new um(uk,uk*Math.tan(uu*Math.PI/180),ut*Math.tan(ua*Math.PI/180),ut,0,0));ub.rotate(-uW*Math.PI/180);
ub.translate(kV,p);var uq={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[W.FTcs.v.QCSt];
if(uq==null)throw W.FTcs.v.QCSt;var V=W.null?tQ.tr(L,u):null;M.L=s.ON;M.data={c:"mat",IT:uq,a:ub,J:V}}else if(C=="Chnl"){M.data={c:S.to,Ek:"fromAction",a:h}}else if($=="duplicate")M.data={c:S.OP,ko:W.Nm?W.Nm.v:null};
else if($=="delete")M.data={c:S.Ot};else if($=="align"){M.L=s._h;var r={AdLf:0}[W.Usng.v.ADSt];if(r==null)throw"e";
M.data={c:"algn",a:r}}if(M.data)R.R(M);else if(x.data)R.R(x);else{console.log(h);alert("Unknown action \""+$+"\"");
throw"e"}}};tQ.tr=function(h,R){var d=R.t,L=-1;if(d=="name"){var $=R.v.val,L=-1;for(var W=0;W<h._.length;
W++)if(h._[W].getName()==$){L=W;break}}if(d=="Enmr"&&h.f.length!=0)L=h.f[0];if(d=="Enmr"&&R.v.enum=="Frwr")L=h.f[0]-1;
if(d=="prop"){if(R.v.keyID=="Bckg")L=0}return L};var uJ={};uJ.get=function(h){for(var R in uJ.names)if(h[R]!=null)return R;
return null};uJ.zA=function(h,R){var d=uJ.wV,L;if(h=="brit"){var $=R.Brgh?R.Brgh.v:0,W=R.Cntr?R.Cntr.v:0,M=R.useLegacy?R.useLegacy.v:!1;
if(M){var x=$/255,t=1+W/100;if(t>1)t=1+Math.tan(Math.PI/2*W/101);var g=(1-t)/2,r=z.lh.z$(x,x,x),l=[t,0,0,g,0,t,0,g,0,0,t,g,0,0,0,1],H=z.lh.multiply(r,l),y=new z.Zb(256);
for(var f=0;f<256;f++)y.H[f]=f;z.lh.transform(y,y,H);L={type:d.vf,Bx:y.H,lg:y.H,js:y.H,Ok:!1,OW:!1}}else{var b=1024,K=-30+60*(W+100)/200,Z=[];
for(var f=0;f<4;f++)Z.push(z.LV.Ud(f/3*255,f/3*255,!0));Z[1].v.Hrzn.v=64;Z[1].v.Vrtc.v=64-K;Z[2].v.Hrzn.v=128+64;
Z[2].v.Vrtc.v=128+64+K;Z.sort(function(kR,WC){return kR.v.Hrzn.v-WC.v.Hrzn.v});var J=z.LV.tW(Z,b);function u(kR,b){var Z=[],WC=3;
for(var f=0;f<WC+1;f++)Z.push(z.LV.Ud(f/WC*255,f/WC*255,!0));Z[1].v.Hrzn.v=130-kR*26;Z[1].v.Vrtc.v=130+kR*51;
Z[2].v.Hrzn.v=233-kR*48;Z[2].v.Vrtc.v=233+kR*10;return z.LV.tW(Z,b)}var C=u(Math.abs($)/100,b);if($<0){var Q=[],i=1/b;
for(var f=0;f<b;f++){var j=f*i,V=f;while(C[V]>j&&V>1)V--;Q[f]=V*i}C=Q}var E=new Uint8Array(b);for(var f=0;
f<b;f++){var N=Math.round((b-1)*C[f]);E[f]=Math.round(255*J[N])}L={type:d.vf,Bx:E,lg:E,js:E,Ok:!1,OW:!1}}}if(h=="levl"){var n=[],a,I,r,q,k,F;
for(var f=0;f<4;f++)n.push(tm.UA(R,f));a=-n[0][0]/255;I=1/(n[0][1]/255-n[0][0]/255);r=z.lh.multiply(z.lh.zx(I,I,I),z.lh.z$(a,a,a));
q=z.lh.zx(1/(n[1][1]/255-n[1][0]/255),1/(n[2][1]/255-n[2][0]/255),1/(n[3][1]/255-n[3][0]/255));k=z.lh.z$(-n[1][0]/255,-n[2][0]/255,-n[3][0]/255);
F=z.lh.multiply(q,k);var E=new z.Zb(256);for(var f=0;f<256;f++)E.H[f]=E.N[f]=E.W[f]=f;var o=1/(n[0][4]/100),G=1/(n[1][4]/100),w=1/(n[2][4]/100),U=1/(n[3][4]/100);
z.lh.transform(E,E,F);for(var f=0;f<256;f++){E.H[f]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.H[f]/255,G))));
E.N[f]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.N[f]/255,w))));E.W[f]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.W[f]/255,U))))}z.lh.transform(E,E,r);
for(var f=0;f<256;f++){E.H[f]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.H[f]/255,o))));E.N[f]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.N[f]/255,o))));
E.W[f]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.W[f]/255,o))))}a=n[0][2]/255;I=n[0][3]/255-n[0][2]/255;
r=z.lh.multiply(z.lh.z$(a,a,a),z.lh.zx(I,I,I));q=z.lh.zx(n[1][3]/255-n[1][2]/255,n[2][3]/255-n[2][2]/255,n[3][3]/255-n[3][2]/255);
k=z.lh.z$(n[1][2]/255,n[2][2]/255,n[3][2]/255);F=z.lh.multiply(k,q);z.lh.transform(E,E,z.lh.multiply(r,F));
L={type:d.vf,Bx:E.H,lg:E.N,js:E.W,Ok:!1,OW:!1}}if(h=="curv"){var B=zb.UA(R,0).length==256?1:0,D=[];if(B==0){var P=z.LV.Gt(zb.UA(R,0),256);
for(var f=1;f<4;f++){var v=z.LV.Gt(zb.UA(R,f),256);D.push(z.LV.MQ(v,P))}}else{var O=[];for(var f=0;f<4;
f++){var uk=new Uint8Array(256);O.push(uk);var ut=zb.UA(R,f);for(var V=0;V<256;V++)uk[V]=ut[V]}for(var f=1;
f<4;f++)D.push(z.LV.MQ(O[f],O[0]))}L={type:d.vf,Bx:D[0],lg:D[1],js:D[2],Ok:!1,OW:!1}}if(h=="expA"){var ua=R.Exps.v,uu=R.Ofst.v,uW=R.gammaCorrection.v,E=new Uint8Array(256);
for(var f=0;f<256;f++){var R=f/255,kV=Math.pow(Math.abs(uu),1/(Math.PI/2));if(uu>0){R=Math.max(uu/Math.E,R);
R=R*Math.exp(uu/1.75+ua/Math.PI);R=(1-kV)*R+kV*1}else{R=R*Math.exp(-uu*1.75+ua/Math.PI);R=R+-kV*1.14}R=Math.pow(R,1/uW);
R=Math.max(0,Math.min(1,R));E[f]=Math.round(R*255)}L={type:d.vf,Bx:E,lg:E,js:E,Ok:!1,OW:!1}}if(h=="vibA"){L={type:d.Dk,Ns:[R.vibrance?R.vibrance.v:0,R.Strt?R.Strt.v:0]}}if(h=="hue2"){var p=[],_=[],uB=[],ub=R.Clrz?R.Clrz.v:!1;
for(var f=0;f<256;f++){p[f]=f/255;_[f]=0;uB[f]=0}var uq=zg.UA(R,0),uF=uJ.Dd(uq[1]/100);if(ub){var ue=uq[0]/360;
for(var f=0;f<256;f++){p[f]=ue;_[f]=uF}}else{for(var f=0;f<256;f++){var up=p[f],ui=_[f];p[f]+=uq[0]/360;
for(var V=0;V<6;V++){var zd=zg.UA(R,V+1),uN=zd.Tj,u_=zd.ge,kV=0;for(var za=1;za<4;za++)if(u_[za]<u_[0])u_[za]+=360;
var uZ=u_[0],uj=u_[1],uw=u_[2],tI=u_[3],ug=up*360;if(ug<u_[0])ug+=360;var uO=(ug-uZ)/(uj-uZ),uC=(ug-uw)/(tI-uw);
if(uO<0)kV=0;else if(uO<1)kV=uO;else if(uC<0)kV=1;else if(uC<1)kV=1-uC;else kV=0;var t=uJ.Dd(uN[1]/100);
p[f]+=kV*uN[0]/360;_[f]+=kV*t;uB[f]+=kV*uN[2]/100}}for(var f=0;f<256;f++){_[f]=(1+_[f])*(1+uF)-1;uB[f]=Math.max(-1,Math.min(1,uB[f]))}}var ux=new Uint8Array(256),zu=new Uint8Array(256),uL=new Uint8Array(256);
for(var f=0;f<256;f++){var un=p[f],us=_[f],Wa=uB[f];if(un>1)un--;if(un<0)un++;us=uJ.zE$(us);us=(1+us)*.5;
Wa=(1+Wa)*.5;ux[f]=Math.round(255*un);zu[f]=Math.round(255*us);uL[f]=Math.round(255*Wa)}var Wt=uq[2]/100,uV=Wt<0?-Wt:Wt,zZ=Wt<0?0:1;
L={type:d.Da,zCp:ux,Ja:zu,zCO:uL,ztz:uV*zZ,JX:1-uV,zPE:uq[2]/100,zk$:ub?1:0}}if(h=="nvrt"){var E=new Uint8Array(256);
for(var f=0;f<256;f++)E[f]=255-f;L={type:d.vf,Bx:E,lg:E,js:E,Ok:!1,OW:!1}}if(h=="post"){var uU=R.Lvls.v,E=new Uint8Array(256),kV=uU/255.001,zI=255/(uU-1);
for(var f=0;f<256;f++)E[f]=Math.floor(f*kV)*zI;L={type:d.vf,Bx:E,lg:E,js:E,Ok:!1,OW:!1}}if(h=="grdm"){var uG=R.Grad.v,WW=R.Rvrs,Wq=z.i.KY(uG.Clrs.v,0,0),b=1024,uH=z.i.V_(uG,Wq,b,WW?WW.v:!1),Wp=z.h(b),tD=z.h(b),zF=z.h(b);
z.nP(uH,Wp,0);z.nP(uH,tD,1);z.nP(uH,zF,2);L={type:d.vf,Bx:Wp,lg:tD,js:zF,Ok:!0,OW:!1}}if(h=="selc"){var zO=new Float32Array(9*3*2),Wr=R.Jb,z_=R.Mthd?R.Mthd.v.CrcM=="Absl":!1;
for(var V=0;V<9;V++){var Wz=V*6,Me=zC.UA(R,V),zp=Me[0]/100,MB=Me[1]/100,Wj=Me[2]/100,WA=Me[3]/100;if(z_){zO[Wz]=zO[Wz+1]=zO[Wz+2]=1;
zO[Wz+3]=zp*(1+WA)+WA;zO[Wz+4]=MB*(1+WA)+WA;zO[Wz+5]=Wj*(1+WA)+WA}else{zO[Wz+0]=(1+zp)*(1+WA);zO[Wz+1]=(1+MB)*(1+WA);
zO[Wz+2]=(1+Wj)*(1+WA)}}L={type:d.Du,Dl:zO}}if(h=="blwh"){var MA="Rd Yllw Grn Cyn Bl Mgnt".split(" "),L=[],hZ=0,zr=0;
for(var f=0;f<6;f++)L.push(R[MA[f]].v);L.push(R.useTint.v,R.tintColor.v);var zi=[];for(var f=0;f<6;f++)zi.push((L[f]-50)/50);
var MR=z.i.IZ(L[7]);MR.H/=255;MR.N/=255;MR.W/=255;var uv=z.pc(MR.H,MR.N,MR.W),Wa=z.qw(z.xP(uv.om,1,.5)),zM=uv.ix*uv.gE;
if(Wa==.5)hZ=zr=.5;else{hZ=zM*(.5-Wa)/(.5/Wa-1);zr=1-zM*(.5-Wa)-1/(2*(1-Wa));zr/=1-1/(2*(1-Wa))}L={type:d.Dh,zuG:zi,on:L[6]?1:0,zkR:uv.om,qw:Wa,zup:zM,Pq:hZ,zu_:zr}}if(h=="blnc"){var n=[],tA=["ShdL","MdtL","HghL"];
for(var f=0;f<3;f++){var uU=R[tA[f]].v,zA=uU[0].v/100,tj=uU[1].v/100,Md=uU[2].v/100,MI=R.PrsL.v?MI=(Math.min(zA,tj,Md)+Math.max(zA,tj,Md))/2:0;
n[f]=[zA-MI,tj-MI,Md-MI]}var D=[z.h(256),z.h(256),z.h(256)];for(var V=0;V<3;V++)for(var f=0;f<256;f++){var j=f*(1/255),WD=0,K=0,zD=0;
K=n[2][V];zD=Math.abs(K);if(K<0)WD=Math.pow(j,Math.SQRT2);else WD=1.63*(Math.pow(j+.04,.5)-.2);j=zD*WD+(1-zD)*j;
K=n[1][V];zD=Math.abs(K);if(K<0)WD=Math.pow(j,2);else WD=Math.min(2.35*(Math.pow(j+.09,.5)-.3),Math.pow(j,1/2));
j=zD*WD+(1-zD)*j;K=n[0][V];zD=Math.abs(K);if(K<0)WD=j<.4?0:Math.pow((j-.4)/.6,Math.SQRT2);else WD=Math.pow(j,Math.SQRT2/2);
j=zD*WD+(1-zD)*j;j=Math.max(0,Math.min(1,j));D[V][f]=Math.round(j*255)}L={type:d.vf,Bx:D[0],lg:D[1],js:D[2],Ok:!1,OW:!1}}if(h=="phfl"){var kJ=z.i.IZ(R.Clr.v),tK=[kJ.H/255,kJ.N/255,kJ.W/255],WK=R.Dnst.v/100,D=[z.h(256),z.h(256),z.h(256)];
for(var V=0;V<3;V++)for(var f=0;f<256;f++){var j=f*(1/255),WV=j*tK[V];WV=Math.max(0,Math.min(1,WV));
j=WK*WV+(1-WK)*j;D[V][f]=Math.round(j*255)}L={type:d.vf,Bx:D[0],lg:D[1],js:D[2],Ok:!1,OW:R.PrsL.v}}if(h=="thrs"){var E=z.h(256);
for(var f=R.Lvl.v;f<256;f++)E[f]=255;L={type:d.vf,Bx:E,lg:E,js:E,Ok:!0,OW:!1}}if(h=="mixr"){var WT=uJ.HH(R),H=[];
for(var f=0;f<WT.a.length;f++)if(f%5!=3)H.push(WT.a[f]/100);if(WT.O$){for(var MO=1;MO<3;MO++)for(var j=0;
j<4;j++)H[MO*4+j]=H[j]}L={type:d.Db,lh:H}}if(h=="rplc"){var MS=R.Mnm.v,hi=R.Mxm.v;L={type:d.DF,hm:[MS.Lmnc.v,MS.A.v,MS.B.v],hA:[hi.Lmnc.v,hi.A.v,hi.B.v],shift:[R.H.v/360,R.Strt.v/100,R.Lght.v/100],KA:R.Fzns.v/200}}if(h=="clrL"&&R.profile){var ks=new Uint8Array(R.profile.v),Wx=ICC.R(ks.buffer),uc=[],hz=0,bP=Wx.tags.A2B0;
hz=bP&&bP.gpnum?bP.gpnum[0]:0;hz=hz>8?hz:17;var uc=ICC.U.sampleLUT(Wx,hz);L={type:d.HQ,Ry:ICC.U.rgba8LUT(uc,hz),zCw:uc,$m:hz}}return L};
uJ.wY=function(h,R){var d=-1;if(h!="levl"||R==null)d=-1;else if(R.Auto)d=0;else if(R.AuCo)d=1;else if(R.autoBlackWhite)d=2;
return d};uJ.wV={vf:0,Da:1,Dk:2,Du:3,Dh:4,Db:5,DF:6,HQ:7};uJ.Dd=function(h){if(h<0)return h;return Math.pow(Math.tan(Math.PI/2*h),1.3)};
uJ.zE$=function(h){if(h<0)return h;h=Math.pow(h,1/1.3);return Math.atan2(h,1)/(Math.PI/2)};uJ.zI=function(h,R,d,L){var $=uJ.wV,W=Date.now();
if(c.BG&&L.s()>300*300&&h.type!=$.vf&&h.type!=$.HQ){L=L.clone();L.x=L.y=0;var M=c.GU(0,L.k,L.$);M.set(R);
c.Cq(M,L);M.Pj(L);uJ.LA(h,M.An,L);M.get(d);return}if(h.type==$.HQ){var x=h.zCw,t=h.$m,H=3;function g(uU,zI,uW,uG,WW,Wq){var uH=1-uG;
Wq[WW+0]=uH*uW[uU]+uG*uW[zI];Wq[WW+1]=uH*uW[uU+1]+uG*uW[zI+1];Wq[WW+2]=uH*uW[uU+2]+uG*uW[zI+2]}var r=[0,0,0,0,0,0,0,0,0,0,0,0],l=(t-1.000001)/255;
for(var y=0;y<R.length;y+=4){var L=l*R[y],f=l*R[y+1],b=l*R[y+2],K=~~L,Z=~~f,J=~~b;g(H*(J+t*Z+t*t*K),H*(J+1+t*Z+t*t*K),x,b-J,0,r);
g(H*(J+t*(Z+1)+t*t*K),H*(J+1+t*(Z+1)+t*t*K),x,b-J,3,r);g(0,3,r,f-Z,6,r);g(H*(J+t*Z+t*t*(K+1)),H*(J+1+t*Z+t*t*(K+1)),x,b-J,0,r);
g(H*(J+t*(Z+1)+t*t*(K+1)),H*(J+1+t*(Z+1)+t*t*(K+1)),x,b-J,3,r);g(0,3,r,f-Z,9,r);g(6,9,r,L-K,0,r);d[y]=~~(.5+r[0]*255);
d[y+1]=~~(.5+r[1]*255);d[y+2]=~~(.5+r[2]*255)}}if(h.type==$.Db)z.lh.FJ(R,d,h.lh);if(h.type==$.Dh){var u=h.zup,C=h.qw,Q=h.Pq,i=h.zu_,j=R.length;
for(var y=0;y<j;y+=4){var L=R[y]*(1/255),f=R[y+1]*(1/255),b=R[y+2]*(1/255),V=z.uG(L,f,b),E=0;for(var N=0;
N<6;N++)E+=Math.min(1,1.7*(1-V.NM))*V.ix*h.zuG[N]*uJ.ztx(V.om,N*(1/6));var n=Math.max(0,Math.min(1,V.NM*(1+E)));
if(h.on==1){var a=0;if(n<Q)a=n*(.5/C);else if(n<i)a=n+u*(.5-C);else a=1-(1-n)*.5/(1-C);V.om=h.zkR;V.ix=Math.min(1,u+3*u*Math.abs(n-.5*(Q+i)));
V.NM=a}else{V.om=0;V.ix=0;V.NM=n}var I=z.xP(V.om,V.ix,V.NM);d[y]=Math.round(I.H*255);d[y+1]=Math.round(I.N*255);
d[y+2]=Math.round(I.W*255)}}if(h.type==$.Du){var q=h.Dl,j=R.length,k=1/255;for(var y=0;y<j;y+=4){var L=R[y]*k,f=R[y+1]*k,b=R[y+2]*k,V=z.uG(L,f,b),F=Math.max(L,Math.max(f,b)),o=Math.min(L,Math.min(f,b)),G=1-L,w=1-f,U=1-b,B=0,D=0,P=0;
for(var N=0;N<9;N++){var v=N*6,ua=0;if(q[v]==1&&q[v+1]==1&&q[v+2]==1&&q[v+3]==0&&q[v+4]==0&&q[v+5]==0)continue;
var O=G*q[v]+q[v+3],uk=w*q[v+1]+q[v+4],ut=U*q[v+2]+q[v+5];if(N<6)ua=uJ.ztx(V.om,N*(1/6))*V.ix*2*Math.min(V.NM,1-V.NM);
else if(N==6)ua=Math.max(0,o-.5)*2;else if(N==7)ua=1-(Math.abs(F-.5)+Math.abs(o-.5));else ua=Math.max(0,.5-F)*2;
B+=(Math.max(0,Math.min(1,O))-G)*ua;D+=(Math.max(0,Math.min(1,uk))-w)*ua;P+=(Math.max(0,Math.min(1,ut))-U)*ua}G=Math.max(0,Math.min(1,G+B));
w=Math.max(0,Math.min(1,w+D));U=Math.max(0,Math.min(1,U+P));L=1-G;f=1-w;b=1-U;d[y]=Math.round(L*255);
d[y+1]=Math.round(f*255);d[y+2]=Math.round(b*255)}}if(h.type==$.vf){z.zFM(R,d,h.Bx,h.lg,h.js,h.Ok,h.OW)}if(h.type==$.Da){var uu=new Uint32Array(R.buffer),uW=new Uint32Array(d.buffer),j=uu.length;
if(uJ.Xw==null){uJ.Xw=new Float64Array(256);for(var y=0;y<256;y++)uJ.Xw[y]=uJ.Dd(-1+2*y/255)}var kV=uJ.Xw;
for(var y=0;y<j;y++){var p=uu[y],L=(p&255)*(1/255),f=(p>>>8&255)*(1/255),b=(p>>>16&255)*(1/255),_=p>>>24,uB=Math.min(L,f,b),ub=Math.max(L,f,b),uq=0,uF=0,ue=0;
if(ub!=uB){var up=ub-uB;switch(ub){case L:uq=(f-b)/up+(f<b?6:0);break;case f:uq=(b-L)/up+2;break;case b:uq=(L-f)/up+4;
break}uq=uq*(1/6)}var ui=~~(uq*255+.5),zd=h.zCp[ui]*(1/255),uN=h.Ja[ui]*(1/255)*2-1,u_=h.zCO[ui]*(1/255)*2-1,E=-u_,za=uB;
if(0<u_){E=u_;za=ub}var uZ=h.ztz+h.JX*E*za,uj=h.JX*(1-E);L=uZ+uj*L;f=uZ+uj*f;b=uZ+uj*b;ub=Math.max(L,f,b);
uB=Math.min(L,f,b);ue=(ub+uB)*.5;if(ub!=uB){var up=ub-uB;uF=ue>.5?up/(2-(ub+uB)):up/(ub+uB)}var uw=uN;
if(h.zk$==0){uN=kV[Math.floor((1+uN)*127.5)];uw=Math.min(uF*(1+uN),1)}uq=zd;uF=uw;if(uF==0)L=f=b=ue;
else{var tI=ue<.5?ue*(1+uF):ue+uF-ue*uF,ug=2*ue-tI;L=z.RC(ug,tI,uq+1/3);f=z.RC(ug,tI,uq);b=z.RC(ug,tI,uq-1/3)}uW[y]=_<<24|b*255<<16|f*255<<8|L*255}}if(h.type==$.DF){z.kW(R,d);
var uu=new Uint32Array(R.buffer),uW=new Uint32Array(d.buffer),j=uu.length,uO=h.KA,uC=1/uO,ux={UM:h.hm[0],r$:h.hm[1],W:h.hm[2]},zu={UM:h.hA[0],r$:h.hA[1],W:h.hA[2]};
for(var y=0;y<j;y++){var p=uu[y],K=p&255,Z=p>>>8&255,J=p>>>16&255,L=K*(1/255),f=Z*(1/255),b=J*(1/255),_=p>>>24,uL=z.Jk(K,Z,J),un=z.Yj(uL,ux,zu,uO,uC);
if(un==0)continue;var V=z.uG(L,f,b),zd=2+V.om+un*h.shift[0];V.om=zd-~~zd;V.ix=Math.max(0,Math.min(1,V.ix+un*h.shift[1]));
V.NM=Math.max(0,Math.min(1,V.NM+un*h.shift[2]));var I=z.xP(V.om,V.ix,V.NM);L=I.H;f=I.N;b=I.W;uW[y]=_<<24|b*255<<16|f*255<<8|L*255}}if(h.type==$.Dk){var uu=new Uint32Array(R.buffer),uW=new Uint32Array(d.buffer),j=uu.length,us=h.Ns[0]/100,Wa=h.Ns[1]/100;
for(var y=0;y<j;y++){var p=uu[y],L=(p&255)*(1/255),f=(p>>>8&255)*(1/255),b=(p>>>16&255)*(1/255),_=p>>>24,V=z.pc(L,f,b),uq=V.om,uF=V.ix,ue=V.gE,Wt=0,uV=45/360,zZ=uq<uV?Math.cos(Math.PI/2*(uq-uV/2)/(uV/2)):0;
uF=uF+.2*(1-.4*zZ)*us*Math.max(0,Math.sin(uF*Math.PI));uF=uF*(1+Wa);uF=Math.max(0,Math.min(1,uF));var I=z.Ed(uq,uF,ue);
L=I.H;f=I.N;b=I.W;uW[y]=_<<24|b*255<<16|f*255<<8|L*255}}};uJ.LA=function(h,R,d){c.tC.LA(h,R)};uJ.ztx=function(h,R){var d=z.IV(R,h)*6;
return Math.max(0,Math.min(1,d<0?1+d:1-d))};uJ.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
uJ.zWQ=["expA","clrL","selc"];uJ.Dm=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];uJ.zEx=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
uJ.HK=[[13,1,1],[13,1,4],[13,1,5]];uJ.zK={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA","\0\0\0\xDE":"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh","\0\0\0\xDD":"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr","\0\0\0\xDF":"clrL",rplc:"rplc"};
uJ.HR=function(){var h=JSON.parse(JSON.stringify(uJ.zK));delete h["\0\0\0\xDE"];delete h["\0\0\0\xDD"];
delete h.GrMp;h.vibrance="vibA";h.photoFilter="phfl";h.GdMp="grdm";return h}();uJ.Ff={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
uJ.keys={levl:[m.Is,m.UM],curv:[m.Is,m.mc],hue2:[m.Is,m.tq],nvrt:[m.Is,m.wG],blnc:[m.Is,m.zkn]};uJ.zqc=function(h){var R=u$.hx("mixr");
R.Mnch={t:"bool",v:h.O$};function d(L,$){var W={classID:"ChMx"},M={Rd:0,Grn:1,Bl:2,Cnst:4};for(var x in M)W[x]={t:"UntF",v:{type:"#Prc",val:L[$+M[x]]}};
return{t:"Objc",v:W}}if(h.O$)R.Gry=d(h.a,0);else{R.Rd=d(h.a,0);R.Grn=d(h.a,5);R.Bl=d(h.a,10)}return R};
uJ.HH=function(h){function R(L,$,W){var M={Rd:0,Grn:1,Bl:2,Cnst:4};for(var x in M)if(L[x])$[W+M[x]]=L[x].v.val}var d={O$:!1,a:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(h.Mnch&&h.Mnch.v)d.O$=!0;if(d.O$)R(h.Gry.v,d.a,0);else{R(h.Rd.v,d.a,0);R(h.Grn.v,d.a,5);R(h.Bl.v,d.a,10)}return d};
var u$={};u$.zr=[{ke:"GEfc"},{ke:"LnCr"},{ke:"LqFy",OC:!0},{LJ:"3D",$Q:["\0\0\x03^"]},{LJ:[24,2],$Q:"Avrg,Blr ,BlrM,\0\0\x02\xB1,GsnB,Bokh,MtnB,RdlB,\0\0\x02\xB5".split(",")},{LJ:[24,4],$Q:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave".split(",")},{LJ:[24,6],$Q:["AdNs","DstS","Mdn "]},{LJ:[24,8],$Q:["ClrH","Crst","Mztn","Msc ","Pntl"]},{LJ:[24,10],$Q:["Clds","DfrC","LnsF"]},{LJ:[24,12],$Q:["Shrp","ShrM","\0\0\x03\xE8","UnsM"]},{LJ:[24,14],$Q:["FndE","\0\0\x03\xFD"]},{LJ:[24,16],$Q:["HghP","Mxm ","Mnm ","Ofst","Rept"]},{LJ:"Fourier",$Q:["dDFT","iDFT"]}];
u$.Ff={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod","\0\0\x02\xB1":"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur","\0\0\x02\xB5":"surfaceBlur","\0\0\x03^":"lightFilterGradient",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",ClrH:"colorHalftone",Crst:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore","\0\0\x03\xE8":"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges","\0\0\x03\xFD":"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
u$.Kj={"\0\0\x03\x82":s.j_};u$.names={"\0\0\x03^":"Normal Map","\0\0\x03\x82":[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],"\0\0\x02\xB1":[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],"\0\0\x02\xB5":[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],AdNs:[24,7,0],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],Crst:[24,9,1],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Shrp:[24,13,0],ShrM:[24,13,2],"\0\0\x03\xE8":[24,13,3],UnsM:[24,13,4],FndE:[24,15,3],"\0\0\x03\xFD":[24,15,4],HghP:[24,17,1],"Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform"};
u$.hx=function(h){var R=null;if(h=="GEfc")R={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:tz.hx("GlwE")}]}};
if(h=="LqFy"){var d={Hl:50,om:50,map:new Float32Array(50*50*2)},L=new Uint8Array(bO.wA(d)),$=[];for(var W=0;
W<L.length;W++)$.push(L[W]);R={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:$}}}if(h=="\0\0\x03\x82"){R={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(h=="LnCr")R={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(h=="\0\0\x03\xFD")R={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(h=="\0\0\x03^")R={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(h=="\0\0\x02\xB1")R={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(h=="GsnB")R={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(h=="Bokh")R={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(h=="MtnB")R={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(h=="RdlB")R={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(h=="\0\0\x02\xB5")R={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(h=="Dspl")R={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(h=="Pnch")R={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(h=="Plr ")R={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(h=="Rple")R={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(h=="Shr ")R={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(h=="Sphr")R={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(h=="Twrl")R={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(h=="Wave")R={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(h=="AdNs")R={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(h=="DstS")R={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(h=="Mdn ")R={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(h=="ClrH")R={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(h=="Crst")R={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(h=="Mztn")R={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(h=="Msc ")R={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(h=="Pntl")R={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(h=="LnsF")R={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(h=="\0\0\x03\xE8")R={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(h=="UnsM")R={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(h=="HghP")R={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(h=="Mxm ")R={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:9}}};
if(h=="Mnm ")R={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:14}}};if(h=="Ofst")R={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(h=="Rept")R={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(h=="brit")R={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(h=="levl")R={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(h=="curv")R={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(h=="expA")R={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(h=="vibA")R={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(h=="hue2")R={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(h=="blnc")R={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(h=="blwh")R={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(h=="phfl")R={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(h=="grdm")R={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(uz.ny[6]).Grad};
if(h=="selc")R={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(h=="thrs")R={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(h=="mixr")R={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(h=="clrL")R={__name:"Color Lookup",classID:"colorLookup"};if(h=="nvrt")R={};if(h=="post")R={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(h=="rplc")R={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:100},Lght:{t:"long",v:2}};
if(h=="fade")R={__name:"Fade",classID:"fade",Md:{v:{BlnM:"Nrml"},t:"enum"},Opct:{v:{type:"#Prc",val:100},t:"UntF"}};
return R};u$.zET=function(h){var R=new kY(0,0);if(h.enab.v==!1)return R;var d=h.filterFXList.v;for(var L=0;
L<d.length;L++){var $=d[L].v;if($.enab.v==!1)continue;var W=T.$W($.filterID.v),M=u$.zFb(W,$.Fltr?$.Fltr.v:null);
if(M.x>R.x)R.x=M.x;if(M.y>R.y)R.y=M.y}return R};u$.zFb=function(h,R){var d=0,L=0;if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(h)!=-1){var $=R.Rds.v.val;
d=L=$*2.57}if(h=="MtnB")d=L=R.Dstn.v.val;if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,Wave,RdlB,Clds,DfrC,Plr ,LnCr,\0\0\x03^,\0\0\x03\x82".split(",").indexOf(h)!=-1){d=L=1e4}if(h=="GEfc")d=L=1e4;
return new kY(Math.ceil(d),Math.ceil(L))};u$.HU=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
u$.I_=function(h,R){var d={H:R.Ch>>16,N:R.Ch>>8&255,W:R.Ch&255},L={H:R._W>>16,N:R._W>>8&255,W:R._W&255},$=u$.names[h];
if($==null)$=uJ.names[h];var W=h;for(var M in uJ.zK)if(uJ.zK[M]==h)W=M;var x={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:uP.get($)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:z.i.ZR(d)},BckC:{t:"Objc",v:z.i.ZR(L)},filterID:{t:"long",v:T.zpH(W)}}},t=u$.hx(h);
if(t)x.v.Fltr={t:"Objc",v:t};return x};u$.zza=function(h,R,d,L){var $=z.h(h.length);z.ee.Jc(h,R,d,L,[-1,0,1,-2,0,2,-1,0,1],0,!0);
z.ee.Jc(h,$,d,L,[1,2,1,0,0,0,-1,-2,-1],0,!0);for(var W=0;W<$.length;W+=4){var M=R[W],x=R[W+1],t=R[W+2],g=R[W+3],r=$[W],l=$[W+1],H=$[W+2],y=$[W+3];
R[W]=255-Math.max(0,Math.min(255,Math.sqrt(M*M+r*r)));R[W+1]=255-Math.max(0,Math.min(255,Math.sqrt(x*x+l*l)));
R[W+2]=255-Math.max(0,Math.min(255,Math.sqrt(t*t+H*H)))}};u$.IA=function(h,R,d,L,$,W,M,x){var t=d*L*4;
z.ee.zSm(h,R,d,L,$,W,M)};u$.Hr=function(h,R,d,L){z.VA(d);if(h<1){var $=Math.round(h*5),W=[1,2,1,2,[40,26,13,6,4,2][$],2,1,2,1];
W=z.ee.pi(W);var M=d.slice(0);z.ee.Jc(M,d,L.k,L.$,W,255)}else R(d,L,h);z.VQ(d)};u$.zEr=function(h,R,d,L){for(var $=0;
$<h.length;$++){d[$]=h[$]*(1/255);L[$]=0}FFT.fft2d(d,L);var W=R>>>1,M=16384,x=128,g=100;while(x<R){x<<=1;
M<<=2}var t=255/Math.log(M),r=-100;for(var l=0;l<R;l++)for(var H=0;H<W;H++){var y=R+W+l&R-1,f=d[y*R+H],b=L[y*R+H],K=Math.sqrt(f*f+b*b),Z=Math.atan2(b,f);
h[l*R+H]=Math.round(t*Math.log(K+1));h[l*R+W+H]=Math.round((Math.PI+Z)*(255*.5/Math.PI))}};u$.zEY=function(h,R,d,L){d.fill(0);
L.fill(0);var $=R>>>1,W=16384,M=128;while(M<R){M<<=1;W<<=2}var x=255/Math.log(W),t=[],g=[],r=[];for(var l=0;
l<256;l++){t[l]=Math.exp(l/x)-1;var H=l*(2*Math.PI/255)-Math.PI;g[l]=Math.sin(H);r[l]=Math.cos(H)}for(var y=0;
y<R;y++)for(var f=0;f<$;f++){var b=R+$+y&R-1,K=t[h[y*R+f]],H=h[y*R+$+f],Z=K*r[H],J=K*g[H];d[b*R+f]=Z;
L[b*R+f]=J;if(f!=0){var u=b==0?b*R+R-f:(R-b)*R+(R-f);d[u]=Z;L[u]=-J}}FFT.ifft2d(d,L);for(var l=0;l<h.length;
l++){h[l]=Math.max(0,Math.min(255,~~(.5+255*d[l])))}};u$.zk_=new ArrayBuffer(512);u$.zea=function(h){var R=u$.zk_,d=h.length;
if(R.byteLength<d)u$.zk_=R=new ArrayBuffer(d);var L=new Uint8Array(R);for(var $=0;$<d;$+=4){L[$]=h[$];
L[$+1]=h[$+1];L[$+2]=h[$+2];L[$+3]=h[$+3]}return R};u$.zI=function(h,R,d,L,$,W,M){if(W==null)W={buffer:z.h(R.buffer.length),rect:R.rect.clone()};
z.kW(R.buffer,W.buffer);if(h=="GEfc"){var x=[];if(d.GEfs){var t=d.GEfs.v;for(var g=0;g<t.length;g++){var r=t[g].v;
if(r.GELv&&r.GELv.v==!1)continue;x.push(r)}}else x=[d];for(var g=0;g<x.length;g++){var l;if(g==0)tz.zI(h,R,x[g],L,$,W,M);
else{if(l==null)l={buffer:z.h(R.buffer.length),rect:R.rect.clone()};z.kW(W.buffer,l.buffer);tz.zI(h,l,x[g],L,$,W,M)}}}if(h=="Bokh"){var H=R.rect,y=H.k,f=H.$,b=y*f,K=b*4,Z=R.buffer.slice(0),J=d.BkDp.v/255,u=57*(.3+.7*((y+f)/2)/1750)*(d.BkIb.v/100)*(1+.2*Math.pow(J,.1)),C=parseInt(d.BkIs.v.BtIs.slice(3)),Q=-d.BkIr.v*Math.PI/180,i=[];
for(var g=0;g<8;g++){var j=Q+g*(Math.PI*2/C),V=Q+(g+1)*(Math.PI*2/C),E=Math.cos(j),N=Math.sin(j),n=Math.cos(V),a=Math.sin(V),I=[0,0,0];
z.LV.cz.zT([[E,N,1,0],[n,a,1,0],[1,1,1,1]],I);if(I[2]>0){I[0]*=-1;I[1]*=-1;I[2]*=-1}i.push(I[0],I[1],I[2],0)}var q=d.BkDi.v.BtDi,k=d.BkDc;
if(q=="BeIn"){z._M(Z,0,16777215);J=1}else if(q=="BeIt"&&k.v.BtDc=="BeCt"){}else{var F;if(q=="BeIt"&&k.v.BtDc=="BeCm")F=M[1];
else if(q=="BeIa")F=M[2][k.v];if(F==null){z._M(Z,0,16777215)}else{var o;if(F.rect.PC(H))o=F.channel;
else o=F.AY(H);z.Gn(o,Z,3)}}if(c.BG){var G=c.GU(0,y,f);G.set(Z);c.Cq(G,H);G.Pj(H);c.filter.LA({type:c.filter.Ni,Qr:new Float32Array([1/y,1/f]),zgK:J,zgZ:u,zgH:new Float32Array([d.BkSb.v/100,d.BkSt.v/255]),zgr:new Float32Array([d.BkNa.v/100,d.BkNt.v.BtNt=="BeNu"?0:1,d.BkNm.v?1:0]),zgf:new Float32Array(i.slice(0,16)),zIM:new Float32Array(i.slice(16))},G.An);
G.get(W.buffer);for(var g=0;g<K;g+=4)W.buffer[g+3]=R.buffer[g+3];return W}}if(h=="\0\0\x03\x82"){var w=Date.now(),U=u$.zea,B=R.buffer.slice(0),ut=0,ua=0;
z.VA(B);z._M(W.buffer,0);var y=R.rect.k,f=R.rect.$,D=d.puppetShapeList.v,P=[],v=[],O=[],uk=[];for(var uu=0;
uu<D.length;uu++){var uW=D[uu].v,kV=ut*2,p=ua*3,_=uW.originalVertexArray.v.length>>>2,uB=uW.indexArray.v.length>>>2,ub=new Float32Array(U(uW.originalVertexArray.v));
for(var g=0;g<_;g++)P[kV+g]=ub[g];var uq=new Float32Array(U(uW.deformedVertexArray.v));for(var g=0;g<_;
g++)v[kV+g]=uq[g];var uF=new Uint32Array(U(uW.indexArray.v));for(var g=0;g<uB;g++)O[p+g]=ut+uF[g];var ue=[],up=[],ui=uW.PnDp.v;
for(var g=0;g<ui.length;g++){ue.push(uW.pinVertexIndices.v[g].v);up.push(ui[g].v)}var zd=z.Gx.zEJ(ub,uF,ue,up);
for(var g=0;g<zd.length;g++)uk[ut+g]=zd[g];ut+=_>>>1;ua+=~~(uB/3)}z.Gx.sj(B,W.buffer,R.rect,P,v,uk,O);
z.VQ(W.buffer)}if(h=="\0\0\x03^"){function uN(tD){var BA=1/Math.sqrt(tD[0]*tD[0]+tD[1]*tD[1]+tD[2]*tD[2]);
tD[0]*=BA;tD[1]*=BA;tD[2]*=BA}var y=R.rect.k,f=R.rect.$,b=y*f,w=Date.now(),u_=z.h(b),Wt=.3,uV=.7;z.sz(W.buffer,u_);
var za=z.h(b);z.blur.yj(u_,za,W.rect,16);var uZ=z.h(b);z.blur.yj(u_,uZ,W.rect,8);var uj=u_,uw=new Float32Array(b),tI=d.Dtl.v,ug=tI[2].v,uO=tI[1].v,uC=tI[0].v,ux=d.Scl.v*40*d.textureScale.v/(ug+uO+uC);
ug*=ux;uO*=ux;uC*=ux;for(var g=0;g<b;g++){var zu=za[g]*(1/255),uL=uZ[g]*(1/255),un=uj[g]*(1/255);un=un*un;
uw[g]=ug*zu+uO*uL+uC*un}var us=d.blur.v;if(us!=0){var Wa=uw.slice(0);z.blur.JZ(Wa,uw,W.rect,us)}var zZ=y-1,uU=f-1;
for(var zI=1;zI<uU;zI++)for(var uG=1;uG<zZ;uG++){var g=zI*y+uG,WW=g*4,Wq=uw[g],uH=Wt*(uw[g+1]-Wq)+uV*(Wq-uw[g-1]),Wp=Wt*(uw[g+y]-Wq)+uV*(Wq-uw[g-y]),tD=[1,0,uH],zF=[0,1,Wp];
uN(tD);uN(zF);var V=tD[0],zO=tD[2],Wr=zF[1],z_=zF[2],Wz=-zO*Wr,Me=-V*z_,zp=V*Wr;W.buffer[WW]=~~(127.5+Wz*127.5);
W.buffer[WW+1]=~~(127.5+Me*127.5);W.buffer[WW+2]=~~(127.5+zp*127.5)}}if(h=="dDFT"||h=="iDFT"){function MB(C){if(C==0)return 1;
C--;C|=C>>1;C|=C>>2;C|=C>>4;C|=C>>8;C|=C>>16;return C+1}var y=R.rect.k,f=R.rect.$,Wj=MB(Math.max(y,f)),WA=Wj>>>1,MA=new A(0,0,Wj,Wj),zi=new A(0,0,y,f);
zi.y=Wj-f>>>1;var MR=y>>>1,uv=new A(0,zi.y,MR,f),zM=new z.Zb(y*f);z.ss(R.buffer,zM);var hZ=new Float64Array(Wj*Wj),zr=new Float64Array(Wj*Wj),o=z.h(Wj*Wj);
FFT.init(Wj);var tA=[zM.H,zM.N,zM.W];for(var g=0;g<3;g++){var zA=tA[g];o.fill(0);if(h=="dDFT"){z.mF(zA,zi,o,MA);
u$.zEr(o,Wj,hZ,zr);z.mF(o,MA,zA,zi,uv);uv.x+=MR;MA.x-=WA-MR;z.mF(o,MA,zA,zi,uv);uv.x-=MR;MA.x+=WA-MR}else{z.mF(zA,zi,o,MA,uv);
uv.x+=WA;zi.x+=WA-MR;z.mF(zA,zi,o,MA,uv);uv.x-=WA;zi.x-=WA-MR;u$.zEY(o,Wj,hZ,zr);z.mF(o,MA,zA,zi)}}z.eB(zM,W.buffer)}if(h=="Avrg"){var tj=0,Md=0,MI=0,WD=0,zD=1;
for(var g=0;g<R.buffer.length;g+=4){var kJ=R.buffer[g+3];MI+=R.buffer[g]*kJ;Md+=R.buffer[g+1]*kJ;tj+=R.buffer[g+2]*kJ;
WD+=kJ}var tK=1/WD;tj=Math.round(zD*(tj*tK)+(1-zD)*255);Md=Math.round(zD*(Md*tK)+(1-zD)*255);MI=Math.round(zD*(MI*tK)+(1-zD)*255);
z._M(W.buffer,tj<<16|Md<<8|MI,4278190080)}if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(h)!=-1){var WK=d.Rds.v.val,WV=h=="\0\0\x02\xB1"?z.blur.YU:z.blur.zeA;
u$.Hr(WK,WV,W.buffer,W.rect);if(h=="UnsM"||h=="\0\0\x03\xE8"){var WT=d.Amnt.v.val/100,MO=0;if(h=="UnsM")MO=d.Thsh.v;
else WT*=.75;for(var g=0;g<R.buffer.length;g++){if((g&3)==3){W.buffer[g]=R.buffer[g];continue}var MS=R.buffer[g],hi=W.buffer[g],Wx=WT*(MS-hi);
if(Wx>0)Wx=Math.max(0,Wx-MO);else Wx=Math.min(0,Wx+MO);W.buffer[g]=Math.max(0,Math.min(255,MS+Wx))}}if(h=="HghP")for(var g=0;
g<R.buffer.length;g++){if((g&3)==3){W.buffer[g]=R.buffer[g];continue}var MS=R.buffer[g],hi=W.buffer[g];
W.buffer[g]=Math.max(0,Math.min(255,128+MS-hi))}}if(h=="\0\0\x02\xB5"){var uc=d.Rds.v.val,hz=d.Thsh.v,y=R.rect.k,f=R.rect.$;
u$.IA(R.buffer,W.buffer,y,f,uc,z.ee.VB,[hz],2)}if(h=="AdNs"){var bP=new Uint8ClampedArray(W.buffer.buffer),kR=255*d.Nose.v.val/100,WC;
if(d.Dstr.v.Dstr=="Gsn")WC=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else WC=function(){return Math.random()*2-1};for(var g=0;g<bP.length;g+=4){var uc=bP[g],WQ=bP[g+1],bT=bP[g+2],ht,tR,Mx;
if(d.Mnch.v){ht=tR=Mx=WC()}else{ht=WC();tR=WC();Mx=WC()}uc+=kR*ht;WQ+=kR*tR;bT+=kR*Mx;bP[g]=uc;bP[g+1]=WQ;
bP[g+2]=bT}}if(h=="Mdn "||h=="DstS"||h=="Mxm "||h=="Mnm "){var uc=0;if(h=="Mdn "||h=="Mxm "||h=="Mnm ")uc=d.Rds.v.val;
if(h=="DstS")uc=d.Rds.v;z.ee.zP=.5;var WV=z.ee.F_;if(h=="Mxm ")WV=z.ee.Fj;if(h=="Mnm ")WV=z.ee.FS;var y=R.rect.k,f=R.rect.$,tE={"Mdn ":0,"Mxm ":1,"Mnm ":1,DstS:2}[h];
u$.IA(R.buffer,W.buffer,y,f,uc,WV,[],tE);if(h=="DstS"){var hz=d.Thsh.v;for(var g=0;g<y*f*4;g++){var tg=Math.abs(R.buffer[g]-W.buffer[g]);
if(tg<=hz)W.buffer[g]=R.buffer[g]}}}if(h=="ClrH"){var uv=R.rect.clone();uv.x=uv.y=0;var uc=d.Rds.v;uc=Math.round(uc*Math.sqrt(2));
var y=uv.k,f=uv.$,zM=new z.Zb(y*f);z.ss(R.buffer,zM);z.Gv(zM.H);z.Gv(zM.N);z.Gv(zM.W);var Mk=e.X("canvas","");
Mk.width=y;Mk.height=f;var tL=Mk.getContext("2d"),MW=z.h(y*f*4);for(var tB=0;tB<3;tB++){var o=tB==0?zM.H:tB==1?zM.N:zM.W,Wl=Math.PI*d["Ang"+(tB+1)].v/180,zS=new um(1/uc,0,0,1/uc,0,0);
zS.rotate(Wl);z.Gn(o,MW,3);var hP=s.w.GT([MW,uv],zS,!0),zi=hP.rect;tL.clearRect(0,0,y,f);var MK=Math.sin(Wl),kW=Math.cos(Wl);
for(var g=0;g<zi.$;g++)for(var bh=0;bh<zi.k;bh++){var uG=(bh+zi.x+.5)*uc,zI=(g+zi.y+.5)*uc,zm=uG,ML=zI;
uG=kW*zm-MK*ML;zI=MK*zm+kW*ML;var b=hP.buffer[(g*zi.k+bh<<2)+3]*(1/255),WK=uc*Math.sqrt(b*(1/Math.PI));
tL.beginPath();tL.arc(uG,zI,WK,0,2*Math.PI);tL.fill()}var hn=tL.getImageData(0,0,y,f);z.nP(hn.data,o,3)}z.Gv(zM.H);
z.Gv(zM.N);z.Gv(zM.W);z.eB(zM,W.buffer)}if(h=="Crst"||h=="Pntl"){var y=R.rect.k,f=R.rect.$,WV=h=="Crst"?z.IX.zeN:z.IX.zed;
WV(R.buffer,y,f,W.buffer,d.ClSz.v,[Math.round($.H),Math.round($.N),Math.round($.W)])}if(h=="Mztn"){var y=R.rect.k,f=R.rect.$,b=y*f,zM=new z.Zb(b),kp=[zM.H,zM.N,zM.W];
z.ss(R.buffer,zM);var ti=d.MztT.v.MztT,Mq={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[ti],w=Date.now(),tJ=[];
for(var g=0;g<b;g++){tJ[g]=Math.random()}var b=y*f,kN=Math.round(b*Mq[0]),hG=b-y-1;for(var g=0;g<kN;
g++){var bw=Math.random(),MZ=1;if(bw<.5){MZ=y;bw*=2}else bw=2*(bw-.5);var tH=Math.floor(bw*hG),kk=tH+MZ;
tJ[tH]=tJ[kk]}var kx=Math.round(y*Mq[1]);for(var zI=0;zI<f;zI++)for(var g=0;g<kx;g++){var bw=z.K.yM(zI*b+g),tH=zI*y+Math.floor(bw*(y-1));
tJ[tH]=tJ[tH+1]}var WM=new Float64Array(256);for(var g=0;g<256;g++){var bI=g/255,hI=2*(bI<.5?bI:1-bI);
hI=Mq[2]+Math.pow(hI,Mq[3])*(1-Mq[2]);bI=bI<.5?hI*.5:1-hI*.5;WM[g]=bI}for(var kc=0;kc<3;kc++){var o=kp[kc];
for(var zI=0;zI<f;zI++){for(var uG=0;uG<y;uG++){var g=zI*y+uG,ky=o[g],bI=WM[ky],bw=tJ[g];o[g]=bw>bI?0:255}}}z.eB(zM,W.buffer)}if(h=="Msc "){var bd=d.ClSz.v.val,y=R.rect.k,f=R.rect.$,hD=Math.ceil(y/bd),hg=Math.ceil(f/bd),hL=z.h(hD*hg*4);
z.scale._$(R.buffer,y,f,hL,hD,hg,1/bd);z.scale._$(hL,hD,hg,W.buffer,y,f,bd)}if(h=="Clds"||h=="DfrC"){if(h=="Clds")z._M(W.buffer,4278190080);
var tU=z.h(256*4);for(var g=0;g<256;g++){var WW=g<<2,h_=g/255,uF=1-h_;tU[WW]=Math.round(h_*L.H+uF*$.H);
tU[WW+1]=Math.round(h_*L.N+uF*$.N);tU[WW+2]=Math.round(h_*L.W+uF*$.W)}var y=W.rect.k,f=W.rect.$,b=y*f,bM=z.h(b);
noise.seed(Math.random());for(var zI=0;zI<f;zI++)for(var uG=0;uG<y;uG++){var ux=0,hs=1,hH=1;for(var g=0;
g<8;g++){var z$=hH*(1/170);ux+=noise.perlin2(uG*z$,zI*z$)*hs;hs*=.5;hH=hH<<1}bM[zI*y+uG]=Math.round(Math.max(0,255*Math.min(1,.5+.7*ux*.5)))}var tv=W.buffer;
for(var g=0;g<b;g++){var WW=g<<2,kc=bM[g]<<2,uc=tU[kc],WQ=tU[kc+1],bT=tU[kc+2];if(h=="Clds"){tv[WW]=uc;
tv[WW+1]=WQ;tv[WW+2]=bT}else{tv[WW]=Math.abs(tv[4*g]-uc);tv[WW+1]=Math.abs(tv[4*g+1]-WQ);tv[WW+2]=Math.abs(tv[4*g+2]-bT)}}}if(h=="LnsF"){var y=R.rect.k,f=R.rect.$,ti=["Zm","Nkn","Nkn1","PnVs"].indexOf(d.Lns.v.Lns),hC=d.FlrC.v,hr=[Math.min(ti,2),d.Brgh.v/100,hC.Hrzn.v,hC.Vrtc.v],w=Date.now();
z.zpE(R.buffer,y,f,W.buffer,hr)}if(h=="Blr "||h=="BlrM"||h=="Shrp"||h=="ShrM"){var y=R.rect.k,f=R.rect.$,kU;
if(h=="Blr ")kU=[1,2,1,2,16,2,1,2,1];else if(h=="BlrM")kU=[1,2,1,2,4,2,1,2,1];else if(h=="Shrp")kU=[0,-1,0,-1,8,-1,0,-1,0];
else kU=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];kU=z.ee.pi(kU);var ho=R.buffer.slice(0);z.VA(ho);z.ee.Jc(ho,W.buffer,y,f,kU,h=="Shrp"||h=="ShrM"?0:255);
if(h=="Shrp"||h=="ShrM")z.YQ(W.buffer);z.VQ(W.buffer)}if(h=="MtnB"){var bq=-d.Angl.v*Math.PI/180,ba=d.Dstn.v.val/2,w=Date.now(),y=R.rect.k,f=R.rect.$,H=R.rect.clone();
H.x=H.y=0;if(c.BG){var w=Date.now(),Wy=W.buffer;Wy.set(R.buffer);z.VA(Wy);var ts=c.GU(0,y,f);ts.set(Wy);
var bk=z.h(4);bk[0]=Math.round(128+127*Math.cos(bq));bk[1]=Math.round(128+127*Math.sin(bq));new Uint32Array(Wy.buffer).fill(new Uint32Array(bk.buffer)[0]);
var MJ=c.GU(1,y,f);MJ.set(Wy);c.Cq(ts,H);ts.Pj(H);c.filter.LA({type:c.filter.tH,Jp:MJ.zH,Qr:new Float32Array([1/y,1/f]),z_L:ba/2,zGJ:1},ts.An);
ts.get(Wy);z.VQ(Wy)}else{var zS=new um;zS.rotate(bq);var hP=s.w.GT([R.buffer,R.rect],zS,!1,null,!0);
u$.Hr(ba,z.blur.Yr,hP.buffer,hP.rect);zS.Gv();hP=s.w.GT([hP.buffer,hP.rect],zS,!1,W.buffer.buffer,!0,W.rect)}console.log(Date.now()-w)}if(h=="RdlB"){var y=R.rect.k,f=R.rect.$,WT=d.Amnt.v,tl=d.BlrM.v.BlrM=="Zm",tB=d.Cntr.v,bp=tB.Hrzn.v,W$=tB.Vrtc.v,uH=Math.max(bp,1-bp)*y,Wp=Math.max(W$,1-W$)*f,WK=Math.sqrt(uH*uH+Wp*Wp),bx=2*Math.PI*WK*1.5,kv=Math.round(bx),bz=Math.round(WK),uv=new A(0,0,kv,bz),zK=z.h(kv*bz*4),bF=tl?4:1,bb=tl?.6:8*((y+f)/2)/1400,hX=.1,z$=1,Mt=1;
z.S.Vw(R.buffer,y,f,zK,kv,bz,bp,W$,bF,hX,z$,Mt);var zs=tl?z.h(kv*bz*4):null;if(tl){z.S.i_(zK,zs,kv,bz);
var tM=zs;zs=zK;zK=tM;uv.k=bz;uv.$=kv}u$.Hr(bb*WT,z.blur.Yr,zK,uv);if(tl){z.S.i_(zK,zs,bz,kv);var tM=zs;
zs=zK;zK=tM;uv.k=kv;uv.$=bz}z.S.Vp(zK,kv,bz,W.buffer,y,f,bp,W$,bF,hX,z$,Mt)}if(h=="Plr "){var y=R.rect.k,f=R.rect.$;
if(d.Cnvr.v.Cnvr=="RctP")z.S.Vp(R.buffer,y,f,W.buffer,y,f,.5,.5,1,0,2,y/f);else z.S.Vw(R.buffer,y,f,W.buffer,y,f,.5,.5,1,0,2,y/f)}if(h=="FndE"){var y=R.rect.k,f=R.rect.$;
u$.zza(R.buffer,W.buffer,y,f)}if(h=="\0\0\x03\xFD"){var Wl=d.LghD.v*Math.PI/180,bE=[Math.cos(Wl),Math.sin(Wl),.001],bZ=[d.stylization.v,d.cleanliness.v,d.brushScale.v,d.microBrush.v,d.lightingOn.v,d.specularity.v,bE];
z.Rt.filter(R.buffer,R.rect,W.buffer,bZ)}if(h=="Ofst"){var y=R.rect.k,f=R.rect.$,Bt=new Uint32Array(R.buffer.buffer),zf=new Uint32Array(W.buffer.buffer),zm=d.Hrzn.v,ML=d.Vrtc.v,hV=d.Fl.v.FlMd;
z._M(zf,0);if(hV=="Bckg"||hV=="Rpt"){var uv=R.rect.clone();uv.offset(zm,ML);z.bt(Bt,uv,zf,W.rect)}if(hV=="Rpt"){var E,N,n,a,zv;
zm=Math.max(-y,Math.min(y,zm));ML=Math.max(-f,Math.min(f,ML));E=zm>0?zm:0;n=zm>0?y:y+zm;N=ML>0?0:ML+f;
a=ML>0?ML:f;zv=ML>0?0:y*(f-1);for(var zI=N;zI<a;zI++)for(var uG=E;uG<n;uG++)zf[zI*y+uG]=Bt[zv+uG-zm];
E=zm>0?0:y+zm;n=zm>0?zm:y;N=ML>0?ML:0;a=ML>0?f:f+ML;zv=zm>0?0:y-1;for(var zI=N;zI<a;zI++)for(var uG=E;
uG<n;uG++)zf[zI*y+uG]=Bt[zv+y*(zI-ML)];if(zm>=0&&ML>=0){E=0;n=zm;N=0;a=ML;zv=0}if(zm>=0&&ML<0){E=0;n=zm;
N=f+ML;a=f;zv=y*(f-1)}if(zm<0&&ML>=0){E=y+zm;n=y;N=0;a=ML;zv=y-1}if(zm<0&&ML<0){E=y+zm;n=y;N=f+ML;a=f;
zv=y*f-1}for(var zI=N;zI<a;zI++)for(var uG=E;uG<n;uG++)zf[zI*y+uG]=Bt[zv]}if(hV=="Wrp"){zm=(zm+100*y)%y;
ML=(ML+100*f)%f;var uv=new A(zm-y,ML-f,y,f);z.bt(Bt,uv,zf,W.rect);uv.offset(y,0);z.bt(Bt,uv,zf,W.rect);
uv.offset(0,f);z.bt(Bt,uv,zf,W.rect);uv.offset(-y,0);z.bt(Bt,uv,zf,W.rect)}}if(h=="Rept"){var bR=d.Rsft.v.val/100,hx=d.SpcX.v.val/100;
hx=Math.max(hx,-.99);var bX=d.SpcY.v.val/100;bX=Math.max(bX,-.99);var z$=d.Scl.v.val/100,zS=new um;zS.rotate(d.Angl.v*Math.PI/180);
zS.scale(z$,z$);var hM={buffer:R.buffer,rect:R.rect};z.Qw(hM);if(hM.rect.dp()){hM.buffer=R.buffer;hM.rect=R.rect}var tv=hM.buffer,uv=hM.rect,Br=z.qg(tv,uv,0),bj=new Uint32Array(tv.buffer)[0];
if(!Br.dp()&&!Br.PC(uv)){var Mu=z.h(Br.s()*4);z.bt(tv,uv,Mu,Br);tv=Mu;uv=Br}uv.x=uv.y=0;bj=hx==0&&bX==0||d.SpcC.v?bj:0;
function td(uG){return uG<0?Math.ceil(uG):Math.floor(uG)}var tk=zS.Ny(new kY(uv.k,0));tk.x=td(tk.x);
tk.y=td(tk.y);var Mg=zS.Ny(new kY(0,uv.$));Mg.x=td(Mg.x);Mg.y=td(Mg.y);var hP=s.w.GT([tv,uv],zS,!1),zi=hP.rect,bA=hP.buffer,bo=Math.round(zi.x),bv=Math.round(zi.y),hv=Math.max(W.rect.k,W.rect.$)/Math.min(uv.k*z$*(1+hx),uv.$*z$*(1+bX));
hv=Math.ceil(hv*1.7);z._M(W.buffer,bj);for(var zI=-hv;zI<hv;zI++){for(var uG=-hv;uG<hv;uG++){var bf=(uG+zI*bR)*(1+hx),bY=zI*(1+bX);
zi.x=bo+Math.round(bf*tk.x+bY*Mg.x);zi.y=bv+Math.round(bf*tk.y+bY*Mg.y);if(zi.Yf(W.rect))z.K.Uu("norm",bA,zi,W.buffer,W.rect,zi,1)}}}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr".split(",").indexOf(h)!=-1){var hw=M[0],y=R.rect.k,f=R.rect.$,WM,ha=0;
if(h=="LqFy")WM=bO.iN(new Uint8Array(d.LqMe.v).buffer);else{var Wf=h=="Dspl"?1:3;WM={Hl:Math.floor(y/Wf),om:Math.floor(f/Wf)};
WM.map=new Float32Array(WM.Hl*WM.om*2);if(h=="LnCr"){var bp=.5*(WM.Hl-1),W$=.5*(WM.om-1),bu=Math.max(Math.abs(0-bp),Math.abs(1-bp)),bm=Math.max(Math.abs(0-W$),Math.abs(1-W$)),bB=Math.sqrt(bu*bu+bm*bm),bK=0,Bb=0,BB=-1,Bq=2,z$=d.LnSi.v/100,tl=1/z$,bU=d.LnIa.v/100,bS=bU==0?1e-6:bU*4.6,bV=tl/bB;
for(var zI=0;zI<WM.om;zI++){for(var uG=0;uG<WM.Hl;uG++){var uH=(uG-bp)*bV,Wp=(zI-W$)*bV,uc=Math.sqrt(uH*uH+Wp*Wp)*bS,BE=Math.atan(uc),zl=bU>0?BE/uc:uc/BE,Mt=bp+bB*zl*uH,Bj=W$+bB*zl*Wp,g=zI*WM.Hl+uG<<1;
WM.map[g]=Mt-uG;WM.map[g+1]=Bj-zI}}}else if(h=="Dspl"&&hw.length!=0){ha=d.UndA.v.UndA=="WrpA"?2:1;var BP=d.DspF.v.pth,Bu;
for(var g=0;g<hw.length;g++)if(hw[g].uo==BP)Bu=hw[g];if(Bu==null)Bu=hw[0];Bu.DP();var BS=Bu.Im[1],Bw=z.h(BS.s());
z.sz(Bu.Im[0],Bw);var BD=BS.k,Bp=2*d.HrzS.v/Wf,B_=2*d.VrtS.v/Wf;for(var zI=0;zI<WM.om;zI++){for(var uG=0;
uG<WM.Hl;uG++){var bu=Math.floor(BS.k*uG/WM.Hl),bm=Math.floor(BS.$*zI/WM.om),uH=Wp=-.5+Bw[bm*BD+bu]/255,g=zI*WM.Hl+uG<<1;
WM.map[g]=uH*Bp;WM.map[g+1]=Wp*B_}}}else if(h=="Pnch"||h=="Twrl"||h=="Sphr"){var WT=1,bq=Math.PI,BG=0,tB=3,bd=1.53,zl=1;
if(h=="Pnch"||h=="Sphr")WT=d.Amnt.v/100;if(h=="Twrl")bq=d.Angl.v*Math.PI/180;if(h=="Sphr")BG=["Nrml","HrzO","VrtO"].indexOf(d.SphM.v.SphM);
function WV(uG){uG=Math.pow(uG,1-uG*.3-uG*uG*(uG*uG)*.5);return-.225*Math.sin(uG*Math.PI)}function Bm(f,BA,uc,E,N,n,a,zl){var uH=n-E,Wp=a-N,hp=E-f,qb=N-BA,h_=uH*uH+Wp*Wp,bT=2*(uH*hp+Wp*qb),tB=hp*hp+qb*qb-uc*uc,qB=Math.sqrt(bT*bT-4*h_*tB),qq=zl/(2*h_),qF=(-bT+qB)*qq,qd=(-bT-qB)*qq;
return zl*Math.min(qF,qd)}var hD=WM.Hl,hg=WM.om,Be=WM.Hl/2,uU=WM.om/2,BO=1/Be,uc=Math.sqrt(tB*tB+1)/tB,zA=tB+Math.sqrt(1/(tB*tB));
if(WT<0){tB=1.72;uc=1;zA=tB;bd=-1;zl=-1}for(var zI=0;zI<hg;zI++){var Wp=(zI-uU)/uU;for(var uG=0;uG<hD;
uG++){var uH=(uG-Be)*BO;if(BG==1)Wp=0;else if(BG==2)uH=0;var hc=Math.sqrt(uH*uH+Wp*Wp);if(hc<1&&hc!=0){var g=zI*WM.Hl+uG<<1;
if(h=="Pnch"){var BI=-WT*WV(hc)/hc;WM.map[g]=uH*BI*Be;WM.map[g+1]=Wp*BI*uU}else if(h=="Sphr"){var tM=Bm(0,zA,uc,0,0,hc,tB,zl),BQ=bd*WT*(tM-1);
WM.map[g]=uH*BQ*Be;WM.map[g+1]=Wp*BQ*uU}else if(h=="Twrl"){var Wl=Math.atan2(Wp,uH)-bq*(1-hc)*(1-hc),BK=Math.cos(Wl),BZ=Math.sin(Wl);
WM.map[g]=(hc*BK-uH)*Be;WM.map[g+1]=(hc*BZ-Wp)*uU}}}}}else if(h=="Shr "){var Bn=JSON.parse(JSON.stringify(d.ShrP.v));
z.LV.V(Bn,new um(0,255/127,255/127,0,-2,0));var BC=z.LV.tW(Bn,WM.om,!0);ha=d.UndA.v.UndA=="WrpA"?2:1;
for(var zI=0;zI<WM.om;zI++){var uH=-BC[zI]*WM.Hl;for(var uG=0;uG<WM.Hl;uG++){var g=zI*WM.Hl+uG<<1;WM.map[g]=uH}}}else if(h=="Wave"){var B$=d.NmbG.v,Bx=d.WLMn.v,BR=d.WLMx.v,BL=d.AmMn.v*(Math.PI/4),BJ=d.AmMx.v*(Math.PI/4),BT=d.SclH.v/100,BH=d.SclV.v/100,ti=d.Wvtp.v.Wvtp,BU=Math.sin;
if(ti=="WvTr")BU=function(uG){uG*=2/Math.PI;return-.5+Math.abs(uG%2-1)};if(ti=="WvSq")BU=function(uG){uG*=2/Math.PI;
return 1+2*Math.floor(uG%2-1)};var tu=[],Bh=new z.K.qL(d.RndS.v);for(var g=0;g<B$;g++){tu.push(Bh.get()*10);
tu.push(Math.PI*Wf/(Bx+Bh.get()*(BR-Bx)));tu.push(BT*(BL+Bh.get()*(BJ-BL))/Wf);tu.push(Bh.get()*10);
tu.push(Math.PI*Wf/(Bx+Bh.get()*(BR-Bx)));tu.push(BH*(BL+Bh.get()*(BJ-BL))/Wf)}var BX=[],By=[],Bf=Math.max(WM.Hl,WM.om);
for(var g=0;g<Bf;g++){var uH=0,Wp=0;for(var bh=0;bh<B$;bh++){var BF=bh*6;uH+=tu[BF+2]*BU(tu[BF]+g*tu[BF+1]);
Wp+=tu[BF+5]*BU(tu[BF+3]+g*tu[BF+4])}BX[g]=Wp;By[g]=uH}for(var zI=0;zI<WM.om;zI++){for(var uG=0;uG<WM.Hl;
uG++){var g=zI*WM.Hl+uG<<1;WM.map[g]=By[zI];WM.map[g+1]=BX[uG]}}ha=d.UndA.v.UndA=="WrpA"?2:1}else if(h=="Rple"){ha=1;
var WT=d.Amnt.v/100,Bc=4,Bv=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],Bl=1,BY=1,hp=0,qa=["Sml","Mdm","Lrg"].indexOf(d.RplS.v.RplS);
if(qa==0){Bl=1;BY=.2;hp=3}if(qa==2){Bl=1;BY=2;hp=-1;Bv=Bv.reverse()}var qz=function(uG,zI){var tB=Math.cos,ux=0;
for(var g=0;g<Bc;g++)for(var bh=0;bh<Bc;bh++)ux+=Bv[g*Bc+bh]*tB(uG*(g+hp)-zI*(bh+hp));return ux},Mf=Math.floor(50/Wf),qM=new Float32Array(Mf*Mf*2),qk=BY*WT*.5/Wf;
for(var zI=0;zI<Mf;zI++)for(var uG=0;uG<Mf;uG++){var bp=Bl*uG*2*Math.PI/Mf,W$=Bl*zI*2*Math.PI/Mf,qu=qz(bp,W$),uH=(qz(bp+.01,W$)-qu)*100,Wp=(qz(bp,W$+.01)-qu)*100,g=(zI*Mf+uG)*2;
qM[g]=uH*qk;qM[g+1]=Wp*qk}for(var zI=0;zI<WM.om;zI++)for(var uG=0;uG<WM.Hl;uG++){var BZ=zI%Mf,BK=uG%Mf,g=zI*WM.Hl+uG<<1,qW=BZ*Mf+BK<<1;
WM.map[g]=qM[qW];WM.map[g+1]=qM[qW+1]}}}z.e_.FL(R.buffer,W.buffer,y,f,null,WM.map,WM.Hl,WM.om,ha)}return W};
var tz={};tz.zWD="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");tz.DI="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
tz.DQ=["ScrC","ScrD","ScrL"];tz.DK=["SDRD","SDHz","SDLD","SDVt"];tz.Ff={PntD:"paintDaubs"};tz.names={PntD:"Paint Daubs",Spt:"Spatter",SprS:"Sprayed Strokes",BsRl:"Bas Relief",HlfS:"Halftone Pattern",GlwE:"Glowing Edges",StnG:"Stained Glass"};
tz.hx=function(h){var R;if(h=="PntD")R={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};
if(h=="Spt")R={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};if(h=="SprS")R={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(h=="BsRl")R={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};if(h=="HlfS")R={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};
if(h=="GlwE")R={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(h=="StnG")R={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
R.__name="Filter Gallery";R.classID="GEfc";R.GEfk={t:"enum",v:{GEft:h}};R.GELv={t:"bool",v:!0};return R};
tz.zI=function(h,R,d,L,$,W,M){h=d.GEfk.v.GEft;var x=R.rect.k,t=R.rect.$;if(h=="Spt"||h=="SprS"){var x=R.rect.k,t=R.rect.$,g,r=1,l=1;
g={Hl:Math.floor(x/l),om:Math.floor(t/l)};g.map=new Float32Array(g.Hl*g.om*2);var H=new z.K.qL(d.FlRs.v),y=new Float32Array(8192),f=d.SprR.v,b=f<20?.018*f:.36+(f-20)*.128;
if(h=="SprS"){b=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][f]}for(var K=0;
K<8192;K++)y[K]=(-1+2*H.get())*b*70;for(var Z=0;Z<t;Z++)for(var J=0;J<x;J++){var u=Z*x+J<<1;g.map[u]=y[u%7919];
g.map[u+1]=y[(u+1)%7919]}var C=g.map.slice(0),Q=h=="Spt"?d.Smth.v-1:1;if(h=="Spt"&&Q!=0){tz.zdS(g.map,C,x,t,Q);
tz.zdI(C,g.map,x,t,Q)}if(h=="SprS"){var i=d.StrL.v>>>1,j=i==0?2:1;tz.zdS(g.map,C,x,t,j);tz.zdI(C,g.map,x,t,j);
if(i!=0){var V=tz.DK.indexOf(d.SDir.v.StrD),E=[1,1,1,0][V],N=[-1,0,1,1][V],n=2*i+1,a=1/n;for(var Z=0;
Z<t;Z++)for(var J=0;J<x;J++){var u=Z*x+J<<1,I=0,q=0;for(var K=0;K<n;K++){var k=Math.max(0,Math.min(x-1,J-(i+K)*E)),F=Math.max(0,Math.min(t-1,Z-(i+K)*N)),o=F*x+k<<1;
I+=g.map[o];q+=g.map[o+1]}C[u]=I*a;C[u+1]=q*a}g.map=C}}z.e_.FL(R.buffer,W.buffer,x,t,null,g.map,g.Hl,g.om,r)}if(h=="BsRl"){var G=R.rect.s(),w=z.h(G),U=w.slice(0);
z.sz(R.buffer,w);var B=d.Dtl.v,D=d.Smth.v;if(B!=15){z.blur.yj(w,U,R.rect,Math.round((15-B)*.5));z.kW(U,w)}var P=2/x,v=2/t,O=(2+tz.DI.indexOf(d.LghD.v.LghD))*Math.PI*.25,I=Math.cos(O);
if(Math.abs(I)<.1)I=0;I=Math.sign(I);var q=Math.sin(O);if(Math.abs(q)<.1)q=0;q=Math.sign(q);var uk=1/(I*I+q*q);
for(var Z=0;Z<t;Z++)for(var J=0;J<x;J++){var K=Z*x+J,E=J==x-1?w[K]-w[K-1]:w[K+1]-w[K],N=Z==t-1?w[K]-w[K-x]:w[K+x]-w[K],ut=J*P-1,ua=Z*v-1,uu=E==0?ut:E*.4;
uu=Math.max(-1,Math.min(1,I*uu));var uW=N==0?ua:N*.4;uW=Math.max(-1,Math.min(1,q*uW));U[K]=128+127*(uu+uW)*uk}if(D!=1){z.blur.yj(U,w,R.rect,Math.round((D-1)*.5));
z.kW(w,U)}z.qS(U,W.buffer)}if(h=="PlsW__"){var G=R.rect.s(),w=z.h(G),U=w.slice(0);z.sz(R.buffer,w);var B=d.Dtl.v,D=d.Smth.v;
if(B!=15){z.blur.yj(w,U,R.rect,Math.round((15-B)*.5));z.kW(U,w)}for(var Z=0;Z<t;Z++)for(var J=0;J<x;
J++){var K=Z*x+J,E=J==x-1?w[K]-w[K-1]:w[K+1]-w[K],N=Z==t-1?w[K]-w[K-x]:w[K+x]-w[K],kV=E*E+N*N;U[K]=Math.max(0,255-kV*190)}var p=new Float32Array(G);
for(var K=0;K<G;K++)p[K]=U[K];if(D!=1){z.blur.JZ(p.slice(0),p,R.rect,Math.round((D-1)*.2))}for(var Z=0;
Z<t;Z++)for(var J=0;J<x;J++){var K=Z*x+J,_=K<<2,uB=p[K],ub=W.buffer[_],uq=W.buffer[_+1],uF=W.buffer[_+2],E=J==x-1?uB-p[K-1]:p[K+1]-uB,N=Z==t-1?uB-p[K-x]:p[K+x]-uB,ue=-1,up=1,ui=0,zd=E,uN=0,u_=1,za=N,uO=1;
E=ui*za-zd*u_;N=zd*uN-up*za;ue=up*u_-ui*uN;var uZ=1/Math.sqrt(E*E+N*N+ue*ue);E*=uZ;N*=uZ;ue*=uZ;var uj=J-x/2,uw=Z-t/2,tI=x*.3,uZ=1/Math.sqrt(uj*uj+uw*uw+tI*tI);
uj*=uZ;uw*=uZ;tI*=uZ;var ug=Math.max(0,uj*E+uw*N+tI*ue);if(ug>1)throw ug;var uC=ug*255;W.buffer[_]=uO*uC+(1-uO)*ub;
W.buffer[_+1]=uO*uC+(1-uO)*uq;W.buffer[_+2]=uO*uC+(1-uO)*uF}}if(h=="PntD"){var ux=d.Shrp.v*.4,zu=d.BrsT.v.BrsT,uL={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[zu],un=Math.round(d.Sz.v*.5);
z.ee.zP=uL[0];var us=z.ee.F_;u$.IA(R.buffer,W.buffer,x,t,un,us,[],0);var Wa=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
Wa=z.ee.pi(Wa);var Wt=W.buffer.slice(0);z.ee.Jc(Wt,W.buffer,x,t,Wa,0);for(var K=0;K<R.buffer.length;
K++){var uV=W.buffer[K]-Wt[K];W.buffer[K]=Math.max(0,Math.min(255,Wt[K]+ux*uV))}}if(h=="GlwE"){var zZ=W.buffer.slice(0);
z.ee.zP=.5;var us=z.ee.F_;u$.IA(R.buffer,zZ,x,t,d.Smth.v>>>1,us,[],0);u$.zza(zZ,W.buffer,x,t);z.kW(W.buffer,zZ);
z.Gv(zZ);z._M(zZ,4278190080,16777215);u$.IA(zZ,W.buffer,x,t,d.EdgW.v>>>1,z.ee.Fj,[],0);var uO=d.EdgB.v/10;
for(var K=0;K<zZ.length;K++){if((K&3)==3)continue;var uU=W.buffer[K];W.buffer[K]=Math.max(0,Math.min(255,uU*uO))}}if(h=="StnG"){var x=R.rect.k,t=R.rect.$;
z.IX.ze_(R.buffer,x,t,W.buffer,d.ClSz.v,[Math.round(L.H),Math.round(L.N),Math.round(L.W)],d.BrdT.v)}if(h=="HlfS"){var zI=d.HlSz.v,uG=zI*2+1,WW=d.Cntr.v,Wq=tz.DQ.indexOf(d.ScrT.v.ScrT),G=x*t,uH=G*4,Wp=z.h(G),tD=R.buffer,Me=0,zp=0;
for(var K=0;K<uH;K+=4)Wp[K>>>2]=~~(.5+(tD[K]+tD[K+1]+tD[K+2])*(1/3));var zF=Wp.slice(0);z.blur.YH(zF,Wp,R.rect,zI);
var zO=Math.PI/uG,Wr=new Float64Array(x),I=new Float64Array(x),z_=new Float64Array(2*x);for(var J=0;
J<x;J++){var Wz=(J-(x>>>1))*zO;Wr[J]=Wz*Wz;I[J]=Math.cos(Wz);var E=J<<1;z_[E]=Math.sin(E*(1/4.5));z_[E+1]=Math.sin((E+1)*(1/4.5))}for(var Z=0;
Z<t;Z++){var MB=(Z-(t>>>1))*zO,q=Math.cos(MB),Wj=MB*MB;for(var J=0;J<x;J++){var WA=q;if(Wq==0){var MA=.5+Math.sqrt(Wr[J]+Wj)*4.5;
WA=z_[~~MA]}else if(Wq==1){WA=I[J]*q}var K=Z*x+J,uC=Wp[K]*(.75+.25*WA),zi=tD[(K<<2)+3]*(1/255),MR=Math.max(0,Math.min(255,~~uC));
Me+=MR*zi,zp+=zi;Wp[K]=MR}}Me/=zp;var uv=128+1.26*(Me-128),uO=.08+.25*Math.abs((128-Me)/128),zM=1+uO*WW;
for(var K=0;K<G;K++){var uC=uv+(Wp[K]-uv)*zM;Wp[K]=Math.max(0,Math.min(255,~~uC))}if(WW>46)z.round(Wp);
z.qS(Wp,W.buffer)}for(var K=0;K<R.buffer.length;K+=4)W.buffer[K+3]=R.buffer[K+3]};tz.zqa=function(h){var R=[0,0,0,0,0,0,0,0,0,0,0,0,0],d=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][h];
for(var L=0;L<13;L++){var $=L-6;R[L]=1/(d*Math.sqrt(2*Math.PI))*Math.exp(-.5*($/d)*($/d))}return R};
tz.zdS=function(h,R,d,L,$){var W=tz.zqa($),M=6,x=13;for(var t=0;t<L;t++)for(var g=0;g<d;g++){var r=t*d+g<<1,l=0,H=0;
for(var y=0;y<x;y++){var f=g+y-M,b=f<0?0:f>=d?d-1:f,K=(t*d+b)*2,Z=W[y];l+=Z*h[K];H+=Z*h[K+1]}R[r]=l;
R[r+1]=H}};tz.zdI=function(h,R,d,L,$){var W=tz.zqa($),M=6,x=13;for(var t=0;t<L;t++)for(var g=0;g<d;g++){var r=t*d+g<<1,l=0,H=0;
for(var y=0;y<x;y++){var f=t+y-M,b=f<0?0:f>=L?L-1:f,K=(b*d+g)*2,Z=W[y];l+=Z*h[K];H+=Z*h[K+1]}R[r]=l;
R[r+1]=H}};function zP(){}zP.Aa=[2,5,5,7,4,4];zP.RS="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
zP.wc="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
zP.nw=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
zP.zd$=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
zP._d=function(h){if(h=="passThrough")return"pass";return zP.RS[zP.wc.indexOf(h)]};zP.IQ=function(h){if(h=="pass")return"passThrough";
return zP.wc[zP.RS.indexOf(h)]};zP.getName=function(h){return zP.nw[zP.RS.indexOf(h)]};function S(){this.rect=null;
this.Pg="norm";this.opacity=255;this.Dj=!1;this.CN=0;this.zU=0;this.cT=[];for(var h=0;h<10;h++)this.cT.push(0,0,255,255);
this.name=null;this.add={};this.buffer=null;this.NC=null;this.Tt=null;this.v=null;this.P$=null;this.zDw=30;
this.QL=S.AN();this.zDD=S.AN();this.zpP=S.AN();this.zpX=S.AN();this.GJ=0;this.iH=!1;this.De=null;this.Y=new S.DZ}S.AN=function(){var h=e.X("canvas");
h.width=h.height=30;return h.getContext("2d")};S.DZ=function(){this.rN=!0;this.bN=!0;this.Xp=z.h(0);
this.z_a=z.h(0);this.Uq=null;this.Fp={};this.z_t=null;this.Xm=null;this.zW=null;this.Qo=null;this.iM=null;
this.hO=null;this.$Y=null;this.qz=null;this.hg=null;this.zh=null;this.rS=null;this.XA=null;this.iP=!1};
S.DZ.prototype.zia=function(){this.rN=!1;this.bN=!1;this.Uq=null;this.iP=c.BG};S.DZ.prototype.zek=function(){uS.zFo(this.Fp);
this.Xp=z.h(0);this.z_a=z.h(0);if(this.Qo)this.Qo.delete();if(this.iM)this.iM.delete();this.Qo=null;
this.iM=null;var h=[this.hO,this.$Y,this.qz,this.hg,this.zh,this.rS];for(var R=0;R<6;R++)if(h[R]!=null&&h[R]instanceof c.Zb)h[R].delete();
this.hO=null;this.$Y=null;this.qz=null;this.hg=null;this.zh=null;this.rS=null};S.prototype.I=function(h){if(h==null)h=this.rect.clone();
if(this.Y.Uq==null)this.Y.Uq=h;else this.Y.Uq=this.Y.Uq.DM(h)};S.prototype.If=function(){return this.add.lsct==W_.ei||this.add.lsct==W_.Th};
S.prototype.ej=function(){var h=this.add;return h.SoCo!=null||h.GdFl!=null||h.PtFl!=null};S.prototype.zim=function(){var h=this.add.lmfx;
if(h==null)return;var R=["GrFl","patternFill"];for(var d=0;d<R.length;d++){var L=uz.EN[uz.order.indexOf(R[d])],$=h[L].v;
if($.length==0)continue;for(var W=0;W<$.length;W++){var M=$[W].v;if(M.enab.v&&(M.Algn==null||!M.Algn.v))this.Y.bN=!0}}};
S.prototype.zMO=function(){var h=this.v;if(this.ej())h=this.rc();if(!c.BG)return h.Qt();if(this.Y.iM==null||this.Y.rN||c.BG!=this.Y.iP){if(this.Y.iM)this.Y.iM.delete();
this.Y.iM=new c.mE(h.OG().k,h.OG().$);this.Y.iM.set(h.Qt())}return this.Y.iM};S.prototype.zMV=function(h){var R=this.rect,d=this.buffer;
if(!c.BG){var L=this.Dn(h,d,R);if(L){d=L.tP;R=L.rect}return d}if(this.Y.Uq!=null||c.BG!=this.Y.iP){var L=this.Dn(h,d,R);
if(L){d=L.tP;R=L.rect}var $=R;if(c.BG!=this.Y.iP||this.Y.Qo==null||this.Y.Qo.k!=$.k||this.Y.Qo.$!=$.$){if(this.Y.Qo)this.Y.Qo.delete();
this.Y.Qo=new c.Zb($.k,$.$);this.Y.Qo.set(d)}else{var W=this.Y.Uq.clone();W.offset(-R.x,-R.y);this.Y.Qo.set(d,W)}}return this.Y.Qo};
S.prototype.eM=function(){var h=this.v;if(this.ej())h=this.rc();return h!=null&&h.isEnabled&&(h.IZ()==0||h.IZ()!=0&&!h.rect.dp())};
S.prototype.Dn=function(h,R,d){if(this.lq()){var L=this.ez(h);if(L.v&&L.v.isEnabled&&(!L.v.rect.dp()||L.v.color==0)){var $=this.add.SoLd.filterFX.v;
L.v.wX=$.filterMaskDensity?$.filterMaskDensity.v:255;L.v.EI=$.filterMaskFeather?$.filterMaskFeather.v:0;
var W=L.buffer,M=L.v.AY(d);z.Gv(M);R=z.clone(R);z.K.jU(W,L.rect,R,d,M,d,0,d,1);return{tP:R,rect:d}}}};
S.prototype.zeh=function(){var h={r_:!1,rm:!1,XO:0,XI:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)h.rm=!0;
if(this.rc()&&this.rc().isEnabled)h.r_=!0;if(h.r_&&h.rm){h.XO=this.rc().rect.x-this.add.vmsk.rc().rect.x;
h.XI=this.rc().rect.y-this.add.vmsk.rc().rect.y}return h};S.prototype.eG=function(h){if(this.add.lsct==W_.Oz)return;
var R=this,d=this.rc()!=null&&this.rc().RT,L=this.add.vmsk!=null&&this.add.vmsk.RT,$=this.zeh(),W=JSON.stringify($)!=this.Y.z_t||$.r_&&d||$.rm&&L;
if(W){if($.rm){var M=this.add.vmsk.rc();if($.r_){this.v=this.rc().wq(M);this.Y.Xm=new kY(this.v.rect.x-this.rc().rect.x,this.v.rect.y-this.rc().rect.y)}else this.v=M}if(this.v)this.Y.rN=!0;
if(this.v)this.Y.zW=new kY(this.rect.x-this.v.rect.x,this.rect.y-this.v.rect.y);if($.r_)this.rc().RT=!1;
if($.rm)this.add.vmsk.RT=!1;this.I()}else{if($.r_&&$.rm){this.v.rect.x=this.rc().rect.x+this.Y.Xm.x;
this.v.rect.y=this.rc().rect.y+this.Y.Xm.y}}if(R.ej()){this.Hs(h)}if(R.Av()){var x;if(this.v)x=new kY(this.rect.x-this.v.rect.x,this.rect.y-this.v.rect.y);
if(this.v&&this.v.isEnabled&&(this.Y.zW==null||!x.PC(this.Y.zW))){this.Y.zW=x;this.I();this.Y.rN=!0}}if(uJ.get(R.add)!=null)this.Y.rN=!0;
this.Y.z_t=JSON.stringify($)};S.prototype.Hs=function(h){var R=this,d=R.add.vstk,L,$=R.add.vmsk?this.add.vmsk.rc():null,x=!0;
if($&&$.isEnabled&&$.IZ()==0)L=$.OG().clone();else L=new A(0,0,h.k,h.$);var W=R.rc();if(W&&W.isEnabled&&W.IZ()==0)L=L.hc(R.v.OG());
var M=$&&d;if(d&&(!d.strokeEnabled.v||d.strokeStyleLineWidth.v.val==0))M=!1;if(d&&!d.fillEnabled.v&&M)x=!1;
var t=z.h(L.s()*4);if(x){if(R.add.SoCo)uS.xr(t,R.add.SoCo.Clr.v);if(R.add.GdFl)uS.Zv(R.add.GdFl,t,L,h,null,$&&$.color==0?$.rect:null);
if(R.add.PtFl)uS.fY(R.add.PtFl,t,L,h,R.add.fxrp)}if($){var g=$.wX;if(M)$.wX=255;var r=z.h(L.s());if($.IZ()!=0)z.set(r,Math.round($.IZ()));
if($&&$.isEnabled){var l=$.OG(),H=$.Qt();if(l.PC(L))z.kW(H,r);else z.mF(H,l,r,L)}if(R.add.SoCo&&x){z.Gn(r,t,3)}else z.eo(r,L,t,L);
if(M)$.wX=g}R.buffer=t;R.rect=L;if(M){var y=uz.ri.OJ.indexOf(d.strokeStyleLineAlignment.v.strokeStyleLineAlignment),f=d.strokeStyleContent.v,b=uz.ri.Wp.indexOf(f.classID),K=this.add.vmsk.rc(d);
if(R.rect.PC(new A(0,0,h.k,h.$)))R.rect=R.rect;else if(y!=0){var Z=R.rect.DM(K.OG()),J=z.h(Z.s()*4);
z.bt(R.buffer,R.rect,J,Z);R.buffer=J;R.rect=Z}var g=K.wX;K.wX=255;var u=K.AY(R.rect);K.wX=g;if(K.color==255)z.Gv(u);
var C=z.h(R.rect.s()*4);if(b==0)uS.xr(C,f.Clr.v);if(b==1)uS.Zv(f,C,R.rect,h,null,$.color==0?$.rect:null);
if(b==2)uS.fY(f,C,R.rect,h,R.add.fxrp);var Q=d.strokeStyleOpacity.v.val/100;if(Q!=1)z.QP(u,Q);z.Gn(u,C,3);
if(K.color==255)y=2-y;if(y==0){z.K.Uu("norm",C,R.rect,R.buffer,R.rect,R.rect,1);z.eo(r,R.rect,R.buffer,R.rect)}if(y==1){z.K.Uu("norm",C,R.rect,R.buffer,R.rect,R.rect,1)}if(y==2){z.Gv(r);
z.K.jU(C,R.rect,R.buffer,R.rect,r,L,255,R.rect,1,!1);z.Gv(r)}if(K.wX!=255){var i=z.clone(C);z._M(i,4278190080,16777215);
z.K.Uu("norm",i,R.rect,R.buffer,R.rect,R.rect,1-K.wX/255)}g=$.wX;$.wX=255;this.z_a=$.AY(R.rect);$.wX=g}this.I()};
S.prototype.eb=function(h,R){var d=this,L=d.add.SoLd.Idnt.v,$=d.add.SoLd,W=h.st(L,$.Crop?$.Crop.v:null);
if(W==null)return;var M=W.Im;$.Sz.v.Wdth.v=M[1].k;$.Sz.v.Hght.v=M[1].$;var x=$.warp.v,t=s.w.vD($.nonAffineTransform),g=z.S.wy(t,M[1]);
if(x&&!z.Mp.Lp(x)){var r=z.G.oY(z.Mp.Qs(x)),l=r.x,H=r.y,y=1/r.k,f=1/r.$;g=z.S.wy(t);g=z.S.wq(g,[y,0,-l*y,0,f,-H*f,0,0])}var b=s.w.mf(M,R?0:1,g,x);
if(b==null){d.buffer=z.h();d.rect=new A}else if(d.lq()){var K=d.ez(h);K.buffer=b.buffer;K.rect=b.rect.clone();
this.MF(h,R)}else{d.buffer=b.buffer;d.rect=b.rect}d.eG(h);d.I();h.I()};S.prototype.MF=function(h,R){if(R==null)R=!1;
var d=this.ez(h),L=this.add.SoLd.filterFX.v,$=u$.zET(L),W=new A(0,0,h.k,h.$),M=d.rect.DM(W),x=d.rect.clone();
x.si($.x,$.y);var t={buffer:null,rect:M.hc(x)};t.buffer=z.h(t.rect.s()*4);z.bt(d.buffer,d.rect,t.buffer,t.rect);
if(L.enab.v&&R==!1){var g=L.filterFXList.v;for(var r=0;r<g.length;r++){var l=g[r].v;if(l.enab.v==!1)continue;
var H=z.i.IZ(l.FrgC.v),y=z.i.IZ(l.BckC.v),f=T.$W(l.filterID.v),b=l.Fltr?l.Fltr.v:null;if(uJ.zK[f]!=null){var K=uJ.zK[f],Z=uJ.zA(K,b);
if(Z)uJ.zI(Z,t.buffer,t.buffer,t.rect)}else t=u$.zI(f,t,b,H,y,null,[h.add.lnk2?h.add.lnk2:[],this.rc(),h.Mk])}}this.rect=t.rect;
this.buffer=t.buffer;this.tn();this.I();h.I()};S.prototype.D$=function(h,R,d){this.De=this.zjZ(h,R,d)};
S.prototype.zEo=function(h,R){var d=this.zjZ(h,R,!0);if(d==null)return null;var L={kG:d.GJ,Ry:d.LC,rect:d.RH};
if(L.kG==1||L.kG==3){var $=L.rect,W=z.h($.k*$.$*4);z.Gn(L.Ry,W,0);z.Gn(L.Ry,W,1);z.Gn(L.Ry,W,2);z.YA(h.z.channel,h.z.rect,W,$);
L.Ry=W}return L};S.prototype.zjZ=function(h,R,d){var L,$,W,M,x,t,g;if(this.GJ<=0){var r=z.h(this.rect.s());
z.nP(this.buffer,r,3);L=z.QT.dn(R,{channel:r,rect:this.rect},"intersection");if(L==null)return null;
var l=z.Xb(L.channel,L.rect);M=L.rect.clone();x=this.rect.clone();$=z.h(M.s()*4);z.bt(this.buffer,x,$,M);
z.Gn(L.channel,$,3);W=z.clone(this.buffer);if(!d){var H=z.clone(R.channel);z.Gv(H);z.eo(H,R.rect,W,x)}t=z.clone(this.buffer);
g=this.rect.clone()}if(this.GJ==1||this.GJ==3){var y=this.GJ==1?this.rc():this.ez(h).v;M=R.rect.clone();
x=y.rect.clone();$=y.zAn(M);var W=z.clone(y.channel);if(!d)z.K.DC(y.color==255?z.q$(M.s()):z.uv(M.s()),M,W,x,R.channel,M,1);
t=z.clone(y.channel);g=y.rect.clone()}return{GJ:this.GJ,LC:$,RH:M,Re:W,BF:x,XQ:t,XK:g}};S.prototype.Dx=function(h,R){var d=this.De;
if(d.GJ==0){this.rect=d.XK;this.buffer=d.XQ;this.I()}if(d.GJ==1||d.GJ==3){var L=d.GJ==1?this.rc():this.ez(h).v;
L.channel=d.XQ;L.rect=d.XK;if(this.GJ==1){L.RT=!0;this.eG(h)}if(this.GJ==3)this.I()}this.De=R};S.prototype.Hf=function(h,R){if(this.GJ<=0&&R.rect.PC(this.rect)){var d=z.h(this.rect.s());
z.nP(this.buffer,d,3);if(z.PC(h.z.channel,d)){var L=this.rect,$=this.buffer;this.De={GJ:this.GJ,LC:$.slice(0),RH:L.clone(),Re:z.h(0),BF:new A,XQ:z.h(0),XK:new A};
return!0}}var W=this.De;if(W==null)return!1;if(W.GJ!=this.GJ)return!1;if(!R.rect.PC(W.RH))return!1;var M=W.BF.DM(W.RH);
if(W.GJ<=0){if(!M.PC(this.rect))return!1;var x=z.h(W.LC.length>>2);z.nP(W.LC,x,3);if(!z.PC(R.channel,x))return!1;
var t=z.h(M.k*M.$*4);z.bt(W.Re,W.BF,t,M);z.K.Uu("norm",W.LC,W.RH,t,M,M,1);return z.PC(t,this.buffer)}if(W.GJ==1||W.GJ==3){var g=W.GJ==1?this.rc():this.ez(h).v;
if(!M.PC(g.rect))return!1;var r=z.h(M.s());z.set(r,g.color);z.mF(W.Re,W.BF,r,M);z.K.DC(W.LC,W.RH,r,M,R.channel,M,1);
return z.PC(r,g.channel)}};S.prototype.IK=function(h,R,d,L){var $=this.De;$.RH.offset(R,d);var W=$.BF.DM($.RH);
if($.GJ<=0){var M=z.h(W.s()*4);z.bt($.Re,$.BF,M,W);z.K.Uu("norm",$.LC,$.RH,M,W,W,1);this.buffer=M;this.rect=W;
this.I()}else{var x=this.GJ==1?this.rc():this.ez(h).v,t=z.h(W.s());z.set(t,x.color);z.mF($.Re,$.BF,t,W);
z.K.DC($.LC,$.RH,t,W,L.channel,W,1);x.channel=t;x.rect=W.clone();if(this.GJ==1){x.RT=!0;this.eG(h)}if(this.GJ==3)this.I()}};
S.prototype.zPG=function(){var h=[-1,0,1,2];if(this.v)h.push(-2);if(this.P$)h.push(-3);return h};S.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
S.prototype.AI=function(h){this.add.luni=this.name=h};S.prototype.DR=function(h){var R=this.add.lnsr,d=this.add.TySh;
if(R=="rend"&&d)this.AI(uM.Yk(d.h_).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))};S.prototype.rl=function(){return(this.CN&1<<1)==0};
S.prototype.Av=function(){return(this.CN&1<<4)==0};S.prototype.Br=function(){return(this.CN&1<<5)!=0};
S.prototype.zeq=function(){var h=this;if(h.add.lnsr!="bgnd"){h.add.lnsr="bgnd";h.AI("Background");h.add.lspf=1<<2}};
S.prototype.zeG=function(){var h=this;if(h.add.lnsr=="bgnd"){delete h.add.lnsr;h.AI("Layer 0");h.add.lspf=0}};
S.prototype.NG=function(h){var R=this.add.lspf;return R==null?!1:(R>>h&1)!=0};S.prototype.nr=function(h){if(h&&!this.rl())this.CN-=2;
if(!h&&this.rl())this.CN+=2};S.prototype.HV=function(){var h=this.add.lmfx;if(h==null)return!1;for(var R in h){if(R=="masterFXSwitch")continue;
if(R=="Scl")continue;if(R=="classID")continue;if(h[R].v.length>0)return!0}return!1};S.prototype.lq=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
S.prototype.tL=function(){var h=this.add.lmfx;if(h==null)return!1;if(!h.masterFXSwitch.v)return!1;for(var R in h){if(R=="masterFXSwitch")continue;
if(R=="Scl")continue;if(R=="classID")continue;var d=h[R].v;for(var L=0;L<d.length;L++)if(d[L].v.enab.v)return!0}return!1};
S.prototype.Ay=function(h,R,d,L){var $=new A,W=this.UN(h,d,L);if(W.indexOf(0)!=-1)$=$.DM(this.rect);
if(W.indexOf(1)!=-1)$=$.DM(this.rc().OG());if(W.indexOf(2)!=-1){var M=this.add.vmsk,x;if(R){if(M.ih.length>1){var t=z.t.Uc(M.r,null,M.ih);
x=z.G.oY(t)}else x=z.t.wZ(M.r,M.f.length!=0?M.f:null)}else x=z.t.wZ(M.r);$=$.DM(x)}if(W.indexOf(3)!=-1)$=$.DM(this.ez(h).v.OG());
if(W.length==0&&this.ej())$=new A(0,0,h.k,h.$);return $};S.prototype.Al=function(){var h=this.add.artb.artboardRect.v,R=h.Btom.v,d=h.Left.v,L=h.Rght.v,top=h.Top.v;
return new A(d,top,L-d,R-top)};S.prototype.zV=function(h){var R=S.zSZ(h);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=R};S.zSZ=function(h){var R={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
R.Btom.v=h.y+h.$;R.Left.v=h.x;R.Rght.v=h.x+h.k;R.Top.v=h.y;return R};S.prototype.UN=function(h,R,d){var L=[],$=this,W=this.iH;
if(!R&&$.iH&&d){L.push(2)}else if($.GJ<=0||R){if($.Av())if(!this.rect.dp())L.push(0);if($.rc()&&!$.rc().rect.dp())if($.rc()._q||R)L.push(1);
if($.add.vmsk)if($.add.vmsk._q||R)L.push(2);if($.lq()&&$.ez(h).v&&!$.ez(h).v.rect.dp())L.push(3)}else if($.GJ==1){L.push(1);
if($.rc()._q&&!$.rc().rect.dp()){if($.Av())if(!this.rect.dp())L.push(0);if($.add.vmsk)if($.add.vmsk._q)L.push(2)}}else if($.GJ==3&&!$.ez(h).v.rect.dp())L.push(3);
if($.add.artb&&L.indexOf(0)==-1)L.push(0);L.sort();return L};S.prototype.rc=function(){var h=this;return h.P$?h.P$:h.add.vmsk&&h.add.vmsk.isEnabled?null:h.v};
S.prototype.ez=function(h){var R=this.add.SoLd.placed.v,d=h.add.FEid;if(d==null)return null;for(var L=0;
L<d.length;L++)if(d[L].id==R)return d[L];return null};S.prototype.extend=function(h){z.zFk(this,h)};
S.prototype.ztL=function(h,R){var d=h.clone();if(this.tL()){var L=this.add.lmfx,$=R.root.UZ(R._.indexOf(this)),W=L.gradientFillMulti.v,M=!1;
for(var x=0;x<W.length;x++)if(W[x].v.enab.v&&W[x].v.Algn.v)M=!0;if(M)d=d.DM($.OG(R,!1));var t=uS.zjm(this,R);
d.offset(t.x,t.y);d.k+=t.k;d.$+=t.$}return d};S.prototype.tn=function(){if(this.Av())z.Qw(this);var h=this.rc();
if(h)h.tn()};S.prototype.clone=function(){var h=new S;h.rect=this.rect.clone();h.buffer=z.clone(this.buffer);
h.Pg=this.Pg;h.opacity=this.opacity;h.Dj=this.Dj;h.CN=this.CN;h.name=this.name;h.cT=this.cT.slice(0);
if(this.v)h.v=this.v.clone();if(this.P$)h.P$=this.P$.clone();for(var R in this.add)h.add[R]=ty.clone(R,this.add[R]);
return h};S.prototype.zMm=function(h){var R=this;if(R.add.TySh)delete R.add.TySh;if(R.add.SoLd){var d=this.Dn(h,this.buffer,this.rect);
if(d){this.buffer=d.tP;this.rect=d.rect;this.I()}delete R.add.SoLd}if(R.add.SoCo||R.add.GdFl||R.add.PtFl){if(R.add.vogk)delete R.add.vogk;
if(R.add.SoCo)delete R.add.SoCo;if(R.add.GdFl)delete R.add.GdFl;if(R.add.PtFl)delete R.add.PtFl;if(R.add.vmsk){console.log(R.P$,R.v);
delete R.add.vmsk;if(R.P$==null&&R.v)delete R.v;else if(R.P$!=null&&R.v!=null){R.v=R.P$;delete R.P$}}}if(!R.If()&&uJ.get(R.add)==null&&!this.Av())this.CN-=16};
S.prototype.zhw=function(h){var R=255,d=0;if(h==2){var L=this.add.SoLd.filterFX.v;if(L.filterMaskDensity)R=L.filterMaskDensity.v;
if(L.filterMaskFeather)d=L.filterMaskFeather.v}else{var $=h==0?this.rc():this.add.vmsk;R=$.wX;d=$.EI}return{rz:h,zQ:R,zc:d}};
S.prototype.zqf=function(h){if(h.rz==2){var R=this.add.SoLd.filterFX.v;if(h.zQ==255)delete R.filterMaskDensity;
else R.filterMaskDensity={t:"long",v:h.zQ};if(h.zc==0)delete R.filterMaskFeather;else R.filterMaskFeather={t:"doub",v:h.zc};
this.I()}else{var d=h.rz==0?this.rc():this.add.vmsk;d.wX=h.zQ;d.EI=h.zc;d.RT=!0}};S.prototype.kd=function(){var h=this,R=h.add.vmsk;
if(R==null)return;h.add.vogk=S.kd(R.r)};S.kd=function(h){var R=[],d=z.t.iG(h);for(var L=0;L<d;L++)R.push(z.qK.uv());
return R};var W_={DL:0,ei:1,Th:2,Oz:3};S.x_=function(){this.name="Mask";this.Ar=!1;this.lo={H:255,N:0,W:0};
this.Nv=50;this.cP=0;this.color=255;this._q=!0;this.isEnabled=!0;this.hn=!1;this.wX=255;this.EI=0;this.rect=new A;
this.channel=z.h(0);this.zPy=null;this.zPf=null;this.RT=!0};S.x_.prototype.wq=function(h){if(!this.isEnabled)return h;
var R=new S.x_;R.color=Math.round(this.IZ()*h.IZ()/255);if(this.IZ()==0&&h.IZ()==0)R.rect=this.OG().hc(h.OG());
else if(h.IZ()==0)R.rect=h.OG().clone();else if(this.IZ()==0)R.rect=this.OG().clone();else R.rect=this.OG().DM(h.OG());
R.channel=this.AY(R.rect);R.wX=255;R.EI=0;var d=h.AY(R.rect);z.zqJ(d,R.rect,R.channel,R.rect);return R};
S.x_.prototype.OG=function(){if(this.EI==0)return this.rect;var h=Math.ceil(this.EI*2.2),R=this.rect.clone();
R.si(h,h);return R};S.x_.prototype.Qt=function(){if(this.EI==0&&this.wX==255)return this.channel;if(this.EI==0){var h=z.clone(this.channel);
z.Gv(h);z.QP(h,this.wX/255);z.Gv(h);return h}var R=this.OG(),d=this.zAn(R),h=z.h(R.s());z.blur.yj(d,h,R,this.EI);
if(this.wX!=255){z.Gv(h);z.QP(h,this.wX/255);z.Gv(h)}return h};S.x_.prototype.IZ=function(){return Math.round(255-(255-this.color)*(this.wX/255))};
S.x_.prototype.extend=function(h){z.extend(this,h,this.color)};S.x_.prototype.tn=function(){if(this.color==255)z.Gv(this.channel);
z.tn(this);if(this.color==255)z.Gv(this.channel)};S.x_.prototype.clone=function(){var h=new S.x_;h.name=this.name;
h.Ar=this.Ar;h.lo=this.lo;h.Nv=this.Nv;h.cP=this.cP;h.color=this.color;h._q=this._q;h.isEnabled=this.isEnabled;
h.hn=this.hn;h.wX=this.wX;h.EI=this.EI;h.rect=this.rect.clone();h.channel=z.clone(this.channel);return h};
S.x_.prototype.zAn=function(h,R){if(R==null)R=z.h(h.s());z.set(R,this.color);z.mF(this.channel,this.rect,R,h);
return R};S.x_.prototype.AY=function(h,R){var d=this.OG(),L=this.Qt();if(R==null)R=z.h(h.s());z.set(R,this.IZ());
z.mF(L,d,R,h);return R};S.EF=function(){this._q=!0;this.isEnabled=!0;this.wX=255;this.EI=0;this.r=[{type:6},{type:8,all:0}];
this.nD=[-3,-3];this.qv=!1;this.P$=null;this.RT=!0;this.f=[];this.ih=[]};S.EF.prototype.offset=function(h,R){this.P$=this.rc();
z.t._B(this.r,new um(1,0,0,1,h,R));this.P$.rect.offset(h,R)};S.EF.prototype.rc=function(h){if(!this.RT&&this.P$&&h==null){this.P$.isEnabled=this.isEnabled;
return this.P$}var R=z.t.wZ(this.r);if(R.s()>3e4*3e4)R=new A(0,0,100,100);if(h){var d=Math.ceil(h.strokeStyleLineWidth.v.val);
R.si(d,d)}R=z.G.Hv(R);var L=new S.x_;L.color=z.t.tT(this.r)?0:255;L._q=this._q;L.isEnabled=this.isEnabled;
L.hn=!0;L.rect=R;L.wX=this.wX;L.EI=this.EI;L.channel=z.h(L.rect.s());if(!R.dp())z.t.znW(this.r,L.channel,L.rect,h);
if(h==null){this.P$=L;this.RT=!1}return L};S.EF.prototype.clone=function(){var h=new S.EF;h._q=this._q;
h.isEnabled=this.isEnabled;h.wX=this.wX;h.EI=this.EI;h.r=S.EF.MK(this.r);h.nD=this.nD.slice(0);h.qv=this.qv;
h.f=this.f.slice(0);h.ih=this.ih.slice(0);return h};S.EF.prototype.concat=function(h){var R=h.r.slice(2);
if(R.length==0)return;R[0].uH=3;this.r=this.r.concat(R)};S.EF.MK=function(h){var R=[];for(var d=0;d<h.length;
d++){var L=h[d];if(L.type>5||L.type==0||L.type==3)R.push(JSON.parse(JSON.stringify(L)));else R.push({type:L.type,MW:L.MW.clone(),O:L.O.clone(),dD:L.dD.clone()})}return R};
S.EF.zem=function(h,R,d){if(h.length!=R.length)return!1;for(var L=2;L<h.length;L++){var $=h[L],W=R[L];
if($.type!=W.type)return!1;if($.type==0||$.type==3){if($.length!=W.length||!d&&$.uH!=W.uH)return!1}else if(!$.MW.PC(W.MW)||!$.O.PC(W.O)||!$.dD.PC(W.dD))return!1}return!0};
S.EF.prototype.zeR=function(){var h=this.r;for(var R=3;R<h.length;R++)if(h[R].type==0||h[R].type==3)h[R].uH=-1};
S.Bs=function(){this.type=null;this.NK=2;this.uo=null;this.qZ="";this.sS="";this.JA="";this.open=0;this.raw=null;
this.Im=null};S.Bs.prototype.clone=function(){var h=new S.Bs;h.type=this.type;h.NK=this.NK;h.uo=this.uo;
h.qZ=this.qZ;h.sS=this.sS;h.JA=this.JA;h.open=this.open;h.raw=new Uint8Array(this.raw.buffer.slice(0));
return h};S.Bs.prototype.DP=function(h){var R=this;if(R.Im)return;var d=ud.qe(R.raw.buffer);if(d!="svg"&&d!="pdf")h=0;
if(d==null){alert("Unsupported format: "+T.UK(R.raw,0,4));return null}var L=ud.It(d);if(L.CK){var $=new zG(name+(d=="psd"?"":"-"+d)+".psd");
L.CA(R.raw.buffer,$);for(var W=0;W<$._.length;W++)if($._[W].ej())$._[W].eG($);$.Ov();$.I();$.UL();R.Im=[$.DP(),new A(0,0,$.k,$.$)]}else if(L){var M=L.CA(R.raw.buffer)[0];
R.Im=[new Uint8Array(M.data),M.FK]}if(R.Im){if(h==1){var x=R.Im[0],t=R.Im[1],g=z.h(t.s());z.nP(x,g,3);
var r=z.Xb(g,t),l=z.h(r.s()*4);z.bt(x,t,l,r);R.Im=[l,r]}z.Qd(R.Im)}};S.OP="0";S.Ot="2";S.QW="2.5";S.zzZ="3";
S.BX="4";S.zhO="5";S.DJ="5.5";S.zqq="6";S.DU="7";S.zqT="7.5";S.tN="8";S.Bc="9";S.qk="9.3";S.Ds="9.5";
S.zqy="9.6";S.tg="10";S.QF="11";S.qh="12";S.Qe="13";S.US="13.5";S.DX="13.7";S.Qi="14";S.UC="14.5";S.ed="15";
S.tR="16";S.qP="17";S.UJ="18";S.zFi="19";S.Uy="19.5";S.to="19.6";S.UY="19.7";S.MP="20";S.MN="21";S.QD="21.5";
S.q_="22";S.ra="22.5";S.OF="23";S.zZH="24";S.MG="25";S.zFc="26";S.zdg="27";S.qr="28";S.qs="29";S.qX="30";
S.Mn="31";S.O_="32";S.rB="33";S.qy="34";S.Fk="35";S.Qc="36";S.rq="36.5";S.FW="37";S.MO="37.5";S.zZU="37.6";
S.Kb="38";S.Fd="38.5";S.rP="38.6";S.mY="39";S.Kr="40";S.zEB="41";S.zSs="42";S.Fw="50";S.Fg="51";S.rD="52";
S.rG="53";S.Dy="54";S.zAX="54.5";S.znL="54.6";S.zMp="54.7";S.FC="54.8";S.Kl="55";S.OQ="56";S.M$="57";
S.rI="58";S.Df="59";function Wn(){this.depth=0;this.index=-1;this.J=null;this.zC_=null;this.XZ=-1;this.children=null;
this.parent=null;this.Xn=null}Wn.prototype.zeJ=function(){var h=0;if(this.J.If()){for(var R=0;R<this.children.length;
R++)h+=this.children[R].zeJ()}else if(this.J.buffer)h+=this.J.buffer.length;return h};Wn.prototype.UZ=function(h){var R=this.Xn[h];
return this.Xn[h]};Wn.prototype.zBo=function(h,R){var d=this.J;if(!d.rl()||d.NG(2)||d.NG(31))return null;
if(d.eM()){var L=d.v.rect.Yf(h);if(!L&&d.v.color==0)return}if(d.If()){for(var $=0;$<this.children.length;
$++){var W=this.children[$];W.zBo(h,R)}}else if(d.rect.Yf(h))R.push(this.index)};Wn.prototype.F$=function(h,R){var d=this.J;
if(!d.rl()||d.NG(2)||d.NG(31))return null;if(d.eM()){if(d.v.rect.hR(h)){if(!z.F$(h,d.v.channel,d.v.rect))return null}else if(d.v.color==0)return null}if(d.If()){for(var L=this.children.length-1;
L>=0;L--){var $=this.children[L],W=$.F$(h,R);if(W&&R==null)return W}return null}else if(d.add.TySh&&d.rect.hR(h)||z.zFA(h,d.buffer,d.rect)){if(R==null)return this;
else R.push(this.index)}return null};Wn.prototype.zeT=function(h){var R=this.J;if(!R.rl()||R.NG(2)||R.NG(31))return null;
var d=R.add.vmsk;if(d&&d.isEnabled){var L=z.t.F$(d.r,h).KW;if(L!=-1)return{zPl:this,zPY:L}}if(R.If()){for(var $=this.children.length-1;
$>=0;$--){var W=this.children[$],M=W.zeT(h);if(M)return M}return null}return null};Wn.prototype.zqg=function(h,R){h.push(this.index);
if(this.J.If()){h.push(this.XZ);if(R)if(this.J.GJ==1&&this.J.rc()._q==!1)return;for(var d=0;d<this.children.length;
d++)this.children[d].zqg(h)}};Wn.prototype.cv=function(h,R,d){var L=this.J,$,W;if(L.If()&&L.add.artb!=null)R=L.Al();
if(R.k>R.$){$=d;W=Math.floor(d*(R.$/R.k))}else{$=Math.floor(d*(R.k/R.$));W=d}if(L.ej()&&L.add.vmsk==null||L.add.TySh)$=W=Math.max(W,16);
var M=W,x=L.ej()&&L.add.vmsk;if(x){var t=L.rect.clone(),l,H;if(t.dp())t=new A(0,0,20,20);var g=t.k,r=t.$;
if(g>r){l=d;H=Math.floor(d*(r/g))}else{l=Math.floor(d*(g/r));H=d}if(l*H==0)l=H=16;z.Mz.tS(L.QL,l,H,t,L.buffer,L.rect,!1);
z.Mz.zQI(L.QL,l,H);M=H}else if(L.add.TySh){z.Mz.zQX(L.QL,M,M,L.add.TySh)}else if(L.add.SoCo){M=Math.max(16,Math.min($,W));
z.Mz.zQH(L.QL,M,M,L.add.SoCo)}else if(L.add.GdFl){z.Mz.zQY(L.QL,M,M,L.add.GdFl)}else if(L.add.PtFl){z.Mz.zKu(L.QL,M,M,L.add.PtFl,h)}else if(uJ.get(L.add)!=null){z.Mz.zQv(L.QL,M,M,L.add)}else if(L.add.SoLd){z.Mz.tS(L.QL,$,W,R,L.buffer,L.rect,!1);
z.Mz.zQ_(L.QL,$,W,L.add.SoLd)}else if(L.If()){M=16}else{if(L.Av())z.Mz.tS(L.QL,$,W,R,L.buffer,L.rect,!1);
else{z.Mz.zQc(L.QL,M,M)}}var y=L.rc();if(y)z.Mz.te(L.zDD,$,W,R,y);if(L.lq()&&L.ez(h)&&L.ez(h).v){var f=L.ez(h).v;
z.Mz.te(L.zpX,$,W,R,f)}if(!x&&L.add.vmsk){z.Mz.te(L.zpP,$,W,R,L.add.vmsk.rc(),!0)}if(L.add.vmsk||y)M=Math.max(M,W);
L.zDw=Math.max(M,16);if(L.If()&&L.add.lsct==W_.ei)for(var b=0;b<this.children.length;b++)this.children[b].cv(h,R,d)};
Wn.prototype.ziE=function(h,R,d,L){this.depth=d;var $=h[R];if(L==null)L=[];this.Xn=L;if($.add.lsct==W_.Oz){this.zC_=$;
this.XZ=R-1;this.children=[];var W=R+1;while(!0){var M=h[W];if(M==null)console.log(W,h.length);if(M.add.lsct==W_.ei||M.add.lsct==W_.Th){if($.add.lyid==M.add.lyid)$.add.lyid+=16777215;
this.J=M;this.index=W-1;L[this.index]=this;L[R-1]=this;break}var x=new Wn;x.parent=this;W=x.ziE(h,W,d+1,L);
this.children.push(x)}return W+1}else{this.J=$;this.index=R-1;L[this.index]=this;return R+1}};Wn.prototype.DV=function(h,R,d){var L=this.UZ(d),$=h;
while(L.parent!=null){$=L.J.ztL($,R);L=L.parent}return $};Wn.prototype.OG=function(h,R){var d=this.J,L=new A;
if(!d.rl())return L;var $=d.rc();if(d.If())for(var W=0;W<this.children.length;W++){var M=this.children[W].OG(h,!0);
L=L.DM(M)}else if(uJ.get(d.add)!=null)L=d.eM()&&d.v.color==0?d.v.OG().clone():new A(0,0,h.k,h.$);else if(d.ej()&&d.add.vmsk&&d.add.vmsk.isEnabled&&d.add.vstk){L=d.rect.clone()}else if(d.ej()&&$&&$.isEnabled&&$.IZ()!=0)L=new A(0,0,h.k,h.$);
else{L=d.Ay(h,!1,!0);if(d.add.vmsk)L=z.G.Hv(L)}return R?d.ztL(L,h):L};Wn.prototype.ziU=function(h,R,d,L,$){var W=this.J,M=uS.t_(W);
if(!W.rl())return;if(W.opacity==255){this.zmI(h,R,d,L,$);return}var x=z.clone(h);this.zmI(x,R,d,L,$);
z.K.jU(x,R,h,R,null,null,0,d,W.opacity/255,W.Pg=="diss")};Wn.prototype.zmI=function(h,R,d,L,$){var W=this.J,M=uS.t_(W),x=uJ.get(W.add)!=null,l,f;
if(W.If()&&W.Pg=="pass"&&!W.eM()&&!($.length>0||M.fill!=1||W.tL())){this.rn(h,R,d,L);return}var t=W.If()&&W.Pg=="pass"&&($.length>0||M.fill!=1||W.tL()),g=W.rect,r=W.buffer;
if(W.If()){g=this.OG(L,!1);var H=z.h(g.s()*4);l=z.h(g.s());this.rn(H,g,d,L);z.nP(H,l,3)}else if(x){g=R.clone();
l=z.h(g.s());z.set(l,255)}else{g=W.rect;l=z.h(g.s());z.nP(r,l,3)}if(W.eM()){var y=W.v.AY(g);z.QN(y,l)}if(W.tL())f=uS.pO(W.add.lmfx,W.add.fxrp,l,g,L);
if(W.tL())uS.zdY(W.add.lmfx,f,g,h,R,d);if(W.If()){r=z.h(g.s()*4);if(W.Pg=="pass")z.bt(h,R,r,g);if(t){var H=z.h(g.s()*4);
this.rn(H,g,d,L);var b=z.h(g.s());z.nP(H,b,3);z.eo(b,g,r,g)}this.rn(r,g,d,L)}if(x){r=z.clone(h);z._M(r,4278190080,16777215);
var K=uJ.get(W.add),Z=uJ.zA(K,W.add[K]);uJ.zI(Z,r,r,g)}var J=z.clone(r);z._M(J,4278190080,16777215);
for(var u=0;u<$.length;u++)$[u].ziU(J,g,d,L,[]);var C=z.h(g.s()*4);z.bt(h,R,C,g);if(x)M.QX=!0;z.K.Uu(W.Pg=="pass"?"norm":W.Pg,J,g,C,g,d,1,M);
if(W.tL()){var Q=W.Y.Fp.type.FrFX,i=null;if(Q.length!=0){i=Q[0];for(var u=0;u<Q.length;u++)if(Q[u].no.k>i.no.k)i=Q[u];
var j=z.h(i.no.k*i.no.$*4);z.bt(h,R,j,i.no)}uS.zdV(W.add.lmfx,f,g,h,R,d,C,j,i?i.no:null)}z.K.jU(C,g,h,R,l,g,0,d,1,W.Pg=="diss")};
Wn.prototype.rn=function(h,R,d,L){var $=this.children;for(var W=0;W<$.length;W++){var M=[];for(var x=W+1;
x<$.length;x++)if($[x].J.Dj)M.push($[x]);else break;$[W].ziU(h,R,d,L,M);W+=M.length}};Wn.tq={delete:function(h){if(h&&h.k)h.delete()},h:function(h,R){return c.BG?new c.Zb(h,R):z.h(h*R*4)},eS:function(h,R,d){if(c.BG){if(h==null||h.k!=R||h.$!=d){Wn.tq.delete(h);
return new c.Zb(R,d)}}else{if(h==null||!(h instanceof Uint8Array)||h.length!=R*d*4){Wn.tq.delete(h);
return z.h(R*d*4)}}return h},mF:function(h,R,d,L,$){(c.BG?c.qA:z.bt)(h,R,d,L,$)},jU:function(h,R,d,L,$,W,M,x,t,g){(c.BG?c.K.Cd:z.K.jU)(h,R,d,L,$,W,M,x,t,g)},Uu:function(h,R,d,L,$,W,M,x){if(c.BG)c.K.NP(h,R,d,L,$,W,M,x);
else z.K.Uu(h,R,d,L,$,W,M,x)},_M:function(h,R,d){if(c.BG){c.Cq(h);c.DW(R,d)}else z._M(h,R,d)},zeU:function(h,R,d,L,$){if(c.BG){c.K.Cd(null,null,L,$,h,R,d,$,1,!1)}else{if(d==255)z.eo(h,R,L,$);
else{var W=z.h(R.s());z.qm(L,$,W,R);z.QN(h,W);z._M(L,0,16777215);z.YA(W,R,L,$)}}},qO:function(h,R,d,L){if(c.BG)c.K.Cd(null,null,d,L,h,R,0,L,1,!1);
else z.qO(h,R,d,L)}};Wn.prototype.pu=function(h,R,d,L,$,W){var M=typeof W=="number";if(!this.J.If()&&(M&&this.index>W||!M&&W.indexOf(this.index)==-1)){return}var x=this.J,t=uS.t_(x),g=Wn.tq,r=x.ej()?x.rc():x.v;
if(!x.rl())return;if(x.eM()&&r.rect.dp()){return}if(x.add.vstk==null&&this.OG(L,!1).dp()&&x.add.artb==null){return}var l=this.OG(L,!0).hc(d);
if(!R.PC(d)&&!d.Yf(l)&&x.add.artb==null)return;if(x.If()&&x.add.artb){var H=x.Al(),f=0;d=d.hc(H);var y=x.add.artb.artboardBackgroundType.v;
if(y==1)f=4294967295;else if(y==2)f=4278190080;else if(y==3)f=0;else if(y==4){f=x.add.artb.Clr.v;f=255<<24|f.Bl.v<<16|f.Grn.v<<8|f.Rd.v}else throw y;
if(c.BG){c.Cq(h,d);c.DW(f)}else z.zbJ(h,R,d,f)}var b=Wn.zzN(x,$);if(!b){this.ztA(h,R,d,L,$,W);return}x.Y.hO=g.eS(x.Y.hO,l.k,l.$);
g.mF(h,R,x.Y.hO,l,d);this.ztA(x.Y.hO,l,d,L,$,W);g.jU(x.Y.hO,l,h,R,null,null,0,d,x.opacity/255,x.Pg=="diss")};
Wn.zzN=function(h,R){return h.opacity!=255&&(R.length!=0||h.If()||h.tL())};Wn.zeX={Y:{}};Wn.prototype.ztA=function(h,R,d,L,$,W){var M=this.J,x=uS.t_(M),t=uJ.get(M.add)!=null,g=Wn.tq,r=Wn.zzN(M,$),l=r?1:M.opacity/255,H=M.ej()?M.rc():M.v,y=M.If()&&M.Pg=="pass"&&!($.length>0||x.fill!=1||M.tL()),f=!M.If()&&!t&&!M.tL()&&$.length==0,b=t&&!M.tL()&&$.length==0,Q=null,i=null,j=null,n;
if(y||f||b){var K=h,Z=R;if(M.eM()){Z=this.OG(L,!1);K=M.Y.hg=g.eS(M.Y.hg,Z.k,Z.$);g.mF(h,R,M.Y.hg,Z)}if(y)this.pj(K,Z,d,L,W);
if(f)g.Uu(M.Pg,M.zMV(L),M.rect,K,Z,d,l,x);if(b){var J=M.eM()&&H.IZ()==0?H.OG().clone():Z.clone(),u=M.Y;
if(J.PC(new A(0,0,L.k,L.$)))u=Wn.zeX;u.qz=this.zMM(K,Z,u.qz,J,M.add);x.QX=!0;g.Uu(M.Pg,u.qz,J,K,Z,d,l,x)}if(M.eM())g.jU(K,Z,h,R,M.zMO(),H.OG(),H.IZ(),d,1,M.Pg=="diss");
M.Y.zia();return}var C=M.If()&&M.Pg=="pass"&&($.length>0||x.fill!=1||M.tL()),J=M.rect;if(M.If()){J=this.OG(L,!1);
j=M.Y.qz=g.eS(M.Y.qz,J.k,J.$);g._M(j,0);this.pj(j,J,J,L,W);i=g.eS(M.Y.$Y,J.k,J.$);g.mF(j,J,i,J)}else if(t){J=M.eM()&&H.IZ()==0?H.OG().clone():R.clone();
i=g.eS(M.Y.$Y,J.k,J.$);g._M(i,4294967295)}else{J=M.rect;Q=M.zMV(L);i=g.eS(M.Y.$Y,J.k,J.$);g.mF(Q,J,i,J)}M.Y.$Y=i;
if(M.eM())g.zeU(M.zMO(),H.OG(),H.IZ(),i,J);if(M.tL())if(M.Y.Uq||M.Y.bN||M.Y.iP!=c.BG||M.Y.rN||M.If()){var V=z.h(J.k*J.$);
if(c.BG){if(!M.If()&&M.rc()==null&&M.rect.PC(J))z.nP(M.buffer,V,3);else{var E=z.h(J.k*J.$*4);i.get(E);
z.nP(E,V,3)}}else z.nP(i,V,3);if(M.Y.bN||M.Y.iP!=c.BG||!z.PC(V,M.Y.Xp)){var N=null;if(M.ej()&&M.add.vmsk&&M.add.vmsk.isEnabled&&M.add.vmsk.rc().color==0)N=M.add.vmsk.rc().rect;
uS.zjn(M.Y.Fp,V,J,M.add.lmfx,M.add.fxrp,L,N);M.Y.Xp=V}}if(M.tL())uS.zdY(M.add.lmfx,M.Y.Fp,J,h,R,d);if(M.If()){Q=g.eS(M.Y.hg,J.k,J.$);
g._M(Q,0);if(M.Pg=="pass")g.mF(h,R,Q,J);if(C)g.qO(j,J,Q,J);this.pj(Q,J,d,L,W);M.Y.hg=Q}if(t){Q=M.Y.hg=this.zMM(h,R,M.Y.hg,J,M.add)}if(M.If()||t)n=Q;
else{n=g.eS(M.Y.hg,J.k,J.$);g.mF(Q,J,n,J,d);M.Y.hg=n}g._M(n,4278190080,16777215);for(var a=0;a<$.length;
a++)$[a].pu(n,J,d,L,[],W);var I=M.Y.zh=g.eS(M.Y.zh,J.k,J.$);g.mF(h,R,I,J,d);if(t)x.QX=!0;g.Uu(M.Pg=="pass"?"norm":M.Pg,n,J,I,J,d,1,x);
if(M.tL()){var q=M.Y.Fp.type.FrFX,k=null;if(q.length!=0){k=q[0];for(var a=0;a<q.length;a++)if(q[a].no.k>k.no.k)k=q[a];
M.Y.rS=g.eS(M.Y.rS,k.no.k,k.no.$);g.mF(h,R,M.Y.rS,k.no,d);M.Y.XA=g.eS(M.Y.XA,k.no.k,k.no.$)}uS.zdV(M.add.lmfx,M.Y.Fp,J,h,R,d,I,M.Y.rS,M.Y.XA,k?k.no:null)}if(!c.BG){var F=z.h(J.s());
z.nP(i,F,3);i=F}g.jU(I,J,h,R,i,J,0,d,1,M.Pg=="diss");M.Y.zia()};Wn.prototype.zMM=function(h,R,d,L,$){var W=uJ.get($),M;
if(W)M=uJ.zA(W,$[W]);var x=Wn.tq;d=x.eS(d,L.k,L.$);if(!(c.BG&&R.PC(L)))x.mF(h,R,d,L);if(M){if(c.BG){var t=L.clone();
t.x=t.y=0;if(R.PC(L)){c.Cq(d,t);uJ.LA(M,h.zH,t)}else{c.Cq(d,L);d.Pj(L);uJ.LA(M,d.An,t)}}else uJ.zI(M,d,d,L)}return d};
Wn.prototype.pj=function(h,R,d,L,$){var W=this.children;for(var M=0;M<W.length;M++){var x=[];for(var t=M+1;
t<W.length;t++)if(W[t].J.Dj)x.push(W[t]);else break;W[M].pu(h,R,d,L,x,$);M+=x.length}};function zG(h){this.name=h;
this.NH=-1;this.nU=null;this.CO=null;this.Zk=null;this.nA=null;this.k=0;this.$=0;this._=[];this.gJ={};
this.add={};this.buffer=null;this.Su=4;this.cq=null;this.EY=72;this.zj={};this.f=[];this.Py=[[],[]];
this.tj=[];this.Cy=[];this.bs=[zG.Mv("Work Path")];this.Qg=[];this.NF=null;this.__={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.wJ=null;this.hX=!1;this.z_i=!1;this.Xi=!1;this.td=!1;this.Dw=!1;this.tf=!1;this.RL=!1;
this.lX=!1;this.HD=!1;this.Uq=null;this.XR=null;this.De={};this.z=null;this.Mk=[];this.rY=[];this.d={Uh:{},CI:[],zCm:[],$r:[],ph:[],Gw:null,Wa:null,Nq:null,g_:null,Ti:[],jc:[]};
this.history=[new zk([1,0],null)];this.mB=0;this.pd=0;this.F=new b$(this)}zG.prototype.ew=function(){var h=this.Mk,R=this.Mk.length;
if(R!=0&&h[R-1].name=="Quick Mask")return h[R-1]};zG.prototype.zBl=function(){var h=this.name;return h.slice(0,h.length-4).endsWith("-sketch")};
zG.prototype.FH=function(h){this.add.artd={classID:"null",Cnt:{t:"long",v:h},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}}};
zG.prototype.MJ=function(h){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(h)==-1)this.add.FEid.push(h)};
zG.prototype.pP=function(h){var R=this.add.FEid.indexOf(h);this.add.FEid.splice(R,1);if(this.add.FEid.length==0)delete this.add.FEid};
zG.prototype.I=function(h){if(h==null)h=new A(0,0,this.k,this.$);if(this.Uq==null)this.Uq=h;else this.Uq=this.Uq.DM(h)};
zG.prototype.zec=function(h){return this.Uq!=null};zG.prototype.rJ=function(h){var R=this._[h],d=this.root.UZ(h);
if(d==null)return!1;if(R.If()||d.parent.children.indexOf(d)==0)return!1;return!0};zG.zie=function(h){if(h.add.lnk2)for(var R=0;
R<h.add.lnk2.length;R++){var d=h.add.lnk2[R].uo;h.add.lnk2[R].uo=zG.jO()+d.slice(8);for(var L=0;L<h._.length;
L++){var $=h._[L].add.SoLd;if($&&$.Idnt.v==d)$.Idnt.v=h.add.lnk2[R].uo}}};zG.prototype.zFW=function(h,R,d){h.sort(function(H,y){return H-y});
var top=h[h.length-1],L=this._.slice(0),$=this.f.slice(0),W=[],M=[];for(var x=0;x<this._.length;x++){if(h.indexOf(x)!=-1)M.push(this._[x]);
else W.push(this._[x])}this.$Z(M);this.f=[];var t=this.root.OG(this,!0);if(R)t=t.hc(R);if(d)t=t.DM(d);
if(t.dp())t=new A(0,0,100,100);var g=new A(-t.x,-t.y,this.k,this.$),r=new Uint8Array(ud.PSD.Az(this,0,0,[!0,!1]));
this.$Z(L);this.f=$;var l=new zG(this._[top].getName());ud.PSD.CA(r.buffer,l);delete l.add.artd;l.Py=[[],[]];
l.tj=[];l.$Z(l._);zG.zie(l);s.hu.Wb(l,t);l.I();l.UL();l.DP();return[l,t,W,top]};zG.prototype.zdQ=function(h,R){var d=this.zFW(h),L=d[0],$=d[1],W=d[2],top=d[3],M=new Uint8Array(ud.PSD.Az(L));
if(R)W=this._.slice(0);var x=this.Mf(M,L.name,$.x,$.y);if(top==this._.length-1)W.push(x);else W.splice(R?top+1:top-h.length+1,0,x);
this.$Z(W);this.f=[W.indexOf(x)]};zG.jO=function(){var h="";for(var R=0;R<8;R++)h+=Math.floor(Math.random()*16).toString(16);
return h};zG.prototype.OZ=function(h){if(h==null)return;if(this.add.Patt==null)this.add.Patt=[];var R=this.add.Patt;
for(var d=0;d<R.length;d++)if(R[d].id==h.id)return;R.push(h)};zG.prototype.Mf=function(h,R,d,L,$){if(this.add.lnk2==null)this.add.lnk2=[];
var W=null,H=!1;for(var M=0;M<this.add.lnk2.length;M++)if(z.PC(h,this.add.lnk2[M].raw)){W=this.add.lnk2[M].uo;
break}if(W==null){var x=ud.qe(h.buffer);W=zG.jO()+"-d71c-11e5-b1ae-a548a96e5f9f";var t=new S.Bs;t.uo=W;
t.JA=x=="psd"?"8BIM":"    ";t.qZ=R+"."+x;t.sS=x=="psd"?"8BPB":"    ";t.open=0;t.raw=h;t.type="liFD";
t.NK=2;this.add.lnk2.push(t)}var g=this.st(W),r=zG.jO()+"-d71c-11e5-b1ae-a548a96e5f9f",l=this.mS();l.AI(R);
if(g!=null){var y=l.rect=g.Im[1].clone();l.rect.offset(d,L);var f=Math.max(y.k/this.k,y.$/this.$),H=$&&f>1.0001;
if(H){y.k=Math.round(y.k/f);y.$=Math.round(y.$/f);y.x=Math.round((this.k-y.k)/2);y.y=Math.round((this.$-y.$)/2)}l.buffer=z.h(l.rect.s()*4);
if(!H)z.kW(g.Im[0],l.buffer)}l.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:W},placed:{t:"TEXT",v:r},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:z.Mp.h(l.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:l.rect.k},Hght:{t:"doub",v:l.rect.$}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var b=z.G.ii(l.rect).B;l.add.SoLd.Trnf=s.w.Lt(b);l.add.SoLd.nonAffineTransform=s.w.Lt(b);if(H)l.eb(this,!1);
return l};zG.prototype.DP=function(h){if(h!=null){this.I();this.UL(h);var R=this.buffer;if(c.BG)this.wJ.get(R);
else R=R.slice(0);this.I();this.UL();return R}if(this.Uq){this.UL();this.Uq=null}if(c.BG&&this.XR){this.wJ.get(this.buffer);
this.XR=null;this.tf=!0}return this.buffer};zG.prototype.zEn=function(){for(var h=0;h<this._.length;
h++)this._[h].zim();this.I()};zG.prototype.zer=function(){for(var h=0;h<this._.length;h++)if(this._[h].add.lmfx)this._[h].Y.bN=!0};
zG.prototype.rr=function(){var h=this.gJ.r1044;if(h==null){h=this.gJ.r1044=new Uint8Array(4);var R=0;
for(var d=0;d<this._.length;d++)R=Math.max(R,this._[d].add.lyid);T.Dr(h,0,R)}var L=T.U(h,0);T.Dr(h,0,L+1);
return L+1};zG.prototype.wI=function(h,R){if(h==null)h=!0;var d=this;if(d.rY.length!=0)return!0;if(d.f.length!=1){if(h)alert(d.f.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.rs(h,R)};zG.prototype.rs=function(h,R){if(h==null)h=!0;if(R==null)R=!1;var d=this;
if(d.rY.length!=0)return!0;for(var L=0;L<d.f.length;L++){var $=d._[d.f[L]],W=R||$.GJ<=0;if($.add.lsct!=null&&$.add.lsct!=W_.DL&&$.GJ!=1){if(h)alert(uP.get([15,7,2]));
return!1}if(W&&!$.Av()){if(h)alert(uP.get([15,7,2]));return!1}if(W&&$.add.TySh){if(h)alert(uP.get([15,7,3]));
return!1}if(W&&$.add.SoLd){if(h)alert(uP.get([15,7,4]));return!1}if($.NG(1)||$.NG(31)){if(h)alert(uP.get([6,57,0]));
return!1}}return!0};zG.prototype.zmx=function(h){var R=this.root.UZ(h);if(R.parent)return R.J.rl()&&this.zmx(R.parent.index);
else return R.J.rl()};zG.prototype.zgs=function(h){var R=this.root.UZ(h);if(R==null)return null;var d=R.J;
if(d.add.artb)return d.Al();if(R.parent)return this.zgs(R.parent.index);return null};zG.prototype.zh$=function(){var h=this._[this.f[0]];
if(h.GJ<=0&&!h.rect.Yf(this.z.rect)){alert("Selected area is empty.");return!1}if(this.f.length==1&&this.z){var R=z.h(this.z.channel.length);
z.qm(h.buffer,h.rect,R,this.z.rect);z.QN(this.z.channel,R);if(z.QE(R,0)){alert("Selected area is empty.");
return!1}}return!0};zG.prototype.kt=function(){if(this.gJ["r"+1037]==null)this.ry(30);return T.Uw(this.gJ["r"+1037],0)};
zG.prototype.ry=function(h){if(this.gJ["r"+1037]==null)this.gJ["r"+1037]=new Uint8Array(4);if(T.Uw(this.gJ["r"+1037],0)==h)return;
T.LX(this.gJ["r"+1037],0,h);this.zer()};zG.prototype.FU=function(){if(this.gJ["r"+1049]==null)this.rV(30);
return T.Uw(this.gJ["r"+1049],0)};zG.prototype.rV=function(h){if(this.gJ["r"+1049]==null)this.gJ["r"+1049]=new Uint8Array(4);
if(T.Uw(this.gJ["r"+1049],0)==h)return;T.LX(this.gJ["r"+1049],0,h);this.zer()};zG.prototype.On=function(h){if(this.add.lnk2==null)return null;
for(var R=0;R<this.add.lnk2.length;R++)if(this.add.lnk2[R].uo==h)return this.add.lnk2[R];return null};
zG.prototype.ziN=function(h){var R=this.On(h);if(R==null)return!1;var d=ud.qe(R.raw.buffer);if(d==null)return!1;
if(ud.It(d)!=null||d=="psd")return!0;return!1};zG.prototype.st=function(h,R){var d=this.On(h);if(d==null)return null;
d.DP(R);if(d.Im)return d};zG.prototype.UL=function(h){if(h==null)h=1e9;var R=this.k,d=this.$,L=new A(0,0,R,d),$=L.hc(this.Uq);
if(c.BG&&this.wJ==null)this.wJ=new c.Zb(R,d,!0);if(this.buffer==null||this.buffer.length!=R*d*4||c.BG&&(this.wJ.k!=R||this.wJ.$!=d)){this.buffer=z.h(R*d*4);
if(this.wJ)this.wJ.delete();if(c.BG)this.wJ=new c.Zb(R,d,!0)}if($.dp())return;if(!$.PC(L)){if(!c.BG){var W=z.uv($.s()*4);
z.bt(W,$,this.buffer,L)}if(c.BG){c.Cq(this.wJ,$);c.DW(0)}}else{if(c.BG){this.wJ.set(null)}else{z.set(this.buffer,0)}}var M=Date.now(),x=c.BG?this.wJ:this.buffer;
this.root.pu(x,L,$,this,[],h);this.XR=this.Uq.clone()};zG.prototype.mS=function(h){var R=new S;R.rect=new A(0,0,0,0);
R.buffer=z.h(1);R.add.luni=new kY(0,0);if(h!=!0)R.add.lyid=this.rr();R.add.lsct=W_.DL;R.add.lclr=0;R.add.fxrp=new kY(0,0);
return R};zG.prototype.Hb=function(h){var R=this.mS(h);R.AI("</Layer group>");R.add.lsct=W_.Oz;R.CN=24;
return R};zG.prototype.sI=function(){return this.mB!=this.pd};zG.prototype.FD=function(h){while(this.history.length>this.mB+1)this.history.pop();
if(this.pd>this.mB)this.pd=-1;if(h.L.id!=s.RR){this.Xi=!0;if(this.__.lastAppliedComp){delete this.__.lastAppliedComp;
this.RL=!0}}this.history.push(h);this.mB++;this.tf=!0;var R=uI.pp()?60:30,d=0;for(var L=this.history.length-1;
L>=0;L--){var $=this.history[L];if($.XS)continue;d++;if(d==R){this.mB-=L;this.history=this.history.slice(L);
break}}};zG.prototype.jL=function(){if(this.mB!=this.history.length-1)return null;return this.history[this.history.length-1]};
zG.prototype.HP=function(h,R,d,L){if(h==null)h=!1;var $=R!=null?[R]:this.f.slice(0);if(L){var W=[];for(var M=0;
M<$.length;M++){var x=this._[$[M]].zU;if(x!=0&&W.indexOf(x)==-1)W.push(x)}for(var M=0;M<this._.length;
M++){var x=this._[M].zU;if(x!=0&&W.indexOf(x)!=-1&&$.indexOf(M)==-1)$.push(M)}}var t=[];for(var M=0;
M<$.length;M++){var g=this.Fy($[M],h);for(var r=0;r<g.length;r++)if(t.indexOf(g[r])==-1)t.push(g[r]);
if(d){var l=this.root.UZ($[M]);while(l.parent!=null&&l.parent.parent!=null){l=l.parent;if(t.indexOf(l.index)==-1){t.push(l.index,l.XZ)}}}}return t};
zG.prototype.Fr=function(h,R,d){var L=this,$=L.HP(!1,h,null,d);$.sort(function(J,u){return J-u});var W={};
for(var M=0;M<L._.length;M++){var x=L._[M].getName();W[x]=!0}var t=[];for(var g=0;g<$.length;g++){var r=L._[$[g]].clone(),K,Z;
r.add.lyid=L.rr();r.add.lspf=0;if(r.lq()){var l=r.ez(L),H=zG.zFf(l);L.MJ(H);r.add.SoLd.placed.v=H.id}r.eG(L);
var y=r.getName(),f=y.length;while(48<=y.charCodeAt(f-1)&&y.charCodeAt(f-1)<=57)f--;var b=parseInt(y.slice(f));
if(isNaN(b)){if(y.endsWith(" copy")){b=1;K=y.slice(0,y.length-5)}else{b=0;K=y}}else if(y.slice(0,f).endsWith(" copy ")){b=b;
K=y.slice(0,f-6)}else{b=0;K=y}b++;while(!0){Z=K+" copy"+(b==1?"":" "+b);if(W[Z]==null)break;b++}if(y=="Background"&&W["Layer 1"]==null)Z="Layer 1";
if(R!=!0)r.AI(Z);W[Z]=!0;t.push(r)}return t};zG.zFf=function(h){return{id:zG.jO()+h.id.slice(8),buffer:z.clone(h.buffer),rect:h.rect.clone(),v:h.v?h.v.clone():null}};
zG.zwg=function(h){return{id:h,rect:new A,buffer:z.h(1),v:new S.x_}};zG.Mv=function(h,R){if(R==null)R={vmsk:new S.EF};
if(R.vogk==null){R.vogk=[];var d=z.t.iG(R.vmsk.r);for(var L=0;L<d;L++)R.vogk.push(z.qK.uv())}return{name:h,KW:0,add:R}};
zG.prototype.lH=function(h){var R=[],d=[],L=this,M=0;for(var $=1;$<L.bs.length;$++){var W=L.bs[$];W.KW=-1-$;
R.push(W);if(L.Qg.indexOf($)!=-1)d.push(R.length-1)}if(L.bs[0].add.vmsk.r.length>2){var W=L.bs[0];W.KW=-1;
R.push(W);if(L.Qg.indexOf(0)!=-1)d.push(R.length-1)}var x=L.NF==null;if(x)L.NF=[];for(var $=L.f.length-1;
$>=0;$--){var t=L._[L.f[$]],g=t.add.TySh;if(t.add.vmsk!=null&&(t.iH||t.ej())){var W=zG.Mv("\""+t.getName()+"\" Shape Path",t.add);
W.KW=L.f[$];R.push(W);if(x)L.NF.push(M);if(L.NF.indexOf(M)!=-1)d.push(R.length-1);M++}if(h!=!0&&g&&g.add&&z.Mp.Lp(g.gf)){var W=zG.Mv("\""+t.getName().slice(0,10)+"..\" Text Path",g.add);
W.KW=1e6+L.f[$];R.push(W);d.push(R.length-1);M++}}if(d.length==0&&h){L.bs[0].KW=-1;L.Qg=[0];d.push(R.length);
R.push(L.bs[0])}return[R,d]};zG.prototype.Fy=function(h,R){var d=[],L=this.root.UZ(h);if(L)L.zqg(d,R);
return d};zG.prototype.s$=function(){this.root.cv(this,new A(0,0,this.k,this.$),32)};zG.prototype.$Z=function(h){for(var R=0;
R<this._.length;R++){var d=this._[R];if(h.indexOf(d)==-1){d.Y.zek();d.I()}}this._=h.slice(0);this.Ov()};
zG.prototype.Ov=function(){var h=this._,R=h.length;this.root=new Wn;var d=this.mS(!0);d.Pg="pass";d.add.lsct=W_.ei;
var L=this.Hb(!0),$=[L];for(var W=0;W<R;W++)$.push(h[W]);$.push(d);this.root.ziE($,0,0);if(this.f.length==0)this.f=[R-1]};
zG.prototype.pw=function(){if(this.f.length!=1)return;var h=this.root.UZ(this.f[0]);while(h.parent!=null){var R=h.parent.J;
R.add.lsct=W_.ei;h=h.parent}this.Dw=this.zNB=!0};zG.p_=function(h,R,d,L,$){var W={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:L},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:h}},Hght:{t:"UntF",v:{type:"#Rlt",val:R}},Rslt:{t:"UntF",v:{type:"#Rsl",val:d}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:$}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};
return{Mh:"make",QZ:W}};zG.zip=function(h,R){var d=0,L=0,$=72,W=R.z_I,M=h.preset&&h.preset.v=="Clipboard";
if(M){d=W.k;L=W.$}else{d=h.Wdth.v.val;L=h.Hght.v.val;$=h.Rslt.v.val}var x=new zG((h.Nm?h.Nm.v:uP.get([11,7]))+".psd");
x.k=d;x.$=L;x.EY=$;var t=x.mS();t.AI("Background");x.$Z([t]);t.add.lspf=1<<2;var g=h.Fl?h.Fl.v.Fl:"Wht";
if(g!="Trns"){var r=R._W;r=(r&255)<<16|(r>>>8&255)<<8|r>>>16;t.rect=new A(0,0,d,L);t.buffer=z.h(d*L*4);
z._M(t.buffer,{Wht:4294967295,BckC:255<<24|r}[g])}x.buffer=z.h(d*L*4);return x};function b$(h){this.C$=h;
this.P=0;this.T=new kY(0,0);this.ro=[1,1,1];this.C=new A(0,0,1,1);this.XL=new A(0,0,h.k,h.$);this.Ya=null;
this.Gu=null;this.xt=new Uint32Array(0);this.Lx=null;this.jJ=null;this.qd=z.h(0);this.ng=null;this.pE=null}b$.prototype.Px=function(h,R){var d=Math.round((this.C.k-this.C$.k*this.P)/2+this.T.x),L=Math.round((this.C.$-this.C$.$*this.P)/2+this.T.y),$=(h-d)/this.P,W=(R-L)/this.P;
return new kY($,W)};b$.prototype.Ia=function(h,R){var d=Math.round((this.C.k-this.C$.k*this.P)/2+this.T.x),L=Math.round((this.C.$-this.C$.$*this.P)/2+this.T.y),$=h*this.P+d,W=R*this.P+L;
return new kY($,W)};b$.prototype.ZL=function(){var h=this.C$,R=this.P,d=this.C.k,L=this.C.$,$=Math.floor(h.k*R),W=Math.floor(h.$*R);
if(R<.99){var M=z.YD(null,new A(0,0,h.k,h.$),R).rect;$=M.k;W=M.$}return new A(Math.round((d-$)/2+this.T.x),Math.round((L-W)/2+this.T.y),$,W)};
b$.prototype.sL=function(){var h=this.C$,R=this,d=1/R.P,L=this.ZL();return new A(Math.floor((R.C.x-L.x)*d),Math.floor((R.C.y-L.y)*d),Math.ceil(R.C.k*d)+1,Math.ceil(R.C.$*d)+1)};
function uz(){}uz.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");uz.EN="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
uz.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];uz.zau=["DrSh","IrSh","SoFi","GrFl","FrFX"];
uz.kv=["Clr"];uz.$n="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");uz.$J=["Ptrn","Scl","Algn","phase"];
uz.sN={OD:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",zkl:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",zuj:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",sH:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
uz.sN.OD="\"Clr\": "+uz.sN.OD;uz.sN.i="\"Grad\":"+uz.sN.zkl+",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
uz.sN.sH="\"Ptrn\":"+uz.sN.sH+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
uz.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
uz.ny=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+uz.sN.OD+","+uz.sN.i+","+uz.sN.sH+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+uz.sN.OD+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+uz.sN.i+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+uz.sN.sH+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
uz.i={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
uz.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],pG:["SClr","GrFl","Ptrn"],zin:[[13,0],[12,37],[12,62]]};
uz.Zf={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],zWY:["SrcC","SrcE"],zi$:[[19,5,1],[12,69]]};uz.ku={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],zho:["SfBL","PrBL","Slmt"],zjD:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
uz.ri={OK:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],OJ:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],Wp:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+uz.sN.OD+"}")},strokeStyleResolution:{t:"doub",v:72}}};
uz.kM=[{classID:"null",Clr:JSON.parse(uz.ny[5]).Clr},{classID:"null",Grad:JSON.parse(uz.ny[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(uz.ny[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var uS={};uS.znM=function(h,R,d){if(h.dp())return;var L=z.t.zNP(h.r);L.x=Math.floor(L.x*R);L.k=Math.ceil(L.k*R);
L.y=Math.floor(L.y*d);L.$=Math.ceil(L.$*d);h.rect=L;h.channel=z.h(L.s());z.Ou.width=L.k;z.Ou.height=L.$;
var $=z.C;$.fillStyle="#ffffff";z.t.zNN($,h.r,R,d,-L.x,-L.y);$.fill();var W=$.getImageData(0,0,L.k,L.$).data;
z.nP(W,h.channel,3)};uS.pA=function(h,R){function d(h,y){if(h==null)return null;var f=h[y].v,b;if(f.length!=0){b=f[0].v;
if(!b.enab.v)b=null}return b}var L=R.SoCo,$=R.GdFl,W=d(h,"solidFillMulti"),M=d(h,"gradientFillMulti");
if(W==null&&M==null)return[L,$];var x=uS.zjG;if(L&&W&&M==null){var t=JSON.parse(JSON.stringify(L));t.Clr.v=x(W.Clr.v,L.Clr.v,W);
return[t,null]}if($&&W&&M==null){var g=JSON.parse(JSON.stringify($)),r=g.Grad.v.Clrs.v;for(var l=0;l<r.length;
l++){var H=r[l].v.Clr;H.v=x(W.Clr.v,H.v,W)}return[null,g]}if(L&&M){var g=JSON.parse(JSON.stringify(M)),r=g.Grad.v.Clrs.v;
for(var l=0;l<r.length;l++){var H=r[l].v.Clr;H.v=x(H.v,L.Clr.v,M)}return[null,g]}return[W,M]};uS.zjp={Fo:z.h(4),gL:z.h(4),H:new A(0,0,1,1)};
uS.zjG=function(h,R,d){var L=zP._d(d.Md.v.BlnM),$=d.Opct.v.val/100,W=uS.zjp;h=z.i.IZ(h);R=z.i.IZ(R);
W.Fo[0]=h.H;W.Fo[1]=h.N;W.Fo[2]=h.W;W.Fo[3]=255;W.gL[0]=R.H;W.gL[1]=R.N;W.gL[2]=R.W;W.gL[3]=255;z.K.Uu(L,W.Fo,W.H,W.gL,W.H,W.H,$);
return{classID:"RGBC",Rd:{t:"doub",v:W.gL[0]},Grn:{t:"doub",v:W.gL[1]},Bl:{t:"doub",v:W.gL[2]}}};uS.zFq=function(h,R,d){var L=h;
h=h.slice(0);var $=zP.RS[zP.wc.indexOf(R.Md.v.BlnM)],W=z.i.IZ(R.Clr.v),M=4278190080|Math.round(W.W)<<16|Math.round(W.N)<<8|Math.round(W.H),x=z.h(d.s()*4);
z._M(x,M);z.K.Uu($,x,d,h,d,d,R.Opct.v.val/100);for(var t=0;t<h.length;t+=4)h[t+3]=L[t+3];return h};uS.zFJ=function(h,R){var d=["Sz","blur","Sftn","Dstn"];
for(var L=0;L<uz.order.length;L++){var $=uz.order[L],W=h[uz.EN[L]].v;for(var M=0;M<W.length;M++){var x=W[M].v;
for(var t=0;t<d.length;t++){var g=x[d[t]];if(g){var r=g.v.val,l=r;l=Math.max(r==0?0:1,l*R);if($=="ChFX")l=Math.min(l,250);
if($=="ebbl"){if(d[t]=="blur")l=Math.min(l,250);if(d[t]=="Sftn")l=Math.min(l,16)}g.v.val=Math.round(l)}}if($=="ebbl"||$=="patternFill"||$=="FrFX")if(x.Ptrn&&x.Scl)x.Scl.v.val=Math.max(1,Math.min(1e3,x.Scl.v.val*R))}}};
uS.zjm=function(h,R){var d=new A(-.5,-.5,1,1),L=h.add.lmfx;for(var $=0;$<uz.order.length;$++){var W=uz.order[$],M=L[uz.EN[$]].v;
for(var x=0;x<M.length;x++){var t=M[x].v,H;if(!t.enab.v)continue;var g=t.blur?t.blur.v.val+1:0,r=t.Ckmt?t.Ckmt.v.val/100:0,l=Math.round(g*r);
if(W=="DrSh"){H=new A(-.5,-.5,1,1);H.si(g,g);uS.dz(H,t,R,0)}if(W=="OrGl"){H=new A(-.5,-.5,1,1);H.si(g,g)}if(W=="FrFX"){var y=uS.sU(t)[1];
H=new A(-.5,-.5,1,1);H.si(Math.ceil(y),Math.ceil(y))}if(W=="ebbl"){var g=t.blur.v.val,f=t.bvlS.v.BESl;
if(f=="Embs"||f=="PlEb")g/=2;var b=["OtrB","InrB","Embs","PlEb","strokeEmboss"],K=["SfBL","PrBL","Slmt"],Z=["In","Out"],J=t.bvlT.v.bvlT!="SfBL"?g:g*.43,u=Math.round(g);
H=new A(-u-1,-u-1,2*u+2,2*u+2)}if(H)d=d.DM(H)}}if(d.x!=Math.ceil(d.x)){d.x=Math.ceil(d.x);d.k-=1}if(d.y!=Math.ceil(d.y)){d.y=Math.ceil(d.y);
d.$-=1}return d};uS.sU=function(h){var R=0,d=0,L=h.Styl.v.FStl,$=h.Sz.v.val;if(L=="OutF")d=$;if(L=="InsF")R=$;
if(L=="CtrF")R=d=$/2;return[R,d]};uS.zFo=function(h){if(h.all==null)return;for(var R=0;R<h.all.length;
R++){var d=h.all[R];if(d.zN)d.zN.delete();if(d.pC)d.pC.delete();if(d.pL)d.pL.delete()}};uS.zjn=function(h,R,d,L,$,W,M){uS.zFo(h);
var x=uS.pO(L,$,R,d,W,M);h.type=x.type,h.all=x.all;if(c.BG)for(var t=0;t<h.all.length;t++){var g=h.all[t];
g.zN=new c.Zb(g.km.k,g.km.$);g.zN.set(g.tP);delete g.tP;if(g.pU){g.pC=new c.mE(g.km.k,g.km.$);g.pC.set(g.pU);
delete g.pU}if(g.pr){g.pL=new c.mE(g.km.k,g.km.$);g.pL.set(g.pr);delete g.pr}}};uS.pO=function(h,R,d,L,$,W){if(W==null)W=L;
var M=0,x=0;for(var t=0;t<uz.order.length;t++){var g=uz.order[t],r=uz.EN[t],l=h[r].v;for(var H=0;H<l.length;
H++){var y=l[H].v;if(g=="DrSh"&&y.enab.v&&y.Ckmt.v.val>0&&y.blur.v.val>0)M=Math.max(M,Math.ceil(y.Ckmt.v.val*y.blur.v.val/100));
if(g=="OrGl"&&y.enab.v&&y.Ckmt.v.val>0&&y.blur.v.val>0&&y.GlwT.v.BETE=="SfBL")M=Math.max(M,Math.ceil(y.Ckmt.v.val*y.blur.v.val/100));
if(g=="OrGl"&&y.enab.v&&y.blur.v.val>0&&y.GlwT.v.BETE=="PrBL")M=Math.max(M,y.blur.v.val);if(g=="FrFX"&&y.enab.v&&y.Sz.v.val>0){if(y.Styl.v.FStl=="OutF")M=Math.max(M,y.Sz.v.val);
if(y.Styl.v.FStl=="CtrF")M=Math.max(M,Math.ceil(y.Sz.v.val/2));x=Math.max(x,uS.sU(y)[1])}}}var f=new uS.gw(d,L,M),b={type:{},all:[]};
for(var K=0;K<uz.order.length;K++){var g=uz.order[K],r=uz.EN[K];b.type[g]=[];for(var Z=h[r].v.length-1;
Z>=0;Z--){var J=h[r].v[Z].v;if(!J.enab.v)continue;var u=J.blur?J.blur.v.val:0,C=J.Ckmt?J.Ckmt.v.val/100:0,Q=u*C;
if(g=="DrSh"){var i=f.ZY(Q,u-Q,!0),j=i.U_,V=i.e;V.offset(-f.rect().x-1,-f.rect().y-1);uS.Zl(j,J,!1);
uS.dz(V,J,$,0);var E=z.h(V.s()*4);uS.xr(E,J.Clr.v);z.Gn(j,E,3);var N={tP:E,km:V,js:zP._d(J.Md.v.BlnM),Zc:J.Opct.v.val/100,z_K:J.layerConceals.v};
b.type[g].push(N);b.all.push(N)}if(g=="IrSh"){var i=f.ZY(Q,u-Q,!1);uS.dz(i.e,J,$,0);var V=f.rect().clone(),j=z.h(V.s());
z.set(j,255);z.mF(i.U_,i.e,j,V);uS.Zl(j,J,!0);var E=z.h(V.s()*4);uS.xr(E,J.Clr.v);z.Gn(j,E,3);V.offset(-f.rect().x-1,-f.rect().y-1);
var N={tP:E,km:V,js:zP._d(J.Md.v.BlnM),Zc:J.Opct.v.val/100};b.type[g].push(N);b.all.push(N)}if(g=="GrFl"){var E=z.h(f.rect().s()*4);
uS.Zv(J,E,f.rect(),$,null,W);var V=f.rect().clone();V.offset(-f.rect().x-1,-f.rect().y-1);var N={tP:E,km:V,js:zP._d(J.Md.v.BlnM),Zc:J.Opct.v.val/100};
b.type[g].push(N);b.all.push(N)}if(g=="SoFi"){var E=z.h(f.U_().length*4);uS.xr(E,J.Clr.v);var V=f.rect().clone();
V.offset(-f.rect().x-1,-f.rect().y-1);var N={tP:E,km:V,js:zP._d(J.Md.v.BlnM),Zc:J.Opct.v.val/100};b.type[g].push(N);
b.all.push(N)}if(g=="ebbl"){var n=!1;if(n)console.log(J);var a=Date.now(),I=J.bvlS.v.BESl;if(I=="strokeEmboss"){var q=h.frameFXMulti.v;
if(q.length==0)continue;q=q[0].v;if(!q.enab.v)continue;var k=q.Styl.v.FStl;if(k=="OutF")I="OtrB";if(k=="CtrF")I="Embs";
if(k=="InsF")I="InrB"}var u=J.blur.v.val;if(u==0)u=.7;if(I=="Embs"||I=="PlEb")u/=2;var F=["OtrB","InrB","Embs","PlEb","strokeEmboss"],o=["SfBL","PrBL","Slmt"],G=["In","Out"],w=J.bvlT.v.bvlT!="SfBL"?u:u*.45,U=Math.round(u),B=f.rect().clone(),D=B.clone();
D.si(U,U);var P=D.k,v=D.$,O=P*v,uk=z.h(O);z.mF(f.U_(),B,uk,D);var ut=new Float64Array(O),ua=new Float64Array(O);
z.style.Gb(uk,ut,P,v);z.Gv(uk);z.style.Gb(uk,ua,P,v);if(n)console.log("distTransform computed",Date.now()-a);
for(var t=0;t<O;t++)ua[t]=ua[t]-ut[t];for(var t=0;t<O;t++){var uu=ua[t];if(uu<-w)ua[t]=-w;else if(uu>w)ua[t]=w}if(n)console.log("summing + cropping",Date.now()-a);
if(J.bvlT.v.bvlT=="SfBL"){var uW=Math.pow(u*.21,1.22);if(!0)uW=Math.max(uW,2);var kV=z.blur.KS(uW,2);
z.blur.zd(ua,ut,D,kV[0]>>>1);z.blur.zd(ut,ua,D,kV[1]>>>1)}if(n)console.log("blurring",Date.now()-a);
var p=ua,_=p.slice(0);if(J.useShape.v){var uB=Math.min(100,J.Inpr.v.val+1)/100;if(I!="OtrB"&&I!="InrB")uB=1;
var ub=z.LV.tW(J.MpgS.v.Crv.v,2e3),uq=Math.round(2e3/uB);ub=z.LV.zIW(ub,uq,I=="InrB");var uF=.5/w;for(var t=0;
t<O;t++){var ue=p[t],up=.99999*(ue+w)*uF;p[t]=-w+2*w*ub[~~(up*(uq-1))]}if(n)console.log("applying shape",Date.now()-a)}if(J.useTexture.v){var ui=z.h(P*v*4);
uS.fY(J,ui,D,$,R);var zd=z.h(P*v);z.sz(ui,zd);var uN=z.h(P*v);z.blur.YH(zd,uN,D,1);zd=uN;var u_=u*J.textureDepth.v.val*(1/100)*(1/255);
if(J.InvT.v)u_=-u_;for(var t=0;t<O;t++)p[t]+=-u_*zd[t];if(n)console.log("applying texture",Date.now()-a)}var za=(J.bvlT.v.bvlT=="SfBL"?1:.5)*(J.bvlD.v.BESs=="In"?1:-1)*J.srgR.v.val/100;
for(var t=0;t<O;t++)p[t]*=za;if(n)console.log("scaling",Date.now()-a);var uZ=J.uglg&&J.uglg.v?$.kt():J.lagl.v.val;
uZ=uZ*(Math.PI/180);var uj=J.uglg&&J.uglg.v?$.FU():J.Lald.v.val;uj=uj*(Math.PI/180);var uw=Math.cos(uZ)*Math.cos(uj),tI=-Math.sin(uZ)*Math.cos(uj),ug=Math.sin(uj),uO=new Float64Array(O),uC=new Float64Array(O),ux=I=="PlEb";
for(var zu=0;zu<v;zu++)for(var uL=0;uL<P;uL++){var t=zu*P+uL,un=0,us=0,Wa=1;if(zu!=0&&zu!=v-1&&uL!=0&&uL!=P-1){var Wt=p[t-P-1],uV=p[t-P+1],zZ=p[t+P-1],uU=p[t+P+1];
un=-.125*(uV+2*p[t+1]+uU-(Wt+2*p[t-1]+zZ));us=-.125*(zZ+2*p[t+P]+uU-(Wt+2*p[t-P]+uV))}else{var zI=p[t];
us=-(zu==0?p[t+P]-zI:zu==v-1?zI-p[t-P]:.5*(p[t+P]-p[t-P]));un=-(uL==0?p[t+1]-zI:uL==P-1?zI-p[t-1]:.5*(p[t+1]-p[t-1]))}var uG=1/Math.sqrt(un*un+us*us+1);
un*=uG;us*=uG;Wa*=uG;var WW=un*uw+us*tI+Wa*ug,Wq=WW;if(ux)Wq=-un*uw-us*tI+Wa*ug;if(WW>0)uO[t]=WW;if(Wq>0)uC[t]=Wq}if(n)console.log("raycasting",Date.now()-a);
if(J.Sftn.v.val!=0){z.blur.JZ(uO,ut,D,J.Sftn.v.val*.43);var uH=ut,ut=uO,uO=uH;if(ux){z.blur.JZ(uC,ut,D,J.Sftn.v.val*.43);
var uH=ut,ut=uC,uC=uH}else z.kW(uO,uC)}if(n)console.log("softening",Date.now()-a);var ub=z.LV.tW(J.TrnS.v.Crv.v,1024);
for(var t=0;t<O;t++){uO[t]=ub[~~(uO[t]*1024)];uC[t]=ub[~~(uC[t]*1024)]}if(n)console.log("contour remap",Date.now()-a);
P=Math.round(P);v=Math.round(v);var Wp=z.h(P*v*4);uS.xr(Wp,J.hglC.v);var tD=z.h(P*v*4);uS.xr(tD,J.sdwC.v);
var zF=z.h(P*v*4);uS.xr(zF,J.hglC.v);var zO=z.h(P*v*4);uS.xr(zO,J.sdwC.v);var Wr=1/ug,z_=1/(1-ug),uF=1/w,Wz=new Float64Array(1e3);
for(var t=0;t<1e3;t++)Wz[t]=Math.pow(t*.001,.2);for(var zu=0;zu<v;zu++)for(var uL=0;uL<P;uL++){var t=zu*P+uL,Me=4*t+3,zp=0,MB=0;
zp=uO[t];MB=uC[t];var Wj=Math.max(0,Math.min(.9999,(_[t]+w*.993)*uF));Wj=Wz[Math.floor(Wj*1e3)];var WA=Wj*(1-Math.min(1,zp*Wr)),MA=Wj*(1-Math.min(1,(1-zp)*z_)),zi=Wj*(1-Math.min(1,MB*Wr)),MR=Wj*(1-Math.min(1,(1-MB)*z_));
tD[Me]=Math.round(255*WA);Wp[Me]=Math.round(255*MA);zO[Me]=Math.round(255*zi);zF[Me]=Math.round(255*MR)}if(n)console.log("baking textures",Date.now()-a);
D=f.rect().clone();D.si(U,U);D.offset(-f.rect().x-1,-f.rect().y-1);var uv={zCA:J.bvlS.v.BESl=="strokeEmboss"};
if(["InrB","Embs","PlEb"].indexOf(I)!=-1){uv.ps={tP:Wp,km:D,js:zP._d(J.hglM.v.BlnM),Zc:J.hglO.v.val/100};
uv.pX={tP:tD,km:D,js:zP._d(J.sdwM.v.BlnM),Zc:J.sdwO.v.val/100};b.all.push(uv.ps,uv.pX)}if(["OtrB","Embs","PlEb"].indexOf(I)!=-1){uv.po={tP:zF,km:D,js:zP._d(J.hglM.v.BlnM),Zc:J.hglO.v.val/100};
uv._a={tP:zO,km:D,js:zP._d(J.sdwM.v.BlnM),Zc:J.sdwO.v.val/100};b.all.push(uv.po,uv._a)}if(n)console.log(Date.now()-a);
b.type[g].push(uv)}if(g=="patternFill"){var zM=f.rect(),E=z.h(zM.s()*4);uS.fY(J,E,zM,$,R);var V=zM.clone();
V.offset(-zM.x-1,-zM.y-1);var N={tP:E,km:V,js:zP._d(J.Md.v.BlnM),Zc:J.Opct.v.val/100};b.type[g].push(N);
b.all.push(N)}if(g=="ChFX"){var E=z.h(f.U_().length*4);uS.xr(E,J.Clr.v);var u=J.blur.v.val,hZ=f.rect().clone();
hZ.si(u,u);var zr=z.h(hZ.s()),tA=z.h(hZ.s());z.mF(f.U_(),f.rect(),tA,hZ);z.blur.yj(tA,zr,hZ,u*.43);var zA=z.LV.Gt(J.MpgS.v.Crv.v,256,!0);
z.YI(zr,zA);var tj=z.h(f.U_().length),Md=z.h(f.U_().length),MI=f.rect().clone();uS.dz(MI,J,$,0);z.mF(zr,hZ,tj,MI);
MI=f.rect().clone();uS.dz(MI,J,$,Math.PI);z.mF(zr,hZ,Md,MI);var WD=tj.length;for(var t=0;t<WD;t++)E[4*t+3]=Math.abs(tj[t]-Md[t]);
if(J.Invr.v)for(var t=0;t<WD;t++)E[4*t+3]=255-E[4*t+3];var V=f.rect().clone();V.offset(-f.rect().x-1,-f.rect().y-1);
var N={tP:E,km:V,js:zP._d(J.Md.v.BlnM),Zc:J.Opct.v.val/100};b.type[g].push(N);b.all.push(N)}if(g=="OrGl"){var i;
if(J.GlwT.v.BETE=="SfBL")i=f.ZY(Q,u-Q,!0);else i=f.zjE(u,C,!0);var j=i.U_,V=i.e,zD=j.slice(0);uS.zjk(j,J);
var E=z.h(V.s()*4);if(J.Grad==null){uS.xr(E,J.Clr.v);uS.Zl(j,J,!1)}else{uS.Zl(j,J,null);var kJ={ju:j,NX:255,GI:0,wK:V};
uS.Zv(J,E,V,$,kJ);var tK=J.Nose.v.val/100,WK=V.k;for(var t=0;t<zD.length;t++){var WV=255,WT=zD[t];if(WT<32){var MO=(WT+zD[t-1]+zD[t+1]+zD[t-WK]+zD[t+WK])*.2-1;
WV=Math.min(255,Math.round(Math.max(0,MO)*8))}j[t]=WV}uS.zdJ(j,J)}z.Gn(j,E,3);V.offset(-f.rect().x-1,-f.rect().y-1);
var N={tP:E,km:V,js:zP._d(J.Md.v.BlnM),Zc:J.Opct.v.val/100};b.type[g].push(N);b.all.push(N)}if(g=="IrGl"){var i;
if(J.GlwT.v.BETE=="SfBL")i=f.ZY(Q,u-Q,!1);else i=f.zjE(u,C,!1);var j=i.U_,V=i.e;uS.zjk(j,J);if(J.glwS.v.IGSr=="SrcC")z.Gv(j);
var E=z.h(V.s()*4);if(J.Grad==null){uS.xr(E,J.Clr.v);uS.Zl(j,J,!0)}else{uS.Zl(j,J,null);var kJ={ju:j,NX:255,GI:0,wK:V};
uS.Zv(J,E,V,$,kJ);z.set(j,255);uS.zdJ(j,J)}z.Gn(j,E,3);V.offset(-f.rect().x-1,-f.rect().y-1);var N={tP:E,km:V,js:zP._d(J.Md.v.BlnM),Zc:J.Opct.v.val/100};
b.type[g].push(N);b.all.push(N)}if(g=="FrFX"){var MS=uS.sU(J),hi=MS[0],ks=MS[1],V=f.rect().clone(),Wx=null,uc=null;
V.si(Math.ceil(x),Math.ceil(x));if(ks>0){var i=f.ZY(ks,0,!0);uc=i.U_;if(uc.length<V.s()){uc=z.h(V.s());
z.mF(i.U_,i.e,uc,V)}}if(hi>0){var i=f.ZY(hi,0,!1);Wx=z.h(V.s());z.set(Wx,255);z.mF(i.U_,i.e,Wx,V)}V.offset(-f.rect().x-1,-f.rect().y-1);
var E=z.h(V.s()*4),hz=J.PntT.v.FrFl;if(hz=="SClr")uS.xr(E,J.Clr.v);if(hz=="GrFl")uS.Zv(J,E,V,$,f.zjo(hi,ks));
if(hz=="Ptrn")uS.fY(J,E,V,$,R);var N={tP:E,km:V,js:zP._d(J.Md.v.BlnM),Zc:J.Opct.v.val/100,pr:uc,pU:Wx};
b.type[g].push(N);b.all.push(N)}}}return b};uS.eP=function(h){var R=1/Math.sqrt(h.x*h.x+h.y*h.y+h.GM*h.GM);
h.x*=R;h.y*=R;h.GM*=R};uS.znT=function(h,R){return{x:h.y*R.GM-h.GM*R.y,y:h.GM*R.x-h.x*R.GM,GM:h.x*R.y-h.y*R.x}};
uS.zny=function(h,R){return h.x*R.x+h.y*R.y+h.GM*R.GM};uS.zdJ=function(h,R){var d=R.Nose.v.val/100;if(d>0)for(var L=0;
L<h.length;L++){var $=h[L];$=Math.min(510-(1+d)*z.style.yM(L),$);h[L]=$}};uS.t_=function(h){var R=uS.Zo(),d=h.cT,L=!1;
for(var $=0;$<32;$+=8)if(d[$]+d[$+1]+d[4]+d[5]!=0||d[$+2]+d[$+3]+d[6]+d[7]!=1020)L=!0;if(L){d=d.slice(0);
for(var $=0;$<40;$+=4){var W=d[$]/255,M=d[$+1]/255,x=d[$+2]/255,t=d[$+3]/255;d[$]=W-1e-4;d[$+1]=W==M?1e9:1/(M-(W-1e-4));
d[$+2]=x==t?-1e9:1/(x-(t+1e-4));d[$+3]=t+1e-4}}var g=h.add.iOpa!=null?h.add.iOpa/255:R.fill,r=h.add.vstk;
if(r&&!r.fillEnabled.v&&(!r.strokeEnabled.v||r.strokeStyleLineWidth.v.val==0))g=0;return{fill:g,Qy:L?d:null,z_Z:h.add.brst!=null?h.add.brst:R.z_Z,z_n:h.add.knko!=null?h.add.knko:R.z_n,style:!1,QX:!1}};
uS.Zo=function(){return{fill:1,Qy:null,z_Z:[1,1,1],z_n:0,style:!1,QX:!1}};uS.$V=function(h,R){if(R==null)return null;
var d=h.Idnt.v,L=null;for(var $=0;$<R.length;$++)if(R[$].id==d)return R[$];return null};uS.zdH=function(h,R,d){var L=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var $=0;$<L.length;$++){var W=h.v[L[$]].v;for(var M=0;M<W.length;M++)if(W[M].v.Ptrn)R.OZ(uS.$V(W[M].v.Ptrn.v,d))}};
uS.zjx=function(h,R,d){var L=["patternFillMulti","ebblMulti","frameFXMulti"];for(var $=0;$<L.length;
$++){var W=h.v[L[$]].v;for(var M=0;M<W.length;M++)if(W[M].v.Ptrn){var x=W[M].v.Ptrn.v,t=uS.$V(x,d),g=uS.$V(x,R.add.Patt);
if(t==null&&g)d.push(g)}}};uS.fY=function(h,R,d,L,$){var W=uS.$V(h.Ptrn.v,L.add.Patt);if(W!=null&&!d.dp()){var M=z.scale.fY(W.tP,W.e.k,W.e.$),x=h.Scl.v.val/100,t=-d.x+h.phase.v.Hrzn.v-1,g=-d.y+h.phase.v.Vrtc.v-1;
if(h.Algn!=null&&!h.Algn.v){}else{t+=$.x;g+=$.y}z.scale.zAm(M,R,d.k,d.$,x,x,t+1,g+1)}};uS.Zv=function(h,R,d,L,$,W){if(W==null)W=d;
var M=h.Type?h.Type.v.GrdT:"shapeburst",x=h.Algn&&h.Algn.v?W:new A(0,0,L.k,L.$),t=h.Angl?z.i.FO(h,x):[new kY(0,0),new kY(100,0)],g=t[0].x,r=t[0].y,l=t[1].x-g,H=t[1].y-r,y=Math.sqrt(l*l+H*H);
y=1/(2*y*y);var f=[l*y,H*y,-H*y,l*y],b=h.Rvrs?h.Rvrs.v:!1,K=h.Dthr?h.Dthr.v:!1;z.i.zD(h.Grad.v,R,d,f,g,r,b,uz.i.types.indexOf(M),0,0,$,K)};
uS.zjf=function(h,R){for(var d=0;d<h.all.length;d++){var L=h.all[d];L.no=L.km.clone();L.no.offset(R.x,R.y)}};
uS.zdY=function(h,R,d,L,$,W){var M=c.BG?uS.zis:uS.zEl;uS.zjf(R,d);var x=R.type.DrSh;for(var t=0;t<x.length;
t++)if(!x[t].z_K)M(x[t],L,$,W)};uS.zdV=function(h,R,d,L,$,W,M,x,t,g){var r=d,l=c.BG?uS.zis:uS.zEl,H=c.BG?c.K.Cd:z.K.jU,y;
y=R.type.DrSh;for(var f=0;f<y.length;f++)if(y[f].z_K)l(y[f],L,$,W);y=R.type.OrGl;for(var f=0;f<y.length;
f++)l(y[f],L,$,W);var b="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var K=0;K<b.length;K++){var y=R.type[b[K]];
for(var f=0;f<y.length;f++)l(y[f],M,r,W)}var Z=R.type.ebbl[0],J=Z!=null&&Z.zCA;y=R.type.FrFX;for(var f=0;
f<y.length;f++){var u=y[f];Wn.tq.mF(x,g,t,g,W);l(u,t,g,W);if(J&&f==y.length-1){if(Z._a)l(Z._a,t,g,W);
if(Z.po)l(Z.po,t,g,W);if(Z.pX)l(Z.pX,t,g,W);if(Z.ps)l(Z.ps,t,g,W)}if(u.pU||u.pC)H(t,g,M,r,c.BG?u.pC:u.pU,u.no,0,W,1);
if(u.pr||u.pL)H(t,g,L,$,c.BG?u.pL:u.pr,u.no,0,W,1)}if(!J&&Z!=null){if(Z._a)l(Z._a,L,$,W);if(Z.po)l(Z.po,L,$,W);
if(Z.pX)l(Z.pX,M,r,W);if(Z.ps)l(Z.ps,M,r,W)}};uS.zEl=function(h,R,d,L){var $=uS.Zo();$.fill=h.Zc;$.style=!0;
z.K.Uu(h.js,h.tP,h.no,R,d,L,1,$)};uS.zis=function(h,R,d,L){var $=uS.Zo();$.fill=h.Zc;$.style=!0;c.K.NP(h.js,h.zN,h.no,R,d,L,1,$)};
uS.zjk=function(h,R){var d=1-R.Inpr.v.val/100,L=1+Math.tan(d*(Math.PI/2)),$=h.length;for(var W=0;W<$;
W++)h[W]=Math.min(255,Math.round(h[W]*L))};uS.Zl=function(h,R,d){var L=R.blur.v.val,$=Math.round(L*(R.Ckmt.v.val/100));
if(L>$){var W=z.LV.Gt(R.TrnS.v.Crv.v,256,!0);z.YI(h,W)}if(d!=null&&R.Nose.v.val>0)z.style.dL(h,R.Nose.v.val/100,d)};
uS.xr=function(h,R,d){if(d==null)d=255;var L=z.i.IZ(R),$=d<<24|L.W<<16|L.N<<8|L.H;z._M(h,$)};uS.dz=function(h,R,d,L){var $=R.uglg&&R.uglg.v?d.kt():R.lagl.v.val;
$=$*Math.PI/180+L;var W=Math.cos($)*R.Dstn.v.val,M=Math.sin($)*R.Dstn.v.val;h.x-=Math.round(W);h.y+=Math.round(M)};
uS.pQ=function(h){if(h==null)return null;var R=h.frameFXMulti.v;if(R.length==0)return null;R=R[0].v;
var d=JSON.parse(JSON.stringify(uz.ri.default));uS.zju(R,d);return d};uS.zju=function(h,R){var d=uz.stroke.pG.indexOf(h.PntT.v.FrFl),L=[uz.kv,uz.$n,uz.$J][d],$=R.strokeStyleContent.v={classID:uz.ri.Wp[d]};
for(var W=0;W<L.length;W++)$[L[W]]=h[L[W]];R.strokeEnabled=h.enab;R.strokeStyleLineWidth=h.Sz;R.strokeStyleLineAlignment.v.strokeStyleLineAlignment=uz.ri.OJ[uz.stroke.types.indexOf(h.Styl.v.FStl)];
R.strokeStyleOpacity=h.Opct;R.strokeStyleBlendMode=h.Md};uS.so=function(h,R){var d=[];for(var L=0;L<h.length;
L++)d.push({t:"UntF",v:{type:"#Nne",val:Math.round(h[L]*R)}});return d};uS.gw=function(h,R,d){this.zS=R.clone();
this.zS.si(1,1);this.z_V=R.clone();this.z_V.si(d,d);this.zGj=z.h(this.zS.s());z.mF(h,R,this.zGj,this.zS);
this._P=null;this._N=null;this._S=null};uS.gw.prototype.U_=function(){return this.zGj};uS.gw.prototype.rect=function(){return this.zS};
uS.gw.prototype.sc=function(){return this.z_V};uS.gw.prototype.Kq=function(){if(this._P)return this._P;
this._P=z.clone(this.U_());z.Gv(this._P);return this._P};uS.gw.prototype.Xz=function(){if(this._N)return this._N;
this._N=new Float64Array(this.rect().s());z.style.Gb(this.Kq(),this._N,this.rect().k,this.rect().$);
return this._N};uS.gw.prototype.pK=function(){if(this._S)return this._S;var h=this.sc(),R=z.h(h.s());
z.mF(this.U_(),this.rect(),R,h);this._S=new Float64Array(h.s());z.style.Gb(R,this._S,h.k,h.$);return this._S};
uS.gw.prototype.zjo=function(h,R){var d={NX:-R,GI:h,wK:null,ju:null};if(R==0){d.wK=this.rect();d.ju=this.Xz();
return d}var L=this.pK().slice(0),$=this.sc();d.wK=$;d.ju=L;for(var W=0;W<L.length;W++)L[W]=-L[W];if(h==0)return d;
var M=this.Xz(),x=this.rect();for(var t=0;t<x.$;t++)for(var g=0;g<x.k;g++){var r=t*x.k+g,l=(t+x.y-$.y)*$.k+g+x.x-$.x;
L[l]+=M[r]}return d};uS.gw.prototype.ZY=function(h,R,d){var L=Math.ceil(h+R),$={e:this.rect().clone(),U_:null};
$.e.si(L,L);$.U_=z.h($.e.s());if(h==0&&R==0)z.kW(d?this.U_():this.Kq(),$.U_);else{var W=z.h($.e.s());
z.mF(this.U_(),this.rect(),W,$.e);if(!d)z.Gv(W);if(h!=0){if(d)z.style.dx(W,$.e,this.pK(),this.sc(),h);
else z.style.dx(W,$.e,this.Xz(),this.rect(),h)}if(R!=0)z.blur.yj(W,$.U_,$.e,Math.max(1,R*.43));else $.U_=W}return $};
uS.gw.prototype.zjE=function(h,R,d){var L=h*(R-.5),$={e:this.rect().clone(),U_:null};if(d)$.e.si(h,h);
$.U_=z.h($.e.s());var W=$.e.k,M=$.e.$,x=d?this.pK():this.Xz(),t=d?this.sc():this.rect(),g=$.e,r=g.hc(t),W=r.k,M=r.$,l=r.x-g.x,H=r.y-g.y,y=r.x-t.x,f=r.y-t.y,b=1-R*2;
for(var K=0;K<M;K++)for(var Z=0;Z<W;Z++){var J=x[(K+f)*t.k+Z+y],u=J/h;$.U_[(K+H)*g.k+Z+l]=Math.max(0,Math.min(255,255-255*((u+b)/(1+b))))}return $};
uS.zSq=function(h,R,d){var L=h.Lefx,$=h.blendOptions;if(L){var W=R.add.lmfx;if(d==null)d=W?W.Scl.v.val:100;
R.add.lmfx=JSON.parse(JSON.stringify(L.v));uS.zFJ(R.add.lmfx,d/R.add.lmfx.Scl.v.val);if(W)R.add.lmfx.Scl.v.val=W.Scl.v.val}else delete R.add.lmfx;
if($){$=$.v;if($.Md)R.Pg=zP._d($.Md.v.BlnM);if($.Opct)R.opacity=Math.round($.Opct.v.val*255/100);if($.fillOpacity)R.add.iOpa=Math.round($.fillOpacity.v.val*255/100);
if($.Blnd){var M=[];for(var x=0;x<10;x++)M.push(0,0,255,255);var t=$.Blnd.v,g="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var x=0;x<t.length;x++){var r=t[x].v,l=8*["Gry","Rd","Grn","Bl"].indexOf(r.Chnl.v[0].v.enum);for(var H=0;
H<8;H++){M[l+H]=r[g[H]].v}}R.cT=M}}};uS.z_W=function(h){var R="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),d=[],L=h.cT;
for(var $=0;$<4;$++){var W=$*8;if(L[W]+L[W+1]+L[W+4]+L[W+5]==0&&L[W+2]+L[W+3]+L[W+6]+L[W+7]==4*255)continue;
var M={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][$]}}]}}};
d.push(M);for(var x=0;x<8;x++)M.v[R[x]]={t:"long",v:L[$*8+x]}}var t={classID:"blendOptions"};if(h.Pg!="norm")t.Md={t:"enum",v:{BlnM:zP.IQ(h.Pg)}};
if(h.opacity!=255)t.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(h.opacity*100/255)}};if(h.add.iOpa!=null)t.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(h.add.iOpa*100/255)}};
if(d.length!=0)t.Blnd={t:"VlLs",v:d};var g={gN:{classID:"null",Idnt:{t:"TEXT",v:zG.jO()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},rE:{classID:"Styl",blendOptions:{t:"Objc",v:t}}},r=h.add.lmfx;
if(r)g.rE.Lefx={t:"Objc",v:r};return g};function Wm(){}Wm.kF=function(h){return JSON.parse(JSON.stringify(h))};
Wm.db=function(h){var R=Wm.kF(Wm.zjc),d=R.Brsh.v;if(h!=null){delete d.Hrdn;d.classID="sampledBrush";
d.Nm={t:"TEXT",v:"layer.png"},d.sampledData={t:"TEXT",v:h}}return R};Wm.zjc={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
Wm.eP={};Wm.eP.check=function(h){var R=Wm.eP.px;for(var d=0;d<R.length;d++)if(h[R[d]]==null)h[R[d]]=JSON.parse(Wm.eP.Xu[R[d]]);
var L=[];for(var d=0;d<R.length;d++)L.push(R[d]);var $=Wm.eP.zGZ;for(var d=0;d<$.length;d++){var W=$[d][0],M=$[d][1],x=!0;
for(var t=0;t<W.length;t++)x=x&&h[W[t]].v==!0;if(x)for(var t=0;t<M.length;t++){if(h[M[t]]==null)console.log("Missing conditional parameter "+M[t]);
else L.push(M[t])}}for(var g in h)if(L.indexOf(g)==-1)console.log("Extra parameter "+g);h=h.Brsh.v;R=Wm.eP.sr.px;
for(var d=0;d<R.length;d++)if(h[R[d]]==null)h[R[d]]=JSON.parse(Wm.eP.sr.Xu[R[d]]);L=[];for(var d=0;d<R.length;
d++)if(h[R[d]])L.push(R[d]);else console.log("Missing default parameter "+R[d]);$=Wm.eP.sr.zjv[h.classID];
for(var d=0;d<$.length;d++)if(h[$[d]]==null&&$[d]!="dtipsGridSize"&&$[d]!="dtipsErodibleTipHeightMap"&&h.zNL!=1)console.log("Missing conditional parameter "+$[d]);
else L.push($[d]);for(var g in h)if(L.indexOf(g)==-1)console.log("Extra parameter "+g)};Wm.eP.pn=function(h){var R=Wm.eP.zGZ;
for(var d=0;d<R.length;d++){var L=R[d][0],$=R[d][1],W=!0;for(var M=0;M<L.length;M++)W=W&&h[L[M]]&&h[L[M]].v==!0;
if(W){for(var M=0;M<$.length;M++)if(h[$[M]]==null){h[$[M]]=JSON.parse(Wm.eP.Xu[$[M]])}}else for(var M=0;
M<$.length;M++)if(h[$[M]]!=null){delete h[$[M]]}}};Wm.eP.sr={};Wm.eP.sr.px="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
Wm.eP.sr.Xu={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};Wm.eP.sr.zjv={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
Wm.eP.zGZ=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
Wm.eP.px="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
Wm.eP.Xu={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function Bo(h){this._D=h;this.dir=0}Bo.prototype.XN=function(h,R){if(this.dir==0&&!this._D.PC(h))this.dir=Math.abs(this._D.x-h.x)<Math.abs(this._D.y-h.y)?1:2;
var d=h;if(R.u(m.ka)){if(this.dir==1)d=new kY(this._D.x,h.y);if(this.dir==2)d=new kY(h.x,this._D.y)}return d};
function uf(h,R,d,L,$,W,M,x){this.WU=R;this.kR=d;this._W=W;this.YT=L;if(L.lj==null)L.lj=[!1,!0];this.vs=null;
this.L_=null;this.zp=0;this.zAK=0;this.zOL=0;this.zO=0;this.ba=0;this.zNs=M;this.FK=new A;this.zg=new A;
this.rect=new A;if(x!=null){this.tP=x}else{var t=uf.zQO;if(t.length!=M.s()*4)t=z.h(M.s()*4);else t.fill(0);
this.tP=uf.zQO=t}this.rect=M.clone();this._p=[];this.zn=[];this.pV=null;this.Ch=0;this.W=null;this._O="";
this.iS=null;this.zKN(h,$)}uf.zQO=z.h(16);uf.prototype.zKN=function(h,R){this.Ch=R;this.W=h;this._O=JSON.stringify(h)+JSON.stringify(this.YT.TX);
this.iS=uf.zPi(h,this.WU,this.kR)};uf.prototype.moveTo=function(h,R,d){d=this.zCF(d);this.zp=d;var L=new kY(h,R),$=this.W.Brsh.v.Dmtr.v.val;
this.vs=L.clone();this.L_=L.clone();this.pV=L.clone();this._p=[h,R];this.zn=[d];var W=this.YT.lj;if(this.YT.Ts!=uf.od)this.pJ(this.zdv(L,this.zFB()*(W[1]?d:1),this.YT.kP*(W[0]?d*.5:1),new kY(0,0)));
this.zO=L.clone()};uf.prototype.lineTo=function(h,R,d){d=this.zCF(d);var L=this._p,$=L.length,W=L[$-2],M=L[$-1];
if(h==W&&R==M)return;var x=this.W.Brsh.v.Dmtr.v.val,t=Math.ceil(x)+1,g=new A(Math.round(W),Math.round(M),0,0);
g.si(t,t);var r=new A(Math.round(h),Math.round(R),0,0);r.si(t,t);this.zPV(g.DM(r));this._p.push(h,R);
this.zn.push(d);$+=2;if($>=6)this.pJ(this.zMt($))};uf.prototype.zCF=function(h){if(h==null)h=1;h=Math.max(.05,Math.min(5,h));
if(isNaN(h)){alert("Pressure is not a number");throw"e"}return h};uf.prototype.pJ=function(h){this.FK=h;
this.zg=this.zg.DM(h)};uf.prototype.finish=function(){var h=this._p,R=h.length,d;if(R==4)d=this.zWU(h[R-2],h[R-1],this.zn[(R>>1)-1],!0);
if(R>4)d=this.zMt(R+2);if(d)this.pJ(d)};uf.prototype.zMt=function(h){var R=this._p,d=this.zn,L=R[h-6],$=R[h-5],W=R[h-4],M=R[h-3],x=d[(h>>1)-3],t=d[(h>>1)-2],g=new kY(0,0),r=new kY(0,0);
if(8<=h)g=uf.zkD(R[h-8],R[h-7],L,$,W,M);if(h<=R.length)r=uf.zkD(R[h-2],R[h-1],W,M,L,$);var l=L+g.x,H=$+g.y,y=W+r.x,f=M+r.y,b=new A;
for(var K=0;K<10;K++){var Z=(K+1)*.1,J=1-Z,u=J*J*J*L+3*Z*J*J*l+3*Z*Z*J*y+Z*Z*Z*W,C=J*J*J*$+3*Z*J*J*H+3*Z*Z*J*f+Z*Z*Z*M,Q=this.zWU(u,C,x+Z*(t-x));
b=b.DM(Q)}return b};uf.zkD=function(h,R,d,L,$,W){var M=h-d,x=R-L,t=$-d,g=W-L,r=Math.sqrt(M*M+x*x),l=Math.sqrt(t*t+g*g),H=Math.acos((M*t+x*g)/(r*l))/Math.PI,y=.35,f=.1;
H=f+H*(y-f);var b=$-h,K=W-R,Z=Math.sqrt(b*b+K*K),J=H*l/Z;return new kY(b*J,K*J)};uf.prototype.zWU=function(h,R,d,L){var $=new A,W=this.YT.zKr;
if(W==null)W=0;if(W==0||L){$=this.zqd(h,R,d);return $}var M=this.pV,x=h-M.x,t=R-M.y,g=Math.sqrt(x*x+t*t);
x/=g;t/=g;if(g>W){var r=M.x+x*(g-W),l=M.y+t*(g-W);$=this.zqd(r,l,d);this.pV.qC(r,l)}return $};uf.prototype.zqd=function(h,R,d){var L=new A,$=new kY(h,R),W=this.W.Brsh.v.Dmtr.v.val,M=this.YT.Ts,x=$.FZ(this.L_);
x.normalize(1);var t=kY.ZW(this.L_,$),g=-this.zAK,r=this.L_.clone(),l=this.YT.lj;while(!0){var H=this.zp+(d-this.zp)*(Math.max(0,g)/t),y=this.zFB()*(l[1]?H:1),f=this.zPt()*(y+this.zOL)/2;
if(M==uf.od)f=1;if(g+f<t){g+=f;var b=new kY(this.L_.x+x.x*g,this.L_.y+x.y*g),J=1;if(M==uf.od){var K=r.clone();
K.x+=x.x>0?1:-1;var Z=r.clone();Z.y+=x.y>0?1:-1;if(kY.ZW(K,b)<kY.ZW(Z,b))b=K;else b=Z;g=kY.ZW(b,this.L_)}if(this.W.useScatter.v==!0){J=this.W.Cnt.v;
var u=this.W.countDynamics.v.jitter.v.val/100,C=u*(-1+2*this.Za());J+=Math.round(J*C)}for(var Q=0;Q<J;
Q++){var i=this.zdv(b,y,this.YT.kP*(l[0]?H*.5:1),x);L=L.DM(i)}r=b}else break}this.zAK=t-g;this.L_=$;
this.zp=d;return L};uf.prototype.zPt=function(){var h=this.W.Brsh.v,R=h.Spcn.v.val,d=Math.max(5,h.Rndn.v.val);
return d/100*(R/100)};uf.prototype.zFB=function(){var h=this.W,R=h.Brsh.v.Dmtr.v.val;if(h.useTipDynamics.v){var d=R*(h.minimumDiameter.v.val/100);
R=d+(R-d)*(1-this.Za()*(h.szVr.v.jitter.v.val/100))}return R};uf.prototype.zdv=function(h,R,d,L){d=Math.min(1,d);
var $=this.W,W=this.W.Brsh.v,M=W.Dmtr.v.val,x=this.YT,t=x.Ts,g=x.zNv,r=new um;r.translate(-this.iS.zR.k/2,-this.iS.zR.$/2);
r.scale(1/this.iS.zgk,1/this.iS.zgk);r.scale(R/M,R/M);r.scale(1,Math.max(5,W.Rndn.v.val)/100);if($.useTipDynamics.v){var l=$.minimumRoundness.v.val/100;
r.scale(1,l+(1-l)*Math.round(100-this.Za()*$.roundnessDynamics.v.jitter.v.val)/100);r.rotate((-.5+this.Za())*4*Math.PI*($.angleDynamics.v.jitter.v.val/100))}r.rotate(W.Angl.v.val*(Math.PI/180));
if($.useScatter.v){var H=(-1+2*this.Za())*$.scatterDynamics.v.jitter.v.val/100;r.translate(-H*R*L.y,H*R*L.x)}r.translate(h.x,h.y);
var y=this.zPM(r,h);this.zPV(y.rect);var f=y.rect.clone();if(t==null){var b=this.IZ($);z._M(y.iJ,Math.round(b.W*255)<<16|Math.round(b.N*255)<<8|Math.round(b.H*255)<<0,4278190080);
if(this.zg.dp()&&this.rect.PC(y.rect)&&d==1)this.tP=y.iJ.slice(0);else z.K.zdR(y.iJ,y.rect,this.tP,this.rect,y.rect,d)}if(t==uf.od){var K=new kY(y.rect.x+y.rect.k/2,y.rect.y+y.rect.$/2),Z=Math.round(K.x-this.zO.x),J=Math.round(K.y-this.zO.y),u=y.rect.clone();
u.offset(-Z,-J);var C=u.hc(this.rect);C.offset(Z,J);z.bt(this.tP,this.rect,y.iJ,u);z.K.YC(y.iJ,y.rect,this.tP,this.rect,y.IN,y.rect,d)}if(t==uf.ug||t==uf.un||t==uf.XG){var Q=y.rect.hc(this.rect),i;
if(Q.PC(y.rect))i=y.IN;else{i=z.h(Q.s());z.mF(y.IN,y.rect,i,Q)}var j=z.h(Q.s()*4);z.bt(this.tP,this.rect,j,Q);
if(t==uf.un){var V=z.clone(j),E=z.ee.pi([-1,-1,-1,-1,25,-1,-1,-1,-1]);z.ee.Jc(j,V,Q.k,Q.$,E,0);z.kW(V,j)}else if(t==uf.XG){var N=u$.hx("UnsM");
N.Amnt.v.val=15;N.Thsh.v=0;N.Rds.v.val=5;var V=z.h(j.length);u$.zI("UnsM",{buffer:j,rect:Q},N,0,0,{buffer:V,rect:Q});
z.kW(V,j)}else{u$.Hr(1,z.blur.YU,j,Q)}z.K.YC(j,Q,this.tP,this.rect,i,Q,d)}this.zOL=R;this.zO=K;return f};
uf.prototype.IZ=function(h){var R=uf.zEU(this.Ch);if(h.useColorDynamics&&h.useColorDynamics.v){var d=1-this.Za()*h.clVr.v.jitter.v.val/100,L=uf.zEU(this._W);
R.H=d*R.H+(1-d)*L.H;R.N=d*R.N+(1-d)*L.N;R.W=d*R.W+(1-d)*L.W;var $=(-.5+this.Za())*h.H.v.val/100,W=(-1+2*this.Za())*h.Strt.v.val/100,M=(-1+2*this.Za())*h.Brgh.v.val/100,x=z.pc(R.H,R.N,R.W);
x.om=(x.om+$+1)%1;x.ix=x.ix+W;if(x.ix<0)x.ix=-x.ix;if(x.ix>1)x.ix=1-(x.ix-1);x.gE=x.gE+M;if(x.gE<0)x.gE=-x.gE;
if(x.gE>1)x.gE=1-(x.gE-1);R=z.Ed(x.om,x.ix,x.gE)}return R};uf.prototype.eP=function(h){return Math.max(0,Math.min(1,h))};
uf.prototype.Za=function(){this.ba++;return uf.hash(this.ba)};uf.zEU=function(h){return{H:(h>>16&255)/255,N:(h>>8&255)/255,W:(h>>0&255)/255}};
uf.hash=function(h){h=h^61^h>>16;h=h+(h<<3);h=h^h>>4;h=h*668265261;h=h^h>>15;return(h&16777215)/16777215};
uf.AH=[];uf.prototype.zPM=function(h,R){var d=null,M;for(var L=0;L<uf.AH.length;L++)if(uf.AH[L]._O==this._O){d=uf.AH[L];
uf.AH.splice(L,1)}if(d==null)d={wo:[],_O:this._O,XJ:0};var $=d.wo,W=this.YT.TX;if(W){h=h.clone();h.RZ=Math.floor(h.RZ);
h.fA=Math.floor(h.fA)}var x=uf.zej(h.RZ,h.fA);for(var L=0;L<$.length;L++){var t=$[L];if(!(t.Ka.r$==h.r$&&t.Ka.W==h.W&&t.Ka.DS==h.DS&&t.Ka.Cv==h.Cv))continue;
if(uf.zPF(t.KP,x)<.2||t.rect.s()>1e4){M=t;break}}var g=Math.round(this.W.Brsh.v.Dmtr.v.val);if(M){M.rect.x=Math.round(M.nu.x-M.Ka.RZ+h.RZ);
M.rect.y=Math.round(M.nu.y-M.Ka.fA+h.fA);if(W){M.rect.x=Math.round(R.x-g/2);M.rect.y=Math.round(R.y-g/2)}}else{var r;
if(W&&g<=3){r={buffer:z.h(g*g*4),rect:new A(Math.round(R.x-g/2),Math.round(R.y-g/2),g,g)};z._M(r.buffer,4278190080)}else if(h.r$==1&&h.W==0&&h.DS==0&&h.Cv==1){r={buffer:this.iS.iJ,rect:this.iS.zR.clone()};
r.rect.x=Math.round(h.RZ);r.rect.y=Math.round(h.fA)}else r=s.w.GT([this.iS.iJ,this.iS.zR],h);if(W){for(var L=0;
L<r.buffer.length;L++)r.buffer[L]=r.buffer[L]>127?255:0}if(r==null)r={buffer:z.h(0),rect:new A};var l=h.RZ-Math.floor(h.RZ),H=h.fA-Math.floor(h.fA);
M={iJ:r.buffer,IN:z.h(r.rect.s()),rect:r.rect,nu:r.rect.clone(),Ka:h,KP:uf.zej(h.RZ,h.fA)};z.nP(M.iJ,M.IN,3);
$.push(M);if($.length>200)$=$.slice(100)}d.wo=$;d.XJ=Date.now();uf.AH.push(d);uf.AH.sort(function(y,f){return f.XJ-y.XJ});
while(uf.AH.length>3)uf.AH.pop();return M};uf.zej=function(h,R){return new kY(h-Math.floor(h),R-Math.floor(R))};
uf.zPF=function(h,R){var d=R.x,L=R.y,$=Math.abs(d-h.x),W=Math.abs(L-h.y);if(Math.abs(d-1-h.x)<$)d--;
else if(Math.abs(d+1-h.x)<$)d++;if(Math.abs(L-1-h.y)<W)L--;else if(Math.abs(L+1-h.y)<W)L++;$=h.x-d;W=h.y-L;
return Math.sqrt($*$+W*W)};uf.prototype.zPV=function(h){};uf.zPi=function(h,R,d){var L,$,W,M=h.Brsh.v.Dmtr.v.val;
if(h.Brsh.v.classID=="computedBrush"){var x=h.Brsh.v.Hrdn.v.val/100,t=1+.55*(1-x);W=M<100?1.2:1;var g=Math.round(W*M*t);
$=new A(0,0,g,g);L=z.h(g*g*4);var r=new Uint32Array(L.buffer),l=g/2,H=t/l,y=Date.now(),f=uf.JB(x),b=Math.round(8e3/l),R=f[0],K=f[1]-b,Z=f[2]+b,J=Math.min(g,(g>>>1)+1);
for(var u=0;u<J;u++){var C=H*(u-l+.25);C*=C;var Q=H*(u-l+.75);Q*=Q;var i=u*g,j=(g-1-u)*g;for(var V=0;
V<J;V++){var E=H*(V-l+.25),N=Math.floor(Math.sqrt(E*E+C)*(4e3/1.55));if(Z<N)continue;else if(N<K){var n=4278190080;
while(V<J){var a=g-1-V;r[i+V]=n;r[i+a]=n;r[j+V]=n;r[j+a]=n;V++}break}else{var I=H*(V-l+.75),q=Math.floor(Math.sqrt(I*I+C)*(4e3/1.55)),k=Math.floor(Math.sqrt(E*E+Q)*(4e3/1.55)),F=Math.floor(Math.sqrt(I*I+Q)*(4e3/1.55)),n=~~(.5+255*.25*(R[N]+R[q]+R[k]+R[F]))<<24,a=g-1-V;
r[i+V]=n;r[i+a]=n;r[j+V]=n;r[j+a]=n}}}}if(h.Brsh.v.classID=="sampledBrush"){var o;for(var u=0;u<R.length;
u++)if(R[u].id==h.Brsh.v.sampledData.v)o=R[u];$=new A(0,0,o.e.k,o.e.$);W=Math.max($.k,$.$)/M;L=z.h($.s()*4);
z.Gn(o.channel,L,3)}while(Math.min($.k,$.$)>M*2){var G=new A($.x,$.y,Math.floor($.k/2),Math.floor($.$/2)),w=s.w.GT([L,$],new um(G.k/$.k,0,0,G.$/$.$,0,0));
W*=G.k/$.k;$=w.rect;L=w.buffer}return{zgk:W,zR:$,iJ:L}};uf.pT=[];uf.JB=function(h){if(uf.pT[h])return uf.pT[h];
var R=Math.pow(h,.55),d=new Float64Array(8e3),L=0,$=8e3;for(var W=0;W<8e3;W++){var M=uf.zPp(W*(1.55/4e3),R);
if(M>=1)L=W;else if(M<=0&&$==8e3)$=W;d[W]=M}var x=[d,L,$];uf.pT[h]=x;return x};uf.zPp=function(h,R){var d=h<R?1:uf.zPA((h-R)/Math.pow(1.001-R,.86));
return d};uf.zPA=function(h){var R=h*.85;return Math.exp(-(R*R)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
uf.prototype.OG=function(){return this.rect.clone()};uf.prototype.pH=function(){return this.FK.hc(this.rect)};
uf.prototype.ZV=function(){return this.zg.hc(this.rect)};uf.prototype.kE=function(){return this.tP};
uf.cv=function(h,R,d,L,$,W){var M=e.X("canvas",""),x=M.getContext("2d");M.width=W!=null?W:L;M.height=$;
x.fillStyle="#ffffff";x.fillStyle="#000000";x.font=Math.floor(10*e.p())+"px sans-serif";var t=""+h.Brsh.v.Dmtr.v.val,g=x.measureText(t);
x.fillText(t,(L-g.width)/2,$-2);var r=L,l=$-10*e.p(),H=Math.min(r,l),y=h.Brsh.v.Dmtr.v.val,f=h.Brsh.v.classID;
if(f=="computedBrush"){x.translate(r/2,l/2);x.rotate(-h.Brsh.v.Angl.v.val*Math.PI/180);x.scale(1,.1+.9*h.Brsh.v.Rndn.v.val/100);
var b=Math.min(.95*H/2,t/2)+.5,K=.9*h.Brsh.v.Hrdn.v.val/100,Z=x.createRadialGradient(0,0,0,0,0,b);Z.addColorStop(K,"rgba(0,0,0,1)");
Z.addColorStop((.5+K)/1.5,"rgba(0,0,0,.5)");Z.addColorStop(1,"rgba(0,0,0,0)");x.fillStyle=Z;x.fillRect(-b,-b,2*b,2*b)}else if(f=="sampledBrush"){var J;
for(var u=0;u<R.length;u++)if(R[u].id==h.Brsh.v.sampledData.v)J=R[u];var C=e.X("canvas",""),Q=C.getContext("2d");
C.width=J.e.k;C.height=J.e.$;var i=Q.getImageData(0,0,C.width,C.height),j=new z.Zb(C.width*C.height);
j.r$=J.channel;z.eB(j,i.data);Q.putImageData(i,0,0);H=Math.min(H,h.Brsh.v.Dmtr.v.val);var V=Math.max(C.width,C.height),E=.85*C.width*H/V,N=.85*C.height*H/V;
x.drawImage(C,(r-E)/2,(l-N)/2,E,N)}else{}return M.toDataURL()};uf.pv=function(h,R,d,L){if(d==0)d=1;var $=h.Brsh.v,W=$.Dmtr.v.val,M=$.Dmtr.v.val=Math.min(L!=null?Math.round(L*2.6):3e3,W*d),x=$.Hrdn?$.Hrdn.v.val/100:1,t=L!=null?L:Math.round(M*(1+.55*(1-x)))+4,l;
t=Math.max(15,Math.min(t,3e3));var g=new A(0,0,t,t),r=new uf(h,R,null,{kP:1},16711712,0,g);$.Dmtr.v.val=W;
r.moveTo(g.k/2,g.$/2);var H=r.kE(),y=r.OG();if(g.PC(y))l=H;else{l=z.h(g.s()*4);z.bt(H,y,l,g)}return[l,g,M]};
uf.pl=function(h,R,d){var L=uf.pv(h,R,d),$=L[0],W=L[1],M=L[2],x=W.s(),t=z.h(x);z.nP($,t,3);var g=z.h(x);
z.z.zOF(t,g,W);if(M<3||z.QE(g,0)){var r=W.k,l=r>>>1,H=g,y=255;for(var f=0;f<4;f++){H[r*(l-6+f)+l]=y;
H[r*l+l-6+f]=y;H[r*l+l+6-f]=y;H[r*(l+6-f)+l]=y}}var b=[1,2,1,2,8,2,1,2,1];b=z.ee.pi(b);z.ee.zSM(g,t,W.k,W.$,b);
z._M($,4294967295);z.Gn(t,$,3);for(var f=0;f<x;f++)if(g[f]==255){$[f<<2]=$[(f<<2)+1]=$[(f<<2)+2]=0;$[(f<<2)+3]=255}return{tG:$,e:W,hs:new kY(W.k/2,W.$/2)}};
uf.od="0";uf.ug="1";uf.un="2";uf.XG="3";var Wg={};Wg.sj=function(h,R){var d=h._A(),t;if(d.x==Infinity||d.dp())return{tP:z.h(0),e:new A,bz:new A};
var L=h._A(),$=Wg.X$(h,R),W=z.G.yl($.B);if(W.dp())return{tP:z.h(0),e:new A,bz:new A};var M=e.X("canvas","");
M.width=W.k;M.height=W.$;var x=M.getContext("2d");x.translate(-W.x,-W.y);Wg.zPx($,x);if(h.U$.length!=0){var g=x.getImageData(0,0,W.k,W.$);
t=new Uint8Array(g.data.buffer)}else t=z.h(W.s()*4);return{tP:t,e:W,bz:L}};Wg.X$=function(h,R){var d={D:[],B:[]};
Wg.zPT(h,d);if(!z.Mp.Lp(R.gf)){var L=z.G.oY(d.B);d=z.G.zs(d);d=z.G.zo(d,Math.min(L.k,L.$)/8);var $=uM.OG(R,h),W=z.Mp.Qs(R.gf,$);
z.be.apply(W,d.B,$)}var M=R.V;z.G.V(d.B,M,d.B);return d};Wg.zPx=function(h,R){Typr.U.pathToContext({crds:h.B,cmds:h.D},R)};
Wg.zng=!1;Wg.na=function(h,R){if(zH.zgR==null){if(!Wg.zng){zH.zwe();Wg.zng=!0}return!1}var d=h.h_,L=d.ResourceDict.FontSet,$=d.ResourceDict.StyleSheetSet[0].StyleSheetData,W=d.EngineDict.StyleRun.RunLengthArray,M=d.EngineDict.StyleRun.RunArray,x=uM.Yk(d),t=!0,g={},r=0;
for(var l=0;l<M.length;l++){var H=M[l].StyleSheet.StyleSheetData.Font;if(H==null)H=$.Font;for(var y=0;
y<W[l];y++){var f=x.charCodeAt(r+y),b=H+","+(f>128?f:-1);if(g[b]==null){g[b]=1;if(R.IO(L[H].Name,f)==null)t=!1}}r+=W[l]}return t};
Wg.zPT=function(h,R){var d=new um;for(var L=0;L<h.Rx.length;L++)Wg.zPH(h.U$,h.Rx[L],R,d)};Wg.zPH=function(h,R,d,L){L.translate(R.KP.x,R.KP.y);
for(var $=0;$<R._U.length;$++){var W={},M=R._U[$];if(!M._x)break;L.translate(M.KP.x,M.KP.y);for(var x=M.start;
x<M.end;x++)Wg.zPr(h,R.CX[x],R,W,d,L);L.translate(-M.KP.x,-M.KP.y)}L.translate(-R.KP.x,-R.KP.y)};Wg.zPU="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
Wg.zPr=function(h,R,d,L,$,W){W.translate(R.KP.x,R.KP.y);for(var M=R.rA;M<=R.qI;M++){var x=d.nf[M],t=x.e.k,g=h[d.zIC+x.Cj];
if(g.bS=="\n")continue;var r=g.We.FontSize/g.tO.head.unitsPerEm,l=uM.IZ(g.We),H=(Math.round(l.H)<<16)+(Math.round(l.N)<<8)+Math.round(l.W);
$.D.push("#"+z.zJ(H));var y=W.clone();y.translate(x.KP.x+x.XO*r,x.KP.y-x.XI*r);var f=new um;f.scale(r,-r);
if(g.Fv==1&&Wg.zPU.indexOf(g.bS)!=-1)f.concat(new um(-1,0,0,1,t,0));if(g.We.FauxItalic)f.concat(new um(1,0,-Math.tan(.18),1,0,0));
f.translate(0,g.XT);f.scale(g.scale.x,g.scale.y);if(g.We.BaselineShift!=null)f.translate(0,-g.We.BaselineShift);
if(x.bX!=0){f.rotate(-x.bX)}f.concat(y);if(x.path.D.length!=0&&g.bS!="\t"){if(g.We.FauxBold){var b=g.We.FontSize/2048*27*g.scale.x;
f.RZ+=b;z.G.concat($,x.path,f);f.RZ-=b+b;z.G.concat($,x.path,f)}else z.G.concat($,x.path,f)}if(g.bS!="\n"){if(g.We.Underline){if(L.XH==null)L.XH=g.tO.post.underlineThickness;
if(L.zIo==null)L.zIo=g.tO.post.underlinePosition;var K=0,Z=L.zIo-L.XH/2,J=x.lV*1.05,u=-L.XH;z.G.concat($,{D:["M","L","L","L","Z"],B:[K,Z,K+J,Z,K+J,Z+u,K,Z+u]},f)}if(g.We.Strikethrough){var C=g.tO["OS/2"].yStrikeoutSize,Q=g.tO["OS/2"].yStrikeoutPosition,K=0,Z=Q+C/2,J=x.lV*1.05,u=-C;
z.G.concat($,{D:["M","L","L","L","Z"],B:[K,Z,K+J,Z,K+J,Z+u,K,Z+u]},f)}}$.D.push("X")}W.translate(-R.KP.x,-R.KP.y)};
function zH(h,R){var d=uM.NZ(h),L,$,W=uM.Rh(h),t;if(h.Curve)$=zH.Xx(h.Curve);if(d!=0){L=new A(W[0],W[1],W[2],W[3]);
if(d==2){L.k=$[5]-$[4];L.$=9999}}this.Rx=[];this.U$=[];this.cP=d;var M=uM.Yk(h),x=-1;for(var g=0;g<M.length;
g++){var r=t,l=uM.zde(h,g),u=0;if(l!=x){x=l;r=t=uM.zwR(h,g)}var H={bS:M.charAt(g),We:r,tO:null,zL:-1,XT:0,scale:new kY(0,0),ic:0,lineHeight:0,Fv:0},y=h.ResourceDict.FontSet[r.Font].Name,f=H.tO=R.IO(y,M.charCodeAt(g));
H.scale.x=r.HorizontalScale==null?1:r.HorizontalScale;H.scale.y=r.VerticalScale==null?1:r.VerticalScale;
var b=f["OS/2"],K=f.hhea;if(r.FontCaps==1&&H.bS!=H.bS.toUpperCase()){var Z=b.sxHeight?b.sxHeight/b.sTypoAscender:.76;
H.scale.x*=Z;H.scale.y*=Z}var J=1/f.head.unitsPerEm*r.FontSize;if(r.FontBaseline==1){var Z=h.ResourceDict.SuperscriptSize;
H.scale.x*=Z;H.scale.y*=Z;H.XT-=h.ResourceDict.SuperscriptPosition*r.FontSize}if(r.FontBaseline==2){var Z=h.ResourceDict.SubscriptSize;
H.scale.x*=Z;H.scale.y*=Z;H.XT+=h.ResourceDict.SubscriptPosition*r.FontSize}if(u==0&&b&&b.sxHeight&&y.toLowerCase().indexOf("capitals")!=-1)u=b.sxHeight;
if(u==0&&b&&b.sCapHeight)u=b.sCapHeight;if(u==0&&b&&b.sTypoAscender)u=b.sTypoAscender;if(u==0)u=K.ascender;
H.ic=u*J;H.lineHeight=r.FontSize*1.2;if(r.AutoLeading==!1)H.lineHeight=r.Leading;this.U$.push(H)}var C=this.Rx,Q=[0];
for(var g=0;g<h.EngineDict.ParagraphRun.RunLengthArray.length;g++){var i=new zH._g(h,R,this.U$,g,L,Q,d==1?$:null);
C.push(i)}if(d==2){var j=h.Curve.Points,V=$[0],E=$[1],N=$[2],n=$[3],a=$[4],I=$[5];for(var g=0;g<C.length;
g++)for(var q=0;q<C[g]._U.length;q++)if(!(g==0&&q==0))C[g]._U[q]._x=!1;var i=C[0],k=i._U[0];i.KP.qC(0,0);
k.KP.qC(0,0);for(var q=k.start;q<k.end;q++){var F=i.CX[q],o=F.KP.x;F.KP.x=0;for(var G=F.rA;G<=F.qI;G++){var w=i.nf[G],U=w.e.k/2;
w.KP.x+=o;var B=zH.zNW(V,(a+w.KP.x+U)%n);w.KP.x=B[0]-U*B[2];w.KP.y=B[1]-U*B[3];w.bX=Math.atan2(B[3],B[2])}}}}zH.prototype.zPc=function(){return!this.ztW(0)};
zH.prototype.zPv=function(){return this.ztW(1)};zH.prototype.ztW=function(h){var R=this.Rx,d=!0,L=0;
for(var $=0;$<R.length;$++){var W=R[$]._U,M=W.length;L+=M;for(var x=0;x<M;x++)d&=W[x]._x}return[d,L][h]};
zH.Xx=function(h){var R=h.Points,d=R.length,L=d>>>3,$=h.TextOnPathTRange,W=h.Reversed,l=0,H=0;if(W){var M=R.slice(0);
for(var x=0;x<d;x+=2){M[x]=R[d-2-x];M[x+1]=R[d-1-x]}R=M;$=[L-$[1]%L,L-$[0]%L]}var t=[],g=[0],r=[0];for(var x=0;
x<d;x+=8){var y=R[x+6]-R[x+0],f=R[x+7]-R[x+1],b=Math.round(4*Math.sqrt(y*y+f*f));for(var K=0;K<b;K++){var Z=K/b,J=1-Z,u=J*J*J*R[x+0]+3*J*J*Z*R[x+2]+3*J*Z*Z*R[x+4]+Z*Z*Z*R[x+6],C=J*J*J*R[x+1]+3*J*J*Z*R[x+3]+3*J*Z*Z*R[x+5]+Z*Z*Z*R[x+7];
t.push(u,C);if(x+K!=0){var y=u-l,f=C-H;r.push(r[r.length-1]+Math.sqrt(y*y+f*f));g.push((x>>>3)+Z)}l=u;
H=C}}var Q=r.length,i=r[Q-1],j=zH._m($[0],g),V=zH._m($[1]%L,g),E=r[j%Q],N=r[V%Q];if(E>=N)N+=i;return[t,g,r,i,E,N]};
zH._m=function(h,R){var d=0;while(R[d]<h)d++;return d};zH.zNW=function(h,R){var d=0,L=0,$,W,M;while(d<R){$=h[L+2]-h[L];
W=h[L+3]-h[L+1];M=Math.sqrt($*$+W*W);d+=M;L+=2}return[h[L],h[L+1],$/M,W/M]};zH.prototype.zNF=function(h){return this.U$[h]};
zH.prototype.zSz=function(h){for(var R=0;R<this.Rx.length;R++){var d=this.Rx[R];for(var L=0;L<d._U.length;
L++){var $=d._U[L],W=d.CX[$.start].start,M=d.CX[$.end-1].end;if(W<h&&h<M)return[W,M-1]}}return[0,1]};
zH.prototype.zhP=function(h,R){var d=-1,L=this.Rx;if(this.cP==2){var $=1e9,W=0,M=L[0],x=M._U[0];for(var t=x.start;
t<x.end;t++){var g=M.CX[t];for(var r=g.rA;r<=g.qI;r++){var l=M.nf[r],H=l.e.k,y=h.x-l.KP.x,f=h.y-l.KP.y,b=y*y+f*f;
if(b<$){$=b;W=l.Cj}}}return W}for(var K=0;K<L.length;K++){var M=L[K];for(var Z=0;Z<M._U.length;Z++){d++;
var x=M._U[Z],J=M._U[Z+1];if(J==null&&K<L.length-1)J=L[K+1]._U[0];if(R!=null){if(d!=R)continue}else{if(J!=null&&M.KP.y+x.KP.y<h.y)continue}for(var t=x.start;
t<x.end;t++){var g=M.CX[t];for(var r=g.rA;r<=g.qI;r++){var l=M.nf[r],H=l.e.k,u=M.KP.x+x.KP.x+g.KP.x,C=u+l.KP.x,Q=u+(r<g.qI?M.nf[r+1].KP.x:l.KP.x+H);
if(h.x<=Q||t+1==x.end&&r==g.qI){var i=M.zIC+l.Cj,j=this.U$[i],V=j.Fv&1;if(j.bS!="\n"&&(V==0&&h.x>C+H/2||V==1&&h.x<C+H/2))i++;
return i}}}}}};zH.prototype.Xr=function(h){var R={e:new A,lx:0},d=0;for(var L=0;L<this.Rx.length;L++){var $=this.Rx[L];
for(var W=0;W<$._U.length;W++){var M=$._U[W];R.lx=d;d++;for(var x=M.start;x<M.end;x++){var t=$.CX[x];
for(var g=t.start;g<t.end;g++){if(g==h){var r=this.U$[g],l=r.zL,H=$.nf[l].Cj,y=1;while($.nf[l]!=null&&$.nf[l].Cj==H){var f=$.nf[l],b=$.KP.x+M.KP.x+t.KP.x+f.KP.x,K=$.KP.y+M.KP.y+t.KP.y+f.KP.y;
R.e=R.e.DM(new A(b,K-r.lineHeight,f.e.k,r.lineHeight));R.bX=f.bX;l+=y}return R}}}}}};zH.prototype._A=function(){var h=Infinity,R=Infinity,d=-Infinity,L=-Infinity;
for(var $=0;$<this.Rx.length;$++){var W=this.Rx[$];for(var M=0;M<W._U.length;M++){var x=W._U[M];if(!x._x)break;
for(var t=x.start;t<x.end;t++){var g=W.CX[t];for(var r=g.rA;r<=g.qI;r++){var l=W.nf[r],H=l.e,y=W.KP.x+x.KP.x+g.KP.x+l.KP.x,f=W.KP.y+x.KP.y+g.KP.y+l.KP.y;
h=Math.min(h,y+H.x);R=Math.min(R,f+H.y);d=Math.max(d,y+H.x+H.k);L=Math.max(L,f+H.y+H.$)}}}}return new A(h,R,d-h,L-R)};
zH.zqs=function(h){return 19968<=h&&h<=40959||12288<=h&&h<=12543};zH.zSd=function(h,R,d,L,$,W,M){var x=[W],t=0;
for(var g=W;g<M;g++){if(d[g]==null)console.log(g,W,M,d);var r=d[g].bS,l=r.charCodeAt(0);if(l==32||l==9){x.push(t,g,1,g+1);
t=0}else if(l==3851){x.push(t+1,g+1);t=0}else if(zH.zqs(l)){x.push(t,g);t=1}else if(g!=W&&d[g].Fv!=d[g-1].Fv){x.push(t,g);
t=1}else t++}x.push(t);var H=[];for(var g=0;g<x.length;g+=2){var y=x[g],f=x[g+1];if(f==0)continue;H.push(new zH.zwa(h,R,d,L,$,y,f))}return H};
zH.zSE=function(h,R,d,L,$,W,M){var x=[0,R?R.k:1e9],t=[];if(L){var g=h[W].ic,r=$+($==0?g:h[W].lineHeight),l=r-g*.9,H=z.G.tm(L[0],l),y=H.length,f=z.G.tm(L[0],r),b=f.length;
if(y!=0&&b!=0){var K=0,Z=0;x=[];while(K<y&&Z<b){var J=Math.max(H[K],f[Z]),u=H[K+1],C=f[Z+1],Q=Math.min(u,C);
if(J<Q)x.push(J,Q);if(u<C)K+=2;else Z+=2}}}for(var i=0;i<x.length;i+=2){var j=x[i+1]-x[i],V=0,E=W,N=R?j-d.StartIndent-d.EndIndent-(W==0?d.FirstLineIndent:0):Infinity;
while(W!=h.length){var n=h[W],a=V==0||(n.xb||n.Tz)||V+n.e.k<N;if(!a)break;V+=n.e.k;W++}t.push(W-E)}M[0]=t;
M[1]=x;M[2]=W};zH.zSr=function(h,R){var d=h.length,L=new Uint32Array(d),$=new Uint8Array(d),W=0;for(var M=0;
M<d;M++){$[M]=0;var x=h.charCodeAt(M);L[M]=x;if(x>W)W=x}if(W>1424)$=zH.zCx(L,R);return $};zH._g=function(h,R,d,L,$,W,M){this.CX=[];
this._U=[];this.KP=new kY(0,0);this.nf=null;this.CX=null;this.We=uM.zwc(h,L);var x=this.We,l=0,b="",C=0,Q=1,D=0;
if(L!=0){var t=x.SpaceBefore;if(t!=null)W[0]+=t}var g=h.EngineDict.ParagraphRun.RunLengthArray,r=g[L];
for(var H=0;H<L;H++)l+=g[H];var y=x._Direction?x._Direction:0;this.zIC=l;var f=uM.Yk(h).slice(l,l+r);
for(var K=0;K<f.length;K++){var Z=f.charAt(K);b+=d[l+K].We.FontCaps==0?Z:Z.toUpperCase()}f=b;var J=zH.zSr(f,y),u=[],i=J[H]&1,j=d[l].tO;
d[l].Fv=J[0];for(var H=1;H<f.length;H++){var Z=d[l+H],V=J[H];Z.Fv=V;if(V!=i||Z.tO!=j){u.push(C,Q);C=H;
Q=1;i=V;j=Z.tO}else Q++}u.push(C,Q);var E=this.nf=[];for(var H=0;H<u.length;H+=2){var N=u[H],n=u[H+1],a=(d[l+N].Fv&1)==0,I=f.slice(N,N+n),q=zH.zgR(d[l+N].tO,I,a),k=[],G=0;
for(var K=0;K<q.length;K++){var F=q[K];k.push({N:F.g,Cj:F.cl,lV:F.ax,ZE:F.ay,XO:F.dx,XI:F.dy})}q=k;var o=q.slice(0);
if(!a)o.reverse();for(var K=0;K<I.length;K++){while(G+1<o.length&&o[G+1].Cj<=K){G++}while(G>0&&o[G-1].Cj==K)G--;
d[l+N+K].zL=E.length+(a?G:o.length-G-1)}for(var K=0;K<q.length;K++){E.push(q[K]);q[K].Cj+=N;var Z=d[l+q[K].Cj];
if(Z.bS=="\n")q[K].lV=0;if(Z.bS=="\t")q[K].lV=Z.tO.head.unitsPerEm*2}}var w=uM.di(x),U=this.CX=zH.zSd(h,R,d,l,E,l,l+r),B=this._U,P=-1,b=[null,null,0];
while(D<U.length){zH.zSE(U,$,x,M,W[0],D,b);P++;var v={start:D,end:0,e:new A,KP:new kY(0,0),_x:!0},ue=0,up=0;
B.push(v);v.end=b[2];var O=v.end==U.length;function uk(o,N,uN){var u_=uN-N>>>1;for(var H=0;H<u_;H++){var za=o[N+H];
o[N+H]=o[uN-1-H];o[uN-1-H]=za}}for(var ut=1;ut<5;ut++){var ua=-1;for(var H=v.start;H<v.end;H++){var V=d[U[H].start].Fv;
if(ua==-1&&V>=ut)ua=H;else if(ua!=-1&&V<ut){uk(U,ua,H);ua=-1}}var uu=v.end;if(y==0&&U[uu-1].xb)uu--;
if(ua!=-1)uk(U,ua,uu)}var uW=b[0],kV=b[1],ua=D,p=D;for(var _=0;_<uW.length;_++){var uB=kV[_*2+1]-kV[_*2],ub=0;
ua=p;p+=uW[_];var uq=this.zSX(ua,p,U,y,$!=null);if($){if(w==1||O&&w==4)ub=uq[1]+(uB-uq[0]);if(w==2||O&&w==5)ub=uq[1]+(uB-uq[0])/2;
if(P==0)ub+=x.FirstLineIndent;ub+=x.StartIndent}else{if(w==0)ub=x.StartIndent+x.FirstLineIndent;if(w==1)ub=-uq[0]-x.EndIndent;
if(w==2)ub=-uq[0]/2}ub+=kV[_*2];if($&&w>2&&(w==6||!O))this.zSo(ua,p,U,uB,y,ub);else{var uF=ub;for(var H=ua;
H<p;H++){U[H].KP.x=uF;uF+=U[H].e.k}}}D=v.end;for(var H=v.start;H<v.end;H++){var ui=U[H].e.clone();ui.wt(U[H].KP);
v.e=v.e.DM(ui);ue=Math.max(ue,U[H].ic);up=Math.max(up,U[H].lineHeight)}v.KP.y=P==0?0:B[P-1].KP.y+up;
if(P==0){if(L==0&&$)W[0]+=ue;if(L!=0)W[0]+=up;this.KP.y=W[0]}else W[0]+=up;if($)v._x=this.KP.y+v.KP.y<$.y+$.$}var zd=x.SpaceAfter;
if(zd!=null)W[0]+=zd};zH._g.prototype.zSX=function(h,R,d,L,$){var W=0,M=0;for(var x=h;x<R;x++)W+=d[x].e.k;
if($){if(L==0)for(var x=R-1;x>=h;x--)if(d[x].xb||d[x].Tz)W-=d[x].e.k;else break;if(L==1)for(var x=h;
x<R;x++)if(d[x].xb||d[x].Tz){var t=d[x].e.k;W-=t;M-=t}else break}return[W,M]};zH._g.prototype.zSo=function(h,R,d,L,$,W){var M=0,x=0,t=0,g=0;
for(var r=h;r<R;r++)if(d[r].xb)t++;else{M+=d[r].e.k;x++}if($==0)for(var r=R-1;r>=h;r--)if(d[r].xb||d[r].Tz){if(d[r].xb){t--}}else break;
if($==1)for(var r=h;r<R;r++)if(d[r].xb||d[r].Tz){if(d[r].xb){t--;g++}}else break;if(x<=1||t==0){if(x==1)d[h].KP.x=W;
return}var l=(L-M)/t,H=-g*l;for(var r=h;r<R;r++){if(d[r].xb)this.nf[d[r].rA].e.k=d[r].e.k=l;d[r].KP.x=W+H;
H+=d[r].e.k}};zH.zwa=function(h,R,d,L,$,W,M){this.JO="";for(var x=0;x<M;x++)this.JO+=d[W+x].bS;this.xb=M==1&&(d[W].bS==" "||d[W].bS=="\t");
this.Tz=M==1&&d[W].bS=="\n";this.start=W;this.end=W+M;this.e=new A;this.KP=new kY(0,0);this.ic=0;this.lineHeight=0;
var t=0,g=0;if(M==0){this.lineHeight=d[W].lineHeight;this.ic=d[W].ic;this.e=new A(0,-d[W].lineHeight,0,d[W].lineHeight)}var r=d[W].zL,l=d[W+M-1].zL;
if(l<r){var H=r;r=l;l=H}while(l+1<$.length&&$[l].Cj==$[l+1].Cj){l++}this.rA=r;this.qI=l;for(var y=r;
y<=l;y++){var f=$[y],b=d[L+f.Cj],K=1/b.tO.head.unitsPerEm*b.We.FontSize,C=0;if(!b.We.AutoKerning)t+=b.We.Kerning*2*K*b.scale.x;
var Z=f.lV*K*b.scale.x;f.KP=new kY(t,0);f.bX=0;f.e=new A(0,-b.lineHeight,Z,b.lineHeight);var J=Typr.U.glyphToPath(b.tO,f.N);
f.path={D:J.cmds,B:J.crds};var u=f.e.clone();u.wt(f.KP);if(b.We.Tracking!=null)C=b.We.Tracking*.001*b.We.FontSize;
if(b.We.FauxBold==!0)C+=.027*b.We.FontSize;t+=Z+C;if(M==1&&(b.bS==" "||b.bS=="\t"))u.k+=2*C;else if(M==1&&b.bS!=null&&zH.zqs(b.bS.charCodeAt(0)))u.k+=C;
this.e=this.e.DM(u);this.ic=Math.max(this.ic,b.ic);this.lineHeight=Math.max(this.lineHeight,b.lineHeight)}};
zH.zwe=function(){fetch("code/external/hb.wasm").then(function(h){return h.arrayBuffer()}).then(function(h){return WebAssembly.instantiate(h)}).then(function(h){h.instance.exports.memory.grow(700);
zH.zCJ=hbjs(h.instance);zH.zgR=function(){var R=function(d){var L=0;if((d&4294967295-(1<<7)+1)==0){L=1}else if((d&4294967295-(1<<11)+1)==0){L=2}else if((d&4294967295-(1<<16)+1)==0){L=3}else if((d&4294967295-(1<<21)+1)==0){L=4}return L};
return function(d,L,$){var W=zH.zCJ,M=d._data,x=uo.S$(d),t=zH.zak,K=0,Z=0;if(zH.zaW!=x){if(t!=null){t[0].free();
t[1].free();t[2].free()}var g=W.createBlob(M),r=W.createFace(g,0),l=W.createFont(r);zH.zak=t=[g,r,l];
zH.zaW=x}var l=t[2],H=W.createBuffer(),y=T.kU(L);H.addText(y);H.setDirection($?"ltr":"rtl");H.guessSegmentProperties();
H.shape(l);var f=H.json(l);H.free();var b=f.slice(0);if(!$)b.reverse();for(var J=1;J<b.length;J++){var u=b[J],C=u.cl;
while(Z+R(L.charCodeAt(K))<=C){Z+=R(L.charCodeAt(K));K++}u.cl=K}return f}}();fetch("code/external/fribidi.wasm").then(function(R){return R.arrayBuffer()}).then(function(R){return WebAssembly.instantiate(R)}).then(function(h){var R=h.instance.exports,d=R.memory,W=16,M=256,x=1;
d.grow(400);var L=new Uint8Array(d.buffer),$=new Uint32Array(d.buffer),t=W|M,g=W|M|x;zH.zCx=function(l,H){var y=l.length,f=R.calloc(y*4+4+y*4+y*4+y,1),b=f+y*4,K=b+4,Z=K+y*4,J=Z+y*4;
$.set(l,f>>>2);$[b>>>2]=H==0?t:g;R.fribidi_get_bidi_types(f,y,K);R.fribidi_get_bracket_types(f,y,K,Z);
R.fribidi_get_par_embedding_levels_ex(K,Z,y,b,J);var u=L.slice(J,J+y);R.free(f);return u};var r=new X(e.E.Z,!0);
r.data={c:e.j.nY,nU:"add",Ns:uh.ze,_J:null};uo.sG.R(r)})})};function uM(){}uM.kF=function(h){return JSON.parse(JSON.stringify(h))};
uM.dB=function(h,R){for(var d in R)h[d]=R[d]};uM.gD=function(h,R,d){var L=uM.zpM();if(d)uM.sp(L,0,0,d);
var $={V:new um(1,0,0,1,Math.round(h),Math.round(R)),h_:L};$.gX=uM.zjB();$.gf=z.Mp.h();$.bz=new A;return $};
uM.zFV=function(h){var R=["CharacterDirection",0];for(var d=0;d<R.length;d+=2){if(h[R[d]]!=null&&h[R[d]]!=R[d+1]){throw"e";
console.log(R[d],h[R[d]])}}if(h instanceof Array)for(var d=0;d<h.length;d++)uM.zFV(h[d]);else if(h instanceof Object)for(var L in h)uM.zFV(h[L])};
uM.di=function(h,R){if(R==null)R=h.Justification;var d=h._Direction?h._Direction:0;if(d==1){if(R==0||R==3)R++;
else if(R==1||R==4)R--}return R};uM.dN=function(h){if(h.add==null)return;var R=h.h_,d=R.Curve,L=h.add.vmsk,$=L.r,W=z.G.yJ($,!0).B,M=h.V.clone();
M.Gv();z.G.V(W,M,W);var x=W.slice(0,8);for(var t=8;t<W.length;t+=6)x.push(W[t-2],W[t-1],W[t],W[t+1],W[t+2],W[t+3],W[t+4],W[t+5]);
d.Points=x;d.TextOnPathTRange=L.nD.slice(0);d.Reversed=L.qv;if(uM.NZ(R)==1){var d=zH.Xx(R.Curve),g=z.G.oY(d[0]);
uM.RY(R,[0,0,g.k,g.$].map(Math.round));for(var r=0;r<x.length;r+=2){x[r]-=g.x;x[r+1]-=g.y}var l=new um(1,0,0,1,g.x,g.y);
l.concat(h.V);h.V=l}};uM.GY=function(h){if(h.add==null)return;var R=h.add.vmsk,d=h.h_.Curve,L=d.Points,$={D:["M"],B:[L[0],L[1]]};
for(var W=0;W<L.length;W+=8){$.D.push("C");$.B.push(L[W+2],L[W+3],L[W+4],L[W+5],L[W+6],L[W+7])}z.G.V($.B,h.V,$.B);
var M=z.G.yp($,!0);R.r=M;R.qv=d.Reversed;R.nD=d.TextOnPathTRange.slice(0);h.add.vogk=S.kd(M)};uM.IZ=function(h){var R={H:0,N:0,W:0};
if(h.FillColor){var d=h.FillColor,L=d.Values;if(d.Type==1)R={H:L[1]*255,N:L[2]*255,W:L[3]*255};else if(d.Type==2){var $={classID:"CMYC",Cyn:{t:"doub",v:L[1]*100},Mgnt:{t:"doub",v:L[2]*100},Ylw:{t:"doub",v:L[3]*100},Blck:{t:"doub",v:L[4]*100}};
R=z.i.IZ($)}else console.log("Unknown color type")}return R};uM.zwP=function(h){for(var R=0;R<h.length;
R++){var d=h[R].StyleSheet.StyleSheetData,L=d.FillColor;if(L&&L.Type==2){var $=uM.IZ(d);L.Type=1;L.Values=[1,$.H/255,$.N/255,$.W/255]}}};
uM.OG=function(h,R){var d;if(uM.NZ(h.h_)==1){var L=uM.Rh(h.h_);d=new A(0,0,L[2]-L[0],L[3]-L[1])}else d=R._A();
return d};uM.wq=function(h){var R=h[0];for(var d=0;d<h.length;d++)R=uM.zwD(R,h[d]);return R};uM.zwD=function(h,R){var d={};
for(var L in h)if(JSON.stringify(h[L])==JSON.stringify(R[L]))d[L]=h[L];return d};uM.xY=function(h,R){var d=h.lw,L=-1;
for(var $=0;$<d.length;$++)if(d[$].Name==R)L=$;if(L==-1){L=d.length;d.push({FontType:1,Name:R,Script:0,Synthetic:0})}h.U$.Font=L};
uM.Yk=function(h){return h.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};uM._I=function(h,R){h.EngineDict.Editor.Text=R.replace(/\n/g,"\r")};
uM.NZ=function(h){return h.Curve&&h.Curve.TextOnPathTRange[0]>=0?2:h.EngineDict.Rendered.Shapes.Children[0].ShapeType};
uM.sw=function(h,R){var d=h.EngineDict.Rendered.Shapes.Children[0];d.ShapeType=R;var L=d.Cookie.Photoshop;
L.ShapeType=R;L.Base.ShapeType=R;if(R==0){delete L.BoxBounds;L.PointBase=[0,0]}if(R==1){delete L.PointBase;
L.BoxBounds=[0,0,1,1]}};uM.Rh=function(h){return h.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
uM.RY=function(h,R){h.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=R};uM.zwR=function(h,R){return uM.zwf(h,uM.zde(h,R))};
uM.zde=function(h,R){var d=h.EngineDict.StyleRun.RunLengthArray;return uM.Jg(d,R).uR};uM.zwf=function(h,R){var d=h.ResourceDict.StyleSheetSet[0].StyleSheetData,L={};
for(var $ in d)L[$]=d[$];var W=h.EngineDict.StyleRun.RunArray[R].StyleSheet.StyleSheetData;uM.dB(L,W);
return L};uM.zwc=function(h,R){var d=h.ResourceDict.ParagraphSheetSet[0].Properties,L={};for(var $ in d)L[$]=d[$];
var W=h.EngineDict.ParagraphRun.RunArray[R].ParagraphSheet.Properties;uM.dB(L,W);var M=["StartIndent","EndIndent","FirstLineIndent"];
for(var x=0;x<3;x++)if(L[M[x]]==null)L[M[x]]=0;return L};uM.sq=function(h,R,d){if(d=="")return;var L=uM.Yk(h);
uM._I(h,L.substring(0,R)+d+L.substring(R,L.length));var $=h.EngineDict.StyleRun,W=$.RunLengthArray,M=uM.Jg(W,R-1);
W[M.uR]+=d.length;var x=h.EngineDict.ParagraphRun,W=x.RunLengthArray,t=uM.Jg(W,R),g=d.split("\n");if(g.length==1){W[t.uR]+=d.length;
return}W.splice(t.uR+1,0,W[t.uR]-(R-t.rO));x.RunArray.splice(t.uR+1,0,uM.kF(x.RunArray[t.uR]));W[t.uR]-=W[t.uR+1];
W[t.uR]+=g[0].length+1;for(var r=1;r<g.length-1;r++){x.RunArray.splice(t.uR+r,0,uM.kF(x.RunArray[t.uR+r-1]));
x.RunLengthArray.splice(t.uR+r,0,g[r].length+1)}W[t.uR+g.length-1]+=g[g.length-1].length};uM._K=function(h,R,d){var L=uM.Yk(h);
uM._I(h,L.substring(0,R)+L.substring(d,L.length));uM.zen(h.EngineDict.ParagraphRun,R,d,!0);uM.zen(h.EngineDict.StyleRun,R,d,!1)};
uM.zen=function(h,R,d,L){var $=h.RunLengthArray,W=uM.Jg($,R),M=uM.Jg($,d),x=[];for(var t=0;t<$.length;
t++)for(var g=0;g<$[t];g++)x.push(t);x.splice(R,d-R);var r=[];for(var t=0;t<$.length;t++)r.push(0);for(var t=0;
t<x.length;t++)r[x[t]]++;for(var t=0;t<$.length;t++){if(r[t]==0){r.splice(t,1);$.splice(t,1);h.RunArray.splice(t,1);
t--}else if(r[t]<$[t])$[t]=r[t]}if(L&&W.uR!=M.uR&&W.rO!=R){$[W.uR]+=$[W.uR+1];$.splice(W.uR+1,1);h.RunArray.splice(W.uR+1,1)}};
uM.sp=function(h,R,d,L){var $=h.EngineDict.Editor.Text.length;if(d==$-2)d++;if(L.U$.Font!=null)h.ResourceDict.FontSet=L.lw.slice(0);
if(R<=d)uM.ziL(h.EngineDict.StyleRun,L.U$,R,d,!0);uM.ziL(h.EngineDict.ParagraphRun,L.Rx,R,d,!1)};uM.ziL=function(h,R,d,L,$){var W=h.RunLengthArray;
if($){var M=uM.Jg(W,d);if(M.rO!=d){var x=W[M.uR];W.splice(M.uR,0,d-M.rO);W[M.uR+1]=x-W[M.uR];h.RunArray.splice(M.uR+1,0,uM.kF(h.RunArray[M.uR]))}var t=uM.Jg(W,L);
if(t.rO+W[t.uR]-1!=L){var x=W[t.uR];W.splice(t.uR,0,L-t.rO+1);W[t.uR+1]=x-W[t.uR];h.RunArray.splice(t.uR+1,0,uM.kF(h.RunArray[t.uR]))}}var M=uM.Jg(W,d),t=uM.Jg(W,L);
if($)for(var g=M.uR;g<=t.uR;g++)uM.dB(h.RunArray[g].StyleSheet.StyleSheetData,R);else for(var g=M.uR;
g<=t.uR;g++)uM.dB(h.RunArray[g].ParagraphSheet.Properties,R)};uM.zDe=function(h,R,d){var L=h.EngineDict.StyleRun.RunLengthArray,$=[],W=0;
for(var M=0;M<L.length;M++){var x=L[M];for(var t=0;t<x;t++)if(R<=W+t&&W+t<d)$.push(M);W+=x}var g=$[0],r=[];
for(var M=0;M<$.length;M++){var l=$[M]-g;if(l==r.length)r.push(0);r[l]++}return r};uM.zpz=function(h){var R=h.EngineDict.StyleRun,d=R.RunArray,L=R.RunLengthArray;
for(var $=0;$<L.length-1;$++){var W=d[$].StyleSheet.StyleSheetData,M=d[$+1].StyleSheet.StyleSheetData;
if(JSON.stringify(W)==JSON.stringify(M)){d.splice($+1,1);L[$]+=L[$+1];L.splice($+1,1);$--}}};uM.tZ=function(h,R,d){var L={lw:h.ResourceDict.FontSet.slice(0),U$:[],Rx:[]},$=h.EngineDict.StyleRun.RunLengthArray,W=uM.Jg($,R).uR,M=uM.Jg($,d).uR;
for(var x=W;x<=M;x++){var t=uM.kF(h.ResourceDict.StyleSheetSet[0].StyleSheetData),g=h.EngineDict.StyleRun.RunArray[x].StyleSheet.StyleSheetData;
uM.dB(t,g);L.U$.push(t)}var r=h.EngineDict.ParagraphRun.RunLengthArray,l=uM.Jg(r,R).uR,H=uM.Jg(r,d).uR;
for(var x=l;x<=H;x++){L.Rx.push(uM.kF(h.EngineDict.ParagraphRun.RunArray[x].ParagraphSheet.Properties))}L.U$=uM.wq(L.U$);
L.Rx=uM.wq(L.Rx);return L};uM._R=function(h,R){var d,L;d=["FontSize","Leading","BaselineShift"];L=h.U$;
for(var $=0;$<d.length;$++)if(L[d[$]]!=null)L[d[$]]*=R;d=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
L=h.Rx;for(var $=0;$<d.length;$++)if(L[d[$]]!=null)L[d[$]]*=R};uM.zpt=function(){return uM.tZ(uM.zSB,0,0)};
uM.zjB=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
uM.Jg=function(h,R){var d=0,L=0;while(d+h[L]<=R){d+=h[L];L++}return{uR:L,rO:d}};uM.zpM=function(){var h=uM.kF(this.zSB);
return h};uM.zje={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0};
uM.zpj={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
uM.zSB={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(uM.zje))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(uM.zje))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(uM.zpj))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var WE={};WE.zpS=function(h,R,d){var L={};L._98={_0:"i7"};L._0=WE.zpD(h,R,d?d._0:null);L._1=WE.zpL(h,R,L._0,d?d._1:null);
return L};WE.zpD=function(h,R,d){var L={};L._1=WE.zpK(h,d?d._1:null);L._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};
L._3=JSON.parse(JSON.stringify(WE.zpo));L._4=JSON.parse(JSON.stringify(WE.z_k));L._5=WE.zpn(h,L._1._0,d?d._5:null);
L._6=WE.zpx(h,d?d._6:null);L._8=WE.zpR(h,R,d?d._8:null);L._9=WE.z_F;return L};WE.zpK=function(h,R){var d=[],L=[];
for(var $=0;$<h.length;$++){var W=h[$].ResourceDict.FontSet;for(var M=0;M<W.length;M++){var x=W[M];if(L.indexOf(x.Name)!=-1)continue;
d.push(x);L.push(x.Name)}}var t={_0:[]};for(var $=0;$<d.length;$++){var g=d[$],r={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+g.Name,_1:"i"+g.Script,_2:"i"+g.FontType}}};
if(g.Script==0)delete r._0._0._1;t._0.push(r)}return t};WE.zpn=function(h,R,d){var L={_0:[],_1:[]},$={_0:JSON.parse(JSON.stringify(WE.zDQ))};
WE.zSl($._0,h[0].ResourceDict.StyleSheetSet[0],R,h[0].ResourceDict.FontSet);L._0.push($);L._1.push({_0:"i0"});
L._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});L._1.push({_0:"i1"});return L};WE.zpx=function(h,R){var d={_0:[],_1:[]},L={_0:JSON.parse(JSON.stringify(WE._f))};
WE._s(L._0,h[0].ResourceDict.ParagraphSheetSet[0]);d._0.push(L);d._1.push({_0:"i0"});L={_0:JSON.parse(JSON.stringify(WE._f))};
WE._s(L._0,h[0].ResourceDict.ParagraphSheetSet[0]);L._0._0="sBasic Paragraph";L._0._6="i0";d._0.push(L);
d._1.push({_0:"i1"});return d};WE.zpR=function(h,R,d){var L={_0:[]};for(var $=0;$<h.length;$++){var W=h[$].Curve,M={};
L._0.push({_0:M});var x=uM.NZ(h[$]);M._2={};M._2._0="i"+x;if(x==0){M._2._6=["f-1","f-1"];M._2._11={_4:"i-1",_7:!1}}else if(x==1&&W==null){var t=uM.Rh(h[$]),g=t[2],r=t[3];
M._1={_0:WE.d_("f",[0,0,0,0,g,0,g,0,g,0,g,0,g,r,g,r,g,r,g,r,0,r,0,r,0,r,0,r,0,0,0,0])};M._2._6=["f-2","f-2"];
M._2._11={_4:"i-2",_7:!1}}else if(x==1){var t=uM.Rh(h[$]),g=t[2],r=t[3];M._1={_0:WE.d_("f",W.Points)};
M._2._6=["f-3","f-3"];M._2._11={_4:"i-3",_7:!1}}else if(x==2){M._1={_0:WE.d_("f",W.Points)};M._2._6=WE.d_("f",W.TextOnPathTRange);
M._2._11={_0:W.Reversed,_3:"i0",_5:"f0",_7:!1}}}return L};WE.zpL=function(h,R,d,L){var $={};$._0=JSON.parse(JSON.stringify(WE.z_d));
$._1=WE.zpT(h,R,d,L?L._1:null);$._2=JSON.parse(JSON.stringify(WE.zDQ._6));$._3=JSON.parse(JSON.stringify(WE._f._5));
return $};WE.zpT=function(h,R,d,L){var $=[],W=d._1._0;for(var M=0;M<h.length;M++){var x=h[M],t={_0:{}};
$.push(t);var g=L?L[M]:null;t._0._0="s"+x.EngineDict.Editor.Text;t._0._0=t._0._0;var r={_0:[]};t._0._5=r;
var l=x.EngineDict.ParagraphRun;for(var H=0;H<l.RunArray.length;H++){var y={_0:{}};r._0.push(y);y._0._0={_0:"s",_5:{},_6:"i1"};
WE._s(y._0._0,x.EngineDict.ParagraphRun.RunArray[H].ParagraphSheet);y._1="i"+l.RunLengthArray[H]}var f={_0:[]};
t._0._6=f;var b=g?g._0._6:null;l=x.EngineDict.StyleRun;for(var H=0;H<l.RunArray.length;H++){var K={_0:{}};
f._0.push(K);var Z=b?b._0:null;K._0._0={_0:"s",_5:"i1",_6:{}};WE.zSl(K._0._0,x.EngineDict.StyleRun.RunArray[H].StyleSheet,W,x.ResourceDict.FontSet,Z?K._0._0:null);
K._1="i"+l.RunLengthArray[H]}t._0._10={_0:"i4",_2:!0};t._1=WE.view.z_P(x,null,M,null)}return $};WE.zSl=function(h,R,d,L,$){h._0="s"+(R.Name?R.Name:"");
var W=h._6,M=$?$._6:null,x=R.StyleSheetData;if(x.Font==null)return;var t=L[x.Font].Name,g=-1;for(var r=0;
r<d.length;r++)if("s"+t==d[r]._0._0._0){g=r;break}W._0="i"+g;if(x.FontSize!=null)W._1="f"+x.FontSize;
if(x.FauxBold!=null)W._2=x.FauxBold;if(x.FauxItalic!=null)W._3=x.FauxItalic;if(x.AutoLeading!=null)W._4=x.AutoLeading;
if(x.Leading!=null)W._5="f"+x.Leading;if(x.HorizontalScale!=null)W._6="f"+x.HorizontalScale;if(x.VerticalScale!=null)W._7="f"+x.VerticalScale;
if(x.Tracking!=null)W._8="i"+x.Tracking;if(x.BaselineShift!=null)W._9="f"+x.BaselineShift;if(x.AutoKerning!=null)W._11="i"+(x.AutoKerning?1:0);
if(x.FontCaps!=null)W._12="i"+x.FontCaps;if(x.FontBaseline!=null)W._13="i"+x.FontBaseline;if(x.Strikethrough!=null)W._15="i"+(x.Strikethrough?1:0);
if(x.Underline!=null)W._16="i"+(x.Underline?2:0);if(x.Ligatures!=null)W._18=x.Ligatures;if(x.DLigatures!=null)W._19=x.DLigatures;
if(x.Language!=null)W._38="i"+x.Language;if(x.FillColor!=null)W._53={_99:"/SimplePaint",_0:{_0:"i1",_1:WE.d_("f",x.FillColor.Values)}}};
WE._s=function(h,R){h._0="s"+(R.Name?R.Name:"");var d=h._5,L=R.Properties;if(L.Justification!=null)d._0="i"+L.Justification;
if(L.FirstLineIndent!=null)d._1="f"+L.FirstLineIndent;if(L.StartIndent!=null)d._2="f"+L.StartIndent;
if(L.EndtIndent!=null)d._3="f"+L.EndtIndent;if(L.SpaceBefore!=null)d._4="f"+L.SpaceBefore;if(L.SpaceAfter!=null)d._5="f"+L.SpaceAfter;
if(L.AutoHyphenate!=null)d._9=L.AutoHyphenate;if(L._Direction!=null)d._33="i"+L._Direction};WE.d_=function(h,R){var d=[];
for(var L=0;L<R.length;L++)d.push(h+R[L]);return d};WE.zpo={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
WE.z_k={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
WE.zDQ={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
WE._f={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
WE.z_F={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
WE.z_d={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var kr={};kr.z_e=function(h){return kr._o(h,kr.Oo)};kr.zno=function(h){return kr._c(h,kr.Oo)};kr._o=function(h,R){var d;
if(typeof h=="string")return h;if(h instanceof Array){d=[];for(var L=0;L<h.length;L++)d[L]=kr._o(h[L],R)}else{d={};
var $={};for(var W in R){var M=R[W],x="_"+M[0];if(h[x]!=null){d[W]=M[1]?kr._o(h[x],M[1]):h[x];$[x]=!0}}for(var W in h){if($[W]==null){console.log($);
console.log(W,h,R);throw"e"}}}return d};kr._c=function(h,R){var d;if(h instanceof Array){d=[];for(var L=0;
L<h.length;L++)d[L]=kr._c(h[L],R)}else{d={};var $={};for(var W in R){var M=R[W],x="_"+M[0];if(h[W]!=null){d[x]=M[1]?kr._c(h[W],M[1]):h[W];
$[W]=!0}}for(var W in h){if($[W]==null){console.log($);console.log(W,h);throw"e"}}}return d};kr.IS={_StreamTag:[99],_Color:[0,{_Type:[0],_Values:[1]}]};
kr.wc={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,kr.IS],_StrokeColor:[54,kr.IS],_Blend:[55,{_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,kr.IS],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_87:[87],_88:[88]};
kr.zGv={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,kr.wc],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_40:[40]};
kr.zAy={_Name:[0],_Features:[5,kr.zGv],_Parent:[6]};kr.zOC={_Name:[0],_Parent:[5],_Features:[6,kr.wc]};
kr.Oo={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4]}]}]}],_1:[1,{_0:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,kr.zOC]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,kr.zAy]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_7:[7]}],_12:[12]}]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_PredefinedTag:[6]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_11:[11],_15:[15,{_0:[0]}],_16:[16],_17:[17]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,kr.zAy]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,kr.zOC]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}]}],_OriginalNormalStyleFeatures:[2,kr.wc],_OriginalNormalParagraphFeatures:[3,kr.zGv]}]};
WE.view={};WE.view.z_P=function(h,R,d,L){var $={},W=uM.NZ(h);$._0=[{_0:"i"+d}];return $};function CSS(){}CSS.z_D=function(h,R){var d=h.add,L=d.vmsk,$=d.vstk,W=d.lmfx,M=d.TySh,x=[],t=CSS.z_C(W,d);
if(h.ej()&&L){var g=z.t.wZ(L.r);if(!g.dp()){x.push("width: "+Math.round(g.k)+"px");x.push("height: "+Math.round(g.$)+"px")}var r=z.t.zKR(L.r);
if(r>0)x.push("border-radius: "+Math.round(r)+"px")}else if(M){var l=M.h_;if(uM.NZ(l)==1){var g=uM.Rh(l);
x.push("width: "+Math.round(g[2])+"px");x.push("height: "+Math.round(g[3])+"px")}CSS.zMk(x,uM.tZ(l,0,0),M.V,!1,!1,t[0])}var H=[],y=W?W.dropShadowMulti.v:0;
for(var f=0;f<y.length;f++){var b=y[f].v;if(b.enab.v){var K=b.Dstn.v.val,Z=b.lagl.v.val*Math.PI/180;
if(b.uglg&&b.uglg.v)Z=R.kt()*Math.PI/180;var J=K*Math.cos(Z),u=K*Math.sin(Z);H.push("drop-shadow("+(J==0?"0 ":CSS.PK(-J)+"px ")+(u==0?"0 ":CSS.PK(u)+"px ")+b.blur.v.val/2+"px "+CSS.Iw(b.Clr.v,b.Opct.v.val/100)+")")}}if(H.length!=0)x.push("filter: "+H.join(" "));
if(M==null)CSS.z_J(t,x);if($==null||!$.strokeEnabled.v)$=uS.pQ(W);if($&&$.strokeEnabled.v){var C=$.strokeStyleContent.v,Q=C.classID,i=uz.ri.OK.indexOf($.strokeStyleLineCapType.v.strokeStyleLineCapType),j=uz.ri.join.indexOf($.strokeStyleLineJoinType.v.strokeStyleLineJoinType),V=$.strokeStyleOpacity.v.val/100,E=$.strokeStyleLineWidth.v.val,N="";
if(Q=="solidColorLayer")N=CSS.Iw(C.Clr.v,V);x.push("border: "+E+"px solid "+N)}return x};CSS.z_C=function(h,R){var d=uS.pA(h,R),L=d[0],$=d[1],W,M;
if(L){W=CSS.Iw(L.Clr.v,R.iOpa!=null?R.iOpa/255:1)}else if($){M=CSS.xG($)}return[W,M]};CSS.z_J=function(h,R){if(h[0])R.push("background-color: "+h[0]);
if(h[1])R.push("background-image: "+h[1])};CSS.Cn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.PK=function(h){return""+parseFloat(h.toFixed(3))};CSS.UB=function(h){if(h==null)return{H:0,N:0,W:0};
if(h.slice(0,4)=="rgb("){var R=h.slice(4,h.length-1).split(",").map(parseFloat);return{H:R[0],N:R[1],W:R[2]}}if(h.charAt(0)!="#"){var d=CSS.Cn;
if(d[h])h=d[h];else console.log("unknown color "+h)}h=h.slice(1);if(h.length==3)h=h[0]+h[0]+h[1]+h[1]+h[2]+h[2];
h=parseInt(h,16);return{H:h>>16&255,N:h>>8&255,W:h&255}};CSS.Iw=function(h,R){return CSS.Mx(z.i.IZ(h),R)};
CSS.Mx=function(h,R){if(R==null)R=1;var d=Math.round(h.H),L=Math.round(h.N),$=Math.round(h.W),W=d<<16|L<<8|$;
return R==1?"#"+z.zJ(W):"rgba("+d+","+L+","+$+","+R+")"};CSS.xG=function(h){var R=h.Grad.v;if(R.Clrs==null)return"";
var d=R.Clrs.v.slice(0),L=R.Trns.v.slice(0),$=h.Ofst.v,W=h.Type.v.GrdT=="Rdl"?1:0,M=(W==1?"radial":"linear")+"-gradient",x=W==0?Math.round(-h.Angl.v.val+90)+"deg":"circle at center",t=h.Rvrs.v;
if(t){d.reverse();L.reverse()}for(var g=0;g<d.length;g++){var r=d[g].v,l=g<L.length?L[g].v.Opct.v.val/100:1,H=r.Lctn.v/4096;
if(t)H=1-H;x+=", "+CSS.Iw(r.Clr.v,l)+" "+Math.round(H*100)+"%"}return M+"("+x+")"};CSS.zMk=function(h,R,d,L,$,W){var M=R.U$,x=L?1:s.w.NU(d),t=Math.round(M.FontSize*x);
h.push("font-size: "+t+"px");var g=M.Tracking;if(!L&&g!=null&&g!=0)h.push("letter-spacing: "+Math.round(g*t/1e3)+"px");
if(!M.AutoLeading)h.push("line-height: "+Math.round(M.Leading*x)+"px");if(M.Strikethrough)h.push("text-decoration: line-through");
var r=uM.IZ(M);r=[r.H,r.N,r.W].map(Math.round);h.push((L?"fill: ":"color: ")+(W?W:"#"+z.zJ(r[0]<<16|r[1]<<8|r[2])));
var l=R.lw[M.Font].Name;if(l){var H=$,y=uo.sG.IO(l);if(y!=null&&l!=uo.S$(y))y=null;if(H&&y==null)H=!1;
if(H)h.push("font-family: \""+l+"\"");else{var f=null,b=null,K=l.toLowerCase();if(y){f=uo.la(y)[0];if(y["OS/2"])b=y["OS/2"].usWeightClass}else{f=CSS.z_H(l);
if(K.indexOf("light")!=-1)b=300;else if(K.indexOf("medium")!=-1)b=500;else if(K.indexOf("black")!=-1||K.indexOf("extrabold")!=-1)b=800;
else if(K.indexOf("bold")!=-1)b="bold"}if(f!=null)h.push("font-family: \""+f+"\"");if(b!=null)h.push("font-weight: "+b);
if(K.indexOf("italic")!=-1||K.indexOf("oblique")!=-1)h.push("font-style: italic")}}var Z=R.Rx.Justification;
if(Z!=null&&Z!=0)if(L)h.push("text-anchor: "+["start","end","middle"][Z%3]);else h.push("text-align: "+["left","right","center"][Z%3])};
CSS.z_H=function(h){h=h.split("-")[0];while(h.endsWith("MT")||h.endsWith("PS"))h=h.slice(0,h.length-2);
var R=!0;for(var d=0;d<h.length;d++){var L=h.charAt(d);if(!R&&L.toLowerCase()!=L){h=h.slice(0,d)+" "+h.slice(d);
d++;R=!0}else R=!1}return h};function zQ(){}zQ.Xo={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0};
zQ.mz=function(h,R){var d=Date.now(),L;try{L=acorn.parse(h)}catch(zb){console.log(zb);return}var $=JSON.parse(JSON.stringify(zQ.dw.mM));
$.__return=!1;$.__break=!1;$.__throw=!1;$.__fs={};$.__window={};zQ.eval(L,R,$);var W=$.__fs;if(Object.keys(W).length!=0){var M=UZIP.encode(W);
Wk.save(M,"output.zip")}};zQ.eval=function(h,R,d){var L=h.type;if(!1){}else if(L=="Program"||L=="BlockStatement"){var $=h.body;
for(var W=0;W<$.length;W++){var M=$[W].type;if(M=="FunctionDeclaration")d[$[W].id.name]=$[W]}for(var W=0;
W<$.length;W++){var M=$[W].type,x=zQ.eval($[W],R,d);if(d.__return||d.__break||d.__throw)return x}}else if(L=="ReturnStatement"){d.__return=!0;
return h.argument?zQ.$G(h.argument,R,d):null}else if(L=="BreakStatement"){d.__break=!0}else if(L=="VariableDeclaration"){var t=h.declarations;
for(var W=0;W<t.length;W++)zQ.eval(t[W],R,d)}else if(L=="VariableDeclarator"){d[h.id.name]=h.init?zQ.$G(h.init,R,d):null}else if(L=="FunctionDeclaration"){d[h.id.name]=h}else if(L=="MemberExpression"){var g=zQ.$G(h.object,R,d),r=h.computed?zQ.$G(h.property,R,d):zQ.eval(h.property,R,d),x;
if(g.ro!=null)x=zQ.dw.Nc(g,r,R,d);else if(g==window&&zQ.Xo[r]){}else x=g[r];return x}else if(L=="ArrayExpression"){var l=[],H=h.elements;
for(var W=0;W<H.length;W++)l.push(zQ.$G(H[W],R,d));return l}else if(L=="ObjectExpression"){var l={},H=h.properties;
for(var W=0;W<H.length;W++){var y=H[W],f=H[W].key.name?H[W].key.name:H[W].key.value;l[f]=zQ.$G(H[W].value,R,d)}return l}else if(L=="ExpressionStatement"){return zQ.eval(h.expression,R,d)}else if(L=="NewExpression"){var b=h.arguments,K=h.callee,Z=K.type,l=null;
if(Z=="Identifier")l=zQ.dw.zGb(K.name,b,R,d);else throw"e";if(l==null)throw"new "+K.name;return l}else if(L=="CallExpression"){var b=h.arguments,K=h.callee,Z=K.type,J={};
for(var u in d)J[u]=d[u];var C=[];for(var W=0;W<b.length;W++)C.push(zQ.$G(b[W],R,d));if(Z=="Identifier"){var Q=K.name,i=d[Q];
if(i){if(i.params){var j=i.params;for(var W=0;W<j.length;W++)J[j[W].name]=C[W];return zQ.eval(i.body,R,J)}else{return i.apply(null,C)}}else if(zQ.dw.zGi.indexOf(Q)!=-1)return zQ.dw.RV({ro:"Application"},Q,C,R,d);
else if(window[Q]==null)console.log("Unknown function "+Q);else if(zQ.Xo[Q])alert(Q+"() not available");
else{var V=window[Q].apply(window,C);return V}}else if(Z=="MemberExpression"){var g=zQ.$G(K.object,R,d),r=K.computed?zQ.$G(K.property,R,d):zQ.eval(K.property,R,d);
if(g==window&&zQ.Xo[r])return;if(g.ro!=null)return zQ.dw.RV(g,r,C,R,d);else return g[r].apply(g,C)}else console.log(h)}else if(L=="AssignmentExpression"){var E=h.operator,N=h.left,n=N.type,a=zQ.$G(N,R,d),I=zQ.$G(h.right,R,d),x=null;
if(!1){}else if(E=="=")x=I;else if(E=="+=")x=a+I;else if(E=="-=")x=a-I;else if(E=="*=")x=a*I;else if(E=="/=")x=a/I;
else if(E=="%=")x=a%I;else if(E=="&=")x=a&I;else if(E=="|=")x=a|I;else if(E=="&&=")x=a&&I;else if(E=="||=")x=a||I;
else console.log(h);if(n=="Identifier"){var q=N.name;if(d.hasOwnProperty(q))d[q]=x;else d.__window[q]=x}else if(n=="MemberExpression"){var k=zQ.eval(N.property,R,d),F=zQ.$G(N.object,R,d);
if(F.ro!=null)zQ.dw.zGR(F,k,x,R,d);else F[k]=x}else console.log(h)}else if(L=="Identifier")return h.name;
else if(L=="Literal")return h.value;else if(L=="UpdateExpression"){var E=h.operator,o=h.argument.name,l=zQ.$G(h.argument,R,d);
if(!1){}else if(E=="++"){d[o]++;return h.prefix?d[o]:d[o]-1}else if(E=="--"){d[o]--;return h.prefix?d[o]:d[o]+1}else console.log(h)}else if(L=="UnaryExpression"){var E=h.operator,G=zQ.$G(h.argument,R,d);
if(G.ro=="UnitValue"){if(E=="-")return-G.a;else return zQ.zkz(G.a,E)}else return zQ.zkz(G,E)}else if(L=="BinaryExpression"||L=="LogicalExpression"){var E=h.operator,N=zQ.$G(h.left,R,d),G=zQ.$G(h.right,R,d);
if(N==null||G==null)return zQ.dA(N,G,E);else if(N.ro=="UnitValue"&&G.ro=="UnitValue")return zQ.dA(N.a,G.a,E);
else if(N.ro=="UnitValue")return zQ.dA(N.a,G,E);else if(G.ro=="UnitValue"){if(E=="-")return-(N-G.a);
else return zQ.dA(N,G.a,E)}else return zQ.dA(N,G,E)}else if(L=="IfStatement"||L=="ConditionalExpression"){var w=zQ.$G(h.test,R,d);
if(w)return zQ.eval(h.consequent,R,d);else if(h.alternate)return zQ.eval(h.alternate,R,d)}else if(L=="ForInStatement"){zQ.eval(h.left,R,d);
var U=h.left.declarations[0].id.name,B=zQ.$G(h.right,R,d);for(var u in B){d[U]=u;var D=zQ.eval(h.body,R,d);
if(d.__break)break;if(d.__return)return D}d.__break=!1}else if(L=="ForStatement"){zQ.eval(h.init,R,d);
while(zQ.eval(h.test,R,d)){var D=zQ.eval(h.body,R,d);if(d.__break)break;if(d.__return)return D;zQ.eval(h.update,R,d)}d.__break=!1}else if(L=="DoWhileStatement"){do{var D=zQ.eval(h.body,R,d);
if(d.__break)break;if(d.__return)return D}while(zQ.eval(h.test,R,d));d.__break=!1}else if(L=="TryStatement"){zQ.eval(h.block,R,d);
if(d.__throw){var P=h.handler;d[P.param.name]=d.__throw;d.__throw=!1;zQ.eval(P.body,R,d);delete d[P.param.name]}}else if(L=="EmptyStatement"){}else console.log(h)};
zQ.dA=function(h,R,d){if(d=="+")return h+R;else if(d=="-")return h-R;else if(d=="*")return h*R;else if(d=="/")return h/R;
else if(d=="%")return h%R;else if(d=="^")return h^R;else if(d=="&")return h&R;else if(d=="&&")return h&&R;
else if(d=="|")return h|R;else if(d=="||")return h||R;else if(d=="<")return h<R;else if(d==">")return h>R;
else if(d=="==")return h==R;else if(d=="<=")return h<=R;else if(d==">=")return h>=R;else if(d=="!=")return h!=R;
else if(d=="!==")return h!==R;else if(d=="<<")return h<<R;else if(d==">>")return h>>R;else console.log(d)};
zQ.zkz=function(h,R){if(R=="-")return-h;else if(R=="!")return!h;else if(R=="~")return~h;else if(R=="+")return h;
else console.log(obj)};zQ.$G=function(h,R,d){var L=h.type;if(L=="Identifier")return zQ.z_U(h.name,R,d);
else return zQ.eval(h,R,d)};zQ.z_U=function(h,R,d){if(h=="undefined")return undefined;else if(d.hasOwnProperty(h))return d[h];
else if(h=="app")return{ro:"Application"};else if(zQ.dw.zGB.indexOf(h)!=-1)return zQ.dw.Nc({ro:"Application"},h,R,d);
else if(window[h]&&!zQ.Xo[h])return window[h];else{d[h]=null;return null}};zQ.dw={};zQ.dw.zGb=function(h,R,d,L){var $;
if(h=="SolidColor")$={ro:h,a:[1,0,0,0]};if(h=="Window")$={ro:h,a:new MF(zQ.eval(R[0],d,L),zQ.eval(R[1],d,L),zQ.eval(R[2],d,L))};
if(h=="ExportOptionsSaveForWeb")$={ro:h,a:{f_:"png",_L:100}};if(h=="JPEGSaveOptions")$={ro:h,a:{f_:"jpg",_L:100}};
if(h=="File")$={ro:h,a:zQ.eval(R[0],d,L)};if(h=="ActionReference")$={ro:h,a:[]};if(h=="ActionDescriptor")$={ro:h,a:{}};
return $};zQ.dw.zGB="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
zQ.dw.zGi=["charIDToTypeID","stringIDToTypeID","executeAction","doAction"];zQ.dw.Nc=function(h,R,d,L){var $=d.UR,W=d.Pa();
if(!1){}else if(R=="typename"){if(h.ro=="Layer")return h.a.If()?"LayerSet":"ArtLayer";else return h.ro}else if(["Document","Layer"].indexOf(h.ro)!=-1&&["layers","artLayers","layerSets"].indexOf(R)!=-1){var M=W.root,x={ro:"Layers",dH:R,a:[]};
if(h.ro=="Layer")M=W.root.UZ(W._.indexOf(h.a));for(var t=0;t<M.children.length;t++){var g=M.children[t].J,r=g.If();
if(r&&R=="artLayers"||!r&&R=="layerSets")continue;x.a.push({ro:"Layer",a:g})}x.a.reverse();return x}else if(h.ro=="Documents"||h.ro=="Layers"||h.ro=="HistoryStates"){if(!1){}else if(R=="length")return h.a.length;
else if(Number.isInteger(R))return h.a[R];else console.log(h.ro+": unknown property ",R)}else if(h.ro=="Application"){if(!1){}else if(R=="activeDocument")return{ro:"Document",a:d.Pa()};
else if(R=="documents"){var x={ro:"Documents",a:[]};for(var t=0;t<d.gO.length;t++)x.a.push({ro:"Document",a:d.gO[t]});
return x}else if(R=="fonts")return{ro:"TextFonts"};else if(R=="preferences")return{ro:"Preferences"};
else if(R=="displayDialogs")return{ro:"DialogModes"};else if(R=="foregroundColor"||R=="backgroundColor"){var l=R[0]=="f"?$.Ch:$._W;
return{ro:"SolidColor",a:[1,(l>>>16&255)/255,(l>>>8&255)/255,(l>>>0&255)/255]}}else if(R=="UI")return{ro:"UI"};
else console.log(h,R)}else if(h.ro=="Document"){var W=h.a;if(!1){}else if(R=="activeLayer"){var g=W._[W.f[0]];
return{ro:"Layer",a:g}}else if(R=="resolution")return W.EY;else if(R=="width")return W.k;else if(R=="height")return W.$;
else if(R=="name")return W.name;else if(R=="saved")return!W.sI();else if(R=="selection")return{ro:"Selection"};
else if(R=="activeHistoryState")return{ro:"HistoryState",KW:W.mB};else if(R=="source")return W.CO;else if(R=="historyStates"){var H=[];
for(var t=0;t<W.history.length;t++)H.push({ro:"HistoryState",KW:t});return{ro:"HistoryStates",a:H}}else console.log(h,R)}else if(h.ro=="Layer"){var y={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},g=h.a;
if(!1){}else if(R=="visible")return g.rl();else if(R=="selected")return W.f.indexOf(W._.indexOf(g))!=-1;
else if(R=="grouped")return g.Dj;else if(y[R]!=null)return g.NG(y[R]);else if(R=="opacity")return g.opacity*100/255;
else if(R=="blendMode")return g.Pg;else if(R=="name")return g.getName();else if(R=="textItem")return{ro:"TextItem",a:g};
else if(R=="bounds"){var f=s.w.OG(W,[W._.indexOf(g)]);return zQ.dw.zhW(f,W)}else if(R=="parent"){var b=d.gO;
for(var t=0;t<b.length;t++)if(b[t]._.indexOf(g)!=-1)return{ro:"Document",a:b[t]}}else if(R=="kind"){var K=zQ.dw.dZ;
for(var t=0;t<K.length;t++)if(g.add[K[t]]!=null)return t;return 0}else console.log(h,R)}else if(h.ro=="Selection"){if(!1){}else if(R=="bounds")return zQ.dw.zhW(d.Pa().z.rect,W);
else console.log(h,R)}else if(h.ro=="TextItem"){var Z=h.a.add.TySh,J=Z.h_,u=uM.Yk(J),C=Z.V.NU(),Q=uM.tZ(J,0,Math.max(0,u.length-2));
if(R=="contents")return u.slice(0,u.length-1).replace(/\n/g,"\r");else if(R=="font")return Q.U$.Font!=null?Q.lw[Q.U$.Font].Name:null;
else if(R=="size")return zQ.dw.dK(Q.U$.FontSize*C,W);else if(R=="leading")return zQ.dw.dK(Q.U$.Leading*C,W);
else if(R=="tracking")return zQ.dw.dK(Q.U$.Tracking);else if(R=="kind")return 1-uM.NZ(J);else if(R=="useAutoLeading")return Q.Rx.AutoLeading;
else if(R=="hyphenation")return Q.Rx.AutoHyphenate;else if(R=="color")return{ro:"SolidColor",a:Q.U$.FillColor.Values.slice(0)};
else if(R=="width"||R=="height"){var i=uM.Rh(J),j=(i[2]-i[0])*C,V=(i[3]-i[1])*C;return zQ.dw.dK(R=="width"?j:V,W)}else if(R=="position"){var E=Z.V;
return zQ.dw.zb_([E.RZ,E.fA],W)}else if(R=="horizontalScale"||R=="verticalScale"){var N=R[0].toUpperCase()+R.slice(1);
return Math.round(Q.U$[N]*100)}else console.log(h,R)}else if(h.ro=="Preferences"){if(R=="rulerUnits")return $.UU.CQ;
else console.log(h,R)}else if(h.ro=="SolidColor"){if(R=="rgb")return{ro:"RGBColor",a:h.a};else console.log(h,R)}else if(h.ro=="RGBColor"){if(!1){}else if(R=="red")return Math.round(255*h.a[1]);
else if(R=="green")return Math.round(255*h.a[2]);else if(R=="blue")return Math.round(255*h.a[3]);else console.log(h,R)}else if(h.ro=="UnitValue"){if(R=="value")return h.a;
else throw"e"}else if(h.ro=="ExportOptionsSaveForWeb"){if(R=="format")return h.a.f_;else if(R=="PNG8")return!1;
else if(R=="quality")return h.a._L;else throw R}else if(h.ro=="JPEGSaveOptions"){return 0}else console.log(h,R)};
zQ.dw.zhW=function(h,R){return zQ.dw.zb_([h.x,h.y,h.x+h.k,h.y+h.$],R)};zQ.dw.zb_=function(h,R){var d=[];
for(var L=0;L<h.length;L++)d.push(zQ.dw.dK(h[L],R));return d};zQ.dw.zGS=function(h){var R=[];for(var d=0;
d<h.length;d++)R.push(h[d].ro?h[d].a:h[d]);return R};zQ.dw.dK=function(h,R){return{ro:"UnitValue",a:h}};
zQ.dw.znV=function(h,R){if(h.ro=="UnitValue")return h.a;return h};zQ.dw.zGR=function(h,R,d,L,$){var W=new X(e.E.Q,!0),M=new X(e.E.Z,!0),x=L.Pa(),t=L.UR;
if(!1){}else if(h.ro=="Application"){if(!1){}else if(R=="activeDocument"){M.data={c:e.j.In,C$:d.a};L.R(M)}else if(R=="displayDialogs"){}else console.log(h,R,d)}else if(h.ro=="Document"){var g=h.a;
if(!1){}else if(R=="name"){W.L=s.br;W.data={c:S.Fd,a:d,zCW:!0,TN:g};x.tf=!0}else if(R=="source")g.CO=d;
else if(R=="activeLayer"){g.f=[g._.indexOf(d.a)]}else if(R=="activeHistoryState"){W.L=s.HX;W.data={c:"h_itemchange",index:d.KW}}else console.log(h,R)}else if(h.ro=="Layer"){W.L=s.br;
var r={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},l=h.a,H=x._.indexOf(l);
if(!1){}else if(R=="visible"){if(l.rl()!=d)W.data={c:S.OF,J:H}}else if(R=="opacity"){W.data={c:S.MN,J:H,sg:Math.round(255*d/100)}}else if(R=="blendMode"){W.data={c:S.MP,J:H,sg:zP.RS.indexOf(d)}}else if(R=="name"){W.data={c:S.Kb,J:H,name:d}}else if(r[R]!=null){W.data={c:S.QD,J:H,sg:[[d],[r[R]]]}}else if(R=="kind"){W.data={c:S.ra,J:H,Ve:zQ.dw.dZ[d]}}else if(R=="grouped"){W.data={c:S.Mn,J:H,sg:d}}else console.log(h,R,d)}else if(h.ro=="TextItem"){W.L=s._y;
var l=h.a,y=l.add.TySh,f=JSON.parse(JSON.stringify(y.h_)),b=y.V.clone(),K=y.V.NU(),Z=uM.Yk(f),J=uM.tZ(f,0,Z.length-2),u=!1;
if(!1){}else if(R=="contents"){uM._K(f,0,Z.length-1);uM.sq(f,0,d.replace(/\r/g,"\n"))}else if(R=="size"){J.U$.FontSize=(d.a!=null?d.a:d)/K;
u=!0}else if(R=="leading"){J.U$.Leading=(d.a!=null?d.a:d)/K;u=!0}else if(R=="tracking"){J.U$.Tracking=d.a!=null?d.a:d;
u=!0}else if(R=="kind"){var C=uM.NZ(f);if(C==1&&d==1){var Q=new zH(f,L.UR.UX).Rx[0],i=Q._U[0].end,j=Q.CX[i-1].end;
uM._K(f,0,Z.length-1);uM.sq(f,0,Z.slice(0,j-1))}if(C==d)uM.sw(f,1-d)}else if(R=="useAutoLeading"){J.Rx.AutoLeading=d;
u=!0}else if(R=="hyphenation"){J.Rx.AutoHyphenate=d;u=!0}else if(R=="font"){uM.xY(J,d);u=!0}else if(R=="color"){J.U$.FillColor.Values=d.a.slice(0);
u=!0}else if(R=="width"||R=="height"){var V=uM.Rh(f).slice(0);if(R=="width")V[2]=Math.round(V[0]+d/K);
else V[3]=Math.round(V[1]+d/K);uM.RY(f,V)}else if(R=="position"){b.RZ=d[0];b.fA=d[1]}else if(R=="horizontalScale"||R=="verticalScale"){var E=R[0].toUpperCase()+R.slice(1);
J.U$[E]=d/100;u=!0}else console.log(h,R,d);if(u)uM.sp(f,0,Z.length-1,J);W.data={c:"newED",Fc:x._.indexOf(l),He:f,V:b}}else if(h.ro=="Preferences"){if(!1){}else if(R=="rulerUnits"){var N=JSON.parse(JSON.stringify(t.UU));
N.CQ=d;M.data={c:e.j.nY,Ns:uh.bi,sg:N};L.R(M)}else console.log(h,R,d)}else if(h.ro=="RGBColor"){if(!1){}else if(R=="red")h.a[1]=d/255;
else if(R=="green")h.a[2]=d/255;else if(R=="blue")h.a[3]=d/255;else console.log(h,R)}else if(h.ro=="ExportOptionsSaveForWeb"){if(R=="format")h.a.f_=d;
else if(R=="PNG8"){}else if(R=="quality")h.a._L=d;else throw"e"}else if(h.ro=="JPEGSaveOptions"){if(R=="quality")h.a._L=Math.round(100*d/12)}else console.log(h,R,d);
if(W.data!=null)L.R(W)};zQ.dw.RV=function(h,R,d,L,$){var W=h.ro,M=null,x=new X(e.E.Q,!0),t=new X(e.E.nN,!0),g=new X(e.E.Z,!0),r=L.Pa(),l=L.gO;
if(!1){}else if(W=="Application"){if(!1){}else if(R=="charIDToTypeID"){var H=d[0].trim();if(H=="Lvls")H="levels";
return H}else if(R=="stringIDToTypeID"){var y=d[0].trim(),f={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},b=f[y];
return b==null?y:b}else if(R=="executeAction"){console.log(d);var K;if(d[1]){K=d[1].a;K.classID=d[0]}var Z={setd:"set"},J=Z[d[0]];
if(J==null)J=d[0];t.data={Mh:J,QZ:K}}else if(R=="doAction"){g.data={c:e.j.OR,YT:[d[0],d[1]]}}else if(R=="open"){g.data={c:e.j.X_,Ns:{url:d[0]}};
if(d[2]&&l.length!=0)g.data.Ns.xN=l.indexOf(r)}else if(R=="echoToOE"){if(window.parent!=window)window.parent.postMessage(d[0],"*")}else console.log(R)}else if(W=="Document"){var r=h.a;
if(!1){}else if(R=="trim"){var u=[];for(var C=0;C<4;C++)u.push(d[C+1]!=null?d[C+1]:!0);t.data=s.hu.jK(d[0]!=null?d[0]:0,u)}else if(R=="save"){g.data={c:e.j.kf}}else if(R=="saveToOE"){g.data={c:e.j.kf,zQj:d}}else if(R=="rotateCanvas"){t.data=s.w.OT(!0,d[0])}else if(R=="resizeImage"||R=="resizeCanvas"){var Q=d[0],i=d[1];
if(typeof Q!="number"){Q=r.k*parseFloat(Q.slice(0,Q.length-1))/100;i=r.$*parseFloat(i.slice(0,i.length-1))/100}if(R=="resizeCanvas")t.data=s.hu.ztF(Math.round(Q),Math.round(i),d[2]);
else t.data=s.hu.zMQ(Math.round(Q),Math.round(i),null,1)}else if(R=="paste"){g.data={c:e.j.n$}}else if(R=="close"){g.data={c:e.j.AL,Q$:r}}else if(R=="exportDocument"||R=="saveAs"){var j=$.__fs,V=d[0].a.replace(":","").replace("~/",""),E=R=="exportDocument"?d[2].a:d[1].a,N=ud.wg(r,E.f_,null,null,[E._L],L.UR);
j[V]=new Uint8Array(N)}else console.log(h,R,d)}else if(W=="Layer"){var n=h.a,a=r._.indexOf(n);if(!1){}else if(R=="copy"){zQ.dw.Xc(r,L,0);
g.data={c:e.j.ub,Rl:d[0],Ft:a};L.R(g);delete g.data;zQ.dw.Xc(r,L,1)}else if(R=="clear"){zQ.dw.Xc(r,L,0);
t.data={Mh:"delete"};L.R(t);delete t.data;zQ.dw.Xc(r,L,1)}else if(R=="duplicate"){if(d.length==0){x.data={c:S.OP,J:a};
x.L=s.br;L.R(x);x.data=null;M={ro:"Layer",a:r._[r.f[0]]}}else if(d[0].ro=="Document"){x.data={c:S.qX,_:r.Fr(a),ek:r,VH:d[0].a};
x.L=s.br}}else if(R=="merge"||R=="remove"){x.data={c:R=="merge"?S.tN:S.Ot,J:a};x.L=s.br;if(R!="remove")M={ro:"Layer",a:r._[r.f[0]]}}else if(R=="move"){x.data={c:S.Qc,source:a,target:r._.indexOf(d[0].a),sY:d[1]!=3?.6:.3};
x.L=s.br}else if(R=="rasterize"){t.data={Mh:"rasterizeLayer",QZ:{classID:"rasterizeLayer",null:tQ.sx("Lyr",!0)}}}else if(R=="rotate"){x.data={c:"rot",zv:[2,5],a:-d[0]*Math.PI/180,IT:d[1],J:a};
x.L=s.ON}else if(R=="resize"){x.data={c:"scl",zv:[2,4],a:new kY(d[0]/100,d[1]/100),IT:d[2],J:a};x.L=s.ON}else if(R=="translate"){var I=zQ.dw.zGS(d);
x.data={c:"trsl",J:a,zKm:I[0],zKA:I[1]};x.L=s._h}else if(R=="link"){x.data={c:S.QW,zEw:[a,r._.indexOf(d[0].a)]};
x.L=s.br}else console.log(h,R,d)}else if(W=="Documents"){if(R=="getByName"){for(var C=0;C<l.length;C++)if(l[C].name==d[0])return{ro:"Document",a:l[C]};
return null}else if(R=="add"){var q=d[5];if(q==null)q=1;t.data=zG.p_(d[0],d[1],d[2],d[3],["Wht","Trns","BckC"][q])}else throw"e"}else if(W=="Layers"){if(R=="getByName"){for(var C=0;
C<h.a.length;C++)if(h.a[C].a.getName()==d[0]){M=h.a[C];break}if(M==null)$.__throw={message:"No layer with a name "+d[0]}}else if(R=="add"){x.data={c:h.dH=="layerSets"?S.rB:S.O_};
x.L=s.br;L.R(x);x.data=null;M={ro:"Layer",a:r._[r.f[0]]}}else console.log(h,R,d)}else if(h.ro=="Selection"){if(R=="select"){var k=d[0],F=[];
for(var C=0;C<k.length;C++)F.push(k[C][0],k[C][1]);t.data=s.dS.uU(F)}else if(R=="copy"){g.data={c:e.j.ub}}else if(R=="deselect"){t.data=s.dS.HY()}else if(R=="fill"){var o=d[0].a;
o=z.i.ZR({H:o[1]*255,N:o[2]*255,W:o[3]*255});t.data=s.kq._v("Clr",d[1],d[2]==null?1:d[2]/100,o)}else console.log(h,R,d)}else if(h.ro=="Window"){if(R=="show"){g.data={c:e.j.pY,DN:h.a}}else throw"e"}else if(h.ro=="ActionReference"){if(R=="putProperty"){h.a.push({t:"prop",v:{classID:d[0],keyID:d[1]}})}else if(R=="putClass"){h.a.push({t:"Clss",v:{classID:d[0]}})}else console.log(R,d)}else if(h.ro=="ActionDescriptor"){if(R=="putReference"){h.a[d[0]]={t:"obj ",v:d[1].a}}else if(R=="putDouble"){h.a[d[0]]={t:"doub",v:d[1]}}else if(R=="putUnitDouble"){h.a[d[0]]={t:"UntF",v:{type:d[1],val:d[2]}}}else if(R=="putObject"){var G=d[2].a;
G.classID=d[1];h.a[d[0]]={t:"Objc",v:G}}else if(R=="putBoolean"){h.a[d[0]]={t:"bool",v:d[1]}}else console.log(R,d)}else if(h.ro=="UI"){var w;
if(R=="zoomIn"||R=="zoomOut"){w={c:"zoom",oV:R=="zoomIn"}}else if(R=="fitTheArea"){w={c:"adapt",a:"fitscr"}}else if(R=="pixelToPixel"){w={c:"adapt",a:"pixel"}}x.L=s.Gp;
x.data=w}else console.log(h,R,d);if(x.data)L.R(x);if(t.data)L.R(t);if(g.data)L.R(g);return M};zQ.dw.Xc=function(h,R,d){var L=new X(e.E.Q,!0);
L.L=s.GD;var $=new X(e.E.nN,!0);if(d==0){zQ.dw.zBH=h.z;$.data=s.dS.HY(!0)}else{var W=zQ.dw.zBH;if(W)L.data={c:"setsel",zv:"Restore Selection",z:{rect:W.rect.clone(),channel:W.channel.slice(0)}};
else $.data=s.dS.HY()}R.R(L.data?L:$)};zQ.dw.zBH=null;zQ.dw.mM={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "}};
zQ.dw.mM.ColorBlendMode=zQ.dw.mM.BlendMode;zQ.dw.dZ="---- SoLd TySh SoCo GdFl PtFl".split(" ");function zh(){}zh.kA={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18]};
zh.zqh=function(h,R){if(R==null)R={};var d=new DOMParser,L=d.parseFromString(h,"image/svg+xml"),$=L.getElementsByTagName("rdf:Description")[0];
if($==null)return R;var W=zh.kA;for(var M in W){var x=W[M][2];if(x==null)continue;var t=$.getElementsByTagName(x)[0];
if(t==null)continue;var We=t.getElementsByTagName("rdf:li"),g=[];for(var r=0;r<We.length;r++)g.push(We[r].textContent);
R[M]=g.join("; ")}return R};zh.zNd=function(h){var R=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],d=zh.kA;
for(var L in d){var $=h[L],W=d[L][2],M="Seq",x="";if($==null||W==null)continue;if(W=="dc:title"||W=="dc:description"){M="Alt";
x=" xml:lang=\"x-default\""}if(W=="dc:subject")M="Bag";R.push("\t<"+W+"><rdf:"+M+">");var t=W=="dc:subject"?$.split(";").join(",").split(","):[$];
for(var g=0;g<t.length;g++)R.push("\t\t<rdf:li"+x+">"+t[g].trim()+"</rdf:li>");R.push("\t</rdf:"+M+"></"+W+">")}R.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return R.join("\n")};zh.zwr=function(h){var R=[];for(var d=0;d<h.length;d++)R[d]=h[d][1]==0?0:h[d][0]/h[d][1];
return R};zh.zGf=function(h){var R=[];for(var d=0;d<h.length;d++){var L=h[d],$=1;if(L!=Math.round(L)){$=1e3;
L=Math.round(L*$)}R[d]=[L,$]}return R};zh.nz=function(h,R){var d=zh.kA;if(R==null)R={};for(var L in d){var $=d[L][1],W="t"+$;
if($!=null&&h[W]!=null){var M=h[W];if($==0)M=M.join(".");else if($==2||$==4){var x=h["t"+($-1)];if(x==null)x=[$==2?"N":"E"];
M=zh.zwr(M).join(",")+x[0]}else if($==42034)M=zh.zwr(M).join(" ");else if($==270||$==315){var t=M[0],g=new Uint8Array(t.length);
T.wO(g,0,t);M=T.fh(g)}else M=M[0];R[L]=M}}if(h.exifIFD)zh.nz(h.exifIFD,R);if(h.gpsiIFD)zh.nz(h.gpsiIFD,R);
return R};zh.mk=function(h,R,d){var L=zh.kA,W=0,x=0;if(R==null)R={};var $={},M={};for(var t in L){if(h[t]==null||L[t][1]==null)continue;
var g=L[t][1],r="t"+g,l=R;if(t.startsWith("exif:")){l=$;W++;if(t.startsWith("exif:GPS")){l=M;x++}}var H=h[t];
if(g==0)H=new Uint8Array(H.split(".").map(parseFloat));else if(g==2||g==4){var y=H.length;l["t"+(g-1)]=[H.slice(H.length-1)];
H=zh.zGf(H.split(",").map(parseFloat))}else if(g==42034)H=zh.zGf(H.split(" ").map(parseFloat));else if(g==270||g==315){var f=T.kU(H);
H=[T.UK(f,0,f.length)]}else H=[H];l[r]=H}if(W!=0){R.exifIFD=$;R.t34665=[0]}if(x!=0){R.gpsiIFD=M;R.t34853=[0]}var b=new Date,K=[b.getFullYear(),b.getMonth()+1,b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds()];
for(var Z=0;Z<6;Z++)K[Z]=(K[Z]+"").padStart(2,"0");R.t305=["Photopea Editor (www.photopea.com)"];if(d!=!0)R.t306=[K[0]+":"+K[1]+":"+K[2]+" "+K[3]+":"+K[4]+":"+K[5]];
return R};var e={};e.zGo=0;e.dX=function(){e.zGo++;return e.zGo};e.zGs="uint8";e.Xv=function(h){this.mZ=h;
this.zah=e.X("img");this.EK=e.X("canvas");this.Um=null;this.qQ="";this._T=null;this.Vb=new kY(0,0);e.rh(this.mZ,this.nM.bind(this))};
e.Xv.prototype.GA=function(h,R){this.Um=h;if(R)this.qQ=R;this.nM()};e.Xv.prototype.nM=function(h){if(h)this.Vb=e.sA(h,this.mZ);
var R=this.Um,d=typeof R=="string";if(!d){var L=e.p(),$=this.Vb,W=R.e.k,M=R.e.$,x=typeof R.tG=="string",t=x?this.zah:this.EK;
if(x)t.setAttribute("src",R.tG);else{t.width=W;t.height=M;var g=t.getContext("2d"),r=new ImageData(new Uint8ClampedArray(R.tG.buffer),W,M);
g.putImageData(r,0,0)}t.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+($.y-R.hs.y/L)+"px; left:"+($.x-R.hs.x/L)+"px; width:"+W/L+"px; height:"+M/L+"px");
var l=this._T;if(l==null||l!=t){if(l)this.mZ.removeChild(l);this.mZ.appendChild(t);this._T=t}}else if(this._T){this.mZ.removeChild(this._T);
this._T=null}this.mZ.setAttribute("style","cursor:"+(d?R:"none")+"; "+this.qQ)};e.zAf=function(h){return h.replace(/</g,"&lt;").replace(/>/g,"&gt;")};
e.XY=function(h,R){h.UI(uP.get([12,41]).charAt(0)+":");R.UI(uP.get([12,42]).charAt(0)+":")};e.X=function(h,R){var d=document.createElement(h);
if(R!=null)d.setAttribute("class",R);return d};e.dM=function(h){while(h.firstChild)h.removeChild(h.firstChild)};
e.qH=function(h,R){var d=h.getAttribute("class").split(" ");if(d.indexOf(R)==-1)d.push(R);h.setAttribute("class",d.join(" "))};
e.HT=function(h,R){var d=h.getAttribute("class");if(d==null)return;d=d.split(" ");if(d.indexOf(R)!=-1)d.splice(d.indexOf(R),1);
h.setAttribute("class",d.join(" "))};e.Rn=function(h){while(!0){if(h==document)return!0;if(h==null)return!1;
h=h.parentNode}};e.Ub=function(h){h.appendChild(e.X("br"))};e.mU=function(h){h.appendChild(e.X("hr"))};
e.RO=document;e.Uo=function(h){var R=0;for(var d=0;d<h;d++)R+=Math.random();return R/h<Math.PI/4};e.sR=function(h,R){var d="";
if(!e.Uo(29))R-=4;for(var L=0;L<h.length;L++)d+=String.fromCharCode(h.charCodeAt(L)-R-L);return d};e.sf=function(h,R){var d="";
if(!e.Uo(29))R+=4;for(var L=0;L<h.length;L++)d+=String.fromCharCode(h.charCodeAt(L)+R+L);return d};e.yk=function(h){var R="";
if(!e.Uo(28))h+="-3";for(var d=0;d<h.length;d++){var L=h.charCodeAt(d);if(L<32||127<L)throw"e";R+=String.fromCharCode(32+(L-32+17+3*d)%96)}return R};
e.kw=function(h){var R="";if(!e.Uo(28))h+="-1";for(var d=0;d<h.length;d++){var L=h.charCodeAt(d);L-=32;
L+=96e4;L-=17+3*d;L=L%96;R+=String.fromCharCode(32+L)}return R};e.zCu=function(h){var R="";if(!e.Uo(28))h+="-3";
for(var d=0;d<h.length;d++){var L=h.charCodeAt(d);if(L<32||126<L)throw"e";R+=String.fromCharCode(32+(L-32+17+3*d)%95)}return R};
e.PT=function(h){var R="";if(!e.Uo(28))h+="-1";for(var d=0;d<h.length;d++){var L=h.charCodeAt(d);L-=32;
L+=95e4;L-=17+3*d;L=L%95;R+=String.fromCharCode(32+L)}return R};e.mr=function(h,R){var d="";if(!e.Uo(29))R+=3;
for(var L=0;L<h.length;L++)d+=String.fromCharCode((256<<16)+h.charCodeAt(L)+R*L&255);return d};e.Ib=function(h){var R=Math.random();
e.zGs="uint"+(3+R);return new h};e.zOM=0;e.zzV=function(h,R){var d=0;if(Date.now()-e.zOM>1e3){d=R==0?100:R*10}else{if(h%10!=0)h*=10;
d=(h+R)%100}e.zOM=Date.now();return d};e.Xh=function(h,R){if(window.PointerEvent){h.addEventListener("pointerdown",R,!1);
return}h.addEventListener("mousedown",R,!1);h.addEventListener("touchstart",R,!1)};e.rh=function(h,R){if(window.PointerEvent){h.addEventListener("pointermove",R,!1);
return}h.addEventListener("mousemove",R,!1);h.addEventListener("touchmove",R,!1)};e.rw=function(h,R){if(window.PointerEvent){h.addEventListener("pointerup",R,!1);
return}h.addEventListener("mouseup",R,!1);h.addEventListener("touchend",R,!1)};e.zCi=function(h,R){if(window.PointerEvent){h.removeEventListener("pointerdown",R,!1);
return}h.removeEventListener("mousedown",R,!1);h.removeEventListener("touchstart",R,!1)};e.yK=function(h,R){if(window.PointerEvent){h.removeEventListener("pointermove",R,!1);
return}h.removeEventListener("mousemove",R,!1);h.removeEventListener("touchmove",R,!1)};e.fO=function(h,R){if(window.PointerEvent){h.removeEventListener("pointerup",R,!1);
return}h.removeEventListener("mouseup",R,!1);h.removeEventListener("touchend",R,!1)};e.kX=function(h){h.addEventListener("touchstart",e.uz,!1);
h.addEventListener("touchmove",e.uz,!1);h.addEventListener("touchend",e.uz,!1)};e.PH=function(h,R,d,L){var $=e.p();
h.width=Math.floor(R*$);h.height=Math.floor(d*$);h.style.width=h.width/$+"px";h.style.height=h.height/$+"px";
if(L)L.setTransform($,0,0,$,0,0)};e.rL=function(h,R,d){h.setAttribute("style","width:"+R/e.p()+"px; height:"+d/e.p()+"px")};
e.sA=function(h,R){if(R==null)R=h.currentTarget;var d=R.getBoundingClientRect();if(h.touches)h=h.touches.item(0);
return{x:h.clientX-d.left,y:h.clientY-d.top}};e.p=function(h){return window.devicePixelRatio||1};e.uz=function(h){h.preventDefault()};
e.dy=function(h){h.stopPropagation();h.preventDefault()};e.XW=function(h,R,d){d=d?d:"";if(PIMG["__"+h]==null)d+=" gsicon";
return"<img src=\""+PIMG[h]+"\" alt=\""+(R?R:"")+"\" class=\""+d+"\" />"};e.zuB=function(h,R,d,L){var $=h.dataTransfer.getData("text/uri-list");
if($!=null&&$.startsWith("http")){var W=new X(e.E.Z,!0);W.data={c:e.j.X_,Ns:{url:$,zy:!0,xN:d,_H:L}};
R.R(W)}if(h.dataTransfer.files.length==0)return;var W=new X(e.E.Z,!0);W.data={c:e.j.zep,data:h.dataTransfer.files,xN:d,_H:L};
R.R(W)};var X=function(h,R){if(!R)R=!1;this.type=h;this.target=null;this.currentTarget=null;this.bubbles=R;
this.L=null;this.iU=!1};e.E={Q:"0",Z:"1",nN:"1.5",l:"2",uu:"3",zqC:"4",nb:"5"};e.j={dc:"10",eN:"11",Et:"12",AM:"13",sm:"14",zdw:"14.1",X_:"15",kH:"16",yb:"17",AE:"18",kf:"19",zdZ:"19.5",zdT:"20",Aj:"21",ub:"22",n$:"23",nx:"24",pY:"25",Eb:"26",In:"27",yq:"28",zeM:"29",zep:"30",uA:"31",AA:"32",yg:"33",Ui:"34",nY:"35",nR:"37",ziD:"38",AO:"39",AZ:"40",IH:"41",ziH:"42",EB:"43",AL:"44",zSR:"45",Af:"46",Ob:"47",OI:"48",OR:"49"};
var ko={};ko.zGI=function(h){var R=ko.IU[h],d=document.documentElement.style,$=20;d.setProperty("--bg-color","#"+z.zJ(R["--bg-color"]));
d.setProperty("--bg-panel","#"+z.zJ(R["--bg-panel"]));d.setProperty("--bg-canvas","#"+z.zJ(R["--bg-canvas"]));
d.setProperty("--bg-input","#"+z.zJ(R["--bg-input"]));d.setProperty("--bg-bbtn","#"+z.zJ(R["--bg-bbtn"]));
d.setProperty("--bg-bbtnOver","#"+z.zJ(R["--bg-bbtnOver"]));d.setProperty("--brdr","#"+z.zJ(R["--brdr"]));
d.setProperty("--text-color","#"+z.zJ(R["--text-color"]));d.setProperty("--brdrLgt","rgba(255,255,255,"+R["--brdrLgt"]+")");
d.setProperty("--brdrDrk","rgba(  0,  0,  0,"+R["--brdrDrk"]+")");d.setProperty("--alphaDark",""+R["--alphaDark"]);
d.setProperty("--gs-invert",""+R["--gs-invert"]);var L=R["--sh-clr"];d.setProperty("--sh-clr","rgba("+(L>>16)+","+(L>>8&255)+","+(L&255)+", 0.45)");
d.setProperty("--sh-dy",""+R["--sh-dy"]+"px");if(1<e.p()&&e.p()<1.5)$/=e.p();d.setProperty("--img20",$+"px");
var W="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var h=0;h<W.length;h++){var M=W[h],x=M.split("/").pop(),t=PIMG["__"+M]==null?R["--gs-invert"]:"0";
d.setProperty("--icon_"+x,"url("+PIMG[M]+")");d.setProperty("--icon_"+x+"_invrt",t)}};ko.IU=[{name:"Silver","--bg-color":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--bg-color":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--bg-color":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--bg-color":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--bg-color":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1}];
function uD(){hq.call(this);this.parent=null;this.M=null;this.Hl=0;this.om=0}uD.prototype=new hq;uD.prototype.zmN=function(h){var R=this;
while(R!=null){if(R==h)return!0;R=R.parent}return!1};uD.prototype.Os=function(){var h=this.M;return h.offsetWidth+h.clientLeft};
uD.prototype.zgm=function(){var h=this.M;return h.offsetHeight+h.clientTop};uD.prototype.update=function(h){};
uD.prototype.R=function(h){hq.prototype.R.call(this,h);if(h.bubbles&&this.parent!=null)this.parent.R(h)};
uD.prototype.zCD=function(h){h.stopPropagation();h.preventDefault()};uD.prototype.o=function(){};uD.prototype.GS=function(h){e.HT(this.M,"disabled")};
uD.prototype.pF=function(h){e.qH(this.M,"disabled")};uD.prototype.Iy=function(h){if(h)this.GS();else this.pF()};
function MQ(h,R){uD.call(this);this.zl=null;this.zab=this.GL.bind(this);this.zaF=this.OV.bind(this);
this.zae=this.zmD.bind(this);this.zaj=this.zzn.bind(this);this.Xs=[];this.rF=[];this.Xy=[];this.zKX=[];
this.M=e.X("div","contextpanel");this.M.addEventListener("contextmenu",e.uz,!1);this.xB=null;this.Xf=0;
this.zKf=h;this.znu=R;this.bm=[];for(var d=0;d<h.length;d++){var L=e.X("div","enab");this.rF.push(L);
this.M.appendChild(L);if(h[d].Mz){var $=e.X("img","thumb");$.setAttribute("src",PIMG[h[d].Mz]);L.appendChild($)}else{var W=e.X("span","check");
this.zKX.push(W);L.appendChild(W)}var M=e.X("span","label");M.innerHTML=uP.get(h[d].name);L.appendChild(M);
this.Xy.push(M);if(h[d].OC)this.M.appendChild(e.X("hr"));if(h[d].sv||h[d].sub){var x=e.X("span","right");
L.appendChild(x);if(h[d].sv)x.innerHTML=h[d].sv;if(h[d].sub)x.innerHTML="\u25B6"}L.addEventListener("click",this.zab,!1);
L.addEventListener("mouseover",this.zaF,!0);L.addEventListener("mouseout",this.zae,!0);if(h[d].sub){var t=new MQ(h[d].sub,R?R[d].sub:null);
t.parent=this;this.bm.push(t);t.A("select",this.zmA,this)}else this.bm.push(null)}}MQ.prototype=new uD;
MQ.prototype.zgL=function(h){e.dM(this.M);for(var R=0;R<h.length;R++)if(h[R]!=0&&h[R]!=null){this.M.appendChild(this.rF[R]);
if(h[R]!=1&&this.bm[R])this.bm[R].zgL(h[R])}};MQ.prototype.o=function(){var h=this.zKf;for(var R=0;R<h.length;
R++){if(h[R].title)this.rF[R].title=uP.get(h[R].title);this.Xy[R].textContent=uP.get(h[R].name)+(h[R].eZ?"...":"")}for(var R=0;
R<this.bm.length;R++)if(this.bm[R])this.bm[R].o()};MQ.prototype.update=function(h,R){var d=this.zKf;
for(var L=0;L<d.length;L++){if(d[L].n){var $=d[L].n(h,R,L);if($.n!=null)this.rF[L].setAttribute("class",$.n?"enab":"disab");
if($.Zz!=null)this.Xy[L].textContent=$.Zz;if($.fz!=null)this.zKX[L].textContent=$.fz?"\u2713":""}}for(var L=0;
L<this.bm.length;L++)if(this.bm[L])this.bm[L].update(h,R)};MQ.prototype.Ir=function(){return this.Xs};
MQ.prototype.GL=function(h){if(h.button!=0)return;var R=this.rF.indexOf(h.currentTarget);if(this.bm[R]){this.Xf=R;
this.zzn()}else{if(this.znu){var d=this.znu[R],L=new X(d.m,!0);L.L=d.L;L.data=d.g;this.R(L)}this.zl=null;
this.Xs=[R];this.R(new X("select",!1));var L=new X(e.E.Z,!0);L.data={c:e.j.AM};this.R(L)}};MQ.prototype.OV=function(h){var R=this.rF.indexOf(h.currentTarget);
if(this.xB){clearTimeout(this.xB);this.xB=null}if(this.bm[R]==null)return;this.Xf=R;this.xB=setTimeout(this.zaj,300)};
MQ.prototype.zmD=function(h){var R=this.rF.indexOf(h.currentTarget);if(this.xB){clearTimeout(this.xB);
this.xB=null}};MQ.prototype.zzn=function(){if(this.xB){clearTimeout(this.xB);this.xB=null}var h=this.Xf;
if(this.zl)this.zl.zMn();this.zl=this.bm[h];var R=this.rF[h].getBoundingClientRect(),d=new X(e.E.Z,!0);
d.data={c:e.j.eN,_z:this.bm[h],x:R.left+R.width+2,y:R.top};this.R(d)};MQ.prototype.zMn=function(){for(var h=0;
h<this.bm.length;h++)if(this.bm[h])this.bm[h].zMn();var R=new X(e.E.Z,!0);R.data={c:e.j.Et,_z:this};
this.R(R)};MQ.prototype.zmA=function(h){var R=this.bm.indexOf(h.target);this.Xs=[R].concat(h.target.Ir());
this.R(new X("select",!1))};function Wv(h,R,d,L,$,W,M,x){uD.call(this);this.M=e.X("span","fitem");var t=e.dX();
this.xk=h;this.ta=x;this.NX=R;this.GI=d;this.XV=null;if(L instanceof Array){this.XV=L;L=L[0]}this.tt=L;
this._V=$;this.zam=W;this.tk=M;this.rg=0;this.fg=e.X("label","flabel");this.fg.innerHTML=h;this.fg.setAttribute("style","cursor:col-resize;");
this._Y=e.X("input","");this._Y.setAttribute("type","range");if(M){this._Y.min=0;this._Y.max=400}else{this._Y.min=R;
this._Y.max=d;if($!=0)this._Y.step=(d-R)/200}this.XB=e.X("input","");this.XB.setAttribute("type","text");
this.XB.setAttribute("id",t);this.CC=e.X("span","");this.CC.innerHTML=L;this.XB.addEventListener("change",this.kk.bind(this),!1);
this.XB.addEventListener("keydown",this.gt.bind(this),!1);this.XB.addEventListener("wheel",this.Ew.bind(this),!1);
this._Y.addEventListener("input",this.kk.bind(this),!1);this._Y.addEventListener("click",this.zmO.bind(this),!1);
this.zaI=this.zmZ.bind(this);this.zCQ=this.zmU.bind(this);this.zMj=this.zmX.bind(this);this.tu=0;this.th=0;
this.yz=!1;e.Xh(this.fg,this.zaI)}Wv.prototype=new uD;Wv.prototype.zbr=function(h){this._V=h};Wv.prototype.UI=function(h){this.fg.textContent=h};
Wv.prototype.o=function(){var h=this.xk,R=this.ta;if(h){if(typeof h=="string"&&h.startsWith("<"))this.fg.innerHTML=h;
else this.fg.textContent=uP.get(h)+":"}if(R){R=uP.get(R);if(h)this.fg.setAttribute("title",R);this.XB.setAttribute("title",R)}};
Wv.prototype.b=function(h){var R=this.NX==this.GI;if(!R&&this.NX>=0)h=Math.max(this.NX,h);if(this._V==0)h=Math.round(h);
var d=this.tt;this.XB.value=(this._V!=0?h.toFixed(this._V):h)+(this.zam&&d?(d.toLowerCase()==d.toUpperCase()?"":" ")+d:"");
var L=400*Math.pow((h-this.NX)/(this.GI-this.NX),1/2.7);this._Y.value=this.tk?L:h};Wv.prototype.q=function(){return parseFloat(this.XB.value)};
Wv.prototype.nc=function(){return this.tt};Wv.prototype.kk=function(h){var R=0;if(h.currentTarget==this.XB){var d=h.target.value,L=0;
while(L<d.length&&(d.charAt(L)=="."||48<=d.charCodeAt(L)&&d.charCodeAt(L)<=57))L++;R=d==""?0:parseFloat(d);
var $=d.slice(L).trim();if(this.XV&&this.XV.indexOf($)!=-1)this.tt=$}else{if(Date.now()-this.rg<10)return;
R=parseFloat(h.target.value);if(this.tk){R=this.NX+Math.pow(R/400,2.7)*(this.GI-this.NX);R=this.zBT(R)}}this.b(R);
this.rx()};Wv.prototype.rx=function(){this.R(new X(e.E.l))};Wv.prototype.zBT=function(h){if(this.GI-this.NX>50&&h>10)h=Math.round(h);
return h};Wv.prototype.gt=function(h){var R=0;if(m.Zt(h.code,m.bc))R=1;if(m.Zt(h.code,m.Bq))R=-1;if(R!=0)this.zqz(R,h.shiftKey)};
Wv.prototype.Ew=function(h){this.zqz(h.deltaY>0?-1:1,h.shiftKey)};Wv.prototype.zqz=function(h,R){var d=this.q(),L=this._V,$=h*(L==null||L==0||d>5?1:.1);
if(R)$*=10;var W=d+$;if(!this.tk&&this.GI!=this.NX)W=Math.min(this.GI,W);this.b(W);this.rx()};Wv.prototype.zmO=function(h){var R=Date.now()-this.rg;
this.rg=Date.now();if(R>300)return;var d=(this.GI+this.NX)/2;if(this.NX<0&&this.GI>0)d=0;else if(this.NX<1&&this.GI>1&&this.GI<10)d=1;
this.b(d);this.rx()};Wv.prototype.zmZ=function(h){e.rh(document,this.zCQ);e.rw(document,this.zMj);this.tu=e.sA(h,document.body).x;
this.th=this.q()};Wv.prototype.zmU=function(h){e.dy(h);var R=this.NX==this.GI,d=e.sA(h,document.body).x,L=(d-this.tu)*(R?1:1/120*(this.GI-this.NX)),$=this.th+L;
if(R)$=Math.round($);if(!R){if(!0){$=Math.max(this.NX,$);if($==this.NX){this.tu=d;this.th=this.NX}}if(!this.tk){$=Math.min(this.GI,$);
if($==this.GI){this.tu=d;this.th=this.GI}}$=this.zBT($)}this.yz=!0;this.b($);this.rx()};Wv.prototype.zmX=function(h){if(!this.yz)this.XB.focus();
this.yz=!1;e.yK(document,this.zCQ);e.fO(document,this.zMj)};function zy(h,R){uD.call(this);this.Mq=[];
this.ip=-1;this.zaQ=h;this.Ga=R;this.yt=0;this.gr=null;if(R!=null){this.Cf=new MQ([{name:[6,37]},{name:[5,4]}]);
this.Cf.parent=this;this.Cf.A("select",this.UP,this)}this.M=e.X("div","imageset scrollable");this.M.addEventListener("contextmenu",e.uz,!1)}zy.prototype=new uD;
zy.prototype.o=function(){if(this.Cf)this.Cf.o()};zy.prototype.UP=function(h){var R=this.Cf.Ir()[0],d=new X(e.E.Z,!0),L={c:e.j.nY,Ns:this.Ga,eV:[this.ip]};
if(R==0){var $=this.gr[1][this.ip];L.nU="rnm";d.data={c:e.j.pY,DN:"namewindow",$c:$,zMl:{m:e.E.Z,g:L}}}else{d.data=L;
L.nU="del"}this.R(d)};zy.prototype.zmf=function(){return this.yt};zy.prototype.Ck=function(h){this.yt=h;
if(this.gr)this.VN()};zy.prototype.Ul=function(h,R,d,L){this.gr=[h,R,d,L];this.VN()};zy.prototype.VN=function(){var h=this.gr,R=h[0],d=h[1],L=h[2],$=h[3];
this.Mq=[];this.M.innerHTML="";var W=this.CF.bind(this),M=this.yt;if(M==0)e.qH(this.M,"imageset");else e.HT(this.M,"imageset");
for(var x=0;x<R.length;x++){var t=R[x];if(t==null){this.Mq.push(null);continue}var g=e.X("img","image");
if(L)e.rL(g,L,$);if(this.zaQ)e.qH(g,"gsicon");g.setAttribute("src",t);if(M==0){}else{var r=e.X("div","listitem");
r.appendChild(g);var l=e.X("span");l.textContent=d?d[x]:"Item "+(x+1);l.setAttribute("style","margin-left:4px;");
r.appendChild(l);g=r}if(d)g.setAttribute("title",d[x]);g.addEventListener("mousedown",W,!1);this.Mq.push(g);
this.M.appendChild(g)}};zy.prototype.CF=function(h){this.ip=this.Mq.indexOf(h.currentTarget);if(h.button==0)this.R(new X(e.E.l));
if(h.button==2&&this.Cf){var R=this.Cf;R.update(null);var d=e.sA(h,document.body),L=new X(e.E.Z,!0);
L.data={c:e.j.eN,_z:R,x:d.x,y:d.y+2};this.R(L)}};zy.prototype.q=function(){return this.ip};zy.prototype.b=function(h){this.ip=h};
zy.prototype.up=function(h){for(var R=0;R<this.Mq.length;R++){var d=this.Mq[R];if(d==null)continue;if(R==h)e.qH(d,"active");
else e.HT(d,"active")}};function zE(h,R,d,L,$,W,M){uD.call(this);this.M=e.X("span","fitem "+d);this.nV=new uD;
this.nV.M=e.X("div","floatcont");this.nV.M.setAttribute("style","width: "+(L+1.5)+"em;");this.nV.parent=this;
this.yW=e.X("div");this.nV.M.appendChild(this.yW);this.rZ=e.X("div");this.nV.M.appendChild(this.rZ);
if(h){this.xk=h;this.fg=e.X("label","flabel");this.M.appendChild(this.fg)}this.c=e.X("button",M?"nopadding":"");
this.c.setAttribute("style","position:relative;");this.c.addEventListener("click",(R?this.gg:this.uW).bind(this),!1);
this.M.appendChild(this.c);this.KM=e.X("img",M?"gsicon":"");this.c.appendChild(this.KM);if(R){var x=e.X("button");
x.textContent="\u25BC";x.addEventListener("click",this.uW.bind(this),!1);this.M.appendChild(x)}else{var t=e.X("span");
t.textContent="\u25BC";t.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.c.appendChild(t)}var g=e.X("span");
this.rZ.appendChild(g);g.setAttribute("style","display:inline-block;  vertical-align:top; width:"+L+"em;");
this.nS=new zy(M,W);g.appendChild(this.nS.M);this.nS.parent=this.nV;this.nS.A(e.E.l,this.zmv,this);this.nS.M.style.height=$+"em";
this.tb=e.X("button");this.tb.textContent="\u25BC";this.tb.setAttribute("style","padding:3px");this.tb.addEventListener("click",this.zmY.bind(this),!1);
this.rZ.appendChild(this.tb);var r=this.gM(),l=W!=uh.ma&&W!=uh.zq?W:null,H=W==null?"":uh.LM[W][0].toUpperCase(),y=l?[{name:[12,87]}]:[];
y=y.concat([{name:"",n:function(b){return{Zz:uP.get([25,3,0])+" / "+uP.get([25,3,1])}}},{name:[23,6,"."+(H=="ICC"?"icc .cube .look .3dl":H)]},{name:"",n:function(b){return{Zz:uP.get([1,8])+" ."+H}},OC:r.length!=0}]);
for(var f=0;f<r.length;f++)y.push({name:r[f].split("/").pop()});this.Cf=new MQ(y);this.Cf.parent=this.nV;
this.Cf.A("select",this.UP,this);this.Ga=W;this.zkk=l;this.Pe=null;this.VT=!0;this.Ge=null}zE.prototype=new uD;
zE.prototype.gM=function(){return[]};zE.prototype.zmv=function(h){this.Wd(h);this.nS.up(this.nS.q())};
zE.prototype.gg=function(){};zE.prototype.o=function(){this.Cf.o();this.nS.o();var h=this.xk;if(h)this.fg.textContent=uP.get(h)+":"};
zE.prototype.UI=function(h){this.fg.textContent=h};zE.prototype.Gk=function(h){var R=this.Ga,d=0;if(R==uh.zF){d=this.Pe?this.Pe.length:0;
h=h.slice(0)}this.Pe=h;this.VT=!0;if(e.Rn(this.nS.M)||R==uh.g$)this.sF();if(R==uh.zF&&h.length-d==1&&e.Rn(this.M)){this.b(h[d]);
this.VT=!0;this.sF();this.nS.up(d);this.R(new X(e.E.l))}};zE.prototype.UP=function(h){var R=h.target.Ir()[0];
if(this.zkk==null)R++;var d=new X(e.E.Z,!0);if(R==0){var L=this.yE();if(this.Ga==uh.zF&&L[0].profile==null)return;
d.data={c:e.j.nY,nU:"add",Ns:this.zkk,_J:L}}else if(R==1)this.nS.Ck(1-this.nS.zmf());else if(R==2)d.data={c:e.j.kH};
else if(R==3)d.data={c:e.j.Af,zku:this.Ga};else{var $=this.gM();d.data={c:e.j.X_,Ns:{url:"rsrc/"+$[R-4]}}}if(d.data)this.R(d)};
zE.prototype.yE=function(){return[this.q()]};zE.prototype.zmY=function(h){var R=this.Cf;R.o();R.update(null);
var d=h.currentTarget.getBoundingClientRect(),L=new X(e.E.Z,!0);L.data={c:e.j.eN,_z:R,x:d.left,y:d.top+d.height};
this.R(L)};zE.prototype.uW=function(h){this.sF();var R=this.c.getBoundingClientRect(),d=new X(e.E.Z,!0);
d.data={c:e.j.eN,_z:this.nV,x:R.left,y:R.top+R.height,zue:!0};this.R(d)};function Bk(){uD.call(this);
this.M=e.X("div");this.Um=!1;this.GX=[new ur([12,19,1],[[13,1,7]].concat(uJ.HK)),new Mn([17,1]),new Mn([12,46])];
for(var h=0;h<3;h++){var R=this.GX[h];this.M.appendChild(R.M);R.A(e.E.l,this.Mc,this)}this.o()}Bk.prototype=new uD;
Bk.prototype.o=function(){for(var h=0;h<3;h++)this.GX[h].o()};Bk.prototype.q=function(){return this.Um.slice(0)};
Bk.prototype.b=function(h){this.Um=h.slice(0);var R=this.GX,d=R[0].q();R[1].b(h.slice(d*8,d*8+4),d);
R[2].b(h.slice(d*8+4,d*8+8),d)};Bk.prototype.Mc=function(h){var R=this.GX,d=R.indexOf(h.currentTarget);
if(d==0)this.b(this.Um);else{var L=R[0].q()*8+(d==1?0:4),$=R[d].q();for(var W=0;W<4;W++)this.Um[L+W]=$[W];
this.R(new X(e.E.l,!1))}};function Mn(h){uD.call(this);this.M=e.X("div");this.Bv=e.X("canvas");this.zaK=h;
this.Um=[0,20,200,255];this._w=0;this.zWt=-1;this.zw$=!1;this.zWM=[];for(var R=0;R<5;R++){var d=e.X("span");
d.setAttribute("style","display:inline-block;width:"+(R==0?8:R==2?7:2)+"em");this.zWM.push(d);this.M.appendChild(d)}this.es=this.sn.bind(this);
this.Wh=this.xT.bind(this);this.Wi=this.GL.bind(this);e.Xh(this.Bv,this.es);this.M.appendChild(this.Bv);
this.VN()}Mn.prototype=new uD;Mn.prototype.o=function(){this.VN()};Mn.prototype.b=function(h,R){this.Um=h;
this._w=R;this.VN()};Mn.prototype.q=function(){return this.Um.slice(0)};Mn.prototype.sn=function(h){var R=this.Um,d=e.sA(h,this.Bv),L=d.x-8,$=-1,W=1e9;
for(var M=0;M<4;M++){var x=L-R[M],t=Math.abs(x);if(t<8&&t<W&&((M&1)==0&&x<0||(M&1)==1&&x>0)){W=x;$=M}}if($==-1)return;
this.zWt=$;this.yB=h.altKey||R[($>>>1)*2]!=R[($>>>1)*2+1];e.rh(window,this.Wh);e.rw(window,this.Wi)};
Mn.prototype.xT=function(h){var R=this.Um,d=this.zWt,L=(d>>>1)*2,$=L+1,W=e.sA(h,this.Bv),M=Math.round(Math.max(0,Math.min(255,W.x-8)));
R[d]=M;if(this.yB&&R[L]>=R[$])this.yB=!1;if(!this.yB)R[L]=R[$]=M;this.VN();this.R(new X(e.E.l,!1))};
Mn.prototype.GL=function(h){e.yK(window,this.Wh);e.fO(window,this.Wi)};Mn.prototype.VN=function(){var h=this.Bv;
e.PH(h,255+16,16);var R=h.getContext("2d"),d=h.width,L=h.height,$=Math.round(255*e.p()),W=Math.round(8*e.p());
R.translate(W,0);var M=R.createLinearGradient(0,0,$,0);M.addColorStop(0,"black");M.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this._w]);
R.fillStyle=M;R.fillRect(0,0,$,W);var x=this.zWM,t=uP.get(this.zaK)+":";x[0].textContent=t;for(var g=0;
g<4;g++){var r=this.Um[g];x[1+g].textContent=r;var l=Math.round(r*e.p());R.beginPath();R.moveTo(l,W);
R.lineTo(l,W+W);R.lineTo(l+((g&1)==0?-1:1)*W,W+W);R.closePath();R.fillStyle="#cccccc";R.fill();R.strokeStyle="black";
R.stroke()}};function bC(h){uD.call(this);this.xj=0;this.alt=0;var R="ai"+e.dX();this.M=e.X("span","fitem angleinput");
if(h){this.fg=e.X("label","flabel");this.xk=h;this.M.appendChild(this.fg);this.fg.setAttribute("for",R)}this.xU=20;
this.pR=e.X("canvas","gsicon");this.EH=this.pR.getContext("2d");e.PH(this.pR,this.xU*2+1,this.xU*2+1,this.EH);
this.M.appendChild(this.pR);e.Xh(this.pR,this.uB.bind(this));this.$w=this.ND.bind(this);this.$_=this.uS.bind(this);
this.XB=e.X("input","");this.XB.setAttribute("type","text");this.M.appendChild(this.XB);this.XB.setAttribute("id",R);
this.XB.addEventListener("change",this.kk.bind(this),!1);this.CC=e.X("span","");this.CC.innerHTML="\xB0";
this.M.appendChild(this.CC);this.b(this.xj,this.alt)}bC.prototype=new uD;bC.prototype.o=function(){this.fg.textContent=uP.get(this.xk)+":"};
bC.prototype.UI=function(h){this.fg.textContent=h};bC.prototype.q=function(){return{xj:this.xj,alt:this.alt}};
bC.prototype.b=function(h,R){if(h!=null)this.xj=h;if(R!=null)this.alt=R;this.XB.value=this.xj;h=Math.PI*this.xj/180;
R=.9*this.xU*(90-this.alt)/90;var d=this.xU+.5,L=this.EH;L.clearRect(0,0,100,100);L.strokeStyle="#000000";
L.beginPath();L.arc(d,d,.9*this.xU,0,2*Math.PI);L.moveTo(d,d);L.lineTo(d+Math.cos(h)*this.xU*.9,d-Math.sin(h)*this.xU*.9);
L.stroke();L.strokeStyle="#ff0000";L.beginPath();L.moveTo(d+Math.cos(h)*R-3,d-Math.sin(h)*R);L.lineTo(d+Math.cos(h)*R+3,d-Math.sin(h)*R);
L.moveTo(d+Math.cos(h)*R,d-Math.sin(h)*R-3);L.lineTo(d+Math.cos(h)*R,d-Math.sin(h)*R+3);L.stroke()};
bC.prototype.kk=function(h){var R=parseInt(this.XB.value);R=R%360;this.b(R);this.R(new X(e.E.l,!1))};
bC.prototype.uB=function(h){e.rh(window,this.$w);e.rw(window,this.$_);this.ND(h)};bC.prototype.ND=function(h){var R=e.sA(h,this.pR),d=R.x-this.xU,L=R.y-this.xU,$=180*Math.atan2(-L,d)/Math.PI,W=90-90*Math.min(1,Math.sqrt(d*d+L*L)/(.9*this.xU));
this.b(Math.round($),Math.round(W));this.R(new X(e.E.l,!1))};bC.prototype.uS=function(h){this.R(new X(e.E.l,!1));
e.yK(window,this.$w);e.fO(window,this.$_)};function kl(h,R){uD.call(this);this.Um=0;this.GP=R;this.M=e.X("span","fitem angleinput");
if(h){this.fg=e.X("label","flabel");this.xk=h;this.M.appendChild(this.fg)}this.pR=e.X("canvas","gsicon");
this.EH=this.pR.getContext("2d");e.PH(this.pR,R,R);this.M.appendChild(this.pR);e.Xh(this.pR,this.uB.bind(this));
this.$w=this.ND.bind(this);this.$_=this.uS.bind(this);this.b(0)}kl.prototype=new uD;kl.prototype.o=function(){if(this.xk)this.fg.textContent=uP.get(this.xk)+":"};
kl.prototype.UI=function(h){this.fg.textContent=h};kl.prototype.q=function(){return this.Um};kl.prototype.b=function(h){this.Um=h;
var R=this.pR.width,d=Math.floor(h/3),L=h-3*d,$=(L+.5)*R/3,W=(d+.5)*R/3,M=this.EH,x=[.5,Math.round(R/3)+.5,Math.round(2*R/3)+.5,R-.5];
M.clearRect(0,0,R,R);var t=this.GP<30;M.setLineDash([]);M.strokeStyle=t?"rgba(0,0,0,0.5)":"#000000";
M.beginPath();for(var g=0;g<4;g++){var r=x[g];M.moveTo(r,0);M.lineTo(r,R);M.moveTo(0,r);M.lineTo(R,r)}M.stroke();
if(h==9)return;if(!t){M.setLineDash([1,2]);var l=R*.53,H=Math.max(0,Math.min(R-l,$-l/2)),y=Math.max(0,Math.min(R-l,W-l/2));
M.strokeRect(Math.round(H)+.5,Math.round(y)+.5,Math.round(l),Math.round(l))}M.fillStyle="#000000";M.beginPath();
M.arc($,W,R/8,0,Math.PI*2);M.fill()};kl.prototype.uB=function(h){e.rh(window,this.$w);e.rw(window,this.$_);
this.ND(h)};kl.prototype.ND=function(h){var R=e.sA(h,this.pR),d=Math.max(0,Math.min(2,Math.floor(R.x/(this.GP/3)))),L=Math.max(0,Math.min(2,Math.floor(R.y/(this.GP/3))));
this.b(L*3+d)};kl.prototype.uS=function(h){this.R(new X(e.E.l,!1));e.yK(window,this.$w);e.fO(window,this.$_)};
function uA(h,R,d,L){uD.call(this);this.M=e.X("button","fitem"+(R?" spread":"")+(L?" bbtn":""));this.xk=h;
this.ta=d;this.o();this.M.addEventListener("click",this.CF.bind(this),!1)}uA.prototype=new uD;uA.prototype.o=function(){var h=this.M,R=this.xk,d=this.ta,L=uP.get(R);
h.innerHTML=L;if(L.startsWith("<img"))h.setAttribute("style","padding:2px");if(d){h.setAttribute("title",uP.get(d))}};
uA.prototype.zCg=function(h){this.M.setAttribute("title",h)};uA.prototype.CF=function(h){this.R(new X("click",!1))};
uA.prototype.mt=function(){e.qH(this.M,"bactive")};uA.prototype.QO=function(){e.HT(this.M,"bactive")};
uA.prototype.UI=function(h,R){if(h)this.xk=h;if(R)this.ta=R;this.o()};uA.prototype.b=function(h){if(h)this.mt();
else this.QO()};uA.prototype.RJ=function(){return this.M.getAttribute("class").indexOf("bactive")!=-1};
uA.prototype.q=function(){return this.RJ()};function hY(h){uD.call(this);this.M=e.X("span","fitem cswatch");
this.zhF=0;this.rH=[];this.Qm=[];var R=this.zmV.bind(this);for(var d=0;d<h;d++){this.rH.push(0);var L=e.X("span","colorsample");
L.addEventListener("click",R,!1);this.Qm.push(L);this.M.appendChild(L)}var $=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],W=Math.min(h,$.length);
for(var d=0;d<W;d++)this.rH[d]=$[d];this.iR()}hY.prototype=new uD;hY.prototype.zmV=function(h){this.zhF=this.Qm.indexOf(h.currentTarget);
this.R(new X(e.E.l))};hY.prototype.q=function(){return this.rH[this.zhF]};hY.prototype.b=function(h){var R=this.rH,d=R.indexOf(h);
if(d!=-1)R.splice(d,1);else R.pop();R.unshift(h);this.iR()};hY.prototype.iR=function(){for(var h=0;h<this.rH.length;
h++){this.Qm[h].setAttribute("style","background-color:#"+z.zJ(this.rH[h]))}};function zz(h){uD.call(this);
this.yP=!1;this.IS={H:0,N:0,W:0};this.hJ=h;this.M=e.X("span","fitem colorsample");this.M.addEventListener("click",this.CF.bind(this),!1)}zz.prototype=new uD;
zz.prototype.o=function(){};zz.prototype.zdU=function(h){if(this.yP==h)return;this.yP=h;this.go()};zz.prototype.CF=function(h){var R=this.IS;
this.R(new X("click"));var d=new X(e.E.Z,!0);d.data={c:e.j.pY,DN:"colorpicker",lo:R.H<<16|R.N<<8|R.W,YN:this.ye.bind(this),yN:this.hJ};
this.R(d)};zz.prototype.ye=function(h){this.rt(h);this.R(new X(e.E.l))};zz.prototype.zAh=function(){this.CF(null)};
zz.prototype.gy=function(){var h=this.IS;return h.H<<16|h.N<<8|h.W};zz.prototype.q=function(){return z.i.ZR(this.IS)};
zz.prototype.rt=function(h){this.IS={H:h>>16&255,N:h>>8&255,W:h&255};this.go()};zz.prototype.b=function(h){this.IS=z.i.IZ(h);
this.go()};zz.prototype.go=function(){var h=this.IS,R=h.H,d=h.N,L=h.W;if(this.yP)R=d=L=Math.round(z.py(R,d,L));
var $=R<<16|d<<8|L;this.M.setAttribute("style","background-color:#"+z.zJ($))};function bW(h){zE.call(this,h,!1,"brushbutton nopadding",16.6,10,uh.xZ,!0);
this.Gz=new uQ([12,14,0],1,1e3," px",0,!0);this.Gz.A(e.E.l,this.zDB,this);this.yW.appendChild(this.Gz.M);
this.qn=new uQ([12,17],0,100,"%");this.qn.A(e.E.l,this.zDB,this);this.yW.appendChild(this.qn.M)}bW.prototype=new zE;
bW.prototype.uW=function(h){var R=this.M.getBoundingClientRect();this.zSg(R.left,R.top+R.height)};bW.prototype.zSg=function(h,R){this.sF();
var d=new X(e.E.Z,!0);d.data={c:e.j.eN,_z:this.nV,x:h,y:R};this.R(d)};bW.prototype.b=function(h,R,d){this.Ge=JSON.parse(JSON.stringify(h));
var L=Math.floor(20*e.p()),$=Math.floor(36*e.p()),W=Math.floor(24*e.p()),M=uf.cv(h,R,d,L,W,$);this.KM.setAttribute("src",M);
e.rL(this.KM,$,W);var x=h.Brsh.v;this.Gz.b(x.Dmtr.v.val);if(x.Hrdn!=null){this.qn.GS();this.qn.b(x.Hrdn.v.val)}else this.qn.pF();
this.nS.up(-1)};bW.prototype.yE=function(){return{list:[{t:"Objc",v:this.q()}],WU:[],kR:[]}};bW.prototype.q=function(){return this.Ge};
bW.prototype.sF=function(){if(!this.VT)return;var h=[],R=[],d=this.Pe,L=Math.floor(33*e.p()),$=Math.floor(40*e.p());
for(var W=0;W<d.list.length;W++){var M=d.list[W].v,x=uf.cv(M,d.WU,d.kR,L,$);h.push(x);R.push(M.Nm.v.split("=").pop())}this.nS.Ul(h,R,L,$);
this.VT=!1};bW.prototype.Wd=function(h){var R=this.Pe;this.b(R.list[this.nS.q()].v,R.WU,R.kR);this.R(new X(e.E.l))};
bW.prototype.o=function(){zE.prototype.o.call(this);this.Gz.o();this.qn.o()};bW.prototype.zDB=function(h){var R=this.Pe,d=this.Ge;
d.Brsh.v.Dmtr.v.val=this.Gz.q();if(d.Brsh.v.Hrdn!=null)d.Brsh.v.Hrdn.v.val=this.qn.q();this.b(d,R.WU,R.kR);
this.R(new X(e.E.l))};function hU(h){zE.call(this,h,!0,"contourbutton",17,10.5,uh.ho)}hU.prototype=new zE;
hU.prototype.Wd=function(h){this.b(this.Pe[h.target.q()]);this.R(new X(e.E.l))};hU.prototype.gg=function(h){var R=new X(e.E.Z,!0);
R.data={c:e.j.pY,DN:"contoureditor",C:this.Ge,response:this.zAB.bind(this)};this.R(R)};hU.prototype.zAB=function(h){this.b(h);
this.R(new X(e.E.l))};hU.prototype.sF=function(){if(!this.VT)return;var h=Math.floor(38*e.p()),R=Math.floor(38*e.p()),d=[],L=[],$=this.Pe;
for(var W=0;W<$.length;W++){L.push($[W].Nm?$[W].Nm.v:"");d.push(z.LV.cv($[W].Crv.v,h,R))}this.nS.Ul(d,L,h,R);
this.VT=!1};hU.prototype.b=function(h){this.Ge=JSON.parse(JSON.stringify(h));var R=this.Ge.Crv.v;for(var d=0;
d<R.length;d++)if(R[d].v.Cnty==null)R[d].v.Cnty={t:"bool",v:!0};this.ve()};hU.prototype.ve=function(){var h=Math.floor(30*e.p()),R=Math.floor(30*e.p()),d=z.LV.cv(this.Ge.Crv.v,h,R);
this.KM.setAttribute("src",d);e.rL(this.KM,h,R)};hU.prototype.q=function(){return JSON.parse(JSON.stringify(this.Ge))};
function kT(h){uD.call(this);this.sa=null;this.Nt=null;this.Uf=null;this.tB=null;this.zhI=[];this.zhZ=[];
this.M=e.X("span","fitem fillbutton");this.nV=new uD;this.nV.M=e.X("div","floatcont form");this.nV.M.setAttribute("style","width: 21em;");
this.nV.parent=this;this.bO=h;this.fg=this.fg=e.X("label","flabel");this.M.appendChild(this.fg);this.pR=e.X("canvas");
this.EH=this.pR.getContext("2d");this.zbb=null;this.M.appendChild(this.pR);this.pR.addEventListener("click",this.uW.bind(this),!1);
this.Go=new kH([12,66],["","Color","Grad","Patt"]);this.nV.M.appendChild(this.Go.M);this.Go.A(e.E.l,this.Mc,this);
this.nV.M.appendChild(e.X("hr"));this.zaJ=e.X("span");this.OS=new zz(!0);this.OS.parent=this.nV;this.OS.A(e.E.l,this.Mc,this);
this.tF=new hY(10);this.tF.A(e.E.l,this.Mc,this);this.qf=e.X("div","marged hiline");this.qf.appendChild(this.OS.M);
e.Ub(this.qf);this.qf.appendChild(this.tF.M);this.xl=new zq("GrFl",!0);this.xl.parent=this.nV;this.xl.A(e.E.l,this.Mc,this);
this.GG=e.X("div","marged hiline");var R="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var d=0;
d<R.length;d++){var L=this.xl.Gs[R[d]].M;this.GG.appendChild(L)}this.RF=new zq("patternFill",!0);this.RF.parent=this.nV;
this.RF.A(e.E.l,this.Mc,this);this.GQ=e.X("div","marged hiline");var R=["Ptrn","Scl","Algn","phase"];
for(var d=0;d<R.length;d++){var L=this.RF.Gs[R[d]].M;this.GQ.appendChild(L)}}kT.prototype=new uD;kT.prototype.Nk=function(h,R){if(R==uh.zb){this.zhI=[];
this.zhZ=[];if(this.sa)this.b(this.Uf,this.q(),this.sa)}this.Nt=h;this.xl.Nk(h,R);this.RF.Nk(h,R)};kT.prototype.o=function(){this.fg.textContent=uP.get(this.bO)+": ";
this.Go.o();this.OS.o();this.xl.o();this.RF.o()};kT.prototype.Mc=function(h){var R=h.currentTarget;if(R==this.Go){var d=this.Go.q(),L={sS:d,ke:this.sa[d]};
if(d>0&&L.ke==null)L.ke=JSON.parse(JSON.stringify(uz.kM[d-1]));if(this.sa)this.b(this.Uf,L,this.sa)}if(R==this.tF)this.OS.rt(R.q());
this.R(new X(e.E.l,!1))};kT.prototype.uW=function(h){var R=this.pR.getBoundingClientRect(),d=new X(e.E.Z,!0);
d.data={c:e.j.eN,_z:this.nV,x:R.left,y:R.top+R.height+4};this.R(d);this.tF.b(this.OS.gy())};kT.prototype.b=function(h,R,d){this.sa=d;
this.Uf=h;var L=[[13,1,0],[13,0],[12,37],[12,62]],$=this.zhI,W=this.zhZ,M=!1,l;for(var x=0;x<4;x++){var t={sS:x,ke:d[x]},g=kT.zDd(t);
if(W[x]==g)continue;M=!0;var r=kT.zAp(null,t,this.Nt,this.Uf,22,22,!1);$[x]="<img width=\"22\" height=\"22\" src=\""+r+"\" />";
W[x]=g}if(M)this.Go.Ii($,L);this.Go.b(R.sS);var g=kT.zDd(R);if(g!=this.zbb)kT.zAp(this.EH,R,this.Nt,this.Uf,30,23,!0);
this.zbb=g;var H=R.sS;if(H==0){l=this.zaJ}if(H==1){this.OS.b(R.ke.Clr.v);l=this.qf}if(H==2){this.xl.update(h,R.ke);
l=this.GG}if(H==3){this.RF.update(h,R.ke);l=this.GQ}if(l!=this.tB){if(this.tB!=null){this.nV.M.removeChild(this.tB)}this.nV.M.appendChild(l);
this.tB=l}};kT.prototype.q=function(){var h={sS:this.Go.q()};if(h.sS==1){h.ke=JSON.parse(JSON.stringify(uz.kM[0]));
h.ke.Clr.v=this.OS.q()}if(h.sS==2){h.ke=this.xl.q()}if(h.sS==3){h.ke=this.RF.q()}return h};kT.zDd=function(h){var R=h.sS,d=h.ke,L="empty";
if(R==1){L=z.i.IZ(d.Clr.v);L=L.H+","+L.N+","+L.W}if(R==2)L=JSON.stringify(d.Grad.v);if(R==3)L=d.Ptrn.v.Idnt.v;
return L};kT.zAp=function(h,R,d,L,$,W,M){if(h==null)h=kT.EH;var x=Math.floor($*e.p()),t=Math.floor(W*e.p()),g=h.canvas,r;
g.width=x;g.height=t;e.rL(g,x,t);var l=R.sS;if(l==0){h.fillStyle="#ffffff";h.fillRect(0,0,x,t);h.strokeStyle="#ff0000";
h.lineWidth=2;h.moveTo(0,0);h.lineTo(x,t);h.moveTo(0,t);h.lineTo(x,0);h.stroke()}if(l==1){var H=R.ke.Clr.v;
H=z.i.IZ(H);h.fillStyle="#"+z.zJ(H.H<<16|H.N<<8|H.W);h.fillRect(0,0,x,t)}if(l==2){s.Iq.cv(R.ke.Grad.v,x,t,0,d.Ch,d._W,g)}if(l==3){var y=R.ke.Ptrn.v,f;
if(L!=null)f=uS.$V(y,L.add.Patt);if(f==null)f=uS.$V(y,d.Wy);hu.cv(f,x,t,g)}if(M){h.beginPath();h.strokeStyle="#000000";
h.fillStyle="#ffffff";h.lineWidth=2;var b=x*.7,K=Math.floor(t*.7),Z=7*e.p();h.moveTo(b,K);h.lineTo(b+Z,K);
h.lineTo(b+Z/2,K+Z/2);h.closePath();h.stroke();h.fill()}if(h==kT.EH)return g.toDataURL()};kT.EH=e.X("canvas").getContext("2d");
function hu(h){zE.call(this,h,!1,"patternbutton",18,10,uh.zb);this.yS=null}hu.prototype=new zE;hu.prototype.Wd=function(h){var R=this.Pe[this.nS.q()];
this.Ge={classID:"Ptrn",Nm:{t:"TEXT",v:R.name},Idnt:{t:"TEXT",v:R.id}};this.R(new X(e.E.l));this.ve()};
hu.Em=!1;hu.prototype.sF=function(){if(!this.VT)return;var h=this.Pe;if(h==null||!hu.Em){var R=new X(e.E.Z,!0);
R.data={c:e.j.X_,Ns:{url:"rsrc/basic/basic.pat"}};this.R(R);hu.Em=!0;return}var d=Math.floor(34*e.p()),L=Math.floor(34*e.p()),$=[],W=[];
for(var M=0;M<h.length;M++){$.push(hu.cv(h[M],d,L));W.push(h[M].name)}this.nS.Ul($,W,d,L);this.VT=!1};
hu.prototype.b=function(h,R){if(this.Ge&&h.Idnt.v==this.Ge.Idnt.v)return;this.Ge=JSON.parse(JSON.stringify(h));
this.ve(R)};hu.prototype.q=function(){return JSON.parse(JSON.stringify(this.Ge))};hu.prototype.yE=function(){return this.yS?[this.yS]:[]};
hu.prototype.ve=function(h){var R=Math.floor(50*e.p()),d=Math.floor(50*e.p()),L;if(h!=null)L=uS.$V(this.Ge,h.add.Patt);
if(L==null)L=uS.$V(this.Ge,this.Pe);this.yS=L;var $=hu.cv(L,R,d);this.KM.setAttribute("src",$);e.rL(this.KM,R,d)};
hu.Bv=e.X("canvas","");hu.cv=function(h,R,d,L){if(L==null)L=hu.Bv;var $=L.getContext("2d");L.width=R;
L.height=d;if(h){var W=h.e.k,M=h.e.$,x=h.tP,t=Math.min(R/W,d/M),g=t;if(g*W<2)g=2/W;var r=t;if(r*M<2)r=2/M;
var l=s.w.GT([x,h.e],new um(g,0,0,r,0,0),!1),H=l.rect.k,y=l.rect.$,f=$.createImageData(H,y);z.kW(l.buffer,f.data);
$.putImageData(f,Math.floor((R-H)/2),Math.floor((d-y)/2))}return L.toDataURL()};function hf(h){zE.call(this,h,!1,"patternbutton",24.2,17,uh.ma);
this.ks=""}hf.prototype=new zE;hf.prototype.Wd=function(h){this.Ge=JSON.parse(JSON.stringify(this.Pe[0][this.nS.q()]));
this.R(new X(e.E.l))};hf.prototype.sF=function(){var h=this.Pe;if(h==null||!this.VT)return;var R=Math.floor(50*e.p()),d=Math.floor(50*e.p()),L=[],$=[];
for(var W=0;W<h[0].length;W++){L.push(hf.cv(this.Pe[0][W].rE,R,d,this.Pe[1]));$.push(h[0][W].gN.Nm.v.split("=").pop())}this.nS.Ul(L,$,R,d);
this.VT=!1};hf.prototype.b=function(h,R,d,L){var $=JSON.stringify(h.rE)+","+d+","+L;if(this.ks!=$){this.ks=$;
this.Ge=JSON.parse(JSON.stringify(h));this.ve(R,d,L)}this.nS.up(-1)};hf.prototype.q=function(){return JSON.parse(JSON.stringify(this.Ge))};
hf.prototype.ve=function(h,R,d){var L=Math.floor(68*e.p()),$=Math.floor(68*e.p()),W=hf.cv(this.Ge.rE,L,$,h?h:this.Pe[1],R,d);
this.KM.setAttribute("src",W);e.rL(this.KM,L,$)};hf.cv=function(h,R,d,L,$,W){var M=new zG;M.k=R;M.$=d;
M.buffer=z.h(R*d*4);M.add.Patt=L;M.ry($==null?90:$);M.rV(W==null?30:W);var x=new A(0,0,Math.round(R*.5),Math.round(d*.5));
x.x=Math.round((R-x.k)/2);x.y=Math.round((d-x.$)/2);var t=M.mS();t.rect=x;t.buffer=z.h(x.s()*4);z._M(t.buffer,4284045657);
uS.zSq(h,t,.5*100);M._.push(t);M.Ov();M.I();var g=c.BG;c.BG=!1;M.UL();var r=M.DP();c.BG=g;var l=ud.Vk(r.buffer,M.k,M.$);
return l};function kf(h){zE.call(this,null,!1,"tpresetbutton",18,24,uh.sb,!0);e.HT(this.M,"fitem");this.nS.Ck(1);
this.id=h;this.ve();this.GK=new uX([15,7,9]);this.GK.b(!0);this.GK.A(e.E.l,this.zAP,this);this.rZ.appendChild(this.GK.M)}kf.prototype=new zE;
kf.prototype.zAj=function(h){if(this.id==h)return;this.id=h;this.Gk(this.Pe)};kf.prototype.Wd=function(h){var R=this.Pe[this.nS.q()],d=new X(e.E.Z,!0);
d.data={c:e.j.nY,nU:"set",Ns:uh.sb,_J:R};this.R(d)};kf.prototype.o=function(){zE.prototype.o.call(this);
this.GK.o()};kf.prototype.zAP=function(){this.VT=!0;this.sF()};kf.prototype.sF=function(){if(!this.VT)return;
var h=Math.floor(16*e.p()),R=Math.floor(16*e.p()),d=[],L=[],$=this.Pe,W=this.GK.q();for(var M=0;M<$.length;
M++){var x=s.ztJ($[M]);if(!W||x==this.id){L.push($[M][0]?$[M][0].split("=").pop():"");d.push(x==-1?"":PIMG[s.zz[x][0]])}else{d.push(null);
L.push(null)}}this.nS.Ul(d,L,h,R);this.VT=!1};kf.prototype.ve=function(){var h=this.KM;h.setAttribute("src",PIMG[s.zz[this.id][0]]);
e.qH(h,"toolicon")};kf.prototype.yE=function(){return null};kf.Oo={};kf.cv=function(h,R,d){var L=kf.FT,$=kf.Oo,W=z.zJ(h.H<<16|h.N<<8|h.W);
if($[W])return $[W];if(L==null){var M=e.X("canvas");L=kf.FT=M.getContext("2d")}var M=L.canvas;M.width=R;
M.height=d;L.fillStyle="#"+W;L.fillRect(0,0,R,d);var x=$[W]=M.toDataURL();return x};function bQ(h,R){uD.call(this);
this.M=e.X("span","fitem curveeditor");this.AH=null;this.zbA=0;this._w="";this.mode=0;this.tE=h;this.zar=R;
this.hE=null;this.tU=null;this.L_=new kY;this.$O=this.ND.bind(this);this.$I=this.uS.bind(this);this.pR=e.X("canvas","");
this.EH=this.pR.getContext("2d");e.kX(this.pR);e.PH(this.pR,256,256,this.EH);this.M.appendChild(this.pR);
e.Xh(this.pR,this.uB.bind(this))}bQ.prototype=new uD;bQ.prototype.b=function(h,R){var d=JSON.stringify(h);
if(d==JSON.stringify(this.hE))return;this.mode=h.length==256?1:0;this.hE=JSON.parse(d);if(R!=null)this.tU=this.hE[R];
this.Ux()};bQ.prototype.Ce=function(h,R,d){this.AH=h;this.zbA=R;this._w=d;this.Ux()};bQ.prototype.q=function(){return JSON.parse(JSON.stringify(this.hE))};
bQ.prototype.znR=function(){return this.hE.indexOf(this.tU)};bQ.prototype.uB=function(h){var R=e.sA(h,this.pR),d=R.x,L=256-R.y;
if(this.tE){var $=d;d=256-L;L=$}this.L_.qC(d,L);if(this.mode==0){var W=null;for(var M=0;M<this.hE.length;
M++){var x=this.hE[M].v,t=x.Hrzn.v-d,g=x.Vrtc.v-L,r=Math.sqrt(t*t+g*g);if(r<5)W=this.hE[M]}if(W==null){W=z.LV.Ud(d,L,!0);
this.hE.push(W)}this.tU=W}e.rh(document.body,this.$O);e.rw(document.body,this.$I);this.ND(h)};bQ.prototype.ND=function(h){var R=e.sA(h,this.pR),d=R.x,L=256-R.y;
if(this.tE){var $=d;d=256-L;L=$}if(this.mode==0){var W=this.hE,M=this.zar,x=W.indexOf(this.tU),t=x==0||x==W.length-1,g=0,r=255,l=!0;
if(t){g=1;r=254}if(!M||!t)this.tU.v.Hrzn.v=Math.max(g,Math.min(r,Math.round(d)));this.tU.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(L)));
for(var H=0;H<W.length;H++){if(W[H]==this.tU)continue;if(Math.abs(W[H].v.Hrzn.v-this.tU.v.Hrzn.v)<2)l=!1}if(d<0||d>255||L<0||L>255)l=!1;
if(l&&W.indexOf(this.tU)==-1)W.push(this.tU);if(!l&&W.indexOf(this.tU)!=-1&&W.length>2&&(!M||!t))W.splice(W.indexOf(this.tU),1);
if(W[0].v.Hrzn.v==W[1].v.Hrzn.v)if(W[0].v.Hrzn.v==0)W[1].v.Hrzn.v=1;else W[0].v.Hrzn.v--;W.sort(function(J,u){return J.v.Hrzn.v-u.v.Hrzn.v})}else{d=Math.round(d);
L=Math.round(L);d=Math.max(0,Math.min(255,d));L=Math.max(0,Math.min(255,L));var y=this.L_.x,f=d,b=this.L_.y,K=L;
if(d<this.L_.x){f=y;y=d;K=b;b=L}this.hE[d]=L;if(y!=f)for(var Z=y;Z<=f;Z++)this.hE[Z]=Math.round(b+(Z-y)*(K-b)/(f-y))}this.L_.qC(d,L);
this.Ux();this.R(new X(e.E.l))};bQ.prototype.uS=function(h){e.yK(document.body,this.$O);e.fO(document.body,this.$I);
this.R(new X(e.E.l))};bQ.prototype.Ux=function(){var h=this.EH;h.fillStyle="#ffffff";h.fillRect(0,0,256,256);
if(this.AH){h.translate(0,256);h.scale(1,-1);MD.ztr(h,this.AH,5700/this.zbA,this._w);h.scale(1,-1);h.translate(0,-256)}h.strokeStyle="#aaaaaa";
h.lineWidth=1;h.beginPath();for(var R=1;R<4;R++){h.moveTo(0,64*R-.5);h.lineTo(255,64*R-.5);h.moveTo(64*R-.5,0);
h.lineTo(64*R-.5,255)}h.stroke();if(this.tE){h.save();h.transform(0,1,-1,0,256,0)}if(this.mode==0){var d=this.hE,L=z.LV.Gt(d,256);
h.strokeStyle="#000000";h.beginPath();h.moveTo(0,255.5-L[0]);for(var R=0;R<256;R++)h.lineTo(R,255.5-L[R]);
h.stroke();h.lineWidth=2;for(var R=0;R<d.length;R++){var $=d[R].v;h.fillStyle=this.tU==d[R]?"#333":"#fff";
h.beginPath();h.moveTo($.Hrzn.v,255.5-$.Vrtc.v);h.arc($.Hrzn.v,255.5-$.Vrtc.v,3,0,2*Math.PI);h.stroke();
h.fill()}}else{var L=this.hE;h.strokeStyle="#000000";h.beginPath();h.moveTo(0,255.5-L[0]);for(var R=0;
R<256;R++)h.lineTo(R,255.5-L[R]);h.stroke()}if(this.tE)h.restore()};function MD(h){uD.call(this);this.M=e.X("span","");
this.Gr=new ur([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.Gr.A(e.E.l,this.VN,this);this.M.appendChild(this.Gr.M);
e.Ub(this.M);this.Bv=e.X("canvas");var R=this.Bv;this.M.appendChild(R);R.width=Math.round(h*e.p());R.height=Math.round(100*e.p());
e.rL(R,R.width,R.height);this.FT=R.getContext("2d");this.AH=null;this.AJ=0}MD.prototype=new uD;MD.prototype.o=function(){this.Gr.o()};
MD.prototype.Ck=function(h){this.Gr.b(h);this.VN()};MD.prototype.b=function(h){this.AH=h;this.VN()};
MD.prototype.rt=function(h){if(h==this.AJ)return;this.AJ=h;this.VN()};MD.prototype.VN=function(){if(this.AH==null)return;
var h=this.Bv,R=this.FT,d=this.AH,L=this.Gr.q(),$=6e3/d[4],W="#"+z.zJ(this.AJ),M=MD.ztr;h.width=h.width;
R.setTransform(h.width/256,0,0,-h.height/100,0,h.height);R.globalCompositeOperation="lighter";if(L==0)M(R,d[0],$/3,W);
else if(L<4)M(R,d[L],$,W);else{M(R,d[1],$,"#ff0000");M(R,d[2],$,"#00ff00");M(R,d[3],$,"#0000ff")}R.setTransform(1,0,0,1,0,0)};
MD.ztr=function(h,R,d,L){h.beginPath();h.moveTo(0,0);for(var $=0;$<256;$++)h.lineTo($,R[$]*d);h.lineTo(256,0);
h.closePath();h.fillStyle=L;h.fill()};function hA(h){uD.call(this);this.jX={H:0,N:0,W:0};if(Math.abs(h-256/e.p())<10)h=256/e.p();
var R=this.M=e.X("div","flexrow");this.RB=new kY;this.sd=new kY;this.$w=this.zkQ.bind(this);this.$_=this.zA$.bind(this);
this.pR=e.X("canvas","");this.EH=this.pR.getContext("2d");this.pR.width=this.pR.height=256;this.zas=this.EH.getImageData(0,0,256,256);
this.zqU=-1;e.kX(this.pR);e.Xh(this.pR,this.zAQ.bind(this));R.appendChild(this.pR);this.zql=this.zkZ.bind(this);
this.zFh=this.zOe.bind(this);this.bv=e.X("canvas","");this.bI=this.bv.getContext("2d");this.bv.width=20;
this.bv.height=256;this.zFS=this.bI.getImageData(0,0,20,256);this.zAg(this.zFS.data,20,256);e.kX(this.bv);
e.Xh(this.bv,this.zAJ.bind(this));R.appendChild(this.bv);this.pR.setAttribute("style","width:"+h+"px; height:"+h+"px");
this.bv.setAttribute("style","width:"+20/e.p()+"px; height:"+h+"px")}hA.prototype=new uD;hA.prototype.Bk=function(h,R){this.pR.style.width=h+"px"};
hA.prototype.b=function(h){this.jX=h;this.update()};hA.prototype.q=function(){return JSON.parse(JSON.stringify(this.jX))};
hA.prototype.update=function(){var h=this.jX,R=z.pc(h.H,h.N,h.W);if(R.gE==0)R.ix=this.RB.x/255;if(R.ix==0||R.gE==0)R.om=(255-this.eP(this.sd.y))/255;
if(R.gE!=0)this.RB.x=R.ix*255;this.RB.y=(1-R.gE)*255;this.sd.y=(1-R.om)*255;var d=this.zas;if(Math.abs(R.om-this.zqU)>.002){this.zAA(d.data,256,256,R.om);
this.zqU=R.om}this.EH.putImageData(d,0,0);this.EH.strokeStyle="#000000";this.EH.beginPath();this.EH.arc(this.RB.x+1,this.RB.y+1,5,0,2*Math.PI);
this.EH.stroke();this.EH.strokeStyle="#ffffff";this.EH.beginPath();this.EH.arc(this.RB.x,this.RB.y,5,0,2*Math.PI);
this.EH.stroke();var d=this.zFS;this.bI.putImageData(d,0,0);this.bI.strokeStyle="#ffffff";this.bI.beginPath();
this.bI.moveTo(0,this.sd.y);this.bI.lineTo(20,this.sd.y);this.bI.lineWidth=2;this.bI.stroke()};hA.prototype.zAA=function(h,R,d,L){var $=1/R,W=1/d;
for(var M=0;M<d;M++)for(var x=0;x<R;x++){var t=z.Ed(L,x*$,(d-M-1)*W),g=M*R+x<<2;h[g+0]=~~(t.H*255);h[g+1]=~~(t.N*255);
h[g+2]=~~(t.W*255);h[g+3]=255}};hA.prototype.zAg=function(h,R,d){var L=new Uint32Array(h.buffer);for(var $=0;
$<d;$++){var W=z.Ed(1-$/d,1,1),M=255<<24|W.W*255<<16|W.N*255<<8|W.H*255;for(var x=0;x<R;x++)L[$*R+x]=M}};
hA.prototype.zAQ=function(h){e.rh(window,this.$w);e.rw(window,this.$_);this.zkQ(h)};hA.prototype.zA$=function(h){e.yK(window,this.$w);
e.fO(window,this.$_)};hA.prototype.zkQ=function(h){var R=e.sA(h,this.pR);R.x=R.x*(256/parseFloat(this.pR.style.width));
R.y=R.y*(256/parseFloat(this.pR.style.height));this.RB.qC(this.eP(R.x),this.eP(R.y));this.rx()};hA.prototype.rx=function(){this.jX=this.zAL();
this.R(new X(e.E.l))};hA.prototype.zAL=function(){var h=z.Ed((255-this.eP(this.sd.y))/255,this.CS(this.RB.x/255),this.CS(1-this.RB.y/255));
return{H:h.H,N:h.N,W:h.W}};hA.prototype.zAJ=function(h){e.rh(window,this.zql);e.rw(window,this.zFh);
this.zkZ(h)};hA.prototype.zOe=function(h){e.yK(window,this.zql);e.fO(window,this.zFh)};hA.prototype.zkZ=function(h){var R=e.sA(h,this.bv);
R.y=R.y*(256/parseFloat(this.bv.style.height));this.sd.qC(this.eP(R.x),this.eP(R.y));this.rx()};hA.prototype.eP=function(h){return Math.max(0,Math.min(255,h))};
hA.prototype.CS=function(h){return Math.max(0,Math.min(1,h))};function kH(h,R,d){uD.call(this);if(!R)return;
this.ip=0;this.M=e.X("span","fitem bbmenu");if(h){this.xk=h;this.fg=e.X("label","flabel");this.fg.textContent=h+":";
this.M.appendChild(this.fg)}this.vk=[];this.mu=null;this.Ii(R,d);this.b(0)}kH.prototype=new uD;kH.prototype.UI=function(h){this.xk=h;
this.o()};kH.prototype.o=function(){if(this.xk!=null){this.fg.textContent=uP.get(this.xk)+": "}for(var h=0;
h<this.vk.length;h++)this.vk[h].o()};kH.prototype.q=function(){return this.ip};kH.prototype.Ii=function(h,R){while(this.vk.length>0)this.M.removeChild(this.vk.pop().M);
this.mu=h;for(var d=0;d<h.length;d++){var L=new uA(h[d],!1,R?R[d]:null);L.A("click",this.kk,this);this.M.appendChild(L.M);
this.vk.push(L)}this.o()};kH.prototype.b=function(h){this.ip=h;for(var R=0;R<this.vk.length;R++)this.vk[R].QO();
this.vk[h].mt()};kH.prototype.kk=function(h){var R=this.vk.indexOf(h.target);this.b(R);this.R(new X(e.E.l,!1))};
function bi(h,R,d,L){if(L==null)L=16;var $=bi.EK,W=$.getContext("2d"),M=L>>>1;$.width=$.height=L;var x=[];
for(var t=0;t<R.length;t++){if(R[t]=="checker"){W.fillStyle="white";W.fillRect(0,0,L,L);W.fillStyle="#bbbbbb";
W.fillRect(M,0,M,M);W.fillRect(0,M,M,M)}else{W.fillStyle=R[t];W.fillRect(0,0,L,L)}x.push("<img src=\""+$.toDataURL()+"\" />")}kH.call(this,h,x,d)}bi.prototype=new kH;
bi.EK=e.X("canvas");function ur(h,R,d,L){uD.call(this);if(!R)return;if(d==null)d=!1;this.ip=0;this.zaX=d;
this.xk=h;this.ti=null;this.zFx=L;var $="dd"+e.dX();this.M=e.X("span","fitem ddmenu");if(h&&!d){this.fg=e.X("label","flabel");
this.M.appendChild(this.fg);this.fg.setAttribute("for",$)}this.jE=e.X("select","bbtn");this.jE.setAttribute("id",$);
this.M.appendChild(this.jE);this.jE.addEventListener("change",this.kk.bind(this),!1);this.vk=[];this.mu=null;
this.Ii(R,L);this.o()}ur.prototype=new uD;ur.prototype.UI=function(h){this.xk=h;this.o()};ur.prototype.o=function(){if(this.xk!=null){var h=uP.get(this.xk);
if(this.zaX)this.jE.setAttribute("title",h);else this.fg.textContent=h+":"}if(this.mu)this.Ii(this.mu,this.zFx);
this.b(this.ip)};ur.prototype.q=function(){return this.ip};ur.prototype.Ii=function(h,R){e.dM(this.jE);
var d=[],$=0;if(R){d.push(R[0]);for(var L=1;L<R.length;L++)d.push(d[L-1]+R[L])}this.mu=h;this.ti=[];
this.zFx=R;for(var L=0;L<h.length;L++){var W=e.X("option");W.textContent=uP.get(h[L]);W.setAttribute("value",L);
this.jE.appendChild(W);this.vk.push(W);this.ti.push(L+$);if(d.indexOf(L+1)!=-1&&L!=h.length-1){var M=e.X("option");
M.setAttribute("disabled","");M.textContent="";this.jE.appendChild(M);$++}}};ur.prototype.b=function(h){this.ip=h;
this.jE.selectedIndex=this.ti[h]};ur.prototype.kk=function(h){this.ip=this.ti.indexOf(this.jE.selectedIndex);
this.R(new X(e.E.l,!1))};function bD(){uD.call(this);this.Ow=null;this.Fu=new tr;this.Fu.A(e.E.l,this.zOp,this);
this.Fu.parent=this;this.Fh=new WB([12,14,0],1,150,"px",0,!0);this.Fh.A(e.E.l,this.Wz,this);this.Fh.parent=this;
this.Fi=new WB([16,0],0,100,"px",2,!0,null,5);this.Fi.A(e.E.l,this.Wz,this);this.Fi.parent=this;this.mW=new uX("Auto");
this.mW.A(e.E.l,this.Wz,this);this.FN=new WB([16,1],-500,5e3,"%",0,!0);this.FN.A(e.E.l,this.Wz,this);
this.FN.parent=this;this.se=new WB("\u2B0D",1,300,"%",null,null,null,null,[2,7,[22,4,3]]);this.se.A(e.E.l,this.Wz,this);
this.se.parent=this;this.sZ=new WB("\u2B0C",1,300,"%",null,null,null,null,[2,7,[22,4,2]]);this.sZ.A(e.E.l,this.Wz,this);
this.sZ.parent=this;this.sC=new WB([16,2],-10,10,"px");this.sC.A(e.E.l,this.Wz,this);this.sC.parent=this;
this.FG=new zz(!0);this.FG.A(e.E.l,this.zOm,this);this.FG.parent=this;this.tD=new uA("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.tI=new uA("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.tK=new uA("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.ts=new uA("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.Mt=new uA("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.MB=new uA("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.Mi=new uA("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.Mj=new uA("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var h=[this.tD,this.tI,this.tK,this.ts,this.Mt,this.MB,this.Mi,this.Mj];
for(var R=0;R<h.length;R++)h[R].A("click",this.zON,this);this.yw=new uA("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.y_=new uA("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.ym=new uA("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.zFY=new uA("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.zdF=new uA("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.zdD=new uA("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.zdC=new uA("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.XP=[this.yw,this.y_,this.ym,this.zFY,this.zdF,this.zdD,this.zdC];for(var R=0;R<this.XP.length;R++)this.XP[R].A("click",this.Wz,this);
var d=["lind","rind","flind","bind","aind"],L=[];for(var R=0;R<5;R++)L.push("<img src=\""+PIMG["par/"+d[R]]+"\" class=\"autoscale gsicon\" /> ");
this.mh=new WB(L[0],-20,20,"px");this.mh.A(e.E.l,this.Wz,this);this.mh.parent=this;this.mb=new WB(L[1],-20,20,"px");
this.mb.A(e.E.l,this.Wz,this);this.mb.parent=this;this.mq=new WB(L[2],-20,20,"px");this.mq.A(e.E.l,this.Wz,this);
this.mq.parent=this;this.md=new WB(L[3],-20,20,"px");this.md.A(e.E.l,this.Wz,this);this.md.parent=this;
this.me=new WB(L[4],-20,20,"px");this.me.A(e.E.l,this.Wz,this);this.me.parent=this;this.XD=new kH([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.XD.A(e.E.l,this.Wz,this);this.XD.parent=this}bD.prototype=new uD;bD.prototype.o=function(){this.Fu.o();
this.Fh.o();this.Fi.o();this.FN.o();this.sC.o();this.se.o();this.sZ.o();this.XD.o()};bD.prototype.b=function(h,R,d){this.QS=JSON.parse(JSON.stringify(h));
var L=this.QS,$=L.U$,W=L.Rx;this.tD.b($.FauxBold!=null?$.FauxBold:!1);this.tI.b($.FauxItalic!=null?$.FauxItalic:!1);
this.tK.b($.FontCaps==2);this.ts.b($.FontCaps==1);this.MB.b($.FontBaseline==1);this.Mt.b($.FontBaseline==2);
this.Mi.b($.Underline);this.Mj.b($.Strikethrough);this.Fu.b($.Font==null?null:L.lw[$.Font].Name,R,d);
var M=$.FontSize==null?20:$.FontSize;this.Fh.b(M);var x=$.Tracking;this.FN.b(x==null?0:x);this.Fi.b($.Leading!=null?$.Leading:0);
this.mW.b($.AutoLeading);this.se.b(($.VerticalScale!=null?$.VerticalScale:0)*100);this.sZ.b(($.HorizontalScale!=null?$.HorizontalScale:0)*100);
this.sC.b($.BaselineShift!=null?$.BaselineShift:0);if($.FillColor){var t=uM.IZ($);this.FG.rt(Math.round(t.H)<<16|Math.round(t.N)<<8|Math.round(t.W))}else this.FG.rt(0);
var g=W._Direction!=null?W._Direction:0,r=uM.di(W);for(var l=0;l<this.XP.length;l++)this.XP[l].b(r==l);
this.XD.b(g);this.mh.b(W.StartIndent!=null?W.StartIndent:0);this.mb.b(W.EndIndent!=null?W.EndIndent:0);
this.mq.b(W.FirstLineIndent!=null?W.FirstLineIndent:0);this.md.b(W.SpaceBefore!=null?W.SpaceBefore:0);
this.me.b(W.SpaceAfter!=null?W.SpaceAfter:0)};bD.prototype.Kw=function(){var h=new X(e.E.Z,!0);h.data={c:e.j.nY,Ns:uh.hV,QS:this.QS};
this.R(h);var h=new X(e.E.Q,!0);h.L=s._y;h.data={c:"updateStyles"};this.R(h)};bD.prototype.zON=function(h){var R=this.QS.U$,d=h.target,L=!d.RJ();
if(d==this.tD)R.FauxBold=L;if(d==this.tI)R.FauxItalic=L;if(d==this.tK)R.FontCaps=L?2:0;if(d==this.ts)R.FontCaps=L?1:0;
if(d==this.MB)R.FontBaseline=L?1:0;if(d==this.Mt)R.FontBaseline=L?2:0;if(d==this.Mi)R.Underline=L;if(d==this.Mj)R.Strikethrough=L;
this.Kw()};bD.prototype.Wz=function(h){var R=this.QS.U$,d=this.QS.Rx,L=h.target;if(L==this.FN){var $=this.FN.q();
if($==null)window.zEE("An error occured. Please, write us an email to support@photopea.com and describe what you did.");
R.Tracking=$}if(L==this.Fi){R.AutoLeading=!1;R.Leading=this.Fi.q()}if(L==this.mW){R.AutoLeading=this.mW.q()}if(L==this.Fh)R.FontSize=L.q();
if(L==this.se)R.VerticalScale=L.q()/100;if(L==this.sZ)R.HorizontalScale=L.q()/100;if(L==this.sC)R.BaselineShift=L.q();
if(this.XP.indexOf(L)!=-1){d.Justification=uM.di(d,this.XP.indexOf(L))}if(L==this.mh)d.StartIndent=L.q();
if(L==this.mb)d.EndIndent=L.q();if(L==this.mq)d.FirstLineIndent=L.q();if(L==this.md)d.SpaceBefore=L.q();
if(L==this.me)d.SpaceAfter=L.q();if(L==this.XD)d._Direction=L.q();this.Kw()};bD.prototype.zOp=function(h){var R=this.QS,d=this.Fu.q(),L=-1;
for(var $=0;$<R.lw.length;$++)if(R.lw[$].Name==d)L=$;if(L==-1){L=R.lw.length;var W=JSON.parse(JSON.stringify(R.lw[0]));
W.Name=d;R.lw.splice(L,0,W)}R.U$.Font=L;this.Kw()};bD.prototype.zOm=function(h){var R=this.FG.gy(),d={Type:1,Values:[1,(R>>16&255)/255,(R>>8&255)/255,(R>>0&255)/255]};
for(var L=0;L<4;L++)d.Values[L]=Math.round(d.Values[L]*1e3)/1e3;this.QS.U$.FillColor=d;this.Kw()};function tr(){uD.call(this);
this.M=e.X("span","fontinput");this.cr=null;this.yC=null;this.$K=null;this.Xg="";this.Mq={};this.y$=[];
this.zES={};this.yx=!1;this.dt=e.X("button","fitem");this.dt.setAttribute("style","width:9em;");this.dt.textContent="Family Name \u25BC";
this.M.appendChild(this.dt);e.Xh(this.dt,this.zur.bind(this));this.jn=new uD;this.jn.parent=this;this.jn.M=e.X("div","floatcont");
this.jn.M.addEventListener("keyup",this.zO$.bind(this),!1);this.Ma=new zt(6.8);this.jn.M.appendChild(this.Ma.zgF());
this.Ma.parent=this.jn;this.Ma.A(e.E.l,this.CU,this);var h=e.X("div","form");this.jn.M.appendChild(h);
this.XC=new uA(e.XW("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.XC.A("click",this.zOs,this);
h.appendChild(this.XC.M);this.RD=new WU([12,86],null,9);this.RD.A("input",this.Id,this);h.appendChild(this.RD.M);
var R=this.zay=new uA([23,6,[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);R.A("click",this.zOH,this);
R.M.style.marginLeft="1.5em";h.appendChild(R.M);this.MD=e.X("span","fitem imageset scrollable marged");
this.MD.style.height="30em";this.jn.M.appendChild(this.MD);this.Xl=e.X("button","fitem");this.Xl.setAttribute("style","width:7em;");
this.Xl.textContent="SubFamily Name \u25BC";this.M.appendChild(this.Xl);e.Xh(this.Xl,this.zur.bind(this));
this.mi=new uD;this.mi.parent=this;this.mi.M=e.X("div","floatcont");this.yr=e.X("span","fitem imageset scrollable marged");
this.mi.M.appendChild(this.yr)}tr.prototype=new uD;tr.prototype.zO$=function(h){var R=0;if(m.Zt(h.code,m.bc))R=-1;
if(m.Zt(h.code,m.Bq))R=1;if(R!=0){var d=this.y$,L=d.length,$=this.cr.QC()[this.$K];if($==null&&L==0)return;
var W=d.indexOf($[0]);if(W==-1)return;W=(W+R+L)%L;this.IE(d[W],null)}};tr.prototype.zOH=function(){var h=new X(e.E.Z,!0);
h.data={c:e.j.kH,zaf:".otf,.ttf,.ttc"};this.R(h)};tr.prototype.o=function(){this.Ma.o();this.zay.o();
this.XC.UI(e.XW("tools/cshape",null,"autoscale"))};tr.prototype.zOs=function(h){this.XC.b(!this.XC.RJ());
this.CU()};tr.prototype.Id=function(h){this.Xg=this.RD.q().toLowerCase();this.CU()};tr.prototype.zur=function(h){e.dy(h);
var R=h.currentTarget,d=R.getBoundingClientRect(),L=R==this.dt,$=L?this.jn:this.mi;if(e.Rn($.M)){this.zgt($);
return}if(!L&&this.cr.QC()[this.$K]==null)return;var W=new X(e.E.Z,!0);W.data={c:e.j.eN,_z:$,x:d.left,y:d.top+d.height};
this.R(W);if(L){this.CU();this.RD.$B()}};tr.prototype.zOv=function(h){var R=h.currentTarget.firstChild.nextSibling.textContent;
if(h.target.tagName.toLowerCase()=="button"){var d=this.yC.slice(0),L=d.indexOf(R);if(L==-1){d=d.slice(Math.max(0,d.length-9));
d.push(R)}else d.splice(L,1);var $=new X(e.E.Z,!0);$.data={c:e.j.nY,Ns:uh.bd,sg:d};this.R($);this.yx=!0;
this.CU()}else{this.IE(R,null);this.RD.$B()}};tr.prototype.zOY=function(h){this.IE(null,h.currentTarget.firstChild.textContent)};
tr.prototype.IE=function(h,R){var d=h==null?this.mi:this.jn,L=this.cr;if(h==null)h=L.QC()[this.$K][0];
else{var $=L.lu(h),W=L.QC()[this.$K];R=uo.lk($,W?W[1]:"regular")}var M=L.Bw(h,R)[2];this.b(M,L);this.R(new X(e.E.l,!1));
this.CU()};tr.prototype.zgt=function(h){var R=new X(e.E.Z,!0);R.data={c:e.j.Et,_z:h};this.R(R)};tr.prototype.q=function(){return this.$K};
tr.prototype.b=function(h,R,d){var L=this.cr;if(h!=null)this.$K=h;else h=this.$K;this.cr=R;this.yC=d;
if(h!=null){var $=R.QC()[h],W,M;if($==null){W="- "+h;M="-------"}else{W=$[0];M=$[1];var x=R.lu(W);x.sort(uo.zZu);
var t=x.indexOf(M),g=this.zOY.bind(this);this.yr.textContent="";for(var r=0;r<x.length;r++){var $=R.Bw(W,x[r]);
if(!this.Ma.Ie($))continue;var l=this.zhz($,$[1],g,!1);this.yr.appendChild(l)}}this.dt.textContent=W.substring(0,15)+" \u25BC";
this.dt.setAttribute("title",W);this.Xl.textContent=M.substring(0,10)+" \u25BC";this.Xl.setAttribute("title",M)}};
tr.prototype.CU=function(){var h=this.cr.QC()[this.$K],R=this.yC,d=null,L=this.cr.znK(),$=this.zOv.bind(this);
this.y$=[];for(var W in L){var M=uo.lk(L[W],"regular"),x=this.cr.Bw(W,M),t=R.indexOf(W)!=-1,g=!0;if(this.Xg.length>0&&x[0].toLowerCase().indexOf(this.Xg)==-1)g=!1;
else if(!this.Ma.Ie(x))g=!1;else if(this.XC.RJ()&&!t)g=!1;var r=this.Mq[W];if(r==null){var r=this.zhz(x,W,$,!0);
this.Mq[W]=r;this.MD.appendChild(r)}if(g)this.y$.push(W);var l=g?"":"display:none; ",H="opacity: "+(t?"1":"0.2");
if(h&&h[0]==W){l+="background-color:rgba(0,0,0,0.13);";d=r}if(this.zES[W]!=l+H){r.setAttribute("style",l);
r.firstChild.setAttribute("style",H);this.zES[W]=l+H}}if(d&&!this.yx)this.MD.scrollTop=d.offsetTop-210;
this.yx=!1};tr.prototype.zhz=function(h,R,d,L){var $=e.X("div","fontitem"),t="";$.addEventListener("click",d,!1);
if(L)$.appendChild(e.X("button","star"));var W=e.X("span","label");W.setAttribute("title",R);W.textContent=R;
$.appendChild(W);var M=e.p(),x=1/M,g=uo.BS*x,r=uo.YF*x;if(1<M&&M<1.5)t="width:"+g+"px; height:"+r+"px;";
var l=e.X("span","thumb gsicon");if(h.zjC){t+="background: url("+h.zjC+");";if(1<M&&M<1.5)t+="background-size: "+g+"px "+r+"px;"}else{var H=Math.ceil(FNTS.list.length/uo.cols),y=Math.floor(h.KW/H),f=h.KW%H,b=y*uo.BS,K=f*uo.YF;
if(1<M&&M<1.5){t+="background-size: "+uo.cols*g+"px "+H*r+"px;";b*=x;K*=x}t+="background-position:-"+b+"px -"+K+"px;"}l.setAttribute("style",t);
$.appendChild(l);return $};function zt(h){uD.call(this);this.M=e.X("button","fitem bbtn");this.M.addEventListener("click",this.zgP.bind(this),!1);
this.nV=new uD;this.nV.M=e.X("div","floatcont");this.nV.parent=this;this.yy=e.X("div","flexrow");this.nV.M.appendChild(this.yy);
this.mw=[];this.dd=[];var R=this.yy,d=e.X("div",""),L=e.X("div","");R.appendChild(d);R.appendChild(L);
this.zr=[];for(var $=0;$<FNTS.cats.length;$++)this.zr.push({name:FNTS.cats[$],index:$,Pk:0});this.yo=new uX([7,0]);
this.yo.A(e.E.l,this.zgS,this);d.appendChild(this.yo.M);this.yv=e.X("div","vlist marged scrollable");
this.yv.setAttribute("style","width:10.85em; height:"+h+"em; ");d.appendChild(this.yv);this.yY=[];for(var $=0;
$<this.zr.length;$++){var W=this.zr[$],M=new uX(W.name);this.yY.push(M);M.A(e.E.l,this.zgn,this);M.b(!0);
this.yv.appendChild(M.M);this.mw.push(1)}this.zEp=new uX([7,0]);this.zEp.A(e.E.l,this.zgG,this);this.ft=e.X("div","vlist marged scrollable");
this.ft.setAttribute("style","width:8.6em; height:"+(h+1.5)+"em; ");L.appendChild(this.ft);this.MR=[];
for(var $=0;$<FNTS.subsetNames.length;$++){var M=new uX(FNTS.subsetNames[$]);this.MR.push(M);M.A(e.E.l,this.zgU,this);
M.b(!1);this.ft.appendChild(M.M);this.dd.push(0)}}zt.prototype=new uD;zt.prototype.zgb=function(h){var R=this.MR;
for(var d=0;d<R.length;d++){var L=(h>>>d&1)==1;this.dd[d]=L;R[d].b(L)}};zt.prototype.zgF=function(){return this.yy};
zt.prototype.o=function(){this.M.textContent=uP.get([25,1,0])+" \u25BC";this.yo.o();this.zEp.o()};zt.prototype.zgP=function(h){var R=this.M.getBoundingClientRect(),d=new X(e.E.Z,!0);
d.data={c:e.j.eN,_z:this.nV,x:R.left,y:R.top+R.height,zue:!1};this.R(d)};zt.prototype.Ie=function(h){if(this.mw[h[4]]==0)return!1;
else for(var R=0;R<this.dd.length;R++)if(this.dd[R]==1&&(h[3]>>>R&1)==0)return!1;return!0};zt.prototype.zgS=function(h){var R=h.target.q(),d=this.yY,L=this.mw;
for(var $=0;$<d.length;$++){d[$].b(R);L[$]=R?1:0}this.R(new X(e.E.l,!1))};zt.prototype.zgG=function(h){var R=h.target.q(),d=this.MR,L=this.dd;
for(var $=0;$<d.length;$++){d[$].b(R);L[$]=R?1:0}this.R(new X(e.E.l,!1))};zt.prototype.zgn=function(h){var R=this.yY.indexOf(h.target),d=this.zr[R].index;
this.mw[d]=1-this.mw[d];this.R(new X(e.E.l,!1))};zt.prototype.zgU=function(h){var R=this.MR.indexOf(h.target);
this.dd[R]=1-this.dd[R];this.R(new X(e.E.l,!1))};function tW(h,R,d){zE.call(this,R,!0,"gradientbutton",18,10,uh.gp);
this.Ch=-1;this._W=-1;this.zEH=null;this.zao=h;this.hJ=d}tW.prototype=new zE;tW.prototype.Wd=function(h){var R=this.Pe;
this.b(R[this.nS.q()]);this.R(new X(e.E.l))};tW.prototype.gg=function(h){var R=new X(e.E.Z,!0);R.data={c:e.j.pY,DN:"gradienteditor",i:this.Ge,YN:this.zIz.bind(this),yN:this.hJ};
this.R(R)};tW.prototype.zIz=function(h){this.b(h);this.R(new X(e.E.l))};tW.prototype.sF=function(){if(!this.VT)return;
var h=Math.floor(36*e.p()),R=Math.floor(36*e.p()),d=[],L=[],$=this.Pe;for(var W=0;W<$.length;W++){var M=$[W];
L.push(M.Nm?M.Nm.v.split("=").pop():"");var x=s.Iq.cv(M,h,R,Math.PI/4,this.Ch,this._W);d.push(x)}this.nS.Ul(d,L,h,R);
this.VT=!1};tW.prototype.Ij=function(h,R){this.zBW(this.Ge,h,R)};tW.prototype.b=function(h){this.zBW(h,this.Ch,this._W)};
tW.prototype.zBW=function(h,R,d){this.Ch=R;this._W=d;if(h==null)return;var L=JSON.stringify(h),$=L+R+","+d;
if($==this.zEH)return;this.zEH=$;this.Ge=JSON.parse(L);var W=Math.floor(80*e.p()),M=Math.floor(16*e.p()),x=s.Iq.cv(this.Ge,W,M,0,this.Ch,this._W);
this.KM.setAttribute("src",x);e.rL(this.KM,W,M)};tW.prototype.q=function(){var h;if(this.zao)h=s.Iq.zMY(this.Ge,this.Ch,this._W);
else h=JSON.parse(JSON.stringify(this.Ge));return h};function hO(h){zE.call(this,h,!1,"swatchbutton",16,8.75,uh.g$)}hO.prototype=new zE;
hO.prototype.Wd=function(h){this.b(this.Pe[h.target.q()]);this.R(new X(e.E.l))};hO.prototype.sF=function(){if(!this.VT)return;
var h=Date.now(),R=Math.floor(10*e.p()),d=Math.floor(10*e.p()),L=[],$=[],W=this.Pe;for(var M=0;M<W.length;
M++){$.push(W[M].LJ?W[M].LJ.split("=").pop():"");L.push(hO.cv(W[M],R,d))}this.nS.Ul(L,$,R,d);this.VT=!1};
hO.prototype.b=function(h){this.Ge=JSON.parse(JSON.stringify(h));this.ve()};hO.prototype.ve=function(){var h=Math.floor(24*e.p()),R=Math.floor(20*e.p()),d=hO.cv(this.Ge,h,R);
this.KM.setAttribute("src",d);e.rL(this.KM,h,R)};hO.prototype.q=function(){return JSON.parse(JSON.stringify(this.Ge))};
hO.Oo={};hO.cv=function(h,R,d){var L=hO.FT,$=hO.Oo,W=z.zJ(h.H<<16|h.N<<8|h.W);if($[W])return $[W];if(L==null){var M=e.X("canvas");
L=hO.FT=M.getContext("2d")}var M=L.canvas;M.width=R;M.height=d;L.fillStyle="#"+W;L.fillRect(0,0,R,d);
var x=$[W]=M.toDataURL();return x};function uX(h,R,d){uD.call(this);this.M=e.X("span","fitem cbox");
if(R==null)R=!0;if(d==null)d="flabel";var L="cb"+e.dX();this.XB=e.X("input","");this.XB.setAttribute("type","checkbox");
this.XB.setAttribute("id",L);this.M.appendChild(this.XB);this.xk=h;this.fg=e.X("label",d);if(R)this.fg.setAttribute("for",L);
this.M.appendChild(this.fg);this.o();this.XB.addEventListener("change",this.kk.bind(this),!1)}uX.prototype=new uD;
uX.prototype.zBL=function(){return this.xk};uX.prototype.UI=function(h){this.fg.textContent=h};uX.prototype.o=function(){this.fg.textContent=uP.get(this.xk)};
uX.prototype.mt=function(){this.XB.checked=!0};uX.prototype.QO=function(){this.XB.checked=!1};uX.prototype.RJ=function(){return this.XB.checked};
uX.prototype.b=function(h){this.XB.checked=h};uX.prototype.q=uX.prototype.RJ;uX.prototype.kk=function(h){this.R(new X(e.E.l,!1))};
function bN(h,R,d,L){uD.call(this);this.M=e.X("span","fitem mbox");this.zaY=d;if(h){this.xk=h;this.fg=e.X("label","flabel");
this.M.appendChild(this.fg)}this.$x=R;this.tY=[];for(var $=0;$<R.length;$++){var W=d?new uA(R[$],!1,L?L[$]:null):new uX(R[$]);
W.A(d?"click":e.E.l,this.kk,this);this.tY.push(W);this.M.appendChild(W.M)}this.o()}bN.prototype=new uD;
bN.prototype.b=function(h){for(var R=0;R<this.$x.length;R++)this.tY[R].b(h[R])};bN.prototype.q=function(){var h=[];
for(var R=0;R<this.$x.length;R++)h[R]=this.tY[R].q();return h};bN.prototype.o=function(){if(this.xk)this.fg.innerHTML=uP.get(this.xk)+":";
for(var h=0;h<this.tY.length;h++)this.tY[h].o()};bN.prototype.kk=function(h){var R=this.tY.indexOf(h.currentTarget);
if(this.zaY)this.tY[R].b(!this.tY[R].q());this.R(new X(e.E.l,!1))};function Ww(h,R,d,L,$,W){Wv.call(this,h,R,d,L,$,!1,W);
this.M.appendChild(this.fg);var M=e.X("span","rangecont");this.M.appendChild(M);M.appendChild(this._Y);
this.M.appendChild(this.XB);this.XB.setAttribute("style","width:3.3em");if(this.tt)this.M.appendChild(this.CC)}Ww.prototype=new Wv;
function hJ(h,R,d,L){if(h==null)h=!1;if(R==null)R=!1;if(d==null)d=!1;uD.call(this);this.Rm=new kY;this.TO=new kY;
this.fM=72;this.yu=72;this.mD=!0;this.M=e.X("span","");this.Hd=new WB([12,41],0,0,null,0,!1,!0);this.M.appendChild(this.Hd.M);
this.Hd.A(e.E.l,this.Mc,this);var $=["px","%"];if(h)$=$.concat(["mm","in"]);this.bf=new ur(null,$);this.M.appendChild(this.bf.M);
e.Ub(this.M);this.bf.A(e.E.l,this.Mc,this);this.UQ=new WB([12,42],0,0,null,0,!1,!0);this.M.appendChild(this.UQ.M);
this.UQ.A(e.E.l,this.Mc,this);var W=new uA("\u21F5",!1,null,!0);W.A("click",this.zIH,this);this.$f=new uA("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.$f.A("click",this.Mc,this);this.zeB=new WY("");if(R){this.M.appendChild(this.$f.M);this.M.appendChild(this.zeB.M);
this.$f.mt()}else this.M.appendChild(W.M);this.$l=new WB("DPI",0,0,null,3,!1,!0,4);if(h&&L==null){e.Ub(this.M);
this.M.appendChild(this.$l.M)}this.$l.A(e.E.l,this.Mc,this);this.yF=new uX([12,23,1]);this.yF.A(e.E.l,this.Mc,this);
if(d){e.Ub(this.M);this.M.appendChild(this.yF.M)}e.Ub(this.M)}hJ.prototype=new uD;hJ.prototype.zIp=function(){this.mD=!1;
if(this.bf.q()==0){this.bf.b(3);this.$h()}};hJ.prototype.zIO=function(){this.mD=!0};hJ.prototype.zIR=function(h){this.$f.b(h)};
hJ.prototype.o=function(){this.Hd.o();this.UQ.o();this.$l.o();this.$f.o();this.yF.o()};hJ.prototype.zIH=function(h){var R=this.TO.x;
this.TO.x=this.TO.y;this.TO.y=R;this.$h();this.R(new X(e.E.l,!1))};hJ.prototype.Mc=function(h){if(h.target==this.bf&&!this.mD&&this.bf.q()==0)this.bf.b(3);
if(h.target==this.bf||h.target==this.yF){this.$h();return}if(h.target==this.$f)h.target.b(!h.target.q());
var R=this.Rm,d=parseFloat(this.Hd.q());if(isNaN(d))d=1;var L=parseFloat(this.UQ.q());if(isNaN(L))L=1;
var $=this.bf.q();if(this.mD){var W=this.yu;if($==1){d=this.Rm.x*(d/100);L=this.Rm.y*(L/100)}var M=[1,1,25.4/W,1/W][$];
d/=M;L/=M;if(this.yF.q()){d+=this.Rm.x;L+=this.Rm.y}if(h.target==this.$l){var x=this.$l.q();if(!0){var t=x/W;
d*=t;L*=t}W=x}if(this.$f.q()){if(h.target==this.Hd)L=d*(R.y/R.x);else d=L*(R.x/R.y)}d=Math.max(Math.abs(d),1);
L=Math.max(Math.abs(L),1)}else{var W=this.fM;if(h.target==this.$l)W=this.$l.q();else{if(this.$f.q()){if(h.target==this.Hd)L=d*(R.y/R.x);
else d=L*(R.x/R.y)}var M=[1,1,25.4/W,1/W][$],g=d/($==1?100:R.x*M);W=W/g}d=R.x;L=R.y}this.TO=new kY(Math.round(d),Math.round(L));
this.yu=W;this.$h();this.R(new X(e.E.l,!1))};hJ.prototype.zIr=function(h){this.bf.b(h);this.$h()};hJ.prototype.b=function(h,R){this.Rm=h.clone();
this.TO=h.clone();if(R!=null){this.fM=R;this.yu=R}this.$h()};hJ.prototype.$h=function(){var h=this.TO.x,R=this.TO.y,d=this.yu,L=(h/R).toFixed(3);
while(L.charAt(L.length-1)=="0")L=L.substring(0,L.length-1);if(L.charAt(L.length-1)==".")L=L.substring(0,L.length-1);
var $="  "+L+" : 1",W=function(r,l){while(l!=0){var H=l;l=r%l;r=H}return r},M=W(h,R);if(Math.min(h,R)/M<10)$="  "+Math.round(h/M)+" : "+Math.round(R/M);
this.zeB.b($);if(this.yF.q()){h-=this.Rm.x;R-=this.Rm.y}var x=this.bf.q();if(x==1){if(this.mD){h=100*h/this.Rm.x;
R=100*R/this.Rm.y}else{h=R=100*this.fM/this.yu}}h=Math.round(h);R=Math.round(R);var t=[1,1,25.4/d,1/d][x];
h*=t;R*=t;var g=x>2?2:0;this.Hd.zbr(g);this.UQ.zbr(g);this.Hd.b(h);this.UQ.b(R);this.$l.b(d)};hJ.prototype.q=function(){return this.TO.clone()};
hJ.prototype.zBr=function(){return this.yu};function bg(){uD.call(this);this.fk=0;this.dI=[0,0,1,1,100,100];
this.M=e.X("span","fitem");this.WP=new ur(null,[[12,89,0],[12,89,1],[12,89,2]]);this.M.appendChild(this.WP.M);
this.WP.A(e.E.l,this.Mc,this);this.Hd=new WU("W",null,3);this.Hd.b(0);this.M.appendChild(this.Hd.M);
this.Hd.A(e.E.l,this.Mc,this);this.UQ=new WU("H",null,3);this.UQ.b(0);this.M.appendChild(this.UQ.M);
this.UQ.A(e.E.l,this.Mc,this);this.b({BA:0,x:0,y:0})}bg.prototype=new uD;bg.prototype.o=function(){e.XY(this.Hd,this.UQ);
this.WP.o()};bg.prototype.Mc=function(h){if(h.target==this.WP){var R=this.q(),d=this.dI;d[this.fk*2]=R.x;
d[this.fk*2+1]=R.y;this.fk=R.BA;this.b({BA:R.BA,x:d[R.BA*2],y:d[R.BA*2+1]})}this.R(new X(e.E.l,!1))};
bg.prototype.b=function(h){this.WP.b(h.BA);this.Hd.b(h.x);this.UQ.b(h.y);if(h.BA==0){this.Hd.pF();this.UQ.pF()}else{this.Hd.GS();
this.UQ.GS()}};bg.prototype.q=function(){return{BA:this.WP.q(),x:parseInt(this.Hd.q()),y:parseInt(this.UQ.q())}};
function WY(h,R){uD.call(this);this.xk=h;this.M=e.X("span","labelitem fitem"+(R?" spread":""));this.o()}WY.prototype=new uD;
WY.prototype.b=function(h){this.M.textContent=h};WY.prototype.q=function(){return this.M.textContent};
WY.prototype.GS=function(){this.M.removeAttribute("disabled")};WY.prototype.pF=function(){this.M.setAttribute("disabled","")};
WY.prototype.UI=function(h){this.M.textContent=h};WY.prototype.o=function(){this.M.textContent=uP.get(this.xk)};
WY.prototype.zBL=function(){return this.xk};function bJ(h){uD.call(this);this.M=e.X("span","");this.zPZ=h;
this.$M=new Ww("Off X",-100,100,h?"%":"px",0,!1);this.EM=new Ww("Off Y",-100,100,h?"%":"px",0,!1);this.$M.A(e.E.l,this.Mc,this);
this.EM.A(e.E.l,this.Mc,this);this.M.appendChild(this.$M.M);this.M.appendChild(this.EM.M)}bJ.prototype=new uD;
bJ.prototype.o=function(){this.$M.o();this.EM.o()};bJ.prototype.Mc=function(h){this.R(new X(e.E.l,!1))};
bJ.prototype.zIV=function(h){this.$M.b(h.x);this.EM.b(h.y)};bJ.prototype.zCC=function(){return new kY(this.$M.q(),this.EM.q())};
bJ.prototype.b=function(h){var R=h.Hrzn.v,d=h.Vrtc.v;if(this.zPZ){R=R.val;d=d.val}this.$M.b(R);this.EM.b(d)};
bJ.prototype.q=function(){var h=this.$M.q(),R=this.EM.q();if(this.zPZ)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:h}},Vrtc:{t:"UntF",v:{type:"#Prc",val:R}}};
else return{classID:"Pnt",Hrzn:{v:h,t:"doub"},Vrtc:{v:R,t:"doub"}}};function WB(h,R,d,L,$,W,M,x,t){Wv.call(this,h,R,d,L,$,!0,W,t);
e.qH(this.M,"rangedropinput");this.M.appendChild(this.fg);this.XB.setAttribute("style","width:"+(x?x:3.3)+"em");
this.M.appendChild(this.XB);this.zNe=e.X("span","rangecont");this.zNe.appendChild(this._Y);this.fW=e.X("button");
this.fW.innerHTML="\u25BC";e.Xh(this.fW,this.zQz.bind(this));if(M!=!0)this.M.appendChild(this.fW);this.Io=new uD;
this.Io.M=this.zNe}WB.prototype=new Wv;WB.prototype.zQz=function(h){if(e.Rn(this.Io.M))return;h.stopPropagation();
var R=this.M.getBoundingClientRect();this._Y.setAttribute("style","width:"+R.width+"px;");var d=new X(e.E.Z,!0);
d.data={c:e.j.eN,_z:this.Io,x:R.left,y:R.top+R.height};this.R(d)};function bH(){uD.call(this);this.M=e.X("span","fitem strokebutton");
this.fB=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.hW=JSON.parse(JSON.stringify(uz.ri.default));
this.mp=e.X("button");this.M.appendChild(this.mp);this.mp.addEventListener("click",this.uW.bind(this),!1);
var h=e.X("canvas","gsicon");this.EH=h.getContext("2d");this.mp.appendChild(h);var R=e.X("span");R.textContent=" \u25BC";
this.mp.appendChild(R);this.nV=new uD;this.nV.parent=this;this.nV.M=e.X("div","floatcont form");var d=this.nV.M;
d.setAttribute("style","width: 14em;");this.Mq=[new ur([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new kH([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new kH([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new WU([19,9,2])];
for(var L=0;L<this.Mq.length;L++){var $=this.Mq[L];d.appendChild($.M);var W=L<4?e.E.l:"click";$.A(W,this.Mc,this)}e.Ub(d);
this.Qm=[];var M=this.zQM.bind(this);for(var L=0;L<this.fB.length;L++){var x=e.X("button","fitem");this.Qm.push(x);
d.appendChild(x);x.addEventListener("click",M,!1);var h=e.X("canvas","gsicon"),t=h.getContext("2d");
x.appendChild(h);this.zFe(t,40,20,this.fB[L])}}bH.prototype=new uD;bH.prototype.uW=function(h){var R=this.mp.getBoundingClientRect(),d=new X(e.E.Z,!0);
d.data={c:e.j.eN,_z:this.nV,x:R.left,y:R.top+R.height+4};this.R(d)};bH.prototype.Mc=function(h){var We=this.Mq,R=We.indexOf(h.target),d=[];
for(var L=0;L<4;L++)d.push(We[L].q());this.hW=this.zBv(d);this.R(new X(e.E.l,!1))};bH.prototype.zQM=function(h){var R=this.Qm.indexOf(h.currentTarget);
this.b(this.zBv(this.fB[R]));this.R(new X(e.E.l,!1))};bH.prototype.zBv=function(h){var R=JSON.parse(JSON.stringify(this.hW)),d=h[0],L=h[1],$=h[2],W=h[3];
if(d!=null)R.strokeStyleLineAlignment.v.strokeStyleLineAlignment=uz.ri.OJ[d];if(L!=null)R.strokeStyleLineCapType.v.strokeStyleLineCapType=uz.ri.OK[L];
if($!=null)R.strokeStyleLineJoinType.v.strokeStyleLineJoinType=uz.ri.join[$];var M=R.strokeStyleLineDashSet.v=[];
W=W.split(" ");while((W.length&1)!=0)W.pop();for(var x=0;x<W.length;x++)M.push({t:"UntF",v:{type:"#Nne",val:parseInt(W[x])}});
return R};bH.prototype.o=function(){for(var h=0;h<this.Mq.length;h++)this.Mq[h].o()};bH.prototype.b=function(h){this.hW=JSON.parse(JSON.stringify(h));
var R=uz.ri.OJ.indexOf(h.strokeStyleLineAlignment.v.strokeStyleLineAlignment),d=uz.ri.OK.indexOf(h.strokeStyleLineCapType.v.strokeStyleLineCapType),L=uz.ri.join.indexOf(h.strokeStyleLineJoinType.v.strokeStyleLineJoinType),$=[],W=h.strokeStyleLineDashSet.v;
for(var M=0;M<W.length;M++)$.push(W[M].v.val);var We=this.Mq;We[0].b(R);We[1].b(d);We[2].b(L);We[3].b($.join(" "));
var x=[];for(var t=0;t<4;t++)x.push(We[t].q());this.zFe(this.EH,40,16,x)};bH.prototype.q=function(){return JSON.parse(JSON.stringify(this.hW))};
bH.prototype.zFe=function(h,R,d,L){var $=L[0],W=L[1],M=L[2],x=L[3].split(" ").map(parseFloat);e.PH(h.canvas,R,d);
var t=Math.min(5,this.hW.strokeStyleLineWidth.v.val);for(var g=0;g<x.length;g++)x[g]*=t;h.clearRect(0,0,R,d);
h.setLineDash(x);h.lineCap=["butt","round","square"][W];h.lineJoin=["miter","round","bevel"][M];h.lineWidth=t;
h.beginPath();h.moveTo(0,d/2);h.lineTo(R*2,d/2);h.stroke()};function hm(h){zE.call(this,h,!1,"contourbutton",34,16,uh.zq);
this.RD=new WU([12,86],null,16);this.RD.A("input",this.Id,this);this.nV.M.appendChild(this.RD.M);this.fd=null;
this.Xg="";this.xM=null;this.b(WX.hx())}hm.prototype=new zE;hm.prototype.o=function(){zE.prototype.o.call(this);
this.RD.o()};hm.prototype.Wd=function(h){this.b(this.fd[h.target.q()]);this.R(new X(e.E.l))};hm.prototype.Id=function(h){this.Xg=this.RD.q().toLowerCase();
this.zEb()};hm.Em=!1;hm.prototype.sF=function(){if(!this.VT)return;var h=this.Pe;if(h==null||!hm.Em){var R=new X(e.E.Z,!0);
R.data={c:e.j.X_,Ns:{url:"rsrc/basic/fa_basic.csh"}};this.R(R);hm.Em=!0}else{var d=Math.floor(38*e.p()),L=Math.floor(38*e.p());
this.xM=[];for(var $=0;$<h.length;$++)this.xM.push(hm.ziV(h[$],d,L));this.zEb();this.VT=!1}};hm.prototype.zEb=function(){var h=Math.floor(38*e.p()),R=Math.floor(38*e.p());
this.fd=[];var d=[],L=[],$=this.Pe;for(var W=0;W<$.length;W++){if($[W].Kn.toLowerCase().indexOf(this.Xg)==-1)continue;
this.fd.push($[W]);d.push(this.xM[W]);L.push($[W].Kn)}this.nS.Ul(d,L,h,R)};hm.prototype.b=function(h){this.Ge=hm.clone(h);
this.ve()};hm.prototype.ve=function(){var h=Math.floor(23*e.p()),R=Math.floor(23*e.p()),d=hm.ziV(this.Ge,h,R);
this.KM.setAttribute("src",d);e.rL(this.KM,h,R)};hm.prototype.q=function(){return hm.clone(this.Ge)};
hm.clone=function(h){return{Kn:h.Kn,gN:h.gN,r:S.EF.MK(h.r),Re:h.Re.clone()}};hm.Bv=null;hm.Il=null;hm.ziV=function(h,R,d){var L=S.EF.MK(h.r),$=h.Re,W=Math.min(R/$.k,d/$.$)*.9,M=new um;
M.translate(-.5,-.5);M.scale(.95,.95);M.translate(.5,.5);M.scale(W*$.k,W*$.$);z.t._B(L,M);var x=new S.EF;
x.r=L;var t=x.rc();t.rect.x=Math.floor((R-t.rect.k)/2);t.rect.y=Math.floor((d-t.rect.$)/2);var g=z.h(t.rect.s()*4);
z._M(g,4278190080);z.Gv(t.channel);z.Gn(t.channel,g,0);z.Gn(t.channel,g,1);z.Gn(t.channel,g,2);var r=hm;
if(r.Bv==null)r.Bv=e.X("canvas");var l=r.Bv,H=l.getContext("2d");if(l.width!=R||l.height!=d||r.Il==null){l.width=R;
l.height=d;r.Il=H.createImageData(R,d)}var y=r.Il;z._M(y.data,4294967295);z.bt(g,t.rect,y.data,new A(0,0,R,d));
H.putImageData(y,0,0);return l.toDataURL()};function hh(h){zE.call(this,h,!1,"ICCButton",16,12,uh.zF,!0);
this.nS.Ck(1)}hh.prototype=new zE;hh.prototype.gM=function(){var h="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var R=0;R<h.length;R++)h[R]="luts/"+h[R]+".CUBE";return h};hh.prototype.Wd=function(h){this.b(this.Pe[h.target.q()]);
this.R(new X(e.E.l))};hh.prototype.sF=function(){if(!this.VT)return;var h=Math.floor(1*e.p()),R=Math.floor(1*e.p()),d=[],L=[],$=this.Pe;
for(var W=0;W<$.length;W++){var M=$[W].Nm.v.split("\\").pop().split("/").pop();L.push(M);d.push(hh.cv($[W],h,R))}this.nS.Ul(d,L,h,R);
this.VT=!1};hh.prototype.b=function(h){this.Ge=JSON.parse(JSON.stringify(h));this.ve()};hh.cv=function(h,R,d){var L=e.X("canvas"),M="ICC / 3DL / look / cube";
L.width=R;L.height=d;var $=L.getContext("2d"),W=Math.floor(14*e.p());$.font=W+"px sans-serif";if(h.Nm)M=h.Nm.v.split("\\").pop().split("/").pop();
$.fillText(M,10,W);return L.toDataURL()};hh.prototype.ve=function(){var h=Math.floor(120*e.p()),R=Math.floor(20*e.p());
this.KM.setAttribute("src",hh.cv(this.Ge,h,R));e.rL(this.KM,h,R)};hh.prototype.q=function(){return JSON.parse(JSON.stringify(this.Ge))};
function br(){uD.call(this);this.jX=null;this.M=e.X("span","fitem");this.Ms=new kT([14,9]);this.fE=new WB(null,0,150,"pt",1,!0,null,null,[19,2,5]);
this.$P=new bH;this.Ml=[this.Ms,this.fE,this.$P];for(var h=0;h<this.Ml.length;h++){var R=this.Ml[h];
this.M.appendChild(R.M);R.parent=this;R.A(e.E.l,this.Mc,this)}}br.prototype=new uD;br.prototype.o=function(){for(var h=0;
h<this.Ml.length;h++)this.Ml[h].o()};br.prototype.Nk=function(h,R){this.Ms.Nk(h,R)};br.prototype.Mc=function(h){var R=this.jX,d=this.Ms.q(),L=d.sS;
R.strokeEnabled.v=L!=0;if(L!=0){R.strokeStyleContent.v=d.ke;d.ke.classID=uz.ri.Wp[L-1]}R.strokeStyleLineWidth.v.val=this.fE.q();
if(h.target==this.$P)R=this.$P.q();this.jX=R;this.R(new X(e.E.l,!1))};br.prototype.b=function(h,R,d){this.jX=JSON.parse(JSON.stringify(R));
var L=R.strokeEnabled.v,$=R.strokeStyleContent.v,W=L?{sS:1+uz.ri.Wp.indexOf($.classID),ke:$}:{sS:0};
this.Ms.b(h,W,d);this.fE.b(R.strokeStyleLineWidth.v.val);this.$P.b(R)};br.prototype.q=function(){return JSON.parse(JSON.stringify(this.jX))};
function Ba(h,R){uD.call(this);this.M=e.X("span","fitem");this.m_=["front","union","difference","intersection"];
var d=[[18,0],[18,1],[18,2],[18,3]];this.rF=[];this.fi=0;for(var L=0;L<this.m_.length;L++){var $=new uA("<img src=\""+PIMG["set/"+this.m_[L]]+"\" class=\"autoscale gsicon\" />",!1,d[L]);
$.A("click",this.zQu,this);this.M.appendChild($.M);this.rF.push($)}this.rF[0].mt()}Ba.prototype=new uD;
Ba.prototype.q=function(){return this.m_[this.fi]};Ba.prototype.b=function(h){this.fi=this.m_.indexOf(h);
for(var R=0;R<this.rF.length;R++)this.rF[R].QO();this.rF[this.fi].mt()};Ba.prototype.zQu=function(h){this.b(this.m_[this.rF.indexOf(h.currentTarget)]);
this.R(new X(e.E.l,!1))};Ba.prototype.o=function(){for(var h=0;h<this.rF.length;h++)this.rF[h].o()};
function WU(h,R,d,L){uD.call(this);var $=e.dX(),W="";this.M=e.X("span","fitem tinput");if(h){this.xk=h;
this.fg=e.X("label","flabel");this.M.appendChild(this.fg);this.fg.setAttribute("for",$);this.o()}if(L==null){this.XB=e.X("input","");
this.XB.setAttribute("type","text")}else this.XB=e.X("textarea","scrollable");this.XB.setAttribute("id",$);
if(d)W+="width:"+d+"em;";if(L){this.XB.setAttribute("rows",L)}if(W!="")this.XB.setAttribute("style",W);
this.M.appendChild(this.XB);if(R){this.CC=e.X("span","");this.CC.textContent=R;this.M.appendChild(this.CC)}this.XB.addEventListener("change",this.kk.bind(this),!1);
this.XB.addEventListener("input",this.zQW.bind(this),!1)}WU.prototype=new uD;WU.prototype.o=function(){if(this.xk)this.fg.textContent=uP.get(this.xk)+":"};
WU.prototype.UI=function(h){this.fg.textContent=h};WU.prototype.b=function(h){this.XB.value=h==null?"":h};
WU.prototype.q=function(){return this.XB.value};WU.prototype.$B=function(){this.XB.select();this.XB.focus()};
WU.prototype.kk=function(h){this.R(new X(e.E.l,!1))};WU.prototype.zQW=function(h){this.R(new X("input",!1))};
function uQ(h,R,d,L,$,W){Wv.call(this,h,R,d,L,$,!0,W);e.qH(this.M,"trangeinput");this.M.appendChild(this.fg);
this.M.appendChild(this.XB);var M=e.X("span","rangecont");this.M.appendChild(M);M.appendChild(this._Y);
this._Y.setAttribute("style","width:97%;")}uQ.prototype=new Wv;function BV(){uD.call(this);this.gr=[10,!0,!0];
this.M=e.X("span","");this.GX=[new WB([12,24],0,255),new uX("Anti-alias"),new uX([12,25])];for(var h=0;
h<3;h++){var R=this.GX[h];R.parent=this;R.b(this.gr[h]);this.M.appendChild(R.M);R.A(e.E.l,this.Mc,this)}}BV.prototype=new uD;
BV.prototype.Mc=function(){for(var h=0;h<3;h++)this.gr[h]=this.GX[h].q();this.R(new X(e.E.l,!1))};BV.prototype.b=function(h){this.gr=h.slice(0);
for(var R=0;R<3;R++)this.GX[R].b(h[R])};BV.prototype.q=function(){return this.gr.slice(0)};BV.prototype.o=function(){for(var h=0;
h<3;h++)this.GX[h].o()};function by(h,R){uD.call(this);if(R==null)R=!1;this.xM=[];this.zSu=0;this.zSn=0;
this.mK=0;this.gu=[];this.nw=[];for(var d in z.Mp.type){if(d=="warpCustom"&&!R)continue;this.gu.push(d);
this.nw.push(z.Mp.type[d])}this.M=e.X("span","fitem warpbutton");this.nV=new uD;this.nV.M=e.X("div","floatcont");
if(h){this.kz=h;this.fg=e.X("label","flabel");this.M.appendChild(this.fg)}this.c=e.X("button");this.M.appendChild(this.c);
this.c.addEventListener("click",this.uW.bind(this),!1);this.kb=new zy(!0);this.nV.M.appendChild(this.kb.M);
this.kb.A(e.E.l,this.zQd,this);this.o()}by.prototype=new uD;by.prototype.UI=function(h){this.fg.textContent=h};
by.prototype.o=function(){if(this.kz)this.fg.innerHTML=uP.get(this.kz)+":";this.xM=[];var h=e.X("canvas",""),R=h.getContext("2d"),d=0;
R.font=Math.floor(13*e.p())+"px sans-serif";for(var L=0;L<this.gu.length;L++){d=Math.max(d,R.measureText(uP.get(z.Mp.type[this.gu[L]])).width)}var $=this.zSu=Math.floor(50*e.p()+d),W=this.zSn=Math.floor(23*e.p());
h.width=$;h.height=W;this.nV.M.setAttribute("style","width:"+Math.floor(8+$/e.p())+"px;");R.font=Math.floor(13*e.p())+"px sans-serif";
R.lineWidth=1;R.strokeStyle="#000000";var M=Math.floor(16*e.p()),x=new A(0,0,M,M);for(var L=0;L<this.gu.length;
L++){var t=this.gu[L];R.clearRect(0,0,h.width,h.height);var g=z.Mp.Mp(x,t,!0,.3,0,0),r=z.G.ii(x);r.D.push("M","L","M","L");
r.B.push(0,M/2,M,M/2);r.B.push(M/2,0,M/2,M);r=z.G.zs(r);r=z.G.zo(r,M/5);z.be.apply(g,r.B,x);z.G.V(r.B,new um(1,0,0,1,Math.floor(8*e.p())+.5,Math.floor(3*e.p())+.5),r.B);
R.beginPath();Typr.U.pathToContext({cmds:r.D,crds:r.B},R);R.stroke();R.fillText(uP.get(z.Mp.type[t]),Math.floor(40*e.p()),Math.floor(16*e.p()));
this.xM.push(h.toDataURL())}this.kb.Ul(this.xM,null,$,W);this.ve()};by.prototype.uW=function(h){var R=this.c.getBoundingClientRect(),d=new X(e.E.Z,!0);
d.data={c:e.j.eN,_z:this.nV,x:R.left,y:R.top+R.height+4};this.R(d)};by.prototype.zQd=function(h){var R=new X(e.E.Z,!0);
R.data={c:e.j.Et,_z:this.nV};this.R(R);this.mK=h.target.q();this.ve();this.R(new X(e.E.l))};by.prototype.ve=function(){this.kb.up(this.mK);
this.c.innerHTML="<img src=\""+this.xM[this.mK]+"\" class=\"gsicon\" />";var h=this.zSu,R=this.zSn;e.rL(this.c.firstChild,h,R)};
by.prototype.q=function(){return this.gu[this.mK]};by.prototype.b=function(h){this.mK=this.gu.indexOf(h);
this.ve()};function ta(h,R,d){uD.call(this);if(h==null)h=!1;if(R==null)R=!1;if(d==null)d=!1;this.zzz=R;
this.Mp=null;this.xq=new by([12,22],d);this.xq.parent=this;this.xq.A(e.E.l,this.Kw,this);this.Eu=new ur([22,0],[[22,4,0],[22,4,1]]);
this.Eu.A(e.E.l,this.Kw,this);var L=h?WB:uQ;this.xF=new L([22,1],-100,100,"%");this.xw=new L("Horizontal Distortion:",-100,100,"%");
this.xK=new L("Vertical Distortion:",-100,100,"%");this.xF.parent=this.xw.parent=this.xK.parent=this;
this.xF.A(e.E.l,this.Kw,this);this.xw.A(e.E.l,this.Kw,this);this.xK.A(e.E.l,this.Kw,this)}ta.prototype=new uD;
ta.prototype.o=function(){this.xq.o();this.Eu.o();this.xF.o();var h=this.zzz?1:100;this.xw.UI(uP.get([22,2]).substring(0,h)+":");
this.xK.UI(uP.get([22,3]).substring(0,h)+":")};ta.prototype.Kw=function(){var h=this.Mp,R=this.xq.q(),d=h.warpStyle.v.warpStyle;
if(R=="warpCustom")z.Mp.Wn(z.Mp.Qs(h),h);else delete h.customEnvelopeWarp;h.warpStyle.v.warpStyle=this.xq.q();
h.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.Eu.q()];h.warpValue.v=this.xF.q();h.warpPerspective.v=this.xw.q();
h.warpPerspectiveOther.v=this.xK.q();if(R=="warpNone"||R=="warpCustom"){h.warpValue.v=0;h.warpPerspective.v=0;
h.warpPerspectiveOther.v=0}else if(d=="warpNone"||d=="warpCustom")h.warpValue.v=50;this.R(new X(e.E.l,!1));
this.b(h)};ta.prototype.q=function(h){return JSON.parse(JSON.stringify(this.Mp))};ta.prototype.b=function(h){this.Mp=JSON.parse(JSON.stringify(h));
this.xq.b(h.warpStyle.v.warpStyle);this.Eu.b(h.warpRotate.v.Ornt=="Hrzn"?0:1);this.xF.b(h.warpValue.v);
this.xw.b(h.warpPerspective.v);this.xK.b(h.warpPerspectiveOther.v);var R=h.warpStyle.v.warpStyle,d=R=="warpNone"||R=="warpCustom",L=[this.Eu,this.xF,this.xw,this.xK];
for(var $=0;$<L.length;$++)if(d)L[$].pF();else L[$].GS()};function WS(h){uD.call(this);this.M=e.X("div");
this.fP=h;this.mn=!1;this.Vb=new kY(0,0);this.qQ="position:relative;overflow:hidden;";this.bK=null;this.kB=new e.Xv(this.M);
this.EZ("grab");this.Ou=e.X("canvas","canv");this.M.appendChild(this.Ou);this.EH=this.Ou.getContext("2d");
this.zwl=null;this.LB=null;this.fw=null;this.yG=0;this.fD=0;this.fp=0;this.zzM=this.zDk.bind(this);this.zDb=null;
this.F=new b$({k:1,$:1});this.yA=null;this.qW=null;this.zzk=this.sn.bind(this);this.zDL=this.xT.bind(this);
this.zDJ=this.GL.bind(this);this.zzW=this.Ew.bind(this);this.zDT=0;this.ki=null;this.zNk(this.Ou);this.Qz(this)}WS.prototype=new uD;
WS.prototype.LT=function(h){var R=this.bK;this.mn=h.u(m.Ap);if(this.mn)R="grab";this.kB.GA(R,this.qQ);
if(h.u(m.Is)){var d=0;if(h.u(m.BH))d=1;if(h.u(m.HB))d=-1;if(d!=0){this.zSa(new kY(this.Ou.width/2,this.Ou.height/2),d==1)}}};
WS.prototype.EZ=function(h){this.bK=h;this.kB.GA(h,this.qQ)};WS.prototype.zNk=function(h){e.Xh(h,this.zzk);
e.kX(h);h.addEventListener("wheel",this.zzW,!1)};WS.prototype.Qz=function(h){h.A("viewchange",this.zQE,this)};
WS.prototype.zQE=function(h){var R=this.F.P,d=h.currentTarget.yi();this.F.P=d.P;this.F.T=d.T.clone();
if(R!=d.P)this.Qk();this.Ux()};WS.prototype.yi=function(){return{P:this.F.P,T:this.F.T}};WS.prototype.b=function(h,R){var d=h[0].FK;
if(this.LB!=null&&this.LB[0].FK.PC(d)){}else{this.F.C$={k:d.k,$:d.$};this.F.T=new kY(0,0);this.F.P=1}this.LB=h;
this.Qk();this.yD();this.yG=0;this.fD=0;this.fp=R==null?0:R;this.zDk()};WS.prototype.Ew=function(h){h.preventDefault();
if(h.deltaY==0||Date.now()-this.zDT<100)return;var R=e.sA(h);R.x=e.p()*R.x;R.y=e.p()*R.y;this.zDT=Date.now();
this.zSa(R,h.deltaY<0)};WS.prototype.zSa=function(h,R){s.en.Wr(this.F,h,R);this.zSp()};WS.prototype.zQQ=function(){var h=this.F,R=h.C$;
this.F.P=s.en.Pn(R.k,R.$,h.C.k,h.C.$);this.zSp()};WS.prototype.zSp=function(){this.Qk();this.R(new X("viewchange"));
this.R(new X("zoom"))};WS.prototype.Qk=function(){this.fw=[];var h=this.F.P;for(var R=0;R<this.LB.length;
R++){var d=this.LB[R],L=new Uint8Array(d.data),$;if(h>=1)$={tP:L,rect:d.FK};else $=z.qG(L,d.FK,h);this.fw.push($)}};
WS.prototype.yD=function(){clearTimeout(this.zDb)};WS.prototype.Ux=function(){if(this.LB==null||!e.Rn(this.Ou))return;
var h=this.zwl,R=this.Ou.width,d=this.Ou.height,M,x;if(h==null||h.width!=R||h.height!=d){h=this.zwl=this.EH.createImageData(R,d);
console.log("creating image data")}var L=this.LB[this.yG],$=this.fw[this.yG],W=this.F;if(W.P<=1){var t=$.rect.clone();
t.x=W.T.x+Math.floor((W.C.k-$.rect.k)/2);t.y=W.T.y+Math.floor((W.C.$-$.rect.$)/2);M=$.tP;x=t}else{var g=W.sL(),r=W.ZL(),l=new A(0,0,g.k*W.P,g.$*W.P);
l.x=g.x*W.P+r.x;l.y=g.y*W.P+r.y;if(W.xt==null||W.xt.length!=g.s()*4){W.xt=z.h(g.s()*4)}if(W.Gu==null||W.Gu.length!=l.s()*4){W.Gu=z.h(l.s()*4)}z._M(W.xt,0);
z.bt($.tP,$.rect,W.xt,g);z.scale._$(W.xt,g.k,g.$,W.Gu,l.k,l.$,W.P);M=W.Gu;x=l}var r=W.ZL();z.VG(h.data,W.C.k,W.C.$,8,-r.x,-r.y);
z.K.Uu("norm",M,x,h.data,W.C,W.C,1);this.EH.setTransform(1,0,0,1,0,0);this.EH.putImageData(h,0,0);if(W.P<1)r=x;
var H=r.x,y=r.y,f=r.k,b=r.$;this.EH.clearRect(H,y,-1e3,b);this.EH.clearRect(H+f,y,1e3,b);this.EH.clearRect(H-1e3,y,f+2e3,-1e3);
this.EH.clearRect(H-1e3,y+b,f+2e3,1e3);var K=WS.zwZ(W.P,"#ffffff");this.EH.putImageData(K,0,W.C.$-K.height)};
WS.zwW={};WS.zwZ=function(h,R){var d="z"+h+","+R,L=WS.zwW[d];if(L)return L;var $=Math.round(50*e.p()),W=Math.round(18*e.p()),M=e.X("canvas"),x=M.getContext("2d");
M.width=$;M.height=W;x.fillStyle="rgba(1,1,1,1)";x.fillRect(0,0,$,W);x.font=Math.round(11*e.p())+"px monospace";
x.fillStyle=R;var t=h*100;if(t<100)t=t.toFixed(2);t=t+"%";var g=x.measureText(t).width;x.fillText(t,($-g)/2,Math.round(W*.7));
L=WS.zwW[d]=x.getImageData(0,0,$,W);return L};WS.prototype.zDk=function(){var h=this.LB,R=h.length,d=this.yG,L=this.LB[d],$=(d+1)%R;
this.Ux();if(R!=1&&h[$].FK.PC(L.FK)){var W=L.oq?parseInt(L.oq.split(",").pop()):30;if(W==0)W=16;if($==0)this.fD++;
if(this.fp==0||this.fD<this.fp)this.zDb=setTimeout(this.zzM,W)}this.yG=$};WS.prototype.Bk=function(h,R){if(h<=0||R<=0)return;
var d=Math.floor(h*e.p()),L=Math.floor(R*e.p());this.F.C=new A(0,0,d,L);this.Ou.width=d;this.Ou.height=L;
this.Ou.setAttribute("style","width:"+d/e.p()+"px; height:"+L/e.p()+"px; display:block;");this.Ux()};
WS.prototype.sn=function(h){this.ki=h.target;e.rh(window,this.zDL);e.rw(window,this.zDJ);this.yA=e.sA(h,this.Ou);
this.yA.x*=e.p();this.yA.y*=e.p();this.Vb=this.yA;this.qW=this.F.T.clone();if(this.fP&&this.ki==this.Ou&&!this.mn)this.R(new X("mousedown"))};
WS.prototype.xT=function(h){var R=this.F,d=this.LB[this.yG].FK.clone();d.k*=R.P;d.$*=R.P;var L=e.sA(h,this.Ou);
L.x*=e.p();L.y*=e.p();this.Vb=L;if(this.fP&&this.ki==this.Ou&&!this.mn)this.R(new X("mousemove"));else if(!R.C.nF(d)){var $=L.x-this.yA.x,W=L.y-this.yA.y;
R.T.x=this.qW.x+Math.round($);R.T.y=this.qW.y+Math.round(W);this.R(new X("viewchange"))}};WS.prototype.GL=function(h){e.yK(window,this.zDL);
e.fO(window,this.zDJ);if(h.detail>1){this.F.P=1;this.F.T.qC(0,0);this.Ux()}if(this.fP&&this.ki==this.Ou&&!this.mn)this.R(new X("mouseup"))};
WS.prototype.ET=function(){return this.F.Px(this.Vb.x,this.Vb.y)};function hb(){uD.call(this);this.kj=null;
this.xy=null;this.EW=null;this.kN=null;this.zDU="";this.kS=[];this.kD=0;this.m$=[];this.Dg=0;this.Nt=null;
var h=this.M=e.X("div",""),R=this.zzh=e.X("div","form");R.setAttribute("style","line-height:0; margin-bottom:0.5em;");
h.appendChild(R);var d=this.kz=e.X("span");R.appendChild(d);d.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var L=this.zDy=new uX([25,2,0]);L.b(!0);R.appendChild(L.M);L.A(e.E.l,this.iR,this);var $=this.fm=new uX([25,2,1]);
$.b(!1);R.appendChild($.M);$.A(e.E.l,this.iR,this);var W=new WY(" ");R.appendChild(W.M);var M=this.fQ=new WU([25,1,1]);
R.appendChild(M.M);M.A(e.E.l,this.iR,this);this.Ma=new zt(14);this.Ma.zgb(3);R.appendChild(this.Ma.M);
this.Ma.parent=this;this.Ma.A(e.E.l,this.zQU,this);var x=this.zzb=new uA([25,1,2],null,null,!0);R.appendChild(x.M);
x.A("click",this.Er,this);this.zzB=this.zQf.bind(this);this.ES=e.X("div","svggallery scrollable");h.appendChild(this.ES);
this.ES.addEventListener("scroll",this.zQT.bind(this))}hb.prototype=new uD;hb.prototype.Nk=function(h){this.zpp=h};
hb.prototype.o=function(){this.kz.textContent=uP.get([25,0]);this.Ma.o();this.zDy.o();this.fm.o();this.fQ.o();
this.zzb.o()};hb.prototype.Bk=function(h,R){R-=26;this.kj=new kY(h,R);this.zzh.setAttribute("style","width:"+h+"px");
this.ES.setAttribute("style","width:"+h+"px; height:"+R+"px");if(e.Rn(this.M))this.iR()};hb.prototype.b=function(h){this.xy=h;
this.iR()};hb.prototype.zQT=function(h){var R=this.ES;if(R.scrollTop+R.clientHeight+10>=R.scrollHeight){this.iR(!0)}};
hb.prototype.zQU=function(h){this.EW=null;this.iR()};hb.prototype.zQf=function(h){if(Date.now()-this.Dg<2e3)return;
this.Dg=Date.now();this.kD=this.m$.indexOf(h.currentTarget);var R=this.QB(this.xy.x,this.xy.y);if(R[1]){var d=R[1].largeImageURL,L=new XMLHttpRequest;
L.responseType="arraybuffer";L.open("GET",d,!0);L.onload=this.zKa.bind(this);L.send();return}this.zDW(R)};
hb.prototype.zKa=function(h){var R=h.target.response,d=ud.qe(R),L=ud.It(d),$=L.CA(R),W=this.QB(this.xy.x,this.xy.y,[R,$[0].FK.k,$[0].FK.$]);
this.zDW(W)};hb.prototype.zDW=function(h){var R=h[0],d=ud.qe(R),L=ud.It(d),$=new zG("template.psd");
L.CA(R,$);var W=new X("tempready",!0);W.data={C$:$};this.R(W)};hb.prototype.Er=function(h){var R=h.target;
this.kS=[];this.iR()};hb.prototype.zKE=function(h){console.log(h.target.response);var R=JSON.parse(h.target.response);
this.kN=R.hits;this.iR()};hb.prototype.iR=function(h){if(this.xy==null||this.kj==null||this.zpp==null)return;
if(this.kj.x<=0)return;var R=this.xy.x,d=this.xy.y;if(Math.min(R,d)<50)return;if(h!=!0){this.m$=[];e.dM(this.ES);
this.ES.scrollTop=0}if(this.m$.length>300)return;var L=Math.min(1,300/Math.max(R,d)),$=this.kj.clone();
$.x-=20;var W=Math.max(1,Math.floor($.x/(R*L))),M=Math.max(1,Math.ceil($.y/(d*L)));L=$.x/W/R;var x=W*M;
if(this.EW==null){var t=this.zpp.UX.QC();this.EW=[];for(var g in t){var r=t[g],l=r[3];if(!this.Ma.Ie(r))continue;
if(r[5]==null||r[5].slice(0,2)=="gf")continue;this.EW.push(r)}if(this.EW.length==0)this.EW.push(t.DejaVuSans)}var H=this.fm.q(),y=this.fQ.q().trim();
this.fQ.Iy(H);if(H&&(this.kN==null||y!=this.zDU)){var f=new XMLHttpRequest,b="https://pixabay.com/api/?image_type=photo"+(y==""?"":"&q="+encodeURIComponent(y))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
f.open("GET",b,!0);f.onload=this.zKE.bind(this);f.onerror=function(i){console.log(i.target.response)};
f.send();this.zDU=y;return}L*=(R*L-5)/(R*L);var K=this.m$.length;for(var Z=0;Z<x;Z++){var J=this.kD=K+Z;
if(this.kS[J]==null)this.kS[J]=Math.floor(Math.random()*4294967295);var u=this.QB(Math.round(R*L),Math.round(d*L)),C=u[0];
C=T.fh(new Uint8Array(C));var Q=e.X("span");Q.innerHTML=C;this.m$.push(Q);this.ES.appendChild(Q);Q.addEventListener("click",this.zzB,!1)}};
hb.prototype.QB=function(h,R,d){var L=this.fm.q(),$=this.zDy.q(),W=L&&this.kN.length!=0?this.kN:null;
if($&&!L)W=null;if($&&L&&(this.kD&1)==0)W=null;return uT.WB(h,R,this.kS[this.kD],this.EW,d?d:W)};function qt(){uD.call(this);
this.M=e.X("div");this.sG=null;this.zp$=null;this.fK=-1;this.Rz={JPG:[{NQ:new uQ([12,52,0],0,100,"%"),Cs:70},{NQ:new uX("attach metadata"),Cs:!1}],TIFF:[{NQ:new uX("attach metadata"),Cs:!1}],WEBP:[{NQ:new uQ([12,52,0],0,100,"%"),Cs:70}],GIF:[{NQ:new uQ([12,52,0],0,100,"%"),Cs:100}],PNG:[{NQ:new uQ([12,52,0],0,100,"%"),Cs:100},{NQ:new uX("don't use palettes"),Cs:!1}],PDF:[{NQ:new WU([12,52,1]),Cs:""},{NQ:new uQ([12,52,0],0,100,"%"),Cs:100},{NQ:new uX("rasterize all"),Cs:!1},{NQ:new uX("rasterize text"),Cs:!1},{NQ:new uX("vectorize text"),Cs:!1}],EMF:[{NQ:new WU([12,52,1]),Cs:""},{NQ:new uX("rasterize all"),Cs:!1},{NQ:new uX("rasterize text"),Cs:!1},{NQ:new uX("vectorize text"),Cs:!1}],SVG:[{NQ:new uX("add raster graphics"),Cs:!0},{NQ:new uX("add hidden layers"),Cs:!1},{NQ:new uX("vectorize text"),Cs:!1},{NQ:new uX("rasterize text"),Cs:!1},{NQ:new uX("add layer names"),Cs:!0},{NQ:new uX("pretty-print"),Cs:!0}],RAW:[{NQ:new kH([12,72],["1","3","4"]),Cs:2},{NQ:new kH([12,34],["8 Bits","16 Bits"]),Cs:0},{NQ:new kH("Byte Order",["12-34","34-12"]),Cs:0}],anim:[{NQ:new uQ("Speed",25,400,"%"),Cs:100},{NQ:new WB("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),Cs:0},{NQ:new uX("reverse frames"),Cs:!1}],slcs:[{NQ:new uX("As Slices"),Cs:!0}]};
for(var h in this.Rz){var R=this.Rz[h];for(var d=0;d<R.length;d++){R[d].NQ.b(R[d].Cs);R[d].NQ.A(e.E.l,this.Qq,this)}}}qt.prototype=new uD;
qt.prototype.zKj=function(){this.fK=-1};qt.prototype.o=function(){for(var h in this.Rz)for(var R=0;R<this.Rz[h].length;
R++)this.Rz[h][R].NQ.o()};qt.prototype.Qq=function(){this.iR();this.R(new X(e.E.l,!1))};qt.prototype.iR=function(){var h=this.sG,R=h[0],d=h[1],L=h[2],$=this.Rz[R];
if($==null)$=[];else $=$.slice(0);if(d)$=$.concat(this.Rz.anim);if(["GIF","PNG","JPG"].indexOf(R)!=-1&&L)$=$.concat(this.Rz.slcs);
if(R+" "+d!=this.fK){this.fK=R+" "+d;e.dM(this.M);for(var W=0;W<$.length;W++){this.M.appendChild($[W].NQ.M);
e.Ub(this.M)}}var M=this.zp$=[];for(var W=0;W<$.length;W++)M.push($[W].NQ.q())};qt.prototype.z_m=function(h,R,d){this.sG=[h,R,d];
this.iR()};qt.prototype.q=function(){return this.zp$.slice(0)};function bt(){uD.call(this);this.M=e.X("span","fitem");
this.Um=!1;this.fZ=new uA("No",!1,"Cancel");this.JP=new uA("Yes",!1,"Confirm");this.M.appendChild(this.fZ.M);
this.M.appendChild(this.JP.M);this.fZ.A("click",this.QR,this);this.JP.A("click",this.QR,this);this.o()}bt.prototype=new uD;
bt.prototype.o=function(){this.fZ.UI(e.XW("cross",null,"autoscale"));this.JP.UI(e.XW("checkmark",null,"autoscale"))};
bt.prototype.QR=function(h){this.Um=h.target==this.JP;this.R(new UIEvent("click"))};bt.prototype.q=function(){return this.Um};
function Y(h){uD.call(this);this.zzd=h;this.M=e.X("div","");this.RN=[];this.z_u=[]}Y.prototype=new uD;
Y.prototype.Qp=function(h){};Y.prototype.hQ=function(){return!1};Y.prototype.Bk=function(h,R){};Y.prototype.Nk=function(h,R){};
Y.prototype.Ce=function(h){};Y.prototype.b=function(h,R,d,L,$,W){var M=[];this.Ut(h,M,W);for(var x=0;
x<this.RN.length;x++)this.RN[x].b(M[x])};Y.prototype.q=function(){var h=u$.hx(this.zzd),R=[];for(var d=0;
d<this.RN.length;d++)R.push(this.RN[d].q());this.KN(h,R);return h};Y.prototype.LT=function(h){};Y.prototype.Kw=function(h){var R=this.z_u;
for(var d=0;d<R.length;d+=2){var L=this.RN[R[d]],$=this.RN[R[d+1]],W=L.q(),M=$.q();if(h.target==L)$.b(Math.max(W,M));
else L.b(Math.min(W,M))}this.R(new X(e.E.l))};Y.prototype.o=function(){for(var h=0;h<this.RN.length;
h++)this.RN[h].o()};Y.prototype.Wf=function(h){e.qH(this.M,"form");var R=this.RN;for(var d=0;d<R.length;
d++){var L=R[d];L.parent=this;L.A(e.E.l,this.Kw,this);this.M.appendChild(L.M);if(L instanceof uX&&R[d+1]instanceof zz)continue;
if(h&&h.indexOf(d)!=-1)e.mU(this.M);else e.Ub(this.M)}};Y.prototype.Wx=function(){return!1};Y.prototype.pf=function(h,R,d,L,$){};
Y.prototype.yn=function(h,R,d,L,$){};Y.prototype.WL=function(h,R,d,L,$){};Y.prototype.KN=function(h,R){};
Y.prototype.Ut=function(h,R){};Y.Bokh=function(){Y.call(this,"Bokh");this.RN=[new ur("Depth Map",["A","b"]),new uQ("Focal Distance",0,255),new ur([12,76,1],"Triangle (3),Square (4),Pentagon (5),Hexagon (6),Heptagon (7),Octagon (8)".split(",")),new uQ([12,56],0,100),new uQ([12,15],0,360),new uQ([12,2],0,100),new uQ([4,13],0,255),new uQ([24,6],0,100),new kH([12,58],[[12,59,0],[12,59,1]]),new uX([12,60])];
this.Wf([4,6])};Y.Bokh.prototype=new Y;Y.Bokh.prototype.Ut=function(h,R,d){var L=[[22,5,0],[6,5,3],[6,2]],$=h.BkDi.v.BtDi,W=h.BkDc,M=0;
if($=="BeIn")M=0;else if($=="BeIt"&&W.v.BtDc=="BeCt")M=1;else if($=="BeIt"&&W.v.BtDc=="BeCm")M=2;else M=3+W.v;
for(var x=0;x<d[1].length;x++)L.push(d[1][x].name);this.RN[0].Ii(L,[3]);R[0]=M;R[1]=h.BkDp.v;R[2]=parseInt(h.BkIs.v.BtIs.slice(3))-3;
R[3]=h.BkIb.v;R[4]=h.BkIr.v;R[5]=h.BkSb.v;R[6]=h.BkSt.v;R[7]=h.BkNa.v;R[8]=h.BkNt.v.BtNt=="BeNu"?0:1;
R[9]=h.BkNm.v};Y.Bokh.prototype.KN=function(h,R){var d;if(R[0]==0){d="BeIn";delete h.BkDc}else if(R[0]<3){d="BeIt";
h.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][R[0]-1]}}}else{d="BeIa";h.BkDc={t:"long",v:R[0]-3}}h.BkDi.v.BtDi=d;
h.BkDp.v=R[1];h.BkIs.v.BtIs="BeS"+(3+R[2]);h.BkIb.v=R[3];h.BkIr.v=R[4];h.BkSb.v=R[5];h.BkSt.v=R[6];h.BkNa.v=R[7];
h.BkNt.v.BtNt=["BeNu","BeNg"][R[8]];h.BkNm.v=R[9]};Y["\0\0\x03\xFD"]=function(){Y.call(this,"\0\0\x03\xFD");
this.RN=[new uQ([12,56],.1,10,"px",!0),new uQ("Cleanliness",0,10,"px",!0),new uQ([12,38],.1,10,null,!0),new uQ("Bristle Detail",0,10,null,!0),new uX("Lighting"),new uQ("Shine",0,10,null,!0),new bC([12,15])];
this.Wf()};Y["\0\0\x03\xFD"].prototype=new Y;Y["\0\0\x03\xFD"].prototype.Ut=function(h,R){var d="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var L=0;L<d.length;L++)R[L]=h[d[L]].v;R[6]=h.LghD.v};Y["\0\0\x03\xFD"].prototype.KN=function(h,R){var d="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var L=0;L<d.length;L++)h[d[L]].v=R[L];h.LghD.v=R[6].xj};Y["\0\0\x03^"]=function(){Y.call(this,"\0\0\x03^");
this.RN=[new uQ([24,3,1],0,30,"px"),new uQ([12,38],0,200,"%"),new uX([4,11]),new uQ("High",0,100,"%"),new uQ("Medium",0,100,"%"),new uQ("Low",0,100,"%")];
this.Wf()};Y["\0\0\x03^"].prototype=new Y;Y["\0\0\x03^"].prototype.Ut=function(h,R){R[0]=h.blur.v;R[1]=h.textureScale.v*100;
R[2]=h.Scl.v==-1;var d=h.Dtl.v;R[3]=d[0].v*100;R[4]=d[1].v*100;R[5]=d[2].v*100};Y["\0\0\x03^"].prototype.KN=function(h,R){h.blur.v=R[0];
h.textureScale.v=R[1]/100;h.Scl.v=R[2]?-1:1;var d=h.Dtl.v;d[0].v=R[3]/100;d[1].v=R[4]/100;d[2].v=R[5]/100};
Y.LnsF=function(){Y.call(this,"LnsF");this.RN=[new uQ([12,2],10,300,"%"),new kH([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new uQ("Position X",0,100,"%"),new uQ("Position Y",0,100,"%")];
this.Wf()};Y.LnsF.prototype=new Y;Y.LnsF.prototype.Ut=function(h,R){R[0]=h.Brgh.v;R[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(h.Lns.v.Lns);
var d=h.FlrC.v;R[2]=Math.round(d.Hrzn.v*100);R[3]=Math.round(d.Vrtc.v*100)};Y.LnsF.prototype.KN=function(h,R){h.Brgh.v=R[0];
h.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][R[1]];var d=h.FlrC.v;d.Hrzn.v=R[2]/100;d.Vrtc.v=R[3]/100};Y.LnCr=function(){Y.call(this,"LnCr");
this.RN=[new uQ([12,57],-100,100),new uQ([12,38],10,150,"%")];this.Wf()};Y.LnCr.prototype=new Y;Y.LnCr.prototype.Ut=function(h,R){R[0]=h.LnIa.v;
R[1]=h.LnSi.v};Y.LnCr.prototype.KN=function(h,R){h.LnIa.v=R[0];h.LnSi.v=R[1]};Y["\0\0\x02\xB1"]=function(){Y.call(this,"\0\0\x02\xB1");
this.RN=[new uQ([12,56],1,200," px")];this.Wf()};Y["\0\0\x02\xB1"].prototype=new Y;Y["\0\0\x02\xB1"].prototype.Ut=function(h,R){R[0]=h.Rds.v.val};
Y["\0\0\x02\xB1"].prototype.KN=function(h,R){h.Rds.v.val=R[0]};Y.GsnB=function(){Y.call(this,"GsnB");
this.RN=[new uQ([12,56],.1,400,"px",1,!0)];this.Wf()};Y.GsnB.prototype=new Y;Y.GsnB.prototype.Ut=function(h,R){R[0]=h.Rds.v.val};
Y.GsnB.prototype.KN=function(h,R){h.Rds.v.val=R[0]};Y.MtnB=function(){Y.call(this,"MtnB");this.RN=[new bC([12,15]),new uQ([12,28],1,100," px")];
this.Wf()};Y.MtnB.prototype=new Y;Y.MtnB.prototype.Ut=function(h,R){R[0]=h.Angl.v;R[1]=h.Dstn.v.val};
Y.MtnB.prototype.KN=function(h,R){h.Angl.v=R[0].xj;h.Dstn.v.val=R[1]};Y.RdlB=function(){Y.call(this,"RdlB");
this.RN=[new uQ([12,57],1,100),new kH([12,36],["Spin","Zoom"]),new Ww("Off X",0,1,null,2),new Ww("Off Y",0,1,null,2)];
this.Wf()};Y.RdlB.prototype=new Y;Y.RdlB.prototype.Ut=function(h,R){R[0]=h.Amnt.v;R[1]=["Spn","Zm"].indexOf(h.BlrM.v.BlrM);
R[2]=h.Cntr.v.Hrzn.v;R[3]=h.Cntr.v.Vrtc.v};Y.RdlB.prototype.KN=function(h,R){h.Amnt.v=R[0];h.BlrM.v.BlrM=["Spn","Zm"][R[1]];
h.Cntr.v.Hrzn.v=R[2];h.Cntr.v.Vrtc.v=R[3]};Y.Dspl=function(){Y.call(this,"Dspl");this.RN=[new ur([6,36,3],["a","b"]),new uQ([22,4,0],-100,100,"px"),new uQ([22,4,1],-100,100,"px"),new ur([24,18,0],[[24,18,3],[24,18,2]])];
this.Wf()};Y.Dspl.prototype=new Y;Y.Dspl.prototype.Ut=function(h,R,d){this.z_B=[];this.yI=[];var L=-1,$=d?d[0]:null;
if($==null)$=this.zz_;else this.zz_=$;if($)for(var W=0;W<$.length;W++){var M=$[W];this.z_B.push(M.qZ.trim());
this.yI.push(M.uo);if(M.uo==h.DspF.v.pth)L=W}this.RN[0].Ii(this.z_B);R[0]=L==-1?0:L;R[1]=h.HrzS.v;R[2]=h.VrtS.v;
R[3]=["WrpA","RptE"].indexOf(h.UndA.v.UndA)};Y.Dspl.prototype.KN=function(h,R){if(this.yI.length==0)return;
h.DspF.v.pth=this.yI[R[0]];h.HrzS.v=R[1];h.VrtS.v=R[2];h.UndA.v.UndA=["WrpA","RptE"][R[3]]};Y.Pnch=function(){Y.call(this,"Pnch");
this.RN=[new uQ([12,57],-100,100,"%")];this.Wf()};Y.Pnch.prototype=new Y;Y.Pnch.prototype.Ut=function(h,R){R[0]=h.Amnt.v};
Y.Pnch.prototype.KN=function(h,R){h.Amnt.v=R[0]};Y["Plr "]=function(){Y.call(this,"Plr ");this.RN=[new kH(null,["Rect to Polar","Polar to Rect"])];
this.Wf()};Y["Plr "].prototype=new Y;Y["Plr "].prototype.Ut=function(h,R){R[0]=["RctP","PlrR"].indexOf(h.Cnvr.v.Cnvr)};
Y["Plr "].prototype.KN=function(h,R){h.Cnvr.v.Cnvr=["RctP","PlrR"][R[0]]};Y.Rple=function(){Y.call(this,"Rple");
this.RN=[new uQ([12,57],-999,999),new ur([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.Wf()};Y.Rple.prototype=new Y;
Y.Rple.prototype.Ut=function(h,R){R[0]=h.Amnt.v;R[1]=["Sml","Mdm","Lrg"].indexOf(h.RplS.v.RplS)};Y.Rple.prototype.KN=function(h,R){h.Amnt.v=R[0];
h.RplS.v.RplS=["Sml","Mdm","Lrg"][R[1]]};Y["Shr "]=function(){Y.call(this,"Shr ");this.RN=[new bQ(!0,!0),new ur([24,18,0],[[24,18,3],[24,18,2]])];
this.Wf()};Y["Shr "].prototype=new Y;Y["Shr "].prototype.Ut=function(h,R){var d=new um(0,255/127,255/127,0,-2,128),L=JSON.parse(JSON.stringify(h.ShrP.v));
z.LV.V(L,d);R[0]=L;R[1]=["WrpA","RptE"].indexOf(h.UndA.v.UndA)};Y["Shr "].prototype.KN=function(h,R){var d=new um(0,255/127,255/127,0,-2,128);
d.Gv();z.LV.V(R[0],d);h.ShrP.v=R[0];h.ShrE.v=R[0].length-1;h.UndA.v.UndA=["WrpA","RptE"][R[1]]};Y.Sphr=function(){Y.call(this,"Sphr");
this.RN=[new uQ([12,57],-100,100),new ur([12,36],["Normal",[22,4,0],[22,4,1]])];this.Wf()};Y.Sphr.prototype=new Y;
Y.Sphr.prototype.Ut=function(h,R){R[0]=h.Amnt.v;R[1]=["Nrml","HrzO","VrtO"].indexOf(h.SphM.v.SphM)};
Y.Sphr.prototype.KN=function(h,R){h.Amnt.v=R[0];h.SphM.v.SphM=["Nrml","HrzO","VrtO"][R[1]]};Y.Twrl=function(){Y.call(this,"Twrl");
this.RN=[new uQ([12,15],-999,999)];this.Wf()};Y.Twrl.prototype=new Y;Y.Twrl.prototype.Ut=function(h,R){R[0]=h.Angl.v};
Y.Twrl.prototype.KN=function(h,R){h.Angl.v=R[0]};Y.Wave=function(){Y.call(this,"Wave");this.z_u=[1,2,3,4];
this.RN=[new uQ("Number of Generators",1,100),new Ww("Min Length",1,999),new Ww("Max Length",1,999),new Ww("Min Ampl.",1,999),new Ww("Max Ampl.",1,999),new Ww("Scale X",1,100,"%"),new Ww("Scale Y",1,100,"%"),new kH([12,44],["Sine","Triangle",[12,93,3]]),new ur([24,18,0],[[24,18,3],[24,18,2]]),new WU("Randomizer Seed")];
this.Wf()};Y.Wave.prototype=new Y;Y.Wave.prototype.Ut=function(h,R){R[0]=h.NmbG.v;R[1]=h.WLMn.v;R[2]=h.WLMx.v;
R[3]=h.AmMn.v;R[4]=h.AmMx.v;R[5]=h.SclH.v;R[6]=h.SclV.v;R[7]=["WvSn","WvTr","WvSq"].indexOf(h.Wvtp.v.Wvtp);
R[8]=["WrpA","RptE"].indexOf(h.UndA.v.UndA);R[9]=h.RndS.v};Y.Wave.prototype.KN=function(h,R){h.NmbG.v=R[0];
h.WLMn.v=R[1];h.WLMx.v=R[2];h.AmMn.v=R[3];h.AmMx.v=R[4];h.SclH.v=R[5];h.SclV.v=R[6];h.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][R[7]];
h.UndA.v.UndA=["WrpA","RptE"][R[8]];var d=parseInt(R[9]);if(isNaN(d))d=248325464;d=Math.max(0,Math.min(268435455,d));
h.RndS.v=d;this.RN[9].b(d)};Y["\0\0\x02\xB5"]=function(){Y.call(this,"\0\0\x02\xB5");this.RN=[new uQ([12,56],1,200," px"),new uQ([4,13],1,255," px")];
this.Wf()};Y["\0\0\x02\xB5"].prototype=new Y;Y["\0\0\x02\xB5"].prototype.Ut=function(h,R){R[0]=h.Rds.v.val;
R[1]=h.Thsh.v};Y["\0\0\x02\xB5"].prototype.KN=function(h,R){h.Rds.v.val=R[0];h.Thsh.v=R[1]};Y.AdNs=function(){Y.call(this,"AdNs");
this.RN=[new uQ([12,57],0,200," %"),new ur([12,58],[[12,59,0],[12,59,1]]),new uX([12,60])];this.Wf()};
Y.AdNs.prototype=new Y;Y.AdNs.prototype.Ut=function(h,R){R[0]=h.Nose.v.val;R[1]=["Unfr","Gsn"].indexOf(h.Dstr.v.Dstr);
R[2]=h.Mnch.v};Y.AdNs.prototype.KN=function(h,R){h.Nose.v.val=R[0];h.Dstr.v.Dstr=["Unfr","Gsn"][R[1]];
h.Mnch.v=R[2]};Y.DstS=function(){Y.call(this,"DstS");this.RN=[new uQ([12,56],1,200," px"),new uQ([4,13],1,255," px")];
this.Wf()};Y.DstS.prototype=new Y;Y.DstS.prototype.Ut=function(h,R){R[0]=h.Rds.v;R[1]=h.Thsh.v};Y.DstS.prototype.KN=function(h,R){h.Rds.v=R[0];
h.Thsh.v=R[1]};Y["Mdn "]=function(){Y.call(this,"Mdn ");this.RN=[new uQ([12,56],1,200," px")];this.Wf()};
Y["Mdn "].prototype=new Y;Y["Mdn "].prototype.Ut=function(h,R){R[0]=h.Rds.v.val};Y["Mdn "].prototype.KN=function(h,R){h.Rds.v.val=R[0]};
Y.ClrH=function(){Y.call(this,"ClrH");this.RN=[new uQ([12,56],4,100," px")];for(var h=1;h<4;h++)this.RN.push(new uQ("Angle "+h,0,90," \xB0"));
this.Wf()};Y.ClrH.prototype=new Y;Y.ClrH.prototype.Ut=function(h,R){R[0]=h.Rds.v;for(var d=1;d<4;d++)R[d]=h["Ang"+d].v};
Y.ClrH.prototype.KN=function(h,R){h.Rds.v=R[0];for(var d=1;d<4;d++)h["Ang"+d].v=R[d]};Y.ClrH.prototype.o=function(){var h=this.RN;
h[0].o();for(var R=1;R<4;R++)h[R].UI(uP.get([12,15])+" "+R)};Y.Crst=function(){Y.call(this,"Crst");this.RN=[new uQ([12,61],3,100," px")];
this.Wf()};Y.Crst.prototype=new Y;Y.Crst.prototype.Ut=function(h,R){R[0]=h.ClSz.v};Y.Crst.prototype.KN=function(h,R){h.ClSz.v=R[0]};
Y.Mztn=function(){Y.call(this,"Mztn");this.RN.push(new ur([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.yI="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.Wf()};Y.Mztn.prototype=new Y;
Y.Mztn.prototype.Ut=function(h,R){R[0]=this.yI.indexOf(h.MztT.v.MztT)};Y.Mztn.prototype.KN=function(h,R){h.MztT.v.MztT=this.yI[R[0]]};
Y["Msc "]=function(){Y.call(this,"Msc ");this.RN=[new uQ([12,61],2,200," px")];this.Wf()};Y["Msc "].prototype=new Y;
Y["Msc "].prototype.Ut=function(h,R){R[0]=h.ClSz.v.val};Y["Msc "].prototype.KN=function(h,R){h.ClSz.v.val=R[0]};
Y.Pntl=function(){Y.call(this,"Pntl");this.RN=[new uQ([12,61],3,100," px")];this.Wf()};Y.Pntl.prototype=new Y;
Y.Pntl.prototype.Ut=function(h,R){R[0]=h.ClSz.v};Y.Pntl.prototype.KN=function(h,R){h.ClSz.v=R[0]};Y["\0\0\x03\xE8"]=function(){Y.call(this,"\0\0\x03\xE8");
this.RN=[new uQ([12,57],1,200,"%"),new uQ([12,56],0,200,"px",1,!0)];this.Wf()};Y["\0\0\x03\xE8"].prototype=new Y;
Y["\0\0\x03\xE8"].prototype.Ut=function(h,R){R[0]=h.Amnt.v.val;R[1]=h.Rds.v.val};Y["\0\0\x03\xE8"].prototype.KN=function(h,R){h.Amnt.v.val=R[0];
h.Rds.v.val=R[1]};Y.UnsM=function(){Y.call(this,"UnsM");this.RN=[new uQ([12,57],1,200," %"),new uQ([12,56],0,200," px"),new uQ([4,13],0,255," ")];
this.Wf()};Y.UnsM.prototype=new Y;Y.UnsM.prototype.Ut=function(h,R){R[0]=h.Amnt.v.val;R[1]=h.Rds.v.val;
R[2]=h.Thsh.v};Y.UnsM.prototype.KN=function(h,R){h.Amnt.v.val=R[0];h.Rds.v.val=R[1];h.Thsh.v=R[2]};Y.HghP=function(){Y.call(this,"HghP");
this.RN=[new uQ([12,56],1,200," px")];this.Wf()};Y.HghP.prototype=new Y;Y.HghP.prototype.Ut=function(h,R){R[0]=h.Rds.v.val};
Y.HghP.prototype.KN=function(h,R){h.Rds.v.val=R[0]};Y["Mxm "]=function(){Y.call(this,"Mxm ");this.RN=[new uQ([12,56],1,200," px")];
this.Wf()};Y["Mxm "].prototype=new Y;Y["Mxm "].prototype.Ut=function(h,R){R[0]=h.Rds.v.val};Y["Mxm "].prototype.KN=function(h,R){h.Rds.v.val=R[0]};
Y["Mnm "]=function(){Y.call(this,"Mnm ");this.RN=[new uQ([12,56],1,200," px")];this.Wf()};Y["Mnm "].prototype=new Y;
Y["Mnm "].prototype.Ut=function(h,R){R[0]=h.Rds.v.val};Y["Mnm "].prototype.KN=function(h,R){h.Rds.v.val=R[0]};
Y.Ofst=function(){Y.call(this,"Ofst");this.RN=[new uQ([22,4,0],-1024,1024," px"),new uQ([22,4,1],-1024,1024," px"),new ur([24,18,0],[[24,18,1],[24,18,2],[24,18,3]])];
this.Wf()};Y.Ofst.prototype=new Y;Y.Ofst.prototype.Ut=function(h,R){R[0]=h.Hrzn.v;R[1]=h.Vrtc.v;R[2]=["Bckg","Rpt","Wrp"].indexOf(h.Fl.v.FlMd)};
Y.Ofst.prototype.KN=function(h,R){h.Hrzn.v=R[0];h.Vrtc.v=R[1];h.Fl.v.FlMd=["Bckg","Rpt","Wrp"][R[2]]};
Y.Rept=function(){Y.call(this,"Rept");this.RN=[new Ww([12,38],1,300," %"),new Ww("Row Shift",-50,50," %"),new Ww("Space X",-99,200," %"),new Ww("Space Y",-99,200," %"),new uX([4,16,2]),new bC([12,15])];
this.Wf()};Y.Rept.prototype=new Y;Y.Rept.prototype.Ut=function(h,R){R[0]=h.Scl.v.val;R[1]=h.Rsft.v.val;
R[2]=h.SpcX.v.val;R[3]=h.SpcY.v.val;R[4]=h.SpcC.v;R[5]=h.Angl.v};Y.Rept.prototype.KN=function(h,R){h.Scl.v.val=R[0];
h.Rsft.v.val=R[1];h.SpcX.v.val=R[2];h.SpcY.v.val=R[3];h.SpcC.v=R[4];h.Angl.v=R[5].xj;return h};Y.LqFy=function(){Y.call(this,"LqFy");
this.tX=!1;this.PG=null;this.zzT=null;this.L=0;this.Kj={yf:[[{L:{id:0,name:[24,1,0,1,0],$t:"liq/smudge"}}],[{L:{id:1,name:[24,1,0,1,1],$t:"liq/reconstruct"}}],[{L:{id:2,name:[24,1,0,1,2],$t:"liq/smooth"}}],[{L:{id:3,name:[24,1,0,1,3],$t:"liq/twirl"}}],[{L:{id:4,name:[24,1,0,1,4],$t:"liq/shrink"}}],[{L:{id:5,name:[24,1,0,1,5],$t:"liq/blow"}}],[{L:{id:6,name:[24,1,0,1,6],$t:"liq/pleft"}}]],keys:[]};
this.ir=new bn(this.Kj,!1);this.ir.yX(0);this.ir.A(e.E.Z,this.zKJ,this);this.fj=Wm.db();this.Oo=null;
this.El=[];this.Fz=-1;this.wK=null;this.z_Q=null;this.fN=null;this.kp=null;this.fT=null;var h=e.X("div","flexrow");
this.mZ=h;this.M.appendChild(h);h.appendChild(this.ir.M);this.view=new WS(!0);this.view.Bk(100,100);
this.view.A("mousedown",this.sn,this);this.view.A("mousemove",this.xT,this);this.view.A("mouseup",this.GL,this);
this.view.A("zoom",this.MZ,this);h.appendChild(this.view.M);var R=e.X("div","form");h.appendChild(R);
this.fn=R;R.style.width="230px";this.tY=[new uQ([12,14,0],0,1e3,null,!1,!0),new uQ([12,74],0,100,null,!1,!1),new uQ([12,84],0,100,null,!1,!1),new uX([12,46]),new uQ([12,0],0,100,null,!1,!1)];
var d=this.fj.Brsh.v;d.Dmtr.v.val=100;var L=[100,50,100,!1,100];for(var $=0;$<this.tY.length;$++){var W=this.tY[$];
W.b(L[$]);W.A(e.E.l,this.zKo,this);R.appendChild(W.M)}var M=new uA("Reset",!0,null,!0);M.A("click",this.Er,this);
R.appendChild(M.M);this.ig=new uD;this.ig.M=e.X("div","floatcont");this.k_=new uA("Menu",!1,null,!0);
this.k_.A("click",this.zKK,this);var x=this.k_.M;x.setAttribute("style","position:absolute; right:13px; top:47px")};
Y.LqFy.prototype=new Y;Y.LqFy.prototype.hQ=function(){return!0};Y.LqFy.prototype.Qp=function(h){this.fn.appendChild(h)};
Y.LqFy.prototype.zKK=function(h){var R=this.k_.M.getBoundingClientRect();this.ig.M.appendChild(this.fn);
var d=new X(e.E.Z,!0);d.data={c:e.j.eN,_z:this.ig,x:R.right+R.width-290,y:R.top+R.height};this.R(d)};
Y.LqFy.prototype.LT=function(h){this.tX=h.u(m.tw);var R=s.kq.jm(this.fj,h);if(R!=null){this.fj=R;this.MZ();
this.tY[0].b(R.Brsh.v.Dmtr.v.val)}else if(h.u(m.Is)&&h.u(m.HN)){var d=this.El;if(h.u(m.ka)){if(this.Fz+1<d.length)this.Fz++}else if(this.Fz>0)this.Fz--;
this.Oo.map=d[this.Fz].slice(0);this.VN(null)}else this.view.LT(h)};Y.LqFy.prototype.zKJ=function(h){if(h.data.c==e.j.uA){this.L=h.data.L;
this.ir.yX(this.L)}};Y.LqFy.prototype.zKo=function(h){var R=h.currentTarget,d=this.tY.indexOf(R),L=this.fj.Brsh.v;
if(d==0){L.Dmtr.v.val=R.q();this.MZ()}if(d>2)this.VN(null)};Y.LqFy.prototype.$e=function(){var h=this.El;
this.Fz++;h[this.Fz]=this.Oo.map.slice(0);while(h.length>this.Fz+1)h.pop();while(h.length>50){h=h.slice(1);
this.Fz--}};Y.LqFy.prototype.sn=function(h){this.yO();this.PG=this.view.ET();this.zzT=new kY(0,0);this.A(e.E.nb,this.Ec,this)};
Y.LqFy.prototype.xT=function(h){var R=this.view.ET(),d=new kY(R.x-this.PG.x,R.y-this.PG.y);if(this.L==0||this.L==6)this.zAo(d);
this.PG=R};Y.LqFy.prototype.GL=function(h){this.$e();this.yO()};Y.LqFy.prototype.yO=function(){if(this.vr(e.E.nb,this.Ec))this.removeEventListener(e.E.nb,this.Ec,this)};
Y.LqFy.prototype.Ec=function(h){if(this.L!=0&&this.L!=6)this.zAo(new kY(0,0))};Y.LqFy.prototype.zAo=function(h){var R=this.Oo,d=R.Hl/this.wK.k,L=this.PG,$=this.fj.Brsh.v,W=$.Dmtr.v.val,M=Date.now(),x=R.Hl,t=R.om,g=Math.sqrt(h.x*h.x+h.y*h.y),r=Math.max(1,Math.ceil(g/2)),l=h.x/r,H=h.y/r,y=L.clone(),f=this.L,b=this.tY[1].q()/100,K=this.tY[2].q()/100,Z=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],J=Z[f*2],u=Z[f*2+1],C=(1-b)*J+b*u,Q=W*d/2;
for(var i=0;i<r;i++){var j=[];y.x+=l;y.y+=H;z.e_.zpd(R.map,x,t,f,y.x*d,y.y*d,Q,b,K,l*d,H*d,j,this.tX);
z.e_.zpq(x,t,R.map,j,2*C*K)}var V=new A(0,0,x,t),E=new A(L.x*d,L.y*d,0,0);E.si(W*d*.5,W*d*.5);var N=E.clone();
N.offset(h.x*d,h.y*d);E=E.DM(N);var n=new A(E.x/d,E.y/d,E.k/d,E.$/d);n=z.G.Hv(n).hc(this.wK);this.VN(n)};
Y.LqFy.prototype.MZ=function(){var h=uf.pl(this.fj,null,this.view.yi().P);this.view.EZ(h)};Y.LqFy.prototype.b=function(h,R,d,L,$){d=d.clone();
if(R==null)return;if(!L.PC(d)){var W=d.DM(L),M=z.h(W.s()*4);z.bt(R,d,M,W);R=M;d=W}d.x=d.y=0;this.fN=R;
this.z_Q=$;this.fT=R.slice(0);this.kp=R.slice(0);this.wK=d;this.Oo=bO.iN(new Uint8Array(h.LqMe.v).buffer);
var x=d.k,t=d.$;if(this.Oo.Hl/x<.22){this.Oo={Hl:Math.floor(x/4),om:Math.floor(t/4)};this.Oo.map=new Float32Array(this.Oo.Hl*this.Oo.om*2)}this.El=[];
this.Fz=-1;this.$e();this.VN(null);this.MZ()};Y.LqFy.prototype.q=function(){this.yO();var h=u$.hx("LqFy"),R=new Uint8Array(bO.wA(this.Oo)),d=[];
for(var L=0;L<R.length;L++)d.push(R[L]);h.LqMe.v=d;return h};Y.LqFy.prototype.Bk=function(h,R){this.ir.Bk(h,R);
var d=this.k_.M,L=this.fn;this.mZ.appendChild(L);this.mZ.appendChild(d);if(h>450){L.style.marginLeft="1em";
this.mZ.removeChild(d);this.view.Bk(h-238-45,R)}else{L.style.marginLeft="";this.mZ.removeChild(L);this.view.Bk(h-40,R)}};
Y.LqFy.prototype.o=function(){this.ir.o();for(var h=0;h<this.tY.length;h++)this.tY[h].o()};Y.LqFy.prototype.Er=function(){this.yO();
this.Oo.map.fill(0);this.$e();this.VN(null)};Y.LqFy.prototype.VN=function(h){var R=this.wK,d=this.fN,L=this.fT,$=this.Oo;
z.e_.FL(d,this.kp,R.k,R.$,h,$.map,$.Hl,$.om,0);if(this.tY[3].RJ()){z.bt(this.z_Q,R,L,R,h?h:R);z.K.Uu("norm",this.kp,R,L,R,h?h:R,this.tY[4].q()/100)}else z.kW(this.kp,L);
this.view.b([{FK:R,data:L.buffer}])};Y.GEfc=function(){Y.call(this,"GEfc");this.L$=0;this.Lv=0;this.fN=null;
this.fT=null;this.wK=null;this.Nt=null;this.TO=null;this.BQ=0;var h=e.X("div","flexrow");this.mZ=h;this.M.appendChild(h);
this.view=new WS;this.view.Bk(100,100);h.appendChild(this.view.M);var R=e.X("div","form");h.appendChild(R);
R.style.width="230px";R.style.marginLeft="1em";this.kO=[];var d=[];this.mx={};for(var L in tz.names){this.kO.push(L);
d.push(tz.names[L]);var $=new Y.GEfc.$D(L);this.mx[L]=$;$.A(e.E.l,this.zAv,this)}this.f$=e.X("div");
R.appendChild(this.f$);this.f$.style.marginBottom="1.5em";this.nw=new ur(null,d);R.appendChild(this.nw.M);
this.nw.A(e.E.l,this.zAv,this);this.kQ=e.X("div");this.kQ.style.height="14em";R.appendChild(this.kQ);
e.Ub(R);this.kK=e.X("div","lpbody scrollable");this.Gm=e.X("div","lpfoot");R.appendChild(this.kK);R.appendChild(this.Gm);
this.A("click",this.zZt,this);this.mQ=[];zn.eR([[5,3],[5,4]],this.mQ,this.Gm,this.u_.bind(this))};Y.GEfc.prototype=new Y;
Y.GEfc.prototype.hQ=function(){return!0};Y.GEfc.prototype.Qp=function(h){this.f$.appendChild(h)};Y.GEfc.prototype.Nk=function(h,R){this.Nt=h};
Y.GEfc.prototype.Bk=function(h,R){this.L$=h;this.Lv=R;this.view.Bk(h-240,R);this.kK.style.height=R-this.kQ.getBoundingClientRect().height-140+"px"};
Y.GEfc.prototype.u_=function(h){var R=zn.fI(this.mQ,h),d=this.TO.GEfs.v,L=d[this.BQ].v;if(R==0){d.push(JSON.parse(JSON.stringify(d[this.BQ])));
this.BQ=d.length-1}else{d.splice(this.BQ,1);if(this.BQ==d.length)this.BQ--}this.yT();this.VN()};Y.GEfc.prototype.zAv=function(h){var R=this.kO[this.nw.q()],d;
if(h.target==this.nw)d=tz.hx(R);else d=this.mx[R].q();this.TO.GEfs.v[this.BQ].v=d;this.yT();this.VN()};
Y.GEfc.prototype.b=function(h,R,d,L,$){console.log(h);h=this.TO=JSON.parse(JSON.stringify(h));if(h.GEfs==null)h=this.TO={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:h}]}};
var W=h.GEfs.v;for(var M=0;M<W.length;M++)if(W[M].v.GELv==null)W[M].v.GELv={t:"bool",v:!0};this.BQ=W.length-1;
this.yT();d=d.clone();if(R==null)return;if(!L.PC(d)){var x=d.DM(L),t=z.h(x.s()*4);z.bt(R,d,t,x);R=t;
d=x}d.x=d.y=0;this.fN=R;this.fT=R.slice(0);this.wK=d;this.VN()};Y.GEfc.prototype.zZt=function(h){var R=h.data,d=R.KW,L=this.TO.GEfs.v;
if(R.kZ){L[d].v.GELv.v=!L[d].v.GELv.v;this.VN()}else this.BQ=d;this.yT()};Y.GEfc.prototype.yT=function(){var h=this.TO.GEfs.v,R=h[this.BQ].v,d=R.GEfk.v.GEft,L=this.kO.indexOf(d),$=this.kQ;
if(L==-1){alert("Unsupported gallery filter");this.nw.pF();e.dM($)}else{this.nw.b(L);this.nw.GS();var W=this.mx[d];
W.b(R);if($.firstChild!=W.M){e.dM($);$.appendChild(W.M)}}var M=[];for(var x=0;x<h.length;x++){var t=h[x].v,g=tz.names[t.GEfk.v.GEft],r=new Bd(x,!0,!1,null,g?g:"Filter",x==this.BQ,t.GELv.v);
r.parent=this;M.push(r.M)}e.dM(this.kK);M.reverse();for(var x=0;x<M.length;x++)this.kK.appendChild(M[x]);
this.Bk(this.L$,this.Lv)};Y.GEfc.prototype.q=function(){return JSON.parse(JSON.stringify(this.TO))};
Y.GEfc.prototype.VN=function(h){var R=this.wK,d=this.fN,L=this.fT,$=this.kO[this.nw.q()],W=this.TO,M=this.Nt;
function x(t){return{H:t>>>16,N:t>>>8&255,W:t&255}}u$.zI("GEfc",{rect:this.wK,buffer:this.fN},W,x(M.Ch),x(M._W),{rect:this.wK,buffer:this.fT},null);
this.view.b([{FK:R,data:L.buffer}])};Y.GEfc.prototype.o=function(){for(var h in this.mx)this.mx[h].o();
zn.ZS(this.mQ,["lrs/newlayer","lrs/bin"])};Y.GEfc.$D=function(h){uD.call(this);this.Wp=h;this.M=e.X("div");
this.Bh={};var R=tz.hx(h);for(var d in R){var L;if(d=="__name"||d=="classID"||d=="GEfk"||d=="GELv"||["LghI","FlRs"].indexOf(d)!=-1)continue;
else if(d=="Sz")L=new uQ([12,14,0],1,50);else if(d=="Dtl")L=new uQ("Detail",1,15);else if(d=="Shrp")L=new uQ("Sharpness",0,40);
else if(d=="BrsT")L=new ur("Brush type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(d=="LghD")L=new ur("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(d=="SDir")L=new ur([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(d=="EdgW")L=new uQ("Edge Width",1,14);
else if(d=="EdgB")L=new uQ("Edge Brightness",0,20);else if(d=="Smth")L=new uQ([19,3,3],1,15);else if(d=="ClSz")L=new uQ([12,61],3,100);
else if(d=="BrdT")L=new uQ([7,9],1,20);else if(d=="HghS")L=new uQ([12,64],0,20);else if(d=="HlSz")L=new uQ([12,14,0],1,15);
else if(d=="Cntr")L=new uQ([12,3,0],0,50);else if(d=="ScrT")L=new ur([12,62],["Circle","Dot",[10,35]]);
else if(d=="SprR")L=new uQ("Spray Radius",0,25);else if(d=="StrL")L=new uQ("Stroke Length",0,20);else console.log(d);
L.A(e.E.l,this.rx,this);this.Bh[d]=L;this.M.appendChild(L.M)}};Y.GEfc.$D.prototype=new uD;Y.GEfc.$D.prototype.rx=function(h){this.R(new X(e.E.l,!1))};
Y.GEfc.$D.prototype.b=function(h){for(var R in this.Bh){var d;if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(R)!=-1)d=h[R].v;
else if(R=="BrsT")d=tz.zWD.indexOf(h[R].v[R]);else if(R=="LghD")d=tz.DI.indexOf(h[R].v[R]);else if(R=="ScrT")d=tz.DQ.indexOf(h[R].v[R]);
else if(R=="SDir")d=tz.DK.indexOf(h[R].v.StrD);this.Bh[R].b(d)}};Y.GEfc.$D.prototype.q=function(){var h=tz.hx(this.Wp);
for(var R in this.Bh){var d=this.Bh[R].q();if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(R)!=-1)h[R].v=d;
else if(R=="BrsT")h[R].v[R]=tz.zWD[d];else if(R=="LghD")h[R].v[R]=tz.DI[d];else if(R=="ScrT")h[R].v[R]=tz.DQ[d];
else if(R=="SDir")h[R].v.StrD=tz.DK[d]}return h};Y.GEfc.$D.prototype.o=function(){for(var h in this.Bh)this.Bh[h].o()};
Y.blnc=function(){Y.call(this);var h=this.M;this.Um=null;this.bA=new ur([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.bA.A(e.E.l,this.VN,this);h.appendChild(this.bA.M);this.Tj=[];for(var R=0;R<3;R++){var d=new uQ(uJ.HK[R],-100,100);
d.A(e.E.l,this.Kw,this);this.Tj.push(d);h.appendChild(d.M)}this.mR=new uX([13,4]);this.mR.A(e.E.l,this.Kw,this);
h.appendChild(this.mR.M)};Y.blnc.prototype=new Y;Y.blnc.prototype.o=function(){this.bA.o();for(var h=0;
h<3;h++)this.Tj[h].o();this.mR.o()};Y.blnc.prototype.b=function(h){this.Um=JSON.parse(JSON.stringify(h));
this.VN()};Y.blnc.prototype.q=function(h){var R=["ShdL","MdtL","HghL"],d=this.Um[R[this.bA.q()]].v;for(var L=0;
L<3;L++)d[L].v=this.Tj[L].q();this.Um.PrsL.v=this.mR.q();return JSON.parse(JSON.stringify(this.Um))};
Y.blnc.prototype.VN=function(h){var R=["ShdL","MdtL","HghL"],d=this.Um[R[this.bA.q()]].v;for(var L=0;
L<3;L++)this.Tj[L].b(d[L].v);this.mR.b(this.Um.PrsL.v)};Y.brit=function(){Y.call(this,"brit");this.RN.push(new uQ([12,2],-150,150,""));
this.RN.push(new uQ([12,3,0],-100,100,""));this.RN.push(new uX([12,3,1]));this.Wf()};Y.brit.prototype=new Y;
Y.brit.prototype.Ut=function(h,R){R[0]=h.Brgh?h.Brgh.v:0;R[1]=h.Cntr?h.Cntr.v:0;R[2]=h.useLegacy?h.useLegacy.v:!1};
Y.brit.prototype.KN=function(h,R){h.Brgh.v=R[0];h.Cntr.v=R[1];h.useLegacy.v=R[2]};Y.curv=function(){Y.call(this);
this.value=null;this.wo=null;var h=this.M;this.ME=new ur([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.ME.A(e.E.l,this.Ux,this);h.appendChild(this.ME.M);this.WP=new ur(null,["Spline","Sketch"]);this.WP.A(e.E.l,this.zZM,this);
h.appendChild(this.WP.M);this.Cw=new bQ;this.Cw.A(e.E.l,this.QG,this);h.appendChild(this.Cw.M);this.mL=new bi("Sample from image",["#000000","#888888","#ffffff"]);
h.appendChild(this.mL.M)};Y.curv.prototype=new Y;Y.curv.prototype.o=function(){this.ME.o()};Y.curv.prototype.zZM=function(h){var R=zb.UA(this.value,0),d=R.length==256?1:0,L=this.WP.q();
if(d==L)return;var $=u$.hx("curv");if(L==1){var W=[];for(var M=0;M<256;M++)W.push(M);zb.Uk($,0,W)}this.b($);
this.Kw()};Y.curv.prototype.QG=function(){zb.Uk(this.value,this.ME.q(),this.Cw.q());this.Kw()};Y.curv.prototype.Ux=function(){var h=this.ME.q(),R=zb.UA(this.value,h),d=R.length==256?1:0;
this.WP.b(d);if(this.wo)this.Cw.Ce(this.wo[h],this.wo[4]*[1,.33,.33,.33][h],["#ccc","#fcc","#cfc","#ccf"][h]);
this.Cw.b(R)};Y.curv.prototype.Wx=function(){return!0};Y.curv.prototype.WL=function(h,R,d,L,$){var W=this.value,M=this.mL.q();
this.value=u$.hx("curv");this.Kw();var x=s.gj.Wj(h,$,1),t=[x>>>16&255,x>>>8&255,x&255];for(var g=0;g<3;
g++){var r=zb.UA(W,1+g);if(M==0)r[0].v.Hrzn.v=t[g];if(M==1){var l=(t[0]+t[1]+t[2])*.333,H=Math.log(t[g]/255)/Math.log(l/255),y=Math.min(999,Math.max(10,Math.round(100*H)));
if(r.length==2)r.splice(1,0,JSON.parse(JSON.stringify(r[0])));r[1].v.Hrzn.v=127-Math.log(y/100)*127;
r[1].v.Vrtc.v=127}if(M==2)r[r.length-1].v.Hrzn.v=t[g];zb.Uk(W,1+g,r)}this.b(W);this.Kw()};Y.curv.prototype.b=function(h){this.value=h;
this.Ux()};Y.curv.prototype.Ce=function(h){this.wo=h;this.Ux()};Y.curv.prototype.q=function(h){return JSON.parse(JSON.stringify(this.value))};
Y.expA=function(){Y.call(this,"expA");this.RN.push(new uQ([12,5],-20,20,null,3));this.RN.push(new uQ([12,6],-.5,.5,null,3));
this.RN.push(new uQ([12,7],.01,6.99,null,3));this.Wf()};Y.expA.prototype=new Y;Y.expA.prototype.Ut=function(h,R){R[0]=h.Exps.v;
R[1]=h.Ofst.v;R[2]=h.gammaCorrection.v};Y.expA.prototype.KN=function(h,R){h.Exps.v=R[0];h.Ofst.v=R[1];
h.gammaCorrection.v=R[2]};Y.grdm=function(){Y.call(this,"grdm");this.RN.push(new tW(!0,null,!0));this.RN.push(new uX([12,23,0]));
this.Wf()};Y.grdm.prototype=new Y;Y.grdm.prototype.Ut=function(h,R){R[0]=h.Grad.v;R[1]=h.Rvrs?h.Rvrs.v:!1};
Y.grdm.prototype.KN=function(h,R){h.Grad.v=R[0];h.Rvrs={t:"bool",v:R[1]}};Y.grdm.prototype.Nk=function(h,R){this.RN[0].Ij(h.Ch,h._W);
if(R==uh.QU||R==uh.Pf||R==uh.gp)this.RN[0].Gk(h.kn)};Y.selc=function(){Y.call(this);var h=this.M;this.jC=[];
this.TW=null;this.bA=new ur([12,82],uJ.Dm.concat([[13,1,8],[13,1,13],[13,1,10]]));this.bA.A(e.E.l,this.rx,this);
h.appendChild(this.bA.M);for(var R=0;R<4;R++){var d=new uQ(uJ.zEx[R],-100,100,"%");d.A(e.E.l,this.rx,this);
this.jC.push(d);h.appendChild(d.M)}this.mJ=new uX([13,3]);h.appendChild(this.mJ.M);this.mJ.A(e.E.l,this.rx,this)};
Y.selc.prototype=new Y;Y.selc.prototype.o=function(){this.bA.o();this.mJ.o();for(var h=0;h<4;h++)this.jC[h].o()};
Y.selc.prototype.b=function(h){this.TW=JSON.parse(JSON.stringify(h));this.VN()};Y.selc.prototype.q=function(h){return JSON.parse(JSON.stringify(this.TW))};
Y.selc.prototype.rx=function(h){if(h.target!=this.bA){var R=this.TW,d=[];for(var L=0;L<4;L++)d[L]=this.jC[L].q();
zC.Uk(R,this.bA.q(),d);R.Mthd={t:"enum",v:{CrcM:this.mJ.q()?"Absl":"Rltv"}}}this.VN();this.Kw()};Y.selc.prototype.VN=function(){var h=this.TW,R=zC.UA(h,this.bA.q());
for(var d=0;d<4;d++)this.jC[d].b(R[d]);this.mJ.b(h.Mthd?h.Mthd.v.CrcM=="Absl":!1)};Y.blwh=function(){Y.call(this,"blwh");
this.RN.push(new uX([12,11]));this.RN.push(new zz(!0));for(var h=0;h<6;h++)this.RN.push(new uQ(uJ.Dm[h],-200,300));
this.Wf()};Y.blwh.prototype=new Y;Y.blwh.prototype.Ut=function(h,R){R[0]=h.useTint.v;R[1]=h.tintColor.v;
var d="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var L=0;L<6;L++)R[2+L]=h[d[L]].v};Y.blwh.prototype.KN=function(h,R){h.useTint.v=R[0];
h.tintColor.v=R[1];var d="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var L=0;L<6;L++)h[d[L]].v=R[2+L]};
Y.hue2=function(){Y.call(this);this.value=null;this.$M=null;this.zGa=null;var h=this.M;this.bA=new ur([12,12],["Master"].concat(uJ.Dm));
this.bA.A(e.E.l,this.Ux,this);h.appendChild(this.bA.M);this.TB=new uQ([12,8],-180,180);this.TB.A(e.E.l,this.yU,this);
h.appendChild(this.TB.M);this.eO=new uQ([12,9],-100,100);this.eO.A(e.E.l,this.yU,this);h.appendChild(this.eO.M);
this.ms=new uQ([12,10],-100,100);this.ms.A(e.E.l,this.yU,this);h.appendChild(this.ms.M);this.mX=new uX([12,11]);
this.mX.A(e.E.l,this.zZe,this);h.appendChild(this.mX.M);this.zGd=new WY("...",!0);h.appendChild(this.zGd.M)};
Y.hue2.prototype=new Y;Y.hue2.prototype.o=function(){this.TB.o();this.eO.o();this.ms.o();this.mX.o();
this.bA.o()};Y.hue2.prototype.zZe=function(h){var R=this.mX.q();this.value.Clrz.v=R;if(R)this.bA.b(0);
this.Ux();this.Kw()};Y.hue2.prototype.yU=function(h){var R=this.value.Clrz.v,d=this.bA.q(),L=zg.UA(this.value,d),$=d==0?L:L.Tj;
$[0]=this.TB.q();var W=this.eO.q();$[1]=R?Math.max(0,W):W;$[2]=this.ms.q();zg.Uk(this.value,d,L);this.Ux();
this.Kw()};Y.hue2.prototype.Ux=function(){var h=this.value.Clrz?this.value.Clrz.v:!1,$="";this.mX.b(h);
if(h)this.bA.pF();else this.bA.GS();var R=this.bA.q(),d=zg.UA(this.value,R),L=R==0?d:d.Tj;this.TB.b(L[0]);
this.eO.b(L[1]);this.ms.b(L[2]);if(!h){$+=uP.get([5,8])+": ";var R=this.bA.q();if(R==0)$+=uP.get([13,2]);
else $+=d.ge}this.zGd.b($)};Y.hue2.prototype.Wx=function(){return!0};Y.hue2.prototype.pf=function(h,R,d,L,$){var W=this.value;
this.value=u$.hx("hue2");this.Kw();var M=s.gj.Wj(h,$,1),x=[M>>>16&255,M>>>8&255,M&255],t=z.pc(x[0]/255,x[1]/255,x[2]/255);
this.bA.b(1+Math.round(t.om*6)%6);this.b(W);this.Kw();this.$M=$.x;this.zGa=this.eO.q()};Y.hue2.prototype.yn=function(h,R,d,L,$){if(this.$M!=null){var W=$.x-this.$M;
W=Math.max(-100,Math.min(100,this.zGa+.5*W));this.eO.b(W);this.yU()}};Y.hue2.prototype.WL=function(h,R,d,L,$){this.$M=null};
Y.hue2.prototype.b=function(h){this.value=JSON.parse(JSON.stringify(h));this.Ux()};Y.hue2.prototype.q=function(h){return JSON.parse(JSON.stringify(this.value))};
Y.levl=function(){Y.call(this);this.value=null;this.wo=null;this.ex=[new kY(0,0),new kY(0,0),new kY(0,0),new kY(0,0),new kY(0,0)];
this.By=-1;this.$O=this.ND.bind(this);this.$I=this.uS.bind(this);var h=this.M;this.ME=new ur([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.ME.A(e.E.l,this.Ux,this);h.appendChild(this.ME.M);var R=e.X("div","");h.appendChild(R);var d=e.X("div","");
h.appendChild(d);this.pR=e.X("canvas");R.appendChild(this.pR);this.EH=this.pR.getContext("2d");this.fs=new kY(256,120);
this.pR.setAttribute("style","display:block");e.PH(this.pR,this.fs.x,this.fs.y,this.EH);e.kX(this.pR);
e.Xh(this.pR,this.uB.bind(this));this.bv=e.X("canvas","");d.appendChild(this.bv);this.bI=this.bv.getContext("2d");
this.k$=new kY(this.fs.x,40);this.bv.setAttribute("style","display:block");e.PH(this.bv,this.k$.x,this.k$.y,this.bI);
e.kX(this.bv);e.Xh(this.bv,this.zZN.bind(this));var L=this.zGK=[];for(var $=0;$<5;$++){var W=new WU(null,null,3);
L.push(W);W.A(e.E.l,this.zZj,this);($<2||$==4?R:d).appendChild(W.M)}R.appendChild(L[1].M);L[4].M.setAttribute("style","margin: 0 4.7em");
L[3].M.setAttribute("style","margin:0 0 0 13em");this.mL=new bi("Sample from image",["#000000","#888888","#ffffff"]);
h.appendChild(this.mL.M)};Y.levl.prototype=new Y;Y.levl.prototype.o=function(){this.ME.o()};Y.levl.prototype.zZj=function(h){var R=[];
for(var d=0;d<5;d++){var L=255,$=1;if(d==4){L=999;$=100}var W=parseFloat(this.zGK[d].q());R[d]=Math.max(0,Math.min(L,W*$))}tm.Uk(this.value,this.ME.q(),R);
this.Ux();this.Kw()};Y.levl.prototype.Ux=function(h){var R=this.fs.x,d=this.fs.y,L=this.ME.q(),$=this.EH;
$.clearRect(0,0,R,d);$.fillStyle="#cccccc";$.fillRect(8,8,R-16,d-16-8);if(this.wo){if(L==0){z.set(this.wo[0],0);
var W=JSON.parse(JSON.stringify(this.value));tm.Uk(W,0,[0,255,0,255,100]);var M=uJ.zA("levl",W),x=[M.Bx,M.lg,M.js];
for(var t=0;t<3;t++){var g=this.wo[1+t],r=x[t];for(var l=0;l<256;l++)this.wo[0][r[l]]+=g[l]}}var H=this.wo[L],y=0;
for(var l=0;l<H.length;l++)y+=H[l];$.fillStyle="#333333";$.beginPath();$.moveTo(8,d-16);for(var l=0;
l<256;l++){var f=55*H[l]/y;$.lineTo(8+l/256*(R-16),Math.max(8,d-16-d*f))}$.lineTo(R-8,d-16);$.closePath();
$.fill()}var b=tm.UA(this.value,L);for(var l=0;l<5;l++)this.zGK[l].b(b[l]/(l==4?100:1));this.ex[0].qC(8+b[0]/255*(R-16),d-14);
this.ex[1].qC(8+b[1]/255*(R-16),d-14);var K=Math.log(b[4]/100)/Math.log(9.99);K=.5-K/2;this.ex[4].qC(this.ex[0].x+K*(this.ex[1].x-this.ex[0].x),d-14);
this.Ev($,this.ex[0],"#000000");this.Ev($,this.ex[1],"#ffffff");this.Ev($,this.ex[4],"#777777");var R=this.k$.x,d=this.k$.y;
$=this.bI;$.clearRect(0,0,R,d);var Z=$.createLinearGradient(0,0,R-16,0);Z.addColorStop(0,"black");Z.addColorStop(1,"white");
$.fillStyle=Z;$.fillRect(8,8,R-16,16);this.ex[2].qC(8+b[2]/255*(R-16),d-14);this.ex[3].qC(8+b[3]/255*(R-16),d-14);
this.Ev($,this.ex[2],"#000000");this.Ev($,this.ex[3],"#ffffff")};Y.levl.prototype.Ev=function(h,R,d){h.fillStyle=d;
h.fillRect(R.x-5,R.y,10,10)};Y.levl.prototype.uB=function(h){var R=e.sA(h,this.pR);for(var d=0;d<2;d++)if(kY.ZW(this.ex[d],R)<10)this.By=d;
if(kY.ZW(this.ex[4],R)<10)this.By=4;this.zgO()};Y.levl.prototype.zZN=function(h){var R=e.sA(h,this.bv);
for(var d=2;d<4;d++)if(kY.ZW(this.ex[d],R)<10)this.By=d;this.zgO()};Y.levl.prototype.zgO=function(h){if(this.By==-1)return;
e.rh(document.body,this.$O);e.rw(document.body,this.$I)};Y.levl.prototype.ND=function(h){var R=tm.UA(this.value,this.ME.q()),d=e.sA(h,this.By==2&&this.By==3?this.bv:this.pR),L=255*(d.x-8)/(this.fs.x-16);
L=Math.max(0,Math.min(255,L));if(this.By==0)L=Math.min(L,R[1]-2);if(this.By==1)L=Math.max(L,R[0]+2);
if(this.By!=4)R[this.By]=Math.round(L);else{var $=(L-R[0])/(R[1]-R[0]);$=1-2*$;$=Math.pow(9.99,$);R[4]=Math.min(999,Math.max(10,Math.round($*100)))}tm.Uk(this.value,this.ME.q(),R);
this.Ux();this.Kw()};Y.levl.prototype.uS=function(h){e.yK(document.body,this.$O);e.fO(document.body,this.$I);
this.By=-1};Y.levl.prototype.Wx=function(){return!0};Y.levl.prototype.WL=function(h,R,d,L,$){var W=this.value,M=this.mL.q();
this.value=u$.hx("levl");this.Kw();var x=s.gj.Wj(h,$,1),t=[x>>>16&255,x>>>8&255,x&255];for(var g=0;g<3;
g++){var r=tm.UA(W,1+g);if(M==0)r[0]=t[g];if(M==1){var l=Math.log(t[g]/255)/Math.log((t[0]+t[1]+t[2])*.333/255);
r[4]=Math.min(999,Math.max(10,Math.round(100*l)))}if(M==2)r[1]=t[g];tm.Uk(W,1+g,r)}this.b(W);this.Kw()};
Y.levl.prototype.b=function(h){this.value=h;this.Ux()};Y.levl.prototype.Ce=function(h){this.wo=h;this.Ux()};
Y.levl.prototype.q=function(h){return JSON.parse(JSON.stringify(this.value))};Y.phfl=function(){Y.call(this,"phfl");
this.RN.push(new zz);this.RN.push(new uQ([12,74],0,100,"%"));this.RN.push(new uX([13,4]));this.Wf()};
Y.phfl.prototype=new Y;Y.phfl.prototype.Ut=function(h,R){R[0]=h.Clr.v;R[1]=h.Dnst.v;R[2]=h.PrsL.v};Y.phfl.prototype.KN=function(h,R){var d=z.i.IZ(R[0]),L=h.Clr.v,$=z.Jk(d.H,d.N,d.W);
L.Lmnc.v=$.UM;L.A.v=$.r$;L.B.v=$.W;h.Dnst.v=R[1];h.PrsL.v=R[2]};Y.vibA=function(){Y.call(this,"vibA");
this.RN.push(new uQ([12,13],-100,100,null));this.RN.push(new uQ([12,9],-100,100,null));this.Wf()};Y.vibA.prototype=new Y;
Y.vibA.prototype.Ut=function(h,R){R[0]=h.vibrance?h.vibrance.v:0;R[1]=h.Strt?h.Strt.v:0};Y.vibA.prototype.KN=function(h,R){h.vibrance.v=R[0];
h.Strt.v=R[1]};Y.thrs=function(){Y.call(this,"thrs");this.RN.push(new uQ([4,13],1,255,null));this.Wf()};
Y.thrs.prototype=new Y;Y.thrs.prototype.Ut=function(h,R){R[0]=h.Lvl.v};Y.thrs.prototype.KN=function(h,R){h.Lvl.v=R[0]};
Y.mixr=function(){Y.call(this);var h=this.M;this.jC=[];this.TW=null;this.bA=new ur([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.bA.A(e.E.l,this.rx,this);h.appendChild(this.bA.M);e.Ub(h);this.O$=new uX([12,60]);h.appendChild(this.O$.M);
this.O$.A(e.E.l,this.rx,this);for(var R=0;R<4;R++){var d=new uQ([[13,1,1],[13,1,4],[13,1,5],[13,2]][R],-200,200,"%");
d.A(e.E.l,this.rx,this);this.jC.push(d);h.appendChild(d.M)}};Y.mixr.prototype=new Y;Y.mixr.prototype.o=function(){this.bA.o();
this.O$.o();for(var h=0;h<4;h++)this.jC[h].o()};Y.mixr.prototype.b=function(h){this.TW=JSON.parse(JSON.stringify(h));
this.VN()};Y.mixr.prototype.q=function(h){return JSON.parse(JSON.stringify(this.TW))};Y.mixr.prototype.rx=function(h){if(h.target!=this.bA){var R=uJ.HH(this.TW);
if(h.target==this.O$){R.O$=this.O$.q();if(R.O$)R.a=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else R.a=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var d=(R.O$?0:this.bA.q())*5,L=this.jC.indexOf(h.target);
R.a[d+(L<3?L:4)]=h.target.q()}this.TW=uJ.zqc(R)}this.VN();this.Kw()};Y.mixr.prototype.VN=function(){var h=uJ.HH(this.TW);
this.O$.b(h.O$);var R=(h.O$?0:this.bA.q())*5;for(var d=0;d<4;d++)this.jC[d].b(h.a[R+(d<3?d:4)])};Y.post=function(){Y.call(this,"post");
this.RN.push(new uQ([4,1],2,255,null));this.Wf()};Y.post.prototype=new Y;Y.post.prototype.Ut=function(h,R){R[0]=h.Lvls.v};
Y.post.prototype.KN=function(h,R){h.Lvls.v=R[0]};Y.clrL=function(){Y.call(this,"clrL");this.RN.push(new hh("LUTs"));
this.Wf()};Y.clrL.prototype=new Y;Y.clrL.prototype.Ut=function(h,R){R[0]=h};Y.clrL.prototype.KN=function(h,R){var d=R[0];
for(var L in d)h[L]=d[L]};Y.clrL.prototype.Nk=function(h,R){if(R==uh.QU||R==uh.zF)this.RN[0].Gk(h.zmb)};
Y.rplc=function(){Y.call(this,"rplc");this.RN.push(new uQ([12,92],0,200));this.RN.push(new zz);this.RN.push(new uQ([12,8],-180,180));
this.RN.push(new uQ([12,9],-100,100));this.RN.push(new uQ([12,10],-100,100));this.Wf()};Y.rplc.prototype=new Y;
Y.rplc.prototype.Ut=function(h,R){R[0]=h.Fzns.v;R[1]=h.Mxm.v;R[2]=h.H.v;R[3]=h.Strt.v;R[4]=h.Lght.v};
Y.rplc.prototype.KN=function(h,R){function d($,W){W.Lmnc.v=$.UM;W.A.v=$.r$;W.B.v=$.W}h.Fzns.v=R[0];h.H.v=R[2];
h.Strt.v=R[3];h.Lght.v=R[4];var L=z.i.IZ(R[1]),$=z.Jk(L.H,L.N,L.W);d($,h.Mnm.v);d($,h.Mxm.v)};Y.fade=function(){Y.call(this,"fade");
this.RN.push(new uQ([12,0],0,100,"%"));this.RN.push(new ur([12,19,0],zP.nw,!1,zP.Aa));this.Wf()};Y.fade.prototype=new Y;
Y.fade.prototype.Ut=function(h,R){R[0]=h.Opct.v.val;R[1]=zP.wc.indexOf(h.Md.v.BlnM)};Y.fade.prototype.KN=function(h,R){h.Opct.v.val=R[0];
h.Md.v.BlnM=zP.wc[R[1]]};function uK(h,R){uD.call(this);if(h==null)return;this.id=R;this.kL=h;this.fR=null;
this.M=e.X("div","window "+R);this.OU=e.X("div","whead");this.zmn=e.X("span","wname");this.OU.appendChild(this.zmn);
this.M.appendChild(this.OU);this.es=this.zZ_.bind(this);this.Wh=this.zZL.bind(this);this.Wi=this.zZY.bind(this);
e.kX(this.OU);e.Xh(this.OU,this.es);this.fU=e.X("span","cross");this.OU.appendChild(this.fU);uK.prototype.o.call(this);
e.rw(this.fU,this.zIx.bind(this));this.body=e.X("div","body");this.M.appendChild(this.body)}uK.prototype=new uD;
uK.prototype.TZ=function(){return!1};uK.prototype.Wx=function(){return!1};uK.prototype.o=function(){if(this.kL==null)return;
this.zmn.textContent=uP.get(this.kL);var h=PIMG.__cross==null?"filter:invert(1);":"";this.fU.setAttribute("style","background-image:url("+PIMG.cross+");"+h)};
uK.prototype.pf=function(h,R,d,L,$){};uK.prototype.xH=function(h,R,d,L,$){};uK.prototype.yn=function(h,R,d,L,$){};
uK.prototype.WL=function(h,R,d,L,$){};uK.prototype.VK=function(h,R,d,L,$){};uK.prototype.LT=function(h,R,d,L){if(L.u(m.FA)&&this.Hm)this.Hm()};
uK.prototype.J$=function(h){return!1};uK.prototype.XU=function(h,R){return!0};uK.prototype.GA=function(h,R,d,L){};
uK.prototype.Nk=function(h,R){};uK.prototype.hQ=function(){return!1};uK.prototype.ya=function(h,R){return h<450||R<450?new kY(0,0):new kY(150,150)};
uK.prototype.Bk=function(){};uK.prototype.close=function(){this.R(new X(e.E.uu))};uK.prototype.zZ_=function(h){this.fR=e.sA(h,this.M);
e.rh(window,this.Wh);e.rw(window,this.Wi)};uK.prototype.zZL=function(h){var R=this.M.parentNode,d=e.sA(h,R);
this.M.style.left=Math.round(d.x-this.fR.x)+"px";this.M.style.top=R.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(d.y-this.fR.y)))+"px"};
uK.prototype.zZY=function(h){e.yK(window,this.Wh);e.fO(window,this.Wi)};uK.prototype.zIx=function(h){this.R(new X("closebtn"));
this.close()};function hy(){uK.call(this,[0,13,0],"account");this.PZ=e.X("div","form padded scrollable");
this.PZ.setAttribute("style","max-width:48em;  max-height:33em;");this.body.appendChild(this.PZ);this.ff=[new hy.cU,new hy.et(hy.zCS),new hy.et(hy.zCb)];
for(var h=0;h<this.ff.length;h++)this.ff[h].parent=this;this.A("showpage",this.zna,this)}hy.prototype=new uK;
hy.prototype.zna=function(h){e.dM(this.PZ);this.PZ.scrollTop=0;this.PZ.appendChild(this.ff[h.data.KW].M)};
hy.prototype.o=function(){uK.prototype.o.call(this);for(var h=0;h<this.ff.length;h++)this.ff[h].o()};
hy.prototype.GA=function(h,R,d){e.dM(this.PZ);var L=this.ff[0];this.PZ.appendChild(L.M);L.GA();this.o()};
hy.prototype.Nk=function(h,R){this.GA(null,null,null)};hy.cU=function(){uD.call(this);this.M=e.X("div");
var h=this.M,R,d,L="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.Pz=e.X("div");h.appendChild(this.Pz);this.kJ=new uA([0,11],!1,null,!0);this.kJ.M.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.kJ.A("click",this.BO,this);h.appendChild(this.kJ.M);this.fr=new uA([0,13,1],!1,null,!0);this.fr.A("click",this.zZR,this);
h.appendChild(this.fr.M);this.fc=new uA("Contact",!1,null,!0);this.fc.A("click",this.znb,this);h.appendChild(this.fc.M);
R=e.X("h2","");R.innerHTML="Account types";h.appendChild(R);d=e.X("table","");d.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">Full Functionality</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
h.appendChild(d);var $=this.ztQ=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.TS=[];for(var W=0;W<$.length;W++)this.TS.push(new uA("Buy: $"+$[W][0],!1,null,!0));for(var W=0;
W<this.TS.length;W++){this.TS[W].M.setAttribute("style",L);this.TS[W].A("click",this.znx,this)}R=e.X("h2","");
R.innerHTML="Go Premium";h.appendChild(R);this.kT=new uA("...",!0);this.kT.M.setAttribute("style",L);
h.appendChild(this.kT.M);d=this.zzx(3,["Single user",this.TS[0],this.TS[1],this.TS[2],"Team of 5",this.TS[3],this.TS[4],this.TS[5],"Team of 20",this.TS[6],this.TS[7],this.TS[8]]);
h.appendChild(d);this.zAd=new uX("I accept",!0,"");h.appendChild(this.zAd.M);this.oM=new uA([0,13,1],!1,null,!0);
this.oM.A("click",this.zZR,this);h.appendChild(this.oM.M);R=e.X("h2","");R.textContent="Team Settings";
h.appendChild(R);this.eT=new uX("Join a team");h.appendChild(this.eT.M);this.eT.A(e.E.l,this.zCs,this);
this.kc=new WU("Email of a leader",null,14);h.appendChild(this.kc.M);e.Ub(h);this.ml=new uX("Start a team");
h.appendChild(this.ml.M);this.ml.A(e.E.l,this.zCs,this);var M=new WY("Emails of other members:");h.appendChild(M.M);
e.Ub(h);this.CM=e.X("textarea");this.CM.setAttribute("rows",3);this.CM.setAttribute("cols",70);this.CM.setAttribute("style","display:block;tab-size:4;");
h.appendChild(this.CM);var x=new uA("Save Team Settings",!1,null,!0);h.appendChild(x.M);x.A("click",this.znB,this);
var t=this.ztK=new uA("More about Teams",!1,null,!0);h.appendChild(t.M);t.A("click",this.znJ,this);R=e.X("h2","");
R.innerHTML="Distributor Account";h.appendChild(R);this.ut=new uA("...",!0);this.ut.M.setAttribute("style",L);
h.appendChild(this.ut.M);d=this.zzx(3,["1000 views/month",this.TS[9],this.TS[10],this.TS[11],"5000 views/month",this.TS[12],this.TS[13],this.TS[14],"20000 views/month",this.TS[15],this.TS[16],this.TS[17]]);
h.appendChild(d);this.uM=new WU("Domain name (e.g. domain.com)",null,14);h.appendChild(this.uM.M);e.Ub(h);
var x=new uA("Save Domain Settings",!1,null,!0);x.mt();h.appendChild(x.M);x.A("click",this.znq,this);
var t=new uA("More about Distributors",!1,null,!0);h.appendChild(t.M);t.A("click",this.znJ,this)};hy.cU.prototype=new uD;
hy.cU.prototype.zZR=function(h){var R=new X("showpage",!0);R.data={KW:1};this.R(R)};hy.cU.prototype.znb=function(h){var R=new X("showpage",!0);
R.data={KW:2};this.R(R)};hy.cU.prototype.o=function(){this.kJ.UI(uI.xu()?uP.get([0,11]):uP.get([0,10]));
this.oM.o();this.fr.o();this.fc.o()};hy.cU.prototype.znJ=function(h){var R=new X(e.E.Z,!0);R.data={c:e.j.nR,link:"https://www.photopea.com/api/accounts#"+(h.target==this.ztK?"teams":"distributors")};
this.R(R)};hy.cU.prototype.zCs=function(h){var R=h.currentTarget==this.eT;this.eT.b(R);this.ml.b(!R)};
hy.cU.prototype.znB=function(h){var R=this.eT.q(),d=this.kc.q().trim(),L=this.CM.value.trim();if(d.length>60){alert("Too long email address");
return}if(L.length>600){alert("Too many team members");return}L=L.split(",").join(" ").trim();L=L.replace(/\s+/g," ");
if(L=="")L=[];else L=L.split(" ");var $=uI.wi();if($==null)$={};if($.acc==null)$.acc={};$.acc.team={jin:R,ldr:d,mmb:L};
uI.BL($,this.Kk.bind(this));alert("Saved!");this.GA()};hy.cU.prototype.znq=function(h){var R=this.uM.q().trim();
if(R.length==0){alert("Domain is empty.");return}if(!uI.xu()){alert("You have to log in first.");return}if(uI.LU().distrib=="0"){alert("Order a distributor account first.");
return}var d=uI.wi();if(d==null)d={};if(d.acc==null)d.acc={};d.acc.dname=R;uI.BL(d,this.Kk.bind(this));
alert("Saved!");this.GA()};hy.cU.prototype.GA=function(){if(uI.xu()){var h=uI.LU();if(h==null)return;
this.Pz.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+h.name+"</span> "+h.email+" <br/>"}else this.Pz.innerHTML="Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
var R=uI.xu()&&uI.pp();this.kT.M.style.display=R?"block":"none";if(R){var d=parseInt(h[e.kw("!&|'&50")])-Date.now()*(1/1e3),L=parseInt(h.ptype),$;
if(L==-1)$="member of a team";else if(L==1)$="Single user";else $="Team of "+L;this.kT.UI("Premium active for "+Math.round(d/(60*60*24))+" more days! ("+$+")")}var W=uI.xu()&&h.distrib*1e3>Date.now();
this.ut.M.style.display=W?"block":"none";if(W){var d=parseInt(h.distrib)-Date.now()/1e3,L=parseInt(h.ptype);
this.ut.UI("Distributor active for "+Math.round(d/(60*60*24))+" more days! ("+L+" visitos)")}var M=uI.wi();
if(M&&M.acc&&M.acc.team){var x=M.acc.team;this.eT.b(x.jin);this.ml.b(!x.jin);this.kc.b(x.ldr);this.CM.value=x.mmb.join(", ")}else{this.eT.b(!0);
this.ml.b(!1);this.kc.b("");this.CM.value=""}if(M&&M.acc&&M.acc.dname)this.uM.b(M.acc.dname);else this.uM.b("")};
hy.cU.prototype.zzx=function(h,R){var d=e.X("table");d.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> "+(h==3?"<th>365 days</th>":"")+" </tr>\t\t\t\t</table>\t\t\t";
for(var L=0;L<R.length;L+=h+1){var $=e.X("tr"),W;d.appendChild($);W=e.X("td","left");$.appendChild(W);
W.innerHTML="<b>"+R[L]+"</b>";for(var M=0;M<h;M++){W=e.X("td");$.appendChild(W);W.appendChild(R[L+1+M].M)}}return d};
hy.cU.prototype.znx=function(h){var R=this.TS.indexOf(h.currentTarget);if(!uI.xu()){alert("You must log in before buying Premium");
return}if(this.zAd.q()==!1&&R<9){alert("You must accept Terms of Service");return}var d=this.ztQ[R],L=d[1],$=d[2],W=uI.xu()&&uI.pp();
if(W&&$<1e3){alert("You already have premium.");return}uI.order(L,$,this.Kk.bind(this));this.Ku()};hy.cU.prototype.Kk=function(h){if(uI.xu()&&uI.LU().msg)alert(uI.LU().msg);
this.GA();this.Ku()};hy.cU.prototype.BO=function(h){if(uI.xu()){uI.zCI();this.Ku();this.GA(null,null,null)}else uI.BO(this.zns.bind(this))};
hy.cU.prototype.zns=function(){var h=new X(e.E.Z,!0);h.data={c:e.j.ztZ};this.R(h)};hy.cU.prototype.Ku=function(){var h=new X(e.E.Z,!0);
h.data={c:e.j.ziD};this.R(h)};hy.et=function(h){uD.call(this);this.M=e.X("div");var R=this.M,d=this.ztC=new uA([0,13,2],!1,null,!0);
d.A("click",this.znv,this);R.appendChild(d.M);var L=e.X("div","");L.innerHTML=h;R.appendChild(L)};hy.et.prototype=new uD;
hy.et.prototype.znv=function(h){var R=new X("showpage",!0);R.data={KW:0};this.R(R)};hy.et.prototype.o=function(){this.ztC.o()};
hy.zCb="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is a service operated by Ivan Kuckir (I\u010C 04498411).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com</li>\t\t\t<li><b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<p>You can ask for a refund by writing us an email.</p>\t\t<p>You can pay with PayPal or your credit / debit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t";
hy.zCS="\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
function Mh(){uK.call(this,[11,14],"addguides");this.Nf;this.Nt={UU:{CQ:0}};this.oh=null;var h=e.X("div","form");
this.body.appendChild(h);this.UQ=new WU([22,4,0],null,16);this.UQ.A(e.E.l,this.xd,this);this.Ab=new WU([22,4,1],null,16);
this.Ab.A(e.E.l,this.xd,this);this.fo=new ur(null,z.ru.tz);this.fo.A(e.E.l,this.xd,this);h.appendChild(this.UQ.M);
h.appendChild(this.fo.M);e.Ub(h);h.appendChild(this.Ab.M);this.JP=new uA("OK",!0,null,!0);this.JP.A("click",this.Hm,this);
h.appendChild(this.JP.M);this.A("closebtn",this.zCK,this)}Mh.prototype=new uK;Mh.prototype.XU=function(h,R){return h!=null};
Mh.prototype.TZ=function(){return!0};Mh.prototype.o=function(){uK.prototype.o.call(this);this.UQ.o();
this.Ab.o();this.fo.o()};Mh.prototype.Nk=function(h,R){var d=h.UU.CQ;this.Nt.UU.CQ=d;this.fo.b(d)};Mh.prototype.GA=function(h,R){this.Nf=h;
this.oh=JSON.stringify(h.Py);this.iR()};Mh.prototype.iR=function(){var h=this.Nf,R=h.Py,d=function(L,h,$,W){var M=[];
for(var x=0;x<L.length;x++)M.push(z.ru.fS(L[x],h.EY,$,W));return M.join(", ")};this.UQ.b(d(R[1],h,this.Nt,h.$));
this.Ab.b(d(R[0],h,this.Nt,h.k))};Mh.prototype.xd=function(h){if(h&&h.currentTarget==this.fo)this.Nt.UU.CQ=this.fo.q();
else{var R=this.zzL(this.UQ),d=this.zzL(this.Ab),L=this.Nf;L.Py=[d,R];L.Dw=!0}this.iR()};Mh.prototype.zzL=function(h){var R=h==this.UQ?this.Nf.$:this.Nf.k,d=h.q().replace(/,/g," ").replace(/  +/g," ").trim(),L=d==""?[]:d.split(" ");
for(var $=0;$<L.length;$++)L[$]=z.ru.zmq(L[$],this.Nf.EY,this.Nt,R);return L};Mh.prototype.zCK=function(h){var R=this.Nf;
R.Py=JSON.parse(this.oh);R.Dw=!0;this.Nf=null};Mh.prototype.Hm=function(h){this.xd(h);var R=new X(e.E.Q,!0);
R.L=s._h;R.data={c:"gids",Fl:JSON.parse(this.oh),RI:JSON.parse(JSON.stringify(this.Nf.Py))};this.Nf=null;
this.close();this.R(R)};function he(h){var R=u$.names[h];if(R==null)R=uJ.names[h];if(h=="fade")R=[2,11];
uK.call(this,R,"afw_"+h);this.jY=h;this.PD=null;this.oE=null;this.Cw=new Y[h];this.Cw.A(e.E.l,this.Kw,this);
this.Cw.parent=this;this.body.appendChild(this.Cw.M);this.QV=new uX([24,18,5]);this.QV.b(!0);this.QV.A(e.E.l,this.Kw,this);
this.zAZ=new uA("Reset",!0,null,!0);this.zAZ.A("click",this.Er,this);this.JP=new uA("OK",!0,null,!0);
this.JP.A("click",this.Hm,this);if(this.Cw.hQ())this.Cw.Qp(this.JP.M);else{e.qH(this.Cw.M,"form");e.qH(this.body,"flexrow");
this.Cw.M.setAttribute("style","width:24em");var d=e.X("div");this.body.appendChild(d);d.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
d.appendChild(this.JP.M);d.appendChild(this.zAZ.M);d.appendChild(this.QV.M)}this.A("closebtn",this.WX,this)}he.prototype=new uK;
he.prototype.TZ=function(){return!0};he.prototype.hQ=function(){return this.Cw!=null&&this.Cw.hQ()};
he.prototype.ya=function(){return this.Cw.hQ()?new kY(0,0):uK.prototype.ya()};he.prototype.Wx=function(){return this.Cw.Wx()};
he.prototype.pf=function(h,R,d,L,$){this.Cw.pf(h,R,d,L,$)};he.prototype.yn=function(h,R,d,L,$){this.Cw.yn(h,R,d,L,$)};
he.prototype.WL=function(h,R,d,L,$){this.Cw.WL(h,R,d,L,$)};he.prototype.XU=function(h,R){if(this.jY=="fade")return he.zzX(h);
return!0};he.prototype.Er=function(h){this.Cw.b(u$.hx(this.jY));this.Kw()};he.prototype.Kw=function(h){this.jr({c:"edit",gE:this.Cw.q(),rp:!this.QV.q()})};
he.prototype.WX=function(h){this.jr({c:"cancel"})};he.prototype.Hm=function(h){if(!this.QV.q()){this.QV.b(!0);
this.Kw()}this.oE=this.Cw.q();if(this.hQ())this.Kw();this.jr({c:"confirm"});this.close()};he.prototype.o=function(){uK.prototype.o.call(this);
this.QV.o();if(this.Cw)this.Cw.o()};he.prototype.Nk=function(h,R){if(this.Cw)this.Cw.Nk(h,R)};he.prototype.LT=function(h,R,d,L){if(this.Cw&&this.Cw.hQ())this.Cw.LT(L);
else uK.prototype.LT.call(this,h,R,d,L)};he.prototype.GA=function(h,R,d,L){this.PD=R.PD;var $=h.add.lnk2?h.add.lnk2:[],W,M,x=new A(0,0,h.k,h.$),t=h._[h.f[0]],g=null;
W=t.buffer;M=t.rect;if(this.hQ())g=h.DP(h.f[0]-1);var r=u$.hx(this.jY),l=[$,h.Mk];if(R.PD==null){this.Cw.b(r,W,M,x,g,l);
if(uJ.names[this.jY]){if(L.u(m.tw)&&this.oE)this.Cw.b(this.oE);var H=uE.Ri.getData(h),y=z.DD(H[0].Ry);
this.Cw.Ce(y)}}else{var f=!1,t=h._[this.PD.J];if(t.lq()){var b=t.ez(h);W=b.buffer;M=b.rect;var K=t.add.SoLd.filterFX.v.filterFXList.v;
if(K[this.PD.index]){var Z=K[this.PD.index].v.Fltr.v;this.Cw.b(Z,W,M,x,g,l);f=!0}}if(!f)this.Cw.b(r,W,M,x,g,l)}if(!this.hQ())this.Kw()};
he.prototype.jr=function(h){var R=new X(e.E.Q,!0);h.jY=this.jY;h.PD=this.PD;R.data=h;R.L=u$.names[this.jY]||this.PD?s.nj:s.Vl;
R.iU=!0;this.R(R)};he.prototype.Bk=function(h,R){R=R-26;h=h-26;this.Cw.Bk(h,R)};he.zzX=function(h){if(h==null)return!1;
var R=h.jL();if(R==null||!(R.data instanceof Array)||R.data.length!=h.f.length)return!1;for(var d=0;
d<R.data.length;d++){var L=R.data[d];if(L.J<0&&h.Mk[-1-L.J])return!0;if(L.J==null||h._[L.J]==null||h._[L.J].GJ!=L.$u)return!1;
if(h.f.indexOf(L.J)==-1)return!1}return!0};function Mz(){uK.call(this,[11,0],"camera");this.data=null;
this.oi=new kY(1,1);this.zOi=[];var h=e.X("div","form hbar");this.body.appendChild(h);this.zmc=new ur(null,[]);
this.oj=new ur([21,0],[[21,2],[21,1]]);h.appendChild(this.oj.M);this.Aq=new ur(null,[]);this.Aq.A(e.E.l,this.zkx,this);
h.appendChild(this.Aq.M);this.oN=new uA([11,0],!1,null,!0);this.oN.A("click",this.zCT,this);h.appendChild(this.oN.M);
this.ow=new WY("");h.appendChild(this.ow.M);this.stream=null;this.qi=e.X("video","");this.qi.setAttribute("autoplay","true");
this.body.appendChild(this.qi);this.zO_=this.zaq.bind(this);this.zOK=this.zad.bind(this);this.zt$=this.zus.bind(this);
this.A("closebtn",this.zqN,this)}Mz.prototype=new uK;Mz.prototype.o=function(){uK.prototype.o.call(this);
this.oj.o();this.oN.o();this.zus()};Mz.prototype.DP=function(){var h=this.qi.videoWidth,R=this.qi.videoHeight,d=e.X("canvas","");
d.width=h;d.height=R;var L=d.getContext("2d");L.drawImage(this.qi,0,0,h,R);var $=L.getImageData(0,0,h,R);
return{FK:new A(0,0,h,R),data:$.data.buffer}};Mz.prototype.zCT=function(h){if(this.oj.q()==0)this.zaM();
else this.zat()};Mz.prototype.zat=function(){var h=this.DP(),R={buffer:new Uint8Array(h.data),rect:h.FK},d=new X(e.E.Q,!0);
d.iU=!0;d.L=s.br;d.data={c:S.Fk,Mg:R};this.R(d);alert(uP.get([21,4]))};Mz.prototype.zaM=function(){var h=this.DP(),R=Wk.im("camera",[h]),d=new X(e.E.Z,!0);
d.data={c:e.j.In,C$:R};this.R(d);alert(uP.get([21,5]))};Mz.prototype.GA=function(h,R,d){navigator.mediaDevices.enumerateDevices().then(this.zaB.bind(this))};
Mz.prototype.zaB=function(h){var R=this.zOi=[],d=[];for(var L=0;L<h.length;L++)if(h[L].kind=="videoinput"){R.push(h[L]);
d.push("Camera "+R.length)}this.Aq.Ii(d);this.Aq.b(0);this.zkx()};Mz.prototype.zkx=function(h){this.zqN();
var R={video:{deviceId:this.zOi[this.Aq.q()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(R).then(this.zO_).catch(this.zOK);
else navigator.webkitGetUserMedia(R,this.zO_,this.zOK)};Mz.prototype.zaq=function(h){this.stream=h;this.qi.srcObject=h;
this.qi.addEventListener("loadedmetadata",this.zt$,!1)};Mz.prototype.zus=function(h){this.qi.play();
this.Bk(this.Hl,this.om)};Mz.prototype.ya=function(h,R){return new kY(0,0)};Mz.prototype.Bk=function(h,R){var d=this.qi.videoWidth,L=this.qi.videoHeight;
this.ow.b(d+" x "+L+" px");this.ow.M.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.oi.qC(d,L);this.Hl=h;this.om=R;var $=h-28,W=R-28-30,M=this.oi.x/this.oi.y;if($/W>M)$=W*M;else W=$/M;
this.qi.setAttribute("style","display: block; width: "+Math.round($)+"px; height:"+Math.round(W)+"px;")};
Mz.prototype.zad=function(h){console.log("error",h);alert(uP.get([21,6]));this.close()};Mz.prototype.zqN=function(h){if(this.stream!=null){var R=this.stream.getTracks();
for(var d=0;d<R.length;d++)R[d].stop();this.stream=null}};function be(){uK.call(this,[7,8],"crange");
this.Nf=null;this.uk={UM:73,r$:4.45,W:4};this.uq={UM:73,r$:4.45,W:4};var h=e.X("div","form");h.setAttribute("style","width:18em");
this.body.appendChild(h);this.ot=new uQ([12,92],0,200);this.ot.b(40);this.ot.A(e.E.l,this.VN,this);h.appendChild(this.ot.M);
this.Bv=e.X("canvas");h.appendChild(this.Bv);this.oD=new kH([12,36],[[18,0],"\uFF0B","\u2014"]);h.appendChild(this.oD.M);
this.zY=new uA("OK",!0,null,!0);this.zY.A("click",this.Hm,this);this.body.appendChild(this.zY.M)}be.prototype=new uK;
be.prototype.XU=function(h,R){return h!=null};be.prototype.Wx=function(){return!0};be.prototype.TZ=function(){return!0};
be.prototype.o=function(){uK.prototype.o.call(this);this.ot.o();this.oD.o()};be.prototype.pf=function(h,R,d,L,$){var W=h.F.Px($.x,$.y);
this.zFE(W.x,W.y)};be.prototype.zFE=function(h,R){var d=Math.min,L=Math.max,$=this.Nf,W=L(0,d($.k-1,Math.floor(h))),M=L(0,d($.$-1,Math.floor(R))),x=$.DP(),t=(M*$.k+W)*4,g=x[t],r=x[t+1],l=x[t+2],H=z.Jk(g,r,l),y=this.oD.q(),f=this.uk,b=this.uq;
if(y==0){this.uk=JSON.parse(JSON.stringify(H));this.uq=H}else if(y==1){f.UM=d(f.UM,H.UM);f.r$=d(f.r$,H.r$);
f.W=d(f.W,H.W);b.UM=L(b.UM,H.UM);b.r$=L(b.r$,H.r$);b.W=L(b.W,H.W)}else if(y==2){var K=(f.UM+b.UM)/2,Z=(f.r$+b.r$)/2,J=(f.W+b.W)/2;
if(H.UM<K)f.UM=L(f.UM,H.UM+10);else b.UM=d(b.UM,H.UM-10);if(H.r$<Z)f.r$=L(f.r$,H.r$+1);else b.r$=d(b.r$,H.r$-1);
if(H.W<J)f.W=L(f.W,H.W+1);else b.W=d(b.W,H.W-1)}this.VN()};be.prototype.Hm=function(h){var R=new X(e.E.Q,!0);
R.L=s.GD;R.data={c:"crange",hm:this.uk,hA:this.uq,KA:this.ot.q()/200};R.iU=!0;this.R(R);this.close()};
be.prototype.GA=function(h,R){this.Nf=h;this.zFE(0,0)};be.prototype.VN=function(){var h=this.Nf,R=s.dS.ztp(h,this.uk,this.uq,this.ot.q()/200),d=R.rect,L=R.channel,$=this.Bv,W=$.getContext("2d"),M=Math.floor(230*e.p()),x=Math.floor(M*(d.$/d.k));
$.width=M;$.height=x;e.rL($,M,x);var t=z.h(L.length*4);z._M(t,4294967295);for(var g=0;g<3;g++)z.Gn(L,t,g);
var r=s.w.GT([t,d],new um(M/d.k,0,0,x/d.$,0,0)),l=r.rect,H=new ImageData(new Uint8ClampedArray(r.buffer.buffer),l.k,l.$);
W.putImageData(H,0,0)};function zw(){uK.call(this,[12,76,1],"createshape");this.gr=null;var h=e.X("div","form");
h.setAttribute("style","width:20em");this.body.appendChild(h);this.Hd=new WB([12,41],0,0,null,0,!1,!0);
h.appendChild(this.Hd.M);e.Ub(h);this.UQ=new WB([12,42],0,0,null,0,!1,!0);h.appendChild(this.UQ.M);e.Ub(h);
this.op=new uX([19,5,3]);h.appendChild(this.op.M);this.Hd.b(100);this.UQ.b(100);this.JP=new uA("OK",!0,null,!0);
this.JP.A("click",this.Hm,this);h.appendChild(this.JP.M)}zw.prototype=new uK;zw.prototype.Hm=function(h){this.gr.zZi(this.gr.zZp,this.Hd.q(),this.UQ.q(),this.op.q());
this.close()};zw.prototype.o=function(){if(this.gr)this.kL=uP.get([5,3])+": "+uP.get(this.gr.zZD);uK.prototype.o.call(this);
this.Hd.o();this.UQ.o();this.op.o()};zw.prototype.GA=function(h,R){this.gr=R;this.o()};function tf(){uK.call(this,[11,1],"colorpicker");
this.Ad=null;this.jX=null;this.PA=null;this.eH=!1;this.hJ=!1;var h=e.X("div","flexrow"),W,M;this.body.appendChild(h);
this.qD=new hA(256);this.qD.A(e.E.l,this.Kd,this);h.appendChild(this.qD.M);var R=e.X("div","form");R.setAttribute("style","width:14.5em; margin-left:1em;");
h.appendChild(R);this.zOy=e.X("div","full");R.appendChild(this.zOy);this.zOo=e.X("div","full");R.appendChild(this.zOo);
var d=e.X("div","flexrow");R.appendChild(d);var L=e.X("div"),$=e.X("div");d.appendChild(L);d.appendChild($);
W=["R","G","B"];M=L;this.o_=[];for(var x=0;x<3;x++){var t=new WB(W[x]+":",0,255,null,0,!1,!0);this.o_.push(t);
t.A(e.E.l,this.zai,this);M.appendChild(t.M)}W=["H","S","B"];M=$;this.oG=[];for(var x=0;x<3;x++){var g=0,r=360,l="\xB0";
if(x!=0){r=100;l="%"}var t=new WB(W[x]+":",g,r,l,0,!1,!0);this.oG.push(t);t.A(e.E.l,this.zaP,this);M.appendChild(t.M)}this.UQ=new WU("Hex",null,6);
this.UQ.A(e.E.l,this.K_,this);R.appendChild(this.UQ.M);this.ou=e.X("input","fitem");this.ou.setAttribute("type","color");
this.ou.setAttribute("style","width:50px");this.ou.addEventListener("change",this.K_.bind(this),!1);
R.appendChild(this.ou);this.Ae=new hY(9);this.Ae.A(e.E.l,this.K_,this);R.appendChild(this.Ae.M);this.JP=new uA("OK",!0,null,!0);
this.JP.A("click",this.Hm,this);R.appendChild(this.JP.M);this.A("closebtn",this.WX,this);this.ud=!1}tf.prototype=new uK;
tf.prototype.Wx=function(){return!0};tf.prototype.Bk=function(h,R){this.qD.Bk(Math.min(256,h-250),R)};
tf.prototype.Kd=function(h){this.jX=this.qD.q();this.update()};tf.prototype.pf=function(h,R,d,L,$){this.ud=!0;
this.zFG(h,$)};tf.prototype.yn=function(h,R,d,L,$){if(!this.ud)return;this.zFG(h,$)};tf.prototype.WL=function(h,R,d,L,$){this.ud=!1};
tf.prototype.zFG=function(h,R){var d=s.gj.Wj(h,R,1),L=d&255,$=d>>8&255,W=d>>16&255;this.jX={H:W/255,N:$/255,W:L/255};
this.update()};tf.prototype.zai=function(h){var R=this.o_,d=this.eP(parseInt(R[0].q())),L=this.eP(parseInt(R[1].q())),$=this.eP(parseInt(R[2].q()));
this.jX={H:d/255,N:L/255,W:$/255};this.update()};tf.prototype.zaP=function(h){var R=this.oG,d=this.CS(parseInt(R[0].q())/360),L=this.CS(parseInt(R[1].q())/100),$=this.CS(parseInt(R[2].q())/100);
this.jX=z.Ed(d,L,$);this.update()};tf.prototype.K_=function(h){var R;if(h.currentTarget==this.Ae)R=this.Ae.q();
else{R=h.currentTarget==this.UQ?this.UQ.q():this.ou.value;if(R.charAt(0)=="#")R=R.slice(1);if(R.length==3)R=R[0]+R[0]+R[1]+R[1]+R[2]+R[2];
R=z.zhY(R)}this.jX={H:(R>>16&255)/255,N:(R>>8&255)/255,W:(R&255)/255};this.update()};tf.prototype.yV=function(h){var R=h.H,d=h.N,L=h.W;
return Math.round(R*255)<<16|Math.round(d*255)<<8|Math.round(L*255)};tf.prototype.Hm=function(h){this.ziG();
var R=this.yV(this.jX);this.PA(R);this.close();this.hJ=!1;this.jX=null};tf.prototype.WX=function(h){this.ziG();
if(this.eH)this.PA(this.yV(this.Ad));this.hJ=!1;this.jX=null};tf.prototype.ziG=function(h){var R=new X(e.E.Z,!0);
R.data={c:e.j.zdw};this.R(R)};tf.prototype.Nk=function(h,R){if(R!=uh.Pf)return;var d=h.Ch;this.Ae.b(d);
if(this.jX!=null){this.jX={H:(d>>16&255)/255,N:(d>>8&255)/255,W:(d>>0&255)/255};this.update()}};tf.prototype.GA=function(h,R){var d=R.lo,L={H:(d>>16&255)/255,N:(d>>8&255)/255,W:(d>>0&255)/255};
if(this.jX==null){var $=new X(e.E.Z,!0);$.data={c:e.j.sm,_u:"crosshair",push:!0};this.R($);this.ud=!1;
this.PA=R.YN;this.eH=!1;this.hJ=R.yN;this.Ad=JSON.parse(JSON.stringify(L));this.zOo.setAttribute("style","height:3em;background-color:#"+z.zJ(d)+";")}this.jX=L;
this.update()};tf.prototype.update=function(){var h=this.jX,R=this.yV(h),d=this.o_;d[0].b(Math.round(h.H*255));
d[1].b(Math.round(h.N*255));d[2].b(Math.round(h.W*255));this.UQ.b(z.zJ(R));this.ou.value="#"+z.zJ(R);
this.zOy.setAttribute("style","height:3em;background-color:#"+z.zJ(R)+";");var L=z.pc(h.H,h.N,h.W);d=this.oG;
d[0].b(Math.round(L.om*360));d[1].b(Math.round(L.ix*100));d[2].b(Math.round(L.gE*100));this.qD.b(h);
if(this.hJ){this.PA(this.yV(this.jX));this.eH=!0}};tf.prototype.eP=function(h){return Math.max(0,Math.min(255,h))};
tf.prototype.CS=function(h){return Math.max(0,Math.min(1,h))};function bL(){uK.call(this,[11,2],"contoureditor");
this.zOc=null;this.Nb=null;this.response=null;this.Rg=e.X("div","cell");this.body.appendChild(this.Rg);
this.fa=e.X("div","cell padded");this.body.appendChild(this.fa);var h=e.X("div","bordered padded vmargin");
this.Rg.appendChild(h);this.Cw=new bQ;this.Cw.A(e.E.l,this.QG,this);h.appendChild(this.Cw.M);this.JP=new uA("OK",!0,null,!0);
this.JP.A("click",this.close,this);this.fa.appendChild(this.JP.M);this.coords=e.X("div","");this.coords.setAttribute("style","width:250px");
this.Rg.appendChild(this.coords);this.qo=new WU("X (in)","%",4);this.Fq=new WU("Y (out)","%",4);this.Ai=new uX([19,3,0]);
this.qo.A(e.E.l,this.Kg,this);this.Fq.A(e.E.l,this.Kg,this);this.Ai.A(e.E.l,this.Kg,this);this.coords.appendChild(this.qo.M);
this.coords.appendChild(this.Ai.M);this.coords.appendChild(this.Fq.M);this.A("closebtn",this.dy,this)}bL.prototype=new uK;
bL.prototype.o=function(){uK.prototype.o.call(this);this.Ai.o()};bL.prototype.QG=function(h){this.Nb.Crv.v=this.Cw.q();
this.response(this.Nb);this.KO()};bL.prototype.dy=function(h){this.response(this.zOc)};bL.prototype.GA=function(h,R){this.zOc=JSON.parse(JSON.stringify(R.C));
this.Nb=R.C;this.response=R.response;this.Cw.b(this.Nb.Crv.v);this.KO()};bL.prototype.KO=function(){var h=this.Cw.znR();
this.coords.setAttribute("class",h==-1?"disabled":"");if(h==-1)return;var R=this.Nb.Crv.v[h].v;this.qo.b(Math.round(R.Hrzn.v*(100/255)));
this.Fq.b(Math.round(R.Vrtc.v*(100/255)));this.Ai.b(R.Cnty.v)};bL.prototype.Kg=function(h){var R=this.Cw.znR(),d=this.Nb.Crv.v[R];
d.v.Hrzn.v=parseFloat(this.qo.q())*(255/100);d.v.Vrtc.v=parseFloat(this.Fq.q())*(255/100);d.v.Cnty.v=this.Ai.q();
this.Nb.Crv.v.sort(function(L,$){return L.v.Hrzn.v-$.v.Hrzn.v});this.Cw.b(this.Nb.Crv.v,this.Nb.Crv.v.indexOf(d));
this.KO();this.response(this.Nb)};function bl(){uK.call(this,[11,3],"csize");this.oA=0;this.PZ=e.X("div","form");
this.PZ.setAttribute("style","width:22em");this.body.appendChild(this.PZ);this.re=new hJ(!0,!0,!0,!0);
this.re.zIR(!1);this.PZ.appendChild(this.re.M);this.oO=new kH("Align with",[[8,7],[12,6]]);this.oO.A(e.E.l,this.zaS,this);
this.AP=new kl([12,23,2],41);this.PZ.appendChild(this.AP.M);this.AP.b(4);this.og=new bJ(!1);this.og.zIV(new kY(0,0));
this.zY=new uA("OK",!0,null,!0);this.zY.A("click",this.Hm,this);this.body.appendChild(this.zY.M)}bl.prototype=new uK;
bl.prototype.XU=function(h,R){return h!=null};bl.prototype.TZ=function(){return!0};bl.prototype.zaS=function(){var h=[this.AP.M,this.og.M];
this.PZ.removeChild(h[this.oA]);this.oA=this.oO.q();this.PZ.appendChild(h[this.oA])};bl.prototype.o=function(){uK.prototype.o.call(this);
this.re.o();this.oO.o();this.AP.o();this.og.o()};bl.prototype.Hm=function(h){var R=this.re.q(),d=R.x,L=R.y,$=new X(e.E.nN,!0);
$.data=s.hu.ztF(d,L,this.AP.q());this.close();this.R($)};bl.prototype.GA=function(h,R){this.re.b(new kY(h.k,h.$),h.EY)};
function tN(){uK.call(this,[11,4],"duplinto");this.Q$=null;this.RM=null;var h=e.X("div","form");h.setAttribute("style","max-width:26em");
this.body.appendChild(h);this.eU=new ur([12,43],["abc","def"]);this.eU.A(e.E.l,this.zPs,this);h.appendChild(this.eU.M);
e.Ub(h);this.GO=new WU([12,48],null,14);h.appendChild(this.GO.M);this.JP=new uA("OK",!0,null,!0);this.JP.A("click",this.Hm,this);
h.appendChild(this.JP.M)}tN.prototype=new uK;tN.prototype.TZ=function(){return!0};tN.prototype.o=function(){uK.prototype.o.call(this);
this.eU.o();this.GO.o()};tN.prototype.zPs=function(h){var R=this.eU.q();if(R==this.RM.length)this.GO.GS();
else this.GO.pF()};tN.prototype.GA=function(h,R,d){this.Q$=h;this.RM=d;this.GO.b(h.f.length==0?"Layer":h._[h.f[0]].getName());
var L=[];for(var $=0;$<d.length;$++)L.push(d[$].name);L.push([11,7]);this.eU.Ii(L);this.eU.b(d.indexOf(h));
this.zPs(null)};tN.prototype.Hm=function(h){var R=this.eU.q();if(R==this.RM.length){var d=new zG(this.GO.q()+".psd");
d.k=this.Q$.k;d.$=this.Q$.$;d.buffer=z.h(d.k*d.$*4);var L=d.mS();L.AI("Background");d.$Z([L]);var $=new X(e.E.Z,!0);
$.iU=!0;$.data={c:e.j.In,C$:d};this.R($)}var W=this.Q$.Fr(null,this.Q$!=this.RM[R]),$=new X(e.E.Q,!0);
$.data={c:S.qX,_:W,ek:this.Q$,VH:this.RM[R]};$.L=s.br;$.iU=!0;this.R($);this.close()};function Bi(){uK.call(this,[1,9],"eassets");
this.Nt=null;this.iW=null;var h=e.X("div","form");h.setAttribute("style","width:32em");this.body.appendChild(h);
this.Cb=e.X("span");h.appendChild(this.Cb);e.Ub(h);this.WW=[new uX("Only layers / folders, whose name starts with \"-e-\""),new uX("Remove parts outside the canvas"),new uX("Trim transparent parts")];
for(var R=0;R<3;R++){var d=this.WW[R];d.b(!0);d.A(e.E.l,this.iR,this);h.appendChild(d.M);e.Ub(h)}this.uE=new bN([12,14,0],["1x","2x","3x","4x"]);
this.uE.b([!0,!1,!1,!1]);h.appendChild(this.uE.M);e.mU(h);this.oR=["PNG","JPG","SVG"];this.AS=new ur([12,50],this.oR);
this.AS.A(e.E.l,this.zPX,this);h.appendChild(this.AS.M);this.MU=new qt;h.appendChild(this.MU.M);this.zY=new uA([1,9],!0,null,!0);
this.zY.A("click",this.Hm,this);h.appendChild(this.zY.M);this.A("closebtn",this.eF,this)}Bi.prototype=new uK;
Bi.prototype.zPX=function(h){this.MU.z_m(this.oR[this.AS.q()])};Bi.prototype.eF=function(h){this.iW=null};
Bi.prototype.o=function(){uK.prototype.o.call(this);this.AS.o();this.uE.o();this.zY.o();this.MU.o()};
Bi.prototype.GA=function(h,R,d){this.iW=h;this.iR()};Bi.prototype.iR=function(h){var R=this.zSF(),d="- - - "+R.length+" exportable layers";
this.Cb.textContent=d;this.zPX(null)};Bi.prototype.zSF=function(){var h=this.WW[0].q(),R=[],d=this.iW;
for(var L=0;L<d._.length;L++){var $=d._[L],W=$.getName();if(!h&&!$.If()&&!$.rect.dp()||W.startsWith("-e"))R.push(L)}return R};
Bi.prototype.Nk=function(h,R){this.Nt=h};Bi.prototype.Hm=function(h){var R=this.iW,d=[this.oR[this.AS.q()]],L=[this.MU.q()],$=this.uE.q(),W={},M={},x=this.zSF();
if(x.length==0){alert("No layers to export.");return}var t=[this.WW[1].q(),this.WW[2].q()];for(var g=0;
g<x.length;g++){var r=x[g],l=R._[r],H=l.getName();if(M[H]!=null){M[H]++;H+=" "+M[H]}else M[H]=1;var y=l.rl();
l.nr(!0);for(var f=0;f<$.length;f++){if(!$[f])continue;var b=f+1,K=s.Kf.zpy(R,d,b,this.Nt,r,L,t);for(var Z=0;
Z<d.length;Z++){var J=d[Z],u=H.slice(H.startsWith("-e-")?3:0)+(b==1?"":"-"+b+"x")+"."+J.toLowerCase();
W[u]=new Uint8Array(K[Z])}}l.nr(y)}var C=UZIP.encode(W),Q=new X(e.E.Z,!0);Q.data={c:e.j.Eb,data:C,name:"assets.zip"};
this.R(Q)};function hF(){uK.call(this,"File Info","finfo");this.oL=null;this.Oo=null;this.oT=null;this.PZ=e.X("div","form scrollable label12");
this.PZ.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");this.body.appendChild(this.PZ);
var h=e.X("div","form");this.body.appendChild(h);this.ue=new ur(null,["Hello"]);h.appendChild(this.ue.M);
this.zgj=new uA("Add Parameter",!1,null,!0);h.appendChild(this.zgj.M);this.zgj.A("click",this.uK,this);
this.ui=new uA("=== S A V E ===",!1,null,!0);h.appendChild(this.ui.M);this.ui.A("click",this.K$,this);
this.zgc=""}hF.prototype=new uK;hF.prototype.ya=function(h,R){return h<450||R<450?new kY(0,0):new kY(150,100)};
hF.prototype.uK=function(h){if(this.oT.length==0)return;var R=this.oT[this.ue.q()],d=this.KR();d[R]=zh.kA[R][0];
this.fu(d);this.Oo[R].M.scrollIntoView();this.Oo[R].$B()};hF.prototype.eE=function(h){var R=this.KR();
delete R[h.currentTarget.zka];this.fu(R)};hF.prototype.K$=function(h){var R=this.KR(),d=this.oL,L=!0;
for(var $ in d)if(JSON.stringify(d[$])!=JSON.stringify(R[$]))L=!1;for(var $ in R)if(JSON.stringify(d[$])!=JSON.stringify(R[$]))L=!1;
if(L)return;var W=new X(e.E.Q,!0);W.L=s.br;W.data={c:S.rP,GE:R};this.R(W);this.oL=R;this.fu(R)};hF.zaw=function(h){function R($){var W=$.toLowerCase();
return $==W}var d=h.split(":").pop();for(var L=1;L<d.length-1;L++){if(d[L]==d[L].toUpperCase()&&(R(d[L+1])||R(d[L-1]))){d=d.slice(0,L)+" "+d.slice(L);
L++}}return d};hF.prototype.GA=function(h,R){this.oL=h.zj;this.fu(h.zj)};hF.prototype.fu=function(h){var R=this.PZ,$=0;
e.dM(R);var d=this.Oo={},L=["tiff","exif","exif:GPS"],W=this.oT=[],M=[];for(var x in zh.kA){var t=hF.zaw(x),g=0,l=15,H=null;
if(h[x]==null){W.push(x);M.push(t);continue}for(var r=0;r<L.length;r++)if(x.startsWith(L[r]))g=r;if(g!=$){e.mU(R);
$=g}if(x=="tiff:ImageDescription"||x=="dc:Keywords"){l=18.5;H=3}var y=new WU(t,null,l,H);d[x]=y;var f=h[x];
if(f instanceof Array)f=f[1]==0?"---":f[0]+"/"+f[1];var b=new uA("\u2716",null,uP.get([5,4]));R.appendChild(b.M);
b.A("click",this.eE,this);b.zka=x;y.b(f);R.appendChild(y.M);e.Ub(R);if(x=="exif:GPSLongitude"&&h["exif:GPSLatitude"]){this.zgc=hF.zDS(h["exif:GPSLatitude"])+","+hF.zDS(h["exif:GPSLongitude"]);
var K=new uA("Show on map",!1,null,!0);R.appendChild(K.M);e.Ub(R);K.A("click",this.zap,this)}}this.ue.Ii(M);
this.ue.b(0)};hF.prototype.KR=function(){var h=this.Oo,R=zh.kA,d={};for(var L in R){var $=R[L][0],W=typeof $;
if($==null||h[L]==null)continue;var M=h[L].q();if(W=="number")M=parseFloat(M);else if($ instanceof Array&&$.length==2)M=M.split("/").map(parseFloat);
d[L]=M}return d};hF.zDS=function(h){var R=h.length,d=h.slice(0,R-1).split(",").map(parseFloat),L=h.slice(R-1),$=d[0]+d[1]/60+d[2]/3600;
if(L!="N"&&L!="E")$=-$;return $};hF.prototype.zap=function(h){window.open("https://maps.google.com?q="+this.zgc,"Map")};
function Ws(){uK.call(this,[11,5],"gradienteditor");this.Ad=null;this.jX=null;this.XF=null;this.PA=null;
this.eH=!1;this.hJ=!1;e.qH(this.body,"form");this.BI=null;this.At=null;this.gA=-1;this.kx=-1;this.rg=0;
this.$O=this.ND.bind(this);this.$I=this.uS.bind(this);this.pR=e.X("canvas","");this.EH=this.pR.getContext("2d");
this.pR.setAttribute("style","display:block");this.gI=null;e.kX(this.pR);e.Xh(this.pR,this.uB.bind(this));
this.oS=new WB([19,3,3],0,100,"%");this.oS.A(e.E.l,this.xg,this);this.oS.parent=this;this.body.appendChild(this.oS.M);
e.Ub(this.body);this.Pr=new WY([12,0]);this.body.appendChild(this.Pr.M);this.A_=e.X("div","bordered padded noalign");
this.body.appendChild(this.A_);this.kP=new WB([12,0],0,100,"%");this.kP.parent=this;this.kP.A(e.E.l,this.xg,this);
this.A_.appendChild(this.kP.M);this.PX=new WB([12,40],0,100,"%");this.PX.parent=this;this.PX.A(e.E.l,this.xg,this);
this.A_.appendChild(this.PX.M);this.uN=new uA([5,4],!1,null,!0);this.uN.A("click",this.zpG,this);this.A_.appendChild(this.uN.M);
this.body.appendChild(this.pR);e.Ub(this.body);this.zI$=new WY([13,0]);this.body.appendChild(this.zI$.M);
this.Oi=e.X("div","bordered padded noalign");this.body.appendChild(this.Oi);this.ef=new ur([12,44],[[12,45],[12,46],[12,47]]);
this.ef.A(e.E.l,this.xg,this);this.Oi.appendChild(this.ef.M);this.Tq=new zz(!0);this.Tq.parent=this;
this.Tq.A(e.E.l,this.xg,this);this.Oi.appendChild(this.Tq.M);this.Pc=new WB([12,40],0,100,"%");this.Pc.parent=this;
this.Pc.A(e.E.l,this.xg,this);this.Oi.appendChild(this.Pc.M);this.uw=new uA([5,4],!1,null,!0);this.uw.A("click",this.zGV,this);
this.Oi.appendChild(this.uw.M);this.JP=new uA("OK",!0,null,!0);this.JP.A("click",this.Hm,this);this.body.appendChild(this.JP.M);
this.A("closebtn",this.WX,this)}Ws.prototype=new uK;Ws.prototype.WX=function(h){if(this.eH)this.PA(this.Ad)};
Ws.prototype.o=function(){uK.prototype.o.call(this);this.oS.o();this.Pr.o();this.zI$.o();this.uN.o();
this.uw.o();this.kP.o();this.PX.o();this.ef.o();this.Pc.o()};Ws.prototype.Nk=function(h,R){this.XF=h};
Ws.prototype.GA=function(h,R){this.jX=JSON.parse(JSON.stringify(R.i));this.Ad=JSON.parse(JSON.stringify(R.i));
this.BI=this.At=null;this.PA=R.YN;this.eH=!1;this.hJ=R.yN;this.Ux();this.xD()};Ws.prototype.Hm=function(h){var R=this.jX;
this.PA(R);this.close()};Ws.prototype.J$=function(h){return h==m.rT||h==m.rQ};Ws.prototype.LT=function(h,R,d,L){if(L.u(m.rT)||L.u(m.rQ)){if(this.At)this.zpG();
if(this.BI)this.zGV()}};Ws.prototype.zpG=function(h){var R=this.jX.Trns.v;if(this.At==null||R.length==2)return;
R.splice(R.indexOf(this.At),1);this.At=null;this.Ux();this.xD()};Ws.prototype.zGV=function(h){var R=this.jX.Clrs.v;
if(this.BI==null||R.length==2)return;R.splice(R.indexOf(this.BI),1);this.BI=null;this.Ux();this.xD()};
Ws.prototype.Ux=function(){var h=this.pR,R=this.EH,d=e.p();h.width=Math.floor(410*d);h.height=Math.floor(90*d);
e.rL(h,h.width,h.height);this.gI=new A(0,0,Math.floor(380*d),Math.floor(32*d));this.gI.x=Math.floor((this.pR.width-this.gI.k)/2);
this.gI.y=Math.floor((this.pR.height-this.gI.$)/2);var L=this.gI,$=L.k,W=L.$,M=L.x,x=L.y,t=new A(0,0,$,W),g=R.getImageData(0,0,$,W),r=new Uint8Array(g.data.buffer);
z.VG(r,$,W,8,0,0);var l=z.h($*W*4);z.i.zD(this.jX,l,t,[1/$,0,0,1/W],$/2,W/2,!1,0,this.XF.Ch,this.XF._W);
z.K.Uu("norm",l,L,r,L,L,1);R.clearRect(0,0,h.width,h.height);R.putImageData(g,M,x);var H=this.jX.Trns.v,y=this.jX.Clrs.v,f=z.i.KY(y,this.XF.Ch,this.XF._W),b=Math.round(6*e.p()),K=Math.round(14*e.p()),Z=this.At?this.At.v:null,J=this.BI?this.BI.v:null;
for(var u=0;u<H.length;u++){var C=H[u].v,Q=Math.round(255-255*C.Opct.v.val/100);if((C==Z||H[u-1]&&H[u-1].v==Z||u==this.kx)&&u!=0){R.fillStyle="#000000";
R.fillRect(M-3+$*(H[u-1].v.Lctn.v+(C.Lctn.v-H[u-1].v.Lctn.v)*C.Mdpn.v/100)/4096,x-6-2,6,6)}if(C==Z){R.fillStyle="#ffffff";
R.fillRect(M-b+$*(C.Lctn.v/4096)-2,x-2-K-2,2*b+4,K+4)}R.fillStyle="rgb("+Q+","+Q+","+Q+")";R.fillRect(M-b+$*(C.Lctn.v/4096),x-2-K,2*b,K)}for(var u=0;
u<y.length;u++){var i=y[u].v,j=f[u];if((i==J||y[u-1]&&y[u-1].v==J||u==this.gA)&&u!=0){R.fillStyle="#000000";
R.fillRect(M-3+$*(y[u-1].v.Lctn.v+(i.Lctn.v-y[u-1].v.Lctn.v)*i.Mdpn.v/100)/4096,x+W+2,6,6)}if(i==J){R.fillStyle="#ffffff";
R.fillRect(M-b+$*(i.Lctn.v/4096)-2,x+W+2-2,2*b+4,K+4)}R.fillStyle="rgb("+Math.round(j.H)+", "+Math.round(j.N)+","+Math.round(j.W)+")";
R.fillRect(M-b+$*(i.Lctn.v/4096),x+W+2,2*b,K)}if(this.hJ){this.PA(this.jX);this.eH=!0}};Ws.prototype.xD=function(){this.oS.b(Math.round(100*this.jX.Intr.v/4096));
var h=this.jX.Trns.v,R=this.jX.Clrs.v,d=this.At!=null,L=this.kx!=-1;this.kP.Iy(d);this.PX.Iy(d||L);this.uN.Iy(d);
if(d){this.A_.setAttribute("style","");var $=this.At.v;this.PX.b(Math.round(100*$.Lctn.v/4096));this.kP.b($.Opct.v.val)}if(L)this.PX.b(h[this.kx].v.Mdpn.v);
var d=this.BI!=null,L=this.gA!=-1;this.ef.Iy(d);this.Tq.Iy(d);this.Pc.Iy(d||L);this.uw.Iy(d);if(d){this.Oi.setAttribute("style","");
var W=this.BI.v;this.Pc.b(Math.round(100*W.Lctn.v/4096));var M=W.Type.v.Clry;this.ef.b(["FrgC","BckC","UsrS"].indexOf(M));
if(M=="FrgC")this.Tq.rt(this.XF.Ch);if(M=="BckC")this.Tq.rt(this.XF._W);if(M=="UsrS")this.Tq.b(W.Clr.v)}if(L)this.Pc.b(R[this.gA].v.Mdpn.v)};
Ws.prototype.xg=function(h){var R=Math.round(4096*this.oS.q()/100);this.jX.Intr.v=R;var d=this.jX.Trns.v,L=this.jX.Clrs.v;
if(this.At!=null){var $=this.At.v;$.Lctn.v=Math.round(4096*(this.PX.q()/100));$.Opct.v.val=this.kP.q()}if(this.BI!=null){var W=this.BI.v;
W.Lctn.v=Math.round(4096*(this.Pc.q()/100));if(h.target==this.Tq)this.ef.b(2);var M=this.ef.q();W.Type.v.Clry=["FrgC","BckC","UsrS"][M];
if(M==2)W.Clr={t:"Objc",v:this.Tq.q()};else if(W.Clr)delete W.Clr}if(this.kx!=-1)d[this.kx].v.Mdpn.v=this.PX.q();
if(this.gA!=-1)L[this.gA].v.Mdpn.v=this.Pc.q();this.Ux()};Ws.prototype.uB=function(h){var R=e.sA(h,this.pR),d=(R.x*e.p()-this.gI.x)/this.gI.k,L=(R.y*e.p()-this.gI.y)/this.gI.$,$=this.jX.Trns.v,W=this.jX.Clrs.v,M=null,x=null,t=-1,g=-1;
if(L<1)for(var r=0;r<$.length;r++){var l=$[r].v;if(Math.abs(l.Lctn.v/4096-d)<.02)M=$[r];if(r>0)if(Math.abs(($[r-1].v.Lctn.v+(l.Lctn.v-$[r-1].v.Lctn.v)*l.Mdpn.v/100)/4096-d)<.01)t=r}if(L>0)for(var r=0;
r<W.length;r++){var H=W[r].v;if(Math.abs(H.Lctn.v/4096-d)<.02)x=W[r];if(r>0)if(Math.abs((W[r-1].v.Lctn.v+(H.Lctn.v-W[r-1].v.Lctn.v)*H.Mdpn.v/100)/4096-d)<.01)g=r}if(x==null&&M==null&&t==-1&&g==-1){if(L<0){var l={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
l.v.Lctn.v=Math.round(d*4096);$.push(l);$.sort(this.fb);M=l}if(L>1){var W=this.jX.Clrs.v,y=z.i.KY(W,this.XF.Ch,this.XF._W),f=z.i.$G(this.jX,y,d),H={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:z.i.ZR({H:f&255,N:f>>8&255,W:f>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
H.v.Lctn.v=Math.round(d*4096);W.push(H);W.sort(this.fb);x=H}}if(x!=null)g=-1;if(M!=null)t=-1;if(x!=null||M!=null||t>-1||g>-1){this.At=M;
this.BI=x;this.kx=t;this.gA=g;this.xD();this.Ux();e.rh(window,this.$O);e.rw(window,this.$I)}};Ws.prototype.ND=function(h){var R=e.sA(h,this.pR),d=e.p()*(R.x-this.gI.x)/this.gI.k,L=e.p()*(R.y-this.gI.y)/this.gI.$;
d=Math.max(0,Math.min(1,d));var $=this.jX.Trns.v,W=this.jX.Clrs.v;if(this.At!=null){var M=this.At.v;
M.Lctn.v=Math.round(4096*d);var x=$.indexOf(this.At);if(x!=-1&&L<-1&&$.length>2)$.splice(x,1);if(x==-1&&L>-1)$.push(this.At);
$.sort(this.fb)}if(this.BI!=null){var t=this.BI.v;t.Lctn.v=Math.round(4096*d);var g=W.indexOf(this.BI);
if(g!=-1&&L>1.5&&W.length>2)W.splice(g,1);if(g==-1&&L<1.5)W.push(this.BI);W.sort(this.fb)}if(this.kx>-1){var M=$[this.kx].v;
M.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(d*4096-$[this.kx-1].v.Lctn.v)/(M.Lctn.v-$[this.kx-1].v.Lctn.v))))}if(this.gA>-1){var t=W[this.gA].v;
t.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(d*4096-W[this.gA-1].v.Lctn.v)/(t.Lctn.v-W[this.gA-1].v.Lctn.v))))}if(this.At!=null||this.BI!=null||this.kx>-1||this.gA>-1){this.xD();
this.Ux()}};Ws.prototype.uS=function(h){e.yK(window,this.$O);e.fO(window,this.$I);if(Date.now()-this.rg<300){if(this.gA!=-1||this.kx!=-1){var R=(this.gA!=-1?this.jX.Clrs.v[this.gA]:this.jX.Trns.v[this.kx]).v;
R.Mdpn.v=50;this.xD();this.Ux()}else if(this.BI!=null)this.Tq.zAh()}this.rg=Date.now()};Ws.prototype.fb=function(h,R){return h.v.Lctn.v-R.v.Lctn.v};
function Bg(){uK.call(this,[11,10],"isize");this.PZ=e.X("div","form");this.PZ.setAttribute("style","width:20em");
this.body.appendChild(this.PZ);this.re=new hJ(!0,!0);this.PZ.appendChild(this.re.M);this.Am=new uX("Resample");
this.Am.b(!0);this.PZ.appendChild(this.Am.M);this.Am.A(e.E.l,this.zaO,this);this.WP=new ur([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]);
this.WP.b(1);this.PZ.appendChild(this.WP.M);this.zY=new uA("OK",!0,null,!0);this.zY.A("click",this.Hm,this);
this.body.appendChild(this.zY.M)}Bg.prototype=new uK;Bg.prototype.XU=function(h,R){return h!=null};Bg.prototype.TZ=function(){return!0};
Bg.prototype.zaO=function(h){var R=this.Am.q(),d=this.re,L=this.WP;if(R)L.GS();else L.pF();if(R)d.zIO();
else d.zIp()};Bg.prototype.o=function(){uK.prototype.o.call(this);this.WP.o();this.re.o()};Bg.prototype.Hm=function(h){this.close();
var R=this.re.q(),d=R.x,L=R.y,$=this.WP.q();if(!this.Am.q())$=null;var W=new X(e.E.nN,!0);W.data=s.hu.zMQ(d,L,this.re.zBr(),$);
this.R(W)};Bg.prototype.GA=function(h,R){this.re.b(new kY(h.k,h.$),h.EY)};function tS(){uK.call(this,"Import RAW","importraw");
var h=e.X("div","flexrow"),R=e.X("div");this.body.appendChild(h);this.body.appendChild(R);var d=e.X("div","form");
d.setAttribute("style","width:16em");h.appendChild(d);var L=e.X("div","form");L.setAttribute("style","width:14em");
h.appendChild(L);this.gr=null;this.zQN=null;this.KM=null;this.zKw=[];this.OB=[new hJ(!0,!0),new kH([12,72],["1","3","4"]),new kH([12,34],["8 Bits","16 Bits"]),new kH("Byte Order",["12-34","34-12"]),new ur("Guesses",[])];
for(var $=0;$<this.OB.length;$++){var W=this.OB[$];if($!=0)W.b(0);W.A(e.E.l,$==4?this.zAR:this.rx,this);
var M=$==0?d:$==4?R:L;M.appendChild(W.M)}this.Bv=e.X("canvas");this.FT=this.Bv.getContext("2d");this.body.appendChild(this.Bv);
this.zY=new uA("OK",!0,null,!0);this.zY.A("click",this.Hm,this);this.body.appendChild(this.zY.M)}tS.prototype=new uK;
tS.prototype.o=function(){uK.prototype.o.call(this);var h=this.OB;for(var R=0;R<h.length;R++)h[R].o()};
tS.prototype.Hm=function(h){this.close();var R=this.OB[0].q(),d=Wk.im(this.zQN,[{data:this.KM,FK:new A(0,0,R.x,R.y)}]),L=new X(e.E.Z,!0);
L.data={c:!0?e.j.In:e.j.yq,C$:d};this.R(L)};tS.prototype.GA=function(h,R){this.gr=new Uint8Array(R.uI);
this.zQN=R.qZ;var d=this.gr.length,L=[1,3,4],$=0,W=0,M=1,x=1,t=this.zKw=[];for(var g=0;g<3;g++){for(var r=1;
r<3;r++){var l=L[g],H=l*r,y=Math.round(d/H);if(y!=d/H)continue;for(var f=0;f<=4e3;f++)for(var b=0;b<=4e3;
b++)if(f*b==y){var K=0;if(f==b)K+=64;if(Math.round(f/100)==f/100&&Math.round(b/100)==b/100)K+=32;if(Math.round(f/10)==f/10&&Math.round(b/10)==b/10)K+=16;
if(Math.round(f/2)==f/2&&Math.round(b/2)==b/2)K+=8;t.push([f,b,l,r,K])}}}var Z=function(i,j){if(j[4]!=i[4])return j[4]-i[4];
var V=Math.max(i[0],i[1])/Math.min(i[0],i[1]),E=Math.max(j[0],j[1])/Math.min(j[0],j[1]);if(V!=E)return V-E;
return j[0]-i[0]};t.sort(Z);var J=this.OB,u=[];for(var C=0;C<t.length;C++){var Q=t[C];u.push(Q[0]+" x "+Q[1]+", "+Q[2]+"c, "+Q[3]*8+"-bit")}J[4].Ii(u);
J[4].b(0);this.zAR(null)};tS.prototype.zAR=function(h){var R=this.OB,d=this.zKw[this.OB[4].q()];R[0].b(new kY(d[0],d[1]),72);
R[1].b([1,3,4].indexOf(d[2]));R[2].b([1,2].indexOf(d[3]));this.rx()};tS.prototype.rx=function(h){var R=this.OB,d=R[0].q(),L=d.x,$=d.y,W=8+8*R[2].q(),M=this.gr;
if(W==16&&R[3].q()==1){M=M.slice(0);for(var x=0;x<M.length;x+=2){var t=M[x];M[x]=M[x+1];M[x+1]=t}}var g=this.KM=UPNG.toRGBA8.decodeImage(M,L,$,{tabs:{},ctype:[0,2,6][R[1].q()],depth:W}),r=this.Bv,l=this.FT,H=[g,new A(0,0,L,$)];
z.Qd(H);for(var x=0;x<H.length;x+=2)if(H[x+1].$<300){g=H[x];L=H[x+1].k;$=H[x+1].$;break}r.width=L;r.height=$;
e.rL(r,L,$);var y=new ImageData(new Uint8ClampedArray(g.buffer),L,$);l.putImageData(y,0,0)};function zq(h,R,d){uD.call(this);
this.M=e.X("div","");this.wc=h;this.Gs=null;this.AC=R==null?!1:R;this.uQ=null;this.oQ=d;this.oH=[];this.er=[];
this.Ax=[];this.Mq=[];this.AR=0;this.Gs=this.zaT(zq.Mq[h]);this.Wf()}zq.prototype=new uD;zq.prototype.zag=function(){for(var h=0;
h<this.Mq.length;h++){e.HT(this.Mq[h],"selected");if(this.Ax[h]instanceof uX)this.Ax[h].b(!1)}};zq.prototype.zaZ=function(h){var R=this.zan.bind(this);
for(var d=0;d<this.Ax.length;d++){var L=e.X("div","listitem");this.Mq.push(L);if(d>0)L.textContent="\u2003";
L.appendChild(this.Ax[d].M);if(uz.zau.indexOf(this.wc)!=-1){var $=new uA("+");$.mt();$.M.style.float="right";
L.appendChild($.M);var W=new uA("\u2B0D");W.mt();W.M.style.float="right";W.M.style["margin-right"]="2px";
L.appendChild(W.M)}L.addEventListener("click",R,!1);h.appendChild(L)}};zq.xC=function(h,R){var d=R.getBoundingClientRect();
return(h.clientY-d.top)/d.height};zq.prototype.zan=function(h){var R=h.target.tagName.toLowerCase();
if(R=="input"){return}if(R=="button"){var d=new X(e.E.Q,!0),L=h.target.textContent=="+",$=L?0:zq.xC(h,h.target)<.5?-1:1;
if(L)d.data={c:"st_dupsingle",J:this.parent.data.J,Pl:this.oQ};else d.data={c:"st_movsingle",J:this.parent.data.J,Pl:this.oQ,zNz:$};
d.L=s.mm;d.iU=!0;this.R(d);d=new X("redrawall",!0);d.data={zNz:$};this.R(d);return}e.dy(h);this.KT();
this.AR=this.Mq.indexOf(h.currentTarget);this.R(new X("showme"))};zq.prototype.KT=function(){if(this.Gs.enab&&this.Gs.enab.q()==!1)this.jr({Nc:"enab",a:!0})};
zq.prototype.za$=function(){var h=this.Mq[this.AR];if(h)e.qH(h,"selected");return this.er[this.AR]};
zq.prototype.zaT=function(h){var R={};for(var d=0;d<h.length;d++){var L=h[d],$=null;if(L=="----")$={M:e.X("hr")};
if(L=="\n")$={M:e.X("br")};if(L=="blOptions")$=new WY([14,10]);if(L=="brst")$=new MultiCheck([12,72],["R","G","B"]);
if(L=="knko")$=new ur("Knockout",[[13,1,0],"Shallow","Deep"]);if(L=="enab")$=new uX(uz.names[uz.order.indexOf(this.wc)]);
if(L=="lrMd"||L=="Md")$=new ur([12,19,0],zP.nw,!1,zP.Aa);if(L=="Opct")$=new Ww([12,0],0,100,"%");if(L=="iOpa")$=new Ww([12,26],0,100,"%");
if(L=="blIf")$=new Bk;if(L=="ShdN")$=new Ww([12,68],0,100,"%");if(L=="lagl"||L=="Angl")$=new bC([12,15]);
if(L=="uglg")$=new uX([12,27]);if(L=="Dstn")$=new Ww([12,28],0,200,"px");if(L=="Ckmt")$=new Ww([12,29],0,100,"%");
if(L=="blur")$=new Ww([12,14,0],0,200,"px");if(L=="TrnS"||L=="MpgS")$=new hU([12,21]);if(L=="Nose")$=new Ww([12,30],0,100,"%");
if(L=="layerConceals")$=new uX([12,31]);if(L=="AntA"||L=="antialiasGloss")$=new uX("Anti-alias");if(L=="GlwT")$=new ur([12,32],uz.Zf.names);
if(L=="glwS")$=new ur([12,70],uz.Zf.zi$);if(L=="Inpr")$=new Ww([12,12],1,100,"%");if(L=="bvlS")$=new ur([12,22],uz.ku.style);
if(L=="bvlT")$=new ur([12,32],uz.ku.zjD);if(L=="bvlD")$=new ur(null,uz.ku.dir);if(L=="srgR")$=new Ww([12,34],0,1e3,"%");
if(L=="Sftn")$=new Ww([12,35],0,20,"px");if(L=="Lald")$=R.lagl;if(L=="hglM"||L=="sdwM")$=new ur([12,36],zP.nw,!1,zP.Aa);
if(L=="hglC"||L=="sdwC")$=new zz;if(L=="hglO"||L=="sdwO")$=new Ww([12,0],0,100,"%");if(L=="Invr"||L=="InvT")$=new uX([4,11]);
if(L=="Sz")$=new Ww([12,14,0],1,200,"px");if(L=="Styl")$=new ur([12,40],uz.stroke.names);if(L=="PntT")$=new ur([12,66],uz.stroke.zin);
if(L=="Clr")$=new zz(!0);if(L=="Grad"){$=new tW(!0,[12,37],!0);$.b(JSON.parse(uz.sN.zkl).v)}if(L=="Rvrs")$=new uX([12,23,0]);
if(L=="Dthr")$=new uX("Dither");if(L=="Type")$=new ur([12,22],uz.i.names.slice(0,this.wc=="FrFX"?6:5));
if(L=="Ptrn")$=new hu([12,62]);if(L=="Scl")$=new Ww([12,38],10,500,"%",0,!0);if(L=="Algn")$=new uX([12,39]);
if(L=="Ofst")$=new bJ(!0);if(L=="phase")$=new bJ(!1);if(L=="useShape")$=new uX([12,21]);if(L=="useTexture")$=new uX([12,67]);
if(L=="textureDepth")$=new Ww([12,34],-300,300,"%");var W=L=="----"||L=="\n"?L+d:L;if($!=null)R[W]=$}return R};
zq.prototype.zaH=function(h){var R=this.er[this.AR];for(var d=0;d<h.length;d++){var L=this.Gs[h[d]];
if(L&&R.contains(L.M))R.removeChild(L.M)}};zq.prototype.zac=function(h){var R=this.er[this.AR];for(var d=0;
d<h.length;d++){var L=this.Gs[h[d]];if(L&&!R.contains(L.M))R.appendChild(L.M)}};zq.prototype.Nk=function(h,R){if(this.Gs==null)return;
var d=R==uh.QU;if(this.Gs.Grad){this.Gs.Grad.Ij(h.Ch,h._W);if(d||R==uh.Pf||R==uh.gp)this.Gs.Grad.Gk(h.kn)}if(this.Gs.Ptrn){if(d||R==uh.zb)this.Gs.Ptrn.Gk(h.Wy)}if(this.Gs.TrnS){if(d||R==uh.ho)this.Gs.TrnS.Gk(h.oX)}if(this.Gs.MpgS){if(d||R==uh.ho)this.Gs.MpgS.Gk(h.oX)}};
zq.prototype.o=function(){for(var h=0;h<this.oH.length;h++)this.oH[h].o();for(var R in this.Gs)if(this.Gs[R]instanceof uD)this.Gs[R].o()};
zq.prototype.Wf=function(){for(var h in this.Gs){var R=this.Gs[h];R.parent=this;if(R instanceof uD)R.A(e.E.l,this.zzt,this);
if(this.er.length==0||h=="useShape"||h=="useTexture"){var d=new WY(R.zBL()),L=e.X("div","bordered padded");
if(this.AC==!1){L.appendChild(d.M);L.appendChild(e.X("hr",""))}this.oH.push(d);this.er.push(L);this.Ax.push(R)}else this.er[this.er.length-1].appendChild(R.M)}};
zq.prototype.update=function(h,R){if(this.Gs==null)return;if(this.AC)this.uQ=JSON.parse(JSON.stringify(R));
for(var d in R){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(d)!=-1)this.Gs[d].b(R[d].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(d)!=-1){this.Gs[d].b(R[d].v,h)}if(["Md","hglM","sdwM"].indexOf(d)!=-1)this.Gs[d].b(zP.wc.indexOf(R[d].v.BlnM));
if(d=="lrMd"){var L=(R.If?[[15,10,27]]:[]).concat(zP.nw),$=(R.If?[1]:[]).concat(zP.Aa);this.Gs[d].Ii(L,$);
this.Gs[d].b(R[d].v)}if(d=="lagl"){var W=R.uglg&&R.uglg.v?h.kt():R.lagl.v.val;this.Gs[d].b(W)}if(d=="Lald"){var W=R.uglg&&R.uglg.v?h.FU():R.Lald.v.val;
this.Gs[d].b(null,W)}if(d=="Type")this.Gs[d].b(uz.i.types.indexOf(R.Type.v.GrdT));if(d=="Styl")this.Gs[d].b(uz.stroke.types.indexOf(R.Styl.v.FStl));
if(d=="PntT"){var M=uz.stroke.pG.indexOf(R.PntT.v.FrFl);this.Gs[d].b(M);if(!this.AC){this.zaH(uz.kv.concat(uz.$n.concat(uz.$J)));
this.zac([uz.kv,uz.$n,uz.$J][M])}}if(d=="GlwT")this.Gs[d].b(uz.Zf.types.indexOf(R.GlwT.v.BETE));if(d=="glwS")this.Gs[d].b(uz.Zf.zWY.indexOf(R.glwS.v.IGSr));
if(d=="bvlS")this.Gs[d].b(uz.ku.types.indexOf(R.bvlS.v.BESl));if(d=="bvlT")this.Gs[d].b(uz.ku.zho.indexOf(R.bvlT.v.bvlT));
if(d=="bvlD")this.Gs[d].b(["In","Out"].indexOf(R.bvlD.v.BESs))}};zq.prototype.zzt=function(h){for(var R in this.Gs){if(this.Gs[R]!=h.target)continue;
var d=null,L=!1;if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(R)!=-1)d={type:"#Prc",val:h.target.q()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(R)!=-1)d={type:"#Pxl",val:h.target.q()};if(["Angl","lagl"].indexOf(R)!=-1)d={type:"#Ang",val:h.target.q().xj};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(R)!=-1)d=h.target.q();
if(["Md","hglM","sdwM"].indexOf(R)!=-1)d={BlnM:zP.wc[h.target.q()]};if(R=="uglg"){d=h.target.q();L=!0}if(R=="PntT"){d={FrFl:uz.stroke.pG[h.target.q()]};
L=!0}if(R=="Lald")d={type:"#Ang",val:h.target.q().alt};if(R=="Type")d={GrdT:uz.i.types[h.target.q()]};
if(R=="Styl")d={FStl:uz.stroke.types[h.target.q()]};if(R=="GlwT")d={BETE:uz.Zf.types[h.target.q()]};
if(R=="glwS")d={IGSr:uz.Zf.zWY[h.target.q()]};if(R=="bvlS")d={BESl:uz.ku.types[h.target.q()]};if(R=="bvlT")d={bvlT:uz.ku.zho[h.target.q()]};
if(R=="bvlD")d={BESs:["In","Out"][h.target.q()]};this.jr({Nc:R,a:d});if(L){if(this.AC)this.update(null,this.uQ);
else{var $=this.parent,W=$.C$,M=this.oQ,x=W._[$.data.J].add.lmfx[uz.EN[M[0]]].v[M[1]].v;this.update(W,x)}}}};
zq.prototype.jr=function(h){if(this.AC){this.uQ[h.Nc].v=h.a;this.R(new X(e.E.l))}else{h.c="changeprop";
h.J=this.parent.data.J;h.KW=this.oQ;var R=new X(e.E.Q,!0);R.data=h;R.L=s.mm;R.iU=!0;this.R(R);this.R(new X("afterchange",!0))}};
zq.prototype.q=function(){return JSON.parse(JSON.stringify(this.uQ))};zq.Mq={bops:"blOptions lrMd Opct iOpa ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(uz.kv),GrFl:["enab","Md","Opct"].concat(uz.$n),patternFill:["enab","Md","Opct"].concat(uz.$J),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(uz.kv.concat(uz.$n.concat(uz.$J)))};
function WR(){uK.call(this,[11,6],"layerstyle");this.zOS=-1;this.data={};this.C$=null;this.Nt=null;this.Qh=[];
this.oK=[];e.qH(this.body,"flexrow");this.Rg=e.X("div","bordered");this.Rg.setAttribute("style","min-width:13em;");
this.body.appendChild(this.Rg);this.KV=e.X("div","");this.KV.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.KV);this.fa=e.X("div","form");this.fa.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.fa);this.JP=new uA("OK",!0,null,!0);this.JP.A("click",this.Hm,this);this.fa.appendChild(this.JP.M);
this.oo=new uA([12,87],!0,null,!0);this.oo.A("click",this.zzq,this);this.fa.appendChild(this.oo.M);this.ec=new hf;
this.ec.parent=this;this.ec.A(e.E.l,this.zzu,this);this.fa.appendChild(this.ec.M);this.A("closebtn",this.WX,this);
this.A("redrawall",this.zAc,this)}WR.prototype=new uK;WR.prototype.TZ=function(){return!0};WR.prototype.zzu=function(h){var R=this.ec.q();
this.jr({c:"setstl",a:R.rE});this.zAc(null)};WR.prototype.zzq=function(h){var R=this.C$,d=this.data.J;
if(d==null)d=R.f[0];var L=this.C$._[d],$=uS.z_W(L),W=new X(e.E.Z,!0);W.data={c:e.j.nY,nU:"add",Ns:uh.ma,_J:[JSON.parse(JSON.stringify($))]};
this.R(W)};WR.prototype.zzF=function(h){this.data.index=h.currentTarget.oQ;this.KH(h.currentTarget.oQ)};
WR.prototype.zAc=function(h){this.GA(this.C$,this.data)};WR.prototype.KH=function(h,R){e.dM(this.KV);
for(var d=0;d<this.Qh.length;d++)this.Qh[d].zag();var L=h==0?this.Qh[0]:this.oK[h[0]][h[1]];this.KV.appendChild(L.za$());
if(R)L.KT();var $=this.C$;if($){var W=$._[this.data.J];this.Qh[0].update($,uE.UO.t_($,W));var M=W.add.lmfx;
if(M==null)return;for(var d=0;d<uz.order.length;d++){var x=M[uz.EN[d]].v;for(var t=0;t<x.length;t++)this.oK[d][t].update($,x[t].v)}}if(R)L.KT()};
WR.prototype.o=function(){uK.prototype.o.call(this);this.oo.o();this.ec.o();for(var h=0;h<this.Qh.length;
h++)this.Qh[h].o()};WR.prototype.GA=function(h,R){var d=R.J==null;this.data.J=R.J;this.data.index=R.index;
R=this.data;this.C$=h;if(d)R.J=h.f.length==0?h._.length-1:h.f[0];e.dM(this.Rg);var L=h._[R.J].add.lmfx;
this.Ks();this.Qh=[new zq("bops",!1,0)];this.oK=[];for(var $=0;$<uz.order.length;$++){this.oK.push([]);
var W=L==null?[]:L[uz.EN[$]].v;for(var M=0;M<W.length;M++){var x=new zq(uz.order[$],!1,[$,M]);this.Qh.push(x);
this.oK[$].push(x)}if(W.length==0){var x=new zq(uz.order[$],!1,[$,0]);this.Qh.push(x);this.oK[$].push(x)}}this.o();
this.znZ(this.Nt,uh.QU);for(var $=0;$<this.Qh.length;$++){this.Qh[$].parent=this;this.Qh[$].zaZ(this.Rg);
this.Qh[$].A("showme",this.zzF,this)}if(R.index==null||R.index==0||!d&&L[uz.EN[R.index[0]]].v.length==0){this.KH(0)}else this.KH(R.index,d);
this.A("afterchange",this.Ks,this)};WR.prototype.Ks=function(h){var R=this.C$,d=this.data.J;if(d==null)d=R.f[0];
var L=this.C$._[d],$=uS.z_W(L);this.ec.b($,R.add.Patt?R.add.Patt:[],R.kt(),R.FU())};WR.prototype.Nk=function(h,R){this.Nt=h;
this.znZ(h,R);if(R==uh.ma||R==uh.QU){this.ec.Gk([h.Fp,h.Wy])}if(R==uh.zq){}};WR.prototype.znZ=function(h,R){for(var d=0;
d<this.Qh.length;d++)this.Qh[d].Nk(h,R)};WR.prototype.WX=function(h){this.jr({c:"cancel"})};WR.prototype.Hm=function(h){this.jr({c:"confirm"});
this.close()};WR.prototype.jr=function(h){h.J=this.data.J;var R=new X(e.E.Q,!0);R.data=h;R.L=s.mm;R.iU=!0;
this.R(R);this.Ks()};WR.zMI=function(h){var R=[{name:[14,10],OC:!0}];for(var d=0;d<uz.names.length;d++)R.push({name:uz.names[d]});
if(h){R[R.length-1].OC=!0;R.push({name:"Styles To Separate Layers",n:function(L){return{n:L!=null&&L.f.length!=0&&L._[L.f[0]].add.lmfx!=null}}})}return R};
WR.zML=function(h){var R=[{m:e.E.Z,g:{c:e.j.pY,DN:"layerstyle"}}];for(var d=0;d<uz.names.length;d++)R.push({m:e.E.Z,g:{c:e.j.pY,DN:"layerstyle",index:[d,0]}});
if(h){var L={classID:"Mk",null:tQ.sx("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
R.push({m:e.E.nN,g:{Mh:"make",QZ:L}})}return R};WR.zMy=function(h){var R=[];if(h)R.push({name:[6,48,0,0],eZ:!0},{name:[6,48,0,1],eZ:!0},{name:[6,48,0,2],eZ:!0,OC:!0});
for(var d in uJ.names)R.push({name:uJ.names[d],OC:uJ.zWQ.indexOf(d)!=-1,eZ:Y[d]!=null});return R};WR.zMf=function(h){var R=[];
if(h)for(var d=0;d<3;d++)R.push({m:e.E.nN,g:s.gn._v(d)});for(var L in uJ.names){var $=u$.hx(L);for(var W in uJ.HR)if(uJ.HR[W]==L)$.classID=W;
var M={Mh:"make",QZ:{classID:"Mk",null:tQ.sx("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:$}}}}};
R.push({m:e.E.nN,g:M})}return R};function tx(){uK.call(this,"Merge Channels","mergechannels");this.oU=null;
var h=e.X("div","form");this.body.appendChild(h);this.OB=[];for(var R=0;R<3;R++){var d=new ur(uJ.HK[R],[]);
this.OB.push(d);h.appendChild(d.M);e.Ub(h)}this.JP=new uA("OK",!0,null,!0);this.JP.A("click",this.Hm,this);
h.appendChild(this.JP.M)}tx.prototype=new uK;tx.prototype.o=function(){uK.prototype.o.call(this);for(var h=0;
h<3;h++)this.OB[h].o()};tx.prototype.GA=function(h,R,d,L){this.oU=d;var $=[];for(var W=0;W<d.length;
W++)$.push(d[W].name);for(var W=0;W<3;W++){var M=this.OB[W];M.Ii($);M.b(Math.min(W,d.length-1))}};tx.prototype.Hm=function(h){var R=this.oU,d=R[0],L=new X(e.E.nN,!0);
L.data=zG.p_(d.k,d.$,d.EY,"Merged Document","Wht");this.R(L);var $=[];for(var W=0;W<3;W++)$.push(R[this.OB[W].q()].DP());
var d=R[R.length-1],M=d._[0],x=M.buffer;for(var W=0;W<x.length;W+=4){x[W]=$[0][W];x[W+1]=$[1][W];x[W+2]=$[2][W]}M.I();
d.I();this.close()};function Wo(){uK.call(this,[1,10],"script");var h=e.X("div","form");h.setAttribute("style","width:44em");
this.body.appendChild(h);this.Nt=null;this.Qm=[];this.ov=[];this.zZz;var R=this.ui=new uA([1,2],!1,null,!0);
R.A("click",this.K$,this);h.appendChild(R.M);var d=new uA("JS Reference",!1,null,!0);d.A("click",this.zzK,this);
h.appendChild(d.M);h.appendChild(new WY("Demos:").M);this.zZd=[];var L=Wo.KX;for(var $=0;$<L.length;
$++){var W=new uA(L[$].WO,!1,null,!0);this.zZd.push(W);h.appendChild(W.M);W.A("click",this.zzC,this)}this.CM=e.X("textarea");
this.CM.setAttribute("rows",16);this.CM.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");
h.appendChild(this.CM);var M=new uA("Run",!0,null,!0);M.A("click",this.Hm,this);h.appendChild(M.M);this.zZC=e.X("div");
h.appendChild(this.zZC)}Wo.prototype=new uK;Wo.prototype.o=function(){this.ui.o()};Wo.prototype.K$=function(){var h=this.zZz;
if(h==null)h="script.jsx";var R=new X(e.E.Z,!0);R.data={c:e.j.pY,DN:"namewindow",$c:h.slice(0,h.length-4),zZo:this.zzE.bind(this)};
this.R(R)};Wo.prototype.zzE=function(h){var R=this.CM.value,d=T.kU(R),L=new X(e.E.Z,!0);L.data={c:e.j.Ob,uI:d.buffer,Cr:h+".jsx",zkS:!0};
this.R(L)};Wo.prototype.zze=function(h){var R=this.Qm.indexOf(h.target),d=this.zZz=this.ov[R],L=this.Nt.Tl.ij[d],$=new Uint8Array(L),W=T.fh($,0,$.length);
this.CM.value=W};Wo.prototype.GA=function(h,R,d){this.CM.value=Wo.KX[0].fq;this.zkb()};Wo.prototype.zkb=function(){var h=this.Nt.Tl,R=this.zZC;
e.dM(R);this.Qm=[];this.ov=[];R.textContent="Saved scripts: ";for(var d in h.ij){if(d.endsWith(".jsx")){var L=new uA(d,!1,null,!0);
this.Qm.push(L);this.ov.push(d);L.A("click",this.zze,this);R.appendChild(L.M)}}};Wo.prototype.Nk=function(h,R){this.Nt=h;
if(R==uh.bJ)this.zkb()};Wo.prototype.zzK=function(h){var R=new X(e.E.Z,!0);R.data={c:e.j.nR,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.R(R)};Wo.prototype.Hm=function(h){var R=new X(e.E.Z,!0);R.data={c:e.j.IH,NJ:this.CM.value};this.R(R)};
Wo.prototype.zzC=function(h){var R=this.zZd.indexOf(h.currentTarget);this.CM.value=Wo.KX[R].fq};Wo.KX=[{WO:"Hello",fq:"\nalert(\"Hello Photopea!\");\n"},{WO:"Process Layers",fq:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{WO:"Clone Layers",fq:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function hk(){uK.call(this,[11,7],"newproject");this.data=null;this.oU=null;var h=e.X("div","flexrow");
this.BR=h;this.body.appendChild(h);var R=e.X("div","form");this.PZ=R;h.appendChild(R);this.GO=new WU([12,48]);
R.appendChild(this.GO.M);e.Ub(R);this.re=new hJ(!0);this.re.b(new kY(1280,720),72);this.re.A(e.E.l,this.Ky,this);
R.appendChild(this.re.M);this.ol=new ur([12,46],[[13,1,8],[13,1,9],[12,46]]);R.appendChild(this.ol.M);
R.appendChild(e.X("hr"));this.zY=new uA([12,49],!0,null,!0);this.zY.A("click",this.Hm,this);R.appendChild(this.zY.M);
var d=hk.gr,L=[];for(var $=0;$<d.length;$++)L.push(d[$].name);this.os=new kH(null,L);this.os.A(e.E.l,this.zkJ,this);
R.appendChild(this.os.M);this.os.M.style["margin-top"]="1em";this.cM=new zy(!0);this.cM.A(e.E.l,this.zzH,this);
R.appendChild(this.cM.M);this.zkJ();this.Rb=new hb;this.Rb.parent=this;this.Rb.M.setAttribute("style","margin-left:1em");
this.Rb.A("tempready",this.zzf,this)}hk.prototype=new uK;hk.prototype.Nk=function(h,R){this.Rb.Nk(h)};
hk.prototype.ya=function(h,R){return new kY(Math.max(0,Math.min(70,(h-690)/2)),h>R?Math.max(0,Math.min(50,(R-400)/2)):0)};
hk.prototype.Bk=function(h,R){this.PZ.setAttribute("style","width:"+Math.min(h,338)+"px");this.cM.M.style.height=R-260+"px";
var d=this.Rb.M,L=d.parentNode;if(h<500){if(L!=null)this.BR.removeChild(d)}else{if(L==null)this.BR.appendChild(d)}this.Rb.Bk(h-360,R-35)};
hk.prototype.Ky=function(){this.Rb.b(this.re.q())};hk.prototype.zzH=function(h){var R=this.cM.q(),d=hk.gr[this.os.q()].Tj[R],L=d[4];
if(L==0)L=72;var $=d[1],W=d[2],M=["px","%","mm","in"].indexOf(d[3]),x=[1,1,25.4/L,1/L][M];$/=x;W/=x;
this.re.b(new kY(Math.round($),Math.round(W)),L);this.re.zIr(M);this.cM.up(R);this.Ky()};hk.prototype.zkJ=function(h){var R=hk.gr[this.os.q()].Tj,d=[],L=[],$=Math.round(106*e.p()),W=Math.round(106*e.p()),M=0;
for(var x=0;x<R.length;x++)M=Math.max(M,R[x][1],R[x][2]);for(var x=0;x<R.length;x++){var t=R[x],g=t[1]+" x "+t[2]+" "+t[3];
if(t[3]=="in")g=(t[1]*25.4).toFixed(0)+" x "+(t[2]*25.4).toFixed(0)+" mm";if(t[3]=="mm")g=(t[1]/25.4).toFixed(1)+" x "+(t[2]/25.4).toFixed(1)+" in";
if(t[4])g=g+" @ "+t[4]+" ppi";L.push(g);d.push(hk.cv(t,$,W,M))}this.cM.Ul(d,L,$,W)};hk.cv=function(h,R,d,L){var $=e.X("canvas",""),W=$.getContext("2d");
$.width=R;$.height=d;var M=Math.round(R/8),x=Math.floor(11*e.p()),t=h[1],g=h[2];W.fillStyle="#000000";
W.font=Math.round(x*.9)+"px \"Open Sans\", Sans-Serif";var r=t+" x "+g+" "+h[3],l=W.measureText(r);W.fillText(r,Math.round((R-l.width)/2),d-Math.round(M/2));
if(h[0]!=null){W.font="bold "+x+"px \"Open Sans\", Sans-Serif";var r=h[0],l=W.measureText(r);W.fillText(r,Math.round((R-l.width)/2),d-Math.round(M/2)-Math.round(x*1.3))}d-=Math.round(2.5*x);
var H=Math.min((R-M)/t,(d-M)/g);H*=.5+.5*(Math.max(t,g)/L);var y=(R-t*H)/2,f=(d-g*H)/2;W.strokeRect(Math.round(y)+.5,Math.round(f)+.5,Math.round(t*H),Math.round(g*H));
return $.toDataURL()};hk.prototype.o=function(){uK.prototype.o.call(this);this.re.o();this.GO.o();this.ol.o();
this.zY.o();this.GO.b(uP.get([11,7]));this.os.o();this.Rb.o()};hk.prototype.Hm=function(h){var R=this.re.q(),d=R.x,L=R.y;
this.close();var $=new X(e.E.nN,!0);$.data=zG.p_(d,L,this.re.zBr(),this.GO.q(),["Wht","Trns","BckC"][this.ol.q()]);
this.R($);this.zuf()};hk.prototype.zzf=function(h){var R=h.data.C$,d=new X(e.E.Z,!0);d.data={c:e.j.In,C$:R};
this.R(d);this.close();this.zuf()};hk.prototype.zuf=function(){var h=this.oU[this.oU.length-1],R=this.data.zkw;
if(R)Wc.Yl(function(){var d=new XMLHttpRequest,L="https://www.googleapis.com/drive/v3/files?"+Wc.l$();
d.open("POST",L,!0);d.setRequestHeader("Content-Type","application/json");d.addEventListener("load",function($){var W=JSON.parse($.target.response);
h.nA={file:W,ct:"psd"};alert(h.name+" created in Google Drive")});d.send(JSON.stringify({name:h.name,zOT:[R]}))})};
hk.prototype.GA=function(h,R,d,L){this.oU=d;if(h!=null&&h.z!=null){var $=new A(0,0,h.k,h.$).hc(h.z.rect);
this.re.b(new kY($.k,$.$))}this.data=R;this.Ky();this.GO.$B();if(window.ClipboardItem)Wk.zP_(this.zzo.bind(this))};
hk.prototype.zzo=function(h){if(h=="granted")Wk.C_(this,this.zzc.bind(this))};hk.prototype.zzc=function(h,R){this.re.b(new kY(R.k,R.$))};
hk.gr=[{name:"Social",Tj:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],Tj:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],Tj:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],Tj:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],Tj:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],Tj:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",Tj:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function zL(h,R,d){uK.call(this,R,"sel_"+h);this.c=h;var L=e.X("div","form");this.body.appendChild(L);
this.GO=new WB(R,0,255,null,0,!1,!0);L.appendChild(this.GO.M);this.GO.b(1);var $=e.X("span");$.textContent=d;
L.appendChild($);e.Ub(L);this.znF=new uX("Apply at canvas bounds");if(h!="border")L.appendChild(this.znF.M);
this.JP=new uA("OK",!0,null,!0);this.JP.A("click",this.Hm,this);L.appendChild(this.JP.M)}zL.prototype=new uK;
zL.prototype.XU=function(h,R){if(h==null)return;if(h.z==null)alert("No selection!");return h.z!=null};
zL.prototype.Hm=function(h){var R=new X(e.E.nN,!0);R.data=s.dS.zzy(this.c,this.GO.q(),this.znF.q());
R.iU=!0;this.R(R);this.close()};zL.prototype.o=function(){uK.prototype.o.call(this);if(this.GO)this.GO.o()};
zL.prototype.GA=function(h,R){};function to(h,R){uK.call(this,R,h);this.gr=null;this.PZ=e.X("div","form");
this.body.appendChild(this.PZ);this.GO=new WU(R);this.PZ.appendChild(this.GO.M);this.JP=new uA("OK",!0,null,!0);
this.JP.A("click",this.Hm,this);this.PZ.appendChild(this.JP.M)}to.prototype=new uK;to.prototype.Hm=function(h){var R=this.GO.q();
if(this.gr.zZo)this.gr.zZo(R);else{var d=this.gr.zMl,L=new X(d.m,!0);L.L=d.L;L.data=d.g;L.data.a=R;L.iU=!0;
this.R(L)}this.close()};to.prototype.o=function(){uK.prototype.o.call(this);if(this.GO)this.GO.o()};
to.prototype.GA=function(h,R){this.gr=R;this.GO.b(R.$c);this.GO.$B()};function tY(){uK.call(this,[1,5],"open_from_url");
this.xN=null;var h=e.X("div","form");this.body.appendChild(h);this.uL=new WU("URL",null,22);h.appendChild(this.uL.M);
this.uL.A(e.E.l,this.Hm,this);e.Ub(h);this.ck=new kH([21,0],[[21,2],[21,1]]);h.appendChild(this.ck.M);
this.zY=new uA("OK",!0,null,!0);this.zY.A("click",this.Hm,this);h.appendChild(this.zY.M)}tY.prototype=new uK;
tY.prototype.o=function(){uK.prototype.o.call(this);this.ck.o()};tY.prototype.GA=function(h,R,d){this.uL.$B();
this.xN=null;if(h&&d.indexOf(h)!=-1)this.xN=d.indexOf(h)};tY.prototype.Hm=function(h){var R=new X(e.E.Z,!0),d=this.uL.q();
R.data={c:e.j.X_,Ns:{url:d,zy:!0,xN:this.ck.q()==1?this.xN:null}};this.R(R);this.close()};function BW(){uK.call(this,[12,79],"preferences");
this.Nt=null;var h=e.X("div","form");this.body.appendChild(h);this.Mq=[new uX([8,2]),new uX([8,4]),new ur([12,80,3],[[12,93,3],[12,80,4]]),new Ww([12,80,5],1,100,null,2),new ur(null,z.ru.tz),new ur([12,80,6],z.ru.tz)];
for(var R=0;R<this.Mq.length;R++){var d=this.Mq[R];h.appendChild(d.M);if(R!=3)e.Ub(h);d.A(e.E.l,this.xd,this)}}BW.prototype=new uK;
BW.prototype.o=function(){uK.prototype.o.call(this);for(var h=0;h<this.Mq.length;h++)this.Mq[h].o()};
BW.prototype.GA=function(h,R,d){};BW.prototype.Nk=function(h,R){this.Nt=h;this.Mq[0].b(h.UU.Py);this.Mq[1].b(h.UU.dT);
this.Mq[2].b(h.UU.BK);this.Mq[3].b(h.UU.nt);this.Mq[4].b(h.UU.nq);this.Mq[5].b(h.UU.CQ)};BW.prototype.xd=function(h){var We=this.Mq,R=JSON.parse(JSON.stringify(this.Nt.UU));
R.Py=We[0].q();R.dT=We[1].q();R.BK=We[2].q();R.nt=We[3].q();R.nq=We[4].q();R.CQ=We[5].q();if(R.nq!=4)R.nt=Math.round(R.nt);
var d=new X(e.E.Z,!0);d.data={c:e.j.nY,Ns:uh.bi,sg:R};this.R(d)};function bs(){uK.call(this,[11,8],"saveforweb");
this.znE="";this.A("closebtn",function(){this.iv.yD()},this);this.GP=new kY(512,512);this.C$=null;this.iw=null;
this.znS=null;this.Nt=null;e.qH(this.body,"flexrow");var h=e.X("div"),R=e.X("div");this.body.appendChild(h);
this.body.appendChild(R);this.Oi=e.X("div","imgcont");h.appendChild(this.Oi);this.iv=new WS;this.iv.Bk(this.GP.x,this.GP.y);
this.Tp=e.X("span");h.appendChild(this.Tp);this.PZ=e.X("div","form cell");this.PZ.setAttribute("style","width:15em; padding-left:1em;");
R.appendChild(this.PZ);this.il=new ur([12,50],ud.rW());this.PZ.appendChild(this.il.M);this.il.A(e.E.l,this.iR,this);
this.re=new hJ(!1,!0);this.re.A(e.E.l,this.iR,this);this.PZ.appendChild(this.re.M);this.MU=new qt;this.MU.A(e.E.l,this.iR,this);
this.PZ.appendChild(this.MU.M);this.cE=new uA([1,2],!0,null,!0);this.cE.A("click",this.Hm,this);this.PZ.appendChild(this.cE.M)}bs.prototype=new uK;
bs.prototype.XU=function(h,R){return h!=null};bs.prototype.o=function(){uK.prototype.o.call(this);this.re.o();
this.il.o();this.MU.o();this.cE.o()};bs.prototype.Hm=function(h){var R=this.C$.name.split(".")[0],d=ud.rW()[this.il.q()],L=this.iw,$=R+"."+d.toLowerCase(),W=this.C$,M=W.tj;
if(M.length!=0&&(d=="JPG"||d=="PNG"||d=="GIF")&&this.MU.q().pop()){var x="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",t=[],g={},r=new A(0,0,W.k,W.$),l=W.DP();
for(var H=0;H<M.length;H++)t.push(s.B$.Bo(M,H));t.reverse();var y=z.rect.ty([0,0,W.k,W.$],t);for(var H=0;
H<y.length;H++){var f=y[H],b=new A(f[0],f[1],f[2]-f[0],f[3]-f[1]),K=f.length==5?M[f[4]].v:null,Z=z.h(b.s()*4);
z.bt(l,r,Z,b);var J="img/img"+(H+1)+"."+d.toLowerCase();g[J]=new Uint8Array(ud[d].Az([[Z.buffer,0]],b.k,b.$,this.MU.q()));
x+="<div style=\"background-image:url('"+J+"'); left:"+b.x+"px; top:"+b.y+"px; width:"+b.k+"px; height:"+b.$+"px\">";
if(K&&K.url.v!="")x+="\n\t<a href=\""+K.url.v+"\" target=\""+K.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
x+="</div>\n"}x+="</body>\n</html>\n";var u=z.h(Math.round(x.length*1.5)),C=T.yh(x,u,0);g["index.html"]=u.slice(0,C);
L=UZIP.encode(g);$=R+".zip"}var Q=new X(e.E.Z,!0);Q.data={c:e.j.Eb,data:L,name:$};this.R(Q);this.iv.yD();
this.close()};bs.prototype.GA=function(h,R){if(R.f_!=null)this.il.b(R.f_);this.C$=h;var d=h.k+","+h.$;
if(d!=this.znE){this.znE=d;this.re.b(new kY(h.k,h.$))}this.MU.zKj();this.iR(null,!0)};bs.prototype.ya=function(h,R){return new kY(Math.max(0,Math.min(150,(h-770)/2)),Math.max(0,Math.min(150,(R-590)/2)))};
bs.prototype.Bk=function(h,R){this.Hl=h;this.om=R;this.GP.x=Math.min(512,h-26-214);this.GP.y=Math.min(512,R-45);
if(this.C$==null)return;var d=this.re.q(),h=d.x,R=d.y,L=ud.rW()[this.il.q()],$=ud[L],l="<span style=\"width:",H="display:inline-block; text-align:right;\">";
if($.CK){var W=h,M=R,x;if(L=="PDF"||$.rp){W=this.GP.x;M=this.GP.y}else{W=Math.min(h+20,this.GP.x);M=Math.min(R+20,this.GP.y)}this.Oi.firstChild.setAttribute("style","display:block; width:"+W+"px; height:"+M+"px;")}else{if($.rp){W=this.GP.x;
M=this.GP.y}else{var t=this.znS,g=t[0].FK,W=g.k,M=g.$;this.iv.Bk(Math.max(50,Math.min(W/e.p(),this.GP.x)),Math.max(50,Math.min(M/e.p(),this.GP.y)))}}var r=this.iw.byteLength,y=L+":"+l+64+"px;"+H+bs.u$(r)+"</span>";
if(this.GP.x>200)y+=l+90+"px; opacity:"+.5+";"+H+r.toLocaleString()+" B</span>";this.Tp.innerHTML=y};
bs.u$=function(h){var R=0;while(h>>>R+10!=0)R+=10;var d=(h/(1<<R)).toFixed(1),L=["B","KB","MB","GB"][Math.floor(R/10)];
return d+" "+L};bs.prototype.Nk=function(h,R){this.Nt=h};bs.prototype.iR=function(h,R){var d=this.re.q(),L=d.x,$=d.y,W=this.il.q(),M=ud.rW()[W],x=ud.lv(this.C$)[0].length,t=["GIF","PNG","WEBP"].indexOf(M)!=-1&&x>1,l="";
if(t&&R&&(L*$>1024*1024||L*$*x>800*800*50)){var g=window.confirm("Your animation is large ("+L+" x "+$+" px). Should we scale it down 50%?");
if(g){this.re.b(new kY(L>>>1,$>>>1));L=L>>>1;$=$>>>1}}this.MU.z_m(M,t,this.C$.tj.length!=0);var r=this.MU.q();
this.iw=ud.wg(this.C$,M,L,$,r,this.Nt);if(this.iw==null){this.C$=null;return}e.dM(this.Oi);this.iv.yD();
var H=ud[M];if(H.rp){this.Oi.innerHTML="<div></div>";l+="width:0px"}else if(H.CK){var y=L,f=$,b;if(M=="PDF"){b=URL.createObjectURL(new Blob([this.iw],{type:"application/pdf"}))}else{b=URL.createObjectURL(new Blob([this.iw],{type:"image/svg+xml"}))}this.Oi.innerHTML="<iframe src=\""+b+"\"></iframe>"}else{var K=this.znS=H.CA(this.iw),Z=K[0].FK,y=Z.k,f=Z.$;
this.iv.b(K,K.length>1?r[r.length-2]:0);this.Oi.appendChild(this.iv.M);l="background: rgba(0,0,0,0);"}this.Oi.setAttribute("style","display:block; background-size:"+16/e.p()+"px;"+l);
this.Bk(this.Hl,this.om)};function zT(){uK.call(this,[11,13],"shortcuts");var h=this.BR=e.X("div","scrollable");
h.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(h);
this.zuo()}zT.prototype=new uK;zT.prototype.o=function(){uK.prototype.o.call(this);this.zuo()};zT.prototype.zuo=function(){var h="<div style=\"column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",R="";
R+="<h2 style=\"margin-top:0;\">Main Menu</h2>";R+=h;R+=this.eg([[0,0],"---",[1,0],"Ctrl + O",[1,2],"Ctrl + S",[1,3],"Shift+Ctrl + S",[1,8],"Alt+Shift+Ctrl + S",[0,1],"---",[2,0],"Shift + Ctrl + Z",[2,1],"Ctrl + Z",[5,0],"Ctrl + X",[5,1],"Ctrl + C",[5,2],"Ctrl + V",[2,2],"Delete",[2,3],"Alt + Backspace",[10,16],"Alt + Ctrl + T",[12,79],"Ctrl + K",[3],"---",[4,1],"Ctrl + L",[4,2],"Ctrl + M",[4,5],"Ctrl + U",[4,11],"Ctrl + I",[0,3],"---",[6,0],"Ctrl + J",[6,6,0],"Alt + Ctrl + G",[6,9],"Ctrl + G",[6,10],"Ctrl + E",[0,5],"---",[7,0],"Ctrl + A",[7,1],"Ctrl + D",[7,2],"Shift+Ctrl + I",[0,7],"---",[8,0],"Ctrl + +",[8,1],"Ctrl + -",[8,3],"Ctrl + R",[8,2],"Ctrl + ;",[8,4],"Ctrl + '",[11,13],"?"]);
R+="</div>";R+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";R+=h;R+=this.eg("Vertical scroll,Wheel,Horizontal scroll,Ctrl + Wheel,Zooming,Alt + Wheel".split(","));
R+="</div>";R+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
R+=h;R+=this.eg([[10,11],"Ctrl",[10,7],"Spacebar",[10,17],"Ctrl + Spacebar"]);R+="</div>";R+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
R+=h;var d=[];for(var L=0;L<zT.Kj.length;L+=3)d.push(zT.Kj[L],zT.Kj[L+1]);R+=this.eg(d);R+=this.eg(["abc",null,[24,16],"---",[22,7,1],"D",[22,7,0],"X","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}"]);
R+="</div>";this.BR.innerHTML=R};zT.prototype.eg=function(h){var R="",d=!0;for(var L=0;L<h.length;L+=2){var $=h[L],W=h[L+1];
if(W==null){d=!1;continue}var M=e.zAf(uP.get($));if(W=="---"){if(!d)R+="<br/>";R+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+M+"</div>"}else R+="<div>"+M+" <span style=\"float:right; font-weight:bold;\">"+W+"</span> </div>";
d=!1}return R};zT.Kj=[[10,11],"V",0,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function MM(){uK.call(this,[8,11,1],"soptions");this.TO=null;var h=e.X("div","form");h.style.width="20em";
this.body.appendChild(h);this.uJ={Nm:[12,48],url:"URL",null:[12,71]};this.Mq={};for(var R in this.uJ){var d=new WU(this.uJ[R],null,15);
this.Mq[R]=d;h.appendChild(d.M)}var L=new uA("OK",!0,null,!0);L.A("click",this.Hm,this);h.appendChild(L.M)}MM.prototype=new uK;
MM.prototype.GA=function(h,R,d){var L=R.a;this.TO=JSON.stringify(L);for(var $ in this.uJ){if(L[$])this.Mq[$].b(L[$].v)}};
MM.prototype.Hm=function(h){var R=JSON.parse(this.TO);for(var d in this.uJ){var L=this.Mq[d].q();R[d]={t:"TEXT",v:L}}var $=new X(e.E.Q,!0);
$.L=s.xV;$.data=R;$.iU=!0;this.R($);this.close()};function zX(){uK.call(this,[2,3],"fill");this.Nt=null;
this.Nf=null;var h=e.X("div","form padded");h.style.width="22em";this.body.appendChild(h);this.CL="FrgC BckC Clr Blck Gry Wht contentAware".split(" ");
this.Go=new ur([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3]]);this.Go.A(e.E.l,this.zzl,this);
h.appendChild(this.Go.M);this.Oi=e.X("span");h.appendChild(this.Oi);this.OD=new zz;this.OD.parent=this;
this.OD.rt(0);this.ce=new ur([12,19,0],zP.nw,!1,zP.Aa);h.appendChild(this.ce.M);this.ur=new Ww([12,0],0,100,"%",0,!1);
this.ur.b(100);h.appendChild(this.ur.M);this.zY=new uA("OK",!0,null,!0);this.zY.A("click",this.Hm,this);
this.body.appendChild(this.zY.M)}zX.prototype=new uK;zX.prototype.XU=function(h,R){return h!=null};zX.prototype.TZ=function(){return!0};
zX.prototype.zzl=function(){var h=this.Go.q()==2,R=this.OD.M,d=this.Oi;if(h)d.appendChild(R);else if(d.contains(R))d.removeChild(R)};
zX.prototype.o=function(){uK.prototype.o.call(this);this.Go.o();this.ce.o();this.ur.o()};zX.prototype.Hm=function(h){if(!this.Nf.wI())return;
var R=new X(e.E.nN,!0),d=this.Go.q();R.data=s.kq._v(this.CL[d],zP.RS[this.ce.q()],this.ur.q()/100,this.OD.q());
this.close();this.R(R)};zX.prototype.GA=function(h,R){this.Nf=h};zX.prototype.Nk=function(h,R){this.Nt=h};
function zU(){uK.call(this,[14,9],"stroke");this.Nt=null;this.PZ=e.X("div","form");this.PZ.setAttribute("style","width:24em");
this.body.appendChild(this.PZ);this.$P=new zq("FrFX",!0);this.$P.parent=this;var h=["Sz","Styl","Md","Opct"].concat(uz.kv);
for(var R=0;R<h.length;R++){var d=this.$P.Gs[h[R]].M;this.PZ.appendChild(d)}this.znw=!1;this.zY=new uA("OK",!0,null,!0);
this.zY.A("click",this.Hm,this);this.body.appendChild(this.zY.M)}zU.prototype=new uK;zU.prototype.XU=function(h,R){return h!=null};
zU.prototype.TZ=function(){return!0};zU.prototype.o=function(){uK.prototype.o.call(this);this.$P.o()};
zU.prototype.Hm=function(h){var R=new X(e.E.Q,!0);R.L=s.uP;R.data={c:"stroke",zKn:this.$P.q()};this.close();
this.R(R)};zU.prototype.GA=function(h,R){if(!this.znw){var d=uz.ny[uz.order.indexOf("FrFX")];d=JSON.parse(d);
this.$P.update(h,d);this.znw=!0}var d=this.$P.q(),L=this.Nt.Ch;d.Clr.v=z.i.ZR({H:L>>16&255,N:L>>8&255,W:L&255});
this.$P.update(h,d)};zU.prototype.Nk=function(h,R){this.Nt=h};function tb(){uK.call(this,[11,9],"textwarp");
this.Mq=new ta;this.Mq.A(e.E.l,this.Kw,this);this.Mq.parent=this;this.PZ=e.X("div","form");this.PZ.setAttribute("style","width:20em");
this.body.appendChild(this.PZ);this.PZ.appendChild(this.Mq.xq.M);this.PZ.appendChild(this.Mq.Eu.M);this.PZ.appendChild(this.Mq.xF.M);
this.PZ.appendChild(this.Mq.xw.M);this.PZ.appendChild(this.Mq.xK.M);this.zY=new uA("OK",!0,null,!0);
this.zY.A("click",this.Hm,this);this.PZ.appendChild(this.zY.M);this.A("closebtn",this.WX,this)}tb.prototype=new uK;
tb.prototype.TZ=function(){return!0};tb.prototype.o=function(){uK.prototype.o.call(this);this.Mq.o()};
tb.prototype.Kw=function(h){var R=this.Mq.q();this.Zu({c:"warp",Mp:R})};tb.prototype.Zu=function(h){var R=new X(e.E.Q,!0);
R.L=s._y;R.data=h;R.iU=!0;this.R(R)};tb.prototype.WX=function(h){this.Zu({c:"warpCancel"})};tb.prototype.Hm=function(h){this.Zu({c:"warpConfirm"});
this.close()};tb.prototype.GA=function(h,R){var d=h._[h.f[0]];this.Mq.b(d.add.TySh.gf)};function hQ(){uK.call(this,"Raw Photopea","rawpea");
this.KM=null;this.Nr=null;this.cN=null;this.zgM=0;this.Rq=null;this.vw=null;this.znI=500;this.zCH=500;
this.A("closebtn",this.cI,this);e.qH(this.body,"flexrow");var h=e.X("div"),R=e.X("div"),$="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
R.setAttribute("style","padding-left: 1em");this.body.appendChild(h);this.body.appendChild(R);this.Bv=e.X("canvas");
h.appendChild(this.Bv);this.AH=new MD(225);this.AH.Ck(4);R.appendChild(this.AH.M);this.PZ=e.X("div");
this.PZ.setAttribute("style","width:18em;");R.appendChild(this.PZ);this.zzJ=new WY("Hi",!0);this.PZ.appendChild(this.zzJ.M);
this.Bh=[new uQ("Temperature",2e3,13e3),new uQ("Tint",-150,150),new uQ([4,3],-4,4,null,!0),new uQ([12,3,0],-100,100)];
for(var d=0;d<this.Bh.length;d++){var L=this.Bh[d];L.b(0);L.A(e.E.l,this.VN,this);this.PZ.appendChild(L.M);
if(d==1)this.PZ.appendChild(e.X("hr"))}this.zY=new uA([1,0],!0,null,!0);this.zY.A("click",this.Hm,this);
this.PZ.appendChild(this.zY.M);this.cS=new uA($+" JPG",!0,null,!0);this.cS.A("click",this.ztj,this);
this.PZ.appendChild(this.cS.M);this.cS.M.style.marginTop="6px"}hQ.prototype=new uK;hQ.prototype.hQ=function(){return!0};
hQ.prototype.ya=function(){return new kY(0,0)};hQ.prototype.Bk=function(h,R){this.znI=h-274;this.zCH=R-32;
if(this.KM)this.zWA()};hQ.prototype.o=function(){uK.prototype.o.call(this);this.zY.o();for(var h=0;h<this.Bh.length;
h++)this.Bh[h].o()};hQ.prototype.ztj=function(h){var R=this.KM,d=this.Nr,L=z.h(R.width*R.height*4);z._M(L,4294967295);
z.raw.EE(d,L,R,this.wy());var $=ud.JPG.Az([[L.buffer]],d.hh,d.hq,[85]),W=new X(e.E.Z,!0);W.data={c:e.j.Eb,data:$,name:"photo.jpg"};
this.R(W)};hQ.prototype.Hm=function(h){var R=this.KM,d=this.Nr,L=z.h(R.width*R.height*4);z._M(L,4294967295);
z.raw.EE(d,L,R,this.wy());var $=zh.nz(R),R={FK:new A(0,0,d.hh,d.hq),data:L.buffer,zj:$},W=Wk.im("Raw Photo",[R]),M=new X(e.E.Z,!0);
M.data={c:e.j.In,C$:W};this.R(M);this.cI();this.close()};hQ.prototype.cI=function(){this.KM=null;this.Nr=null;
this.Rq=null;this.vw=null};hQ.prototype.GA=function(h,R,d,L){this.KM=R.tG;this.Nr=z.raw.ztX(this.KM);
var $=this.Nr;this.zzJ.b($.hh+" x "+$.hq+", "+($.hh*$.hq/1e6).toFixed(1)+" MPx");var W=z.raw.zkK(R.tG);
this.cN=hj.BW(W);this.Bh[0].b(this.cN.LO);this.Bh[1].b(this.cN.on);for(var M=2;M<this.Bh.length;M++)this.Bh[M].b(0);
this.zWA()};hQ.prototype.Nk=function(h,R){this.AH.rt(ko.IU[h.$S]["--text-color"])};hQ.prototype.zWA=function(){var h=this.Nr,R=h.hh,d=h.hq,L=1;
while(R/L>this.znI*e.p()||d/L>this.zCH*e.p())L++;var $=Math.floor(R/L),W=Math.floor(d/L);this.Rq={tP:new Float32Array($*W*3),hh:$,hq:W};
var M=this.Bv.getContext("2d");this.vw=M.createImageData($,W);z._M(this.vw.data,4294967295);var x=1/(L*L);
for(var t=0;t<W;t++)for(var g=0;g<$;g++){var r=0,l=0,H=0,y=(g+1)*L,f=(t+1)*L;for(var b=t*L;b<f;b++)for(var K=g*L;
K<y;K++){var Z=(b*R+K)*3;r+=this.Nr.tP[Z];l+=this.Nr.tP[Z+1];H+=this.Nr.tP[Z+2]}var J=(t*$+g)*3;this.Rq.tP[J]=r*x;
this.Rq.tP[J+1]=l*x;this.Rq.tP[J+2]=H*x}this.VN()};hQ.prototype.VN=function(){var h=this.KM,R=this.Rq.hh,d=this.Rq.hq,L=R*d,$=this.Bv,W=$.getContext("2d");
$.width=R;$.height=d;e.rL($,R,d);z.raw.EE(this.Rq,new Uint8Array(this.vw.data.buffer),h,this.wy());W.putImageData(this.vw,0,0);
var M=z.DD(this.vw.data);for(var x=0;x<4;x++)for(var t=1;t<256;t++)if(M[x][t]==0)M[x][t]=M[x][t-1];for(var x=0;
x<4;x++)for(var t=1;t<256;t++)if(M[x][t]==0)M[x][t]=M[x][t-1];this.AH.b(M)};hQ.prototype.wy=function(){var h=[];
for(var R=0;R<this.Bh.length;R++)h.push(this.Bh[R].q());return h};function hl(){uK.call(this,[11,11],"vbitmap");
this.gr=null;this.us=null;this.c_=null;this.uX=null;this.iW=null;this.nQ=this.Ux.bind(this);this.PZ=e.X("div","form hbar");
this.body.appendChild(this.PZ);this.AT=new Ww([12,82],2,50,null);this.AT.A(e.E.l,this.Ux,this);this.PZ.appendChild(this.AT.M);
this.OB="";this.AU=new uX([12,81]);this.AU.A(e.E.l,this.Ux,this);this.PZ.appendChild(this.AU.M);this.Ao=new uX("Segmentize");
this.Ao.A(e.E.l,this.Ux,this);this.PZ.appendChild(this.Ao.M);this.zY=new uA("OK",!1,null,!0);this.zY.A("click",this.Hm,this);
this.PZ.appendChild(this.zY.M);var h=e.X("div","flexrow"),R=16;this.body.appendChild(h);this.jq=new WS;
this.jq.A("viewchange",this.zWI,this);this.Ou=e.X("canvas");this.Ou.setAttribute("style","margin-left: 1px; cursor:grab;");
this.EH=this.Ou.getContext("2d");var d=z.h(16*16*4);z.VG(d,R,R,8,0,0);this.cG=z.scale.fY(d,R,R);this.jq.zNk(this.Ou);
h.appendChild(this.jq.M);h.appendChild(this.Ou)}hl.prototype=new uK;hl.prototype.hQ=function(){return!0};
hl.prototype.ya=function(){return new kY(0,0)};hl.prototype.TZ=function(){return!0};hl.prototype.Bk=function(h,R){R=R-26-30;
h=Math.floor((h-28)/2);e.PH(this.Ou,h,R);this.jq.Bk(h,R)};hl.prototype.LT=function(h,R,d,L){this.jq.LT(L)};
hl.prototype.o=function(){uK.prototype.o.call(this);this.AT.o();this.AU.o();this.Ao.o();this.zY.o()};
hl.prototype.GA=function(h,R){this.iW=h;var d=h._[h.f[0]],L=z.Cg.Ex(d.buffer.buffer,d.rect.k,d.rect.$).zOb,$=L/((d.rect.k-2)*(d.rect.$-2));
this.AU.b($<.75);this.Ao.b($<.75);var W=d.rect.clone();W.x=W.y=0;this.gr={FK:W,data:d.buffer.buffer.slice(0)};
this.us=null;this.jq.b([this.gr]);this.AT.b(20);setTimeout(this.nQ,20)};hl.prototype.Ux=function(){var h=!0,R=Date.now(),d=this.gr,L=this.AU.q(),$=this.Ao.q(),W=L||$,M=L+","+$;
if(W&&(this.us==null||this.OB!=M)){this.OB=M;console.log("recomputing");var x=new Uint8Array(d.data.slice(0)),t=15,g=35,r=d.FK.k,l=d.FK.$;
if(L){u$.IA(x,x,r,l,t,z.ee.VB,[g],2)}if(h){console.log("denoise",Date.now()-R);R=Date.now()}if($){var H=z.Cg.EV(x,r,l),y=H.mT,f=new Uint8Array(y*4);
for(var b=0;b<y;b++){var K=b*4,Z=b*6,J=1/H.PW[Z+5];f[K]=H.PW[Z]*J;f[K+1]=H.PW[Z+1]*J;f[K+2]=H.PW[Z+2]*J}for(var b=0;
b<x.length;b+=4){var u=H.eV[b>>>2]*4;x[b]=f[u];x[b+1]=f[u+1];x[b+2]=f[u+2]}}this.us={FK:d.FK.clone(),data:x.buffer};
if(h){console.log("segm",Date.now()-R);R=Date.now()}}if(W)d=this.us;var x=new Uint8Array(d.data),r=d.FK.k,l=d.FK.$;
for(var b=0;b<x.length;b+=4){if(x[b+3]<10)x[b]=x[b+1]=x[b+2]=x[b+3]=0}var C=z.Cg.zeD(x,r,l,this.AT.q(),W?.1:2e-4);
if(h){console.log("doclipart",Date.now()-R);R=Date.now()}var Q=C.eV.slice(0);for(var b=0;b<Q.length;
b++)Q[b]++;var i=new Uint8Array((r+2)*(l+2));z.mF(Q,new A(1,1,r,l),i,new A(0,0,r+2,l+2));var j=Math.round((r+2)*(l+2)/1e4),V=kn.E_(i,r+2,l+2,Math.min(12,j)),E=kn.lH(V),N=new um(1,0,0,1,-1,-1);
for(var b=0;b<E.length;b++)z.G.V(E[b].path.B,N,E[b].path.B);this.uX=E;this.c_=C;if(h){console.log("trace",Date.now()-R);
R=Date.now()}for(var b=0;b<E.length;b++){var n=E[b];for(var a=b+1;a<E.length;a++){var I=E[a];if(C.Og[I.color-1].est.q[3]>.05||I.parent!=b)continue;
var q=I.path.D.slice(1);q.reverse();q=["M"].concat(q);var k=[],V=I.path.B.length;for(var F=0;F<V;F+=2){k[F]=I.path.B[V-2-F];
k[F+1]=I.path.B[V-2-F+1]}z.G.concat(n.path,{B:k,D:q})}}for(var b=0;b<E.length;b++){var n=E[b],o=C.Og[n.color-1].est.q;
if(o[3]<=.05){E.splice(b,1);b--;continue}}for(var b=1;b<E.length;b++){var G=E[b-1],n=E[b];if(G.color==n.color){z.G.concat(G.path,n.path);
E.splice(b,1);b--;continue}}this.zWI()};hl.prototype.zWI=function(h){if(this.uX==null)return;var R=this.gr.FK.k,d=this.gr.FK.$,L=this.uX,$=this.c_.Og,W=this.EH,M=this.jq.yi();
W.setTransform(1,0,0,1,0,0);W.clearRect(0,0,W.canvas.width,W.canvas.height);W.translate(W.canvas.width/2,W.canvas.height/2);
W.scale(M.P,M.P);W.translate(M.T.x/M.P-R/2,M.T.y/M.P-d/2);W.scale(1/M.P,1/M.P);W.fillStyle=this.cG;W.fillRect(0,0,R*M.P,d*M.P);
W.scale(M.P,M.P);var x=[];for(var t=0;t<$.length;t++){var g=$[t].est.q;x.push({H:Math.round(255*g[0]),N:Math.round(255*g[1]),W:Math.round(255*g[2]),r$:Math.round(255*g[3])})}for(var t=0;
t<L.length;t++){var r=L[t],g=x[r.color-1];if(g.r$==0)continue;W.fillStyle="rgba("+g.H+","+g.N+","+g.W+","+g.r$/255+")";
W.beginPath();Typr.U.pathToContext({crds:r.path.B,cmds:r.path.D},W);W.fill()}};hl.prototype.Hm=function(h){var R=this.uX,d=R.length==1,L=this.iW,$=L.f[0],W=L._[$],M=L._.slice(0,$);
if(!d)M.push(L.Hb());for(var x=0;x<R.length;x++){var t=R[x],g=this.c_.Og[t.color-1].est.q;z.G.V(t.path.B,new um(1,0,0,1,W.rect.x,W.rect.y),t.path.B);
var r=L.mS();r.AI("Path "+x);M.push(r);r.opacity=Math.round(g[3]*255);r.CN|=16;r.add.SoCo={classID:"null",Clr:{t:"Objc",v:z.i.ZR({H:255*g[0],N:255*g[1],W:255*g[2]})}};
r.add.vmsk=new S.EF;r.add.vstk=JSON.parse(JSON.stringify(uz.ri.default));r.add.vmsk.r=z.G.yp(t.path,!1);
r.add.vogk=[];r.kd();r.eG(L)}var l=M[M.length-1];if(!d){var r=L.mS();r.AI(W.getName());r.add.lsct=W_.ei;
r.Pg="pass";r.CN=24;M.push(r);l=r}var H=W.add.lmfx;if(H)l.add.lmfx=JSON.parse(JSON.stringify(H));for(var x=$+1;
x<L._.length;x++)M.push(L._[x]);var y=new X(e.E.Q,!0);y.iU=!0;y.L=s.br;y.data={c:S.mY,eq:M,Qn:[$+R.length+(d?-1:1)],zv:[11,11]};
this.R(y);this.close()};function WZ(h){uK.call(this,[[7,11],"Magic Cut"][h],["redge","magiccut"][h]);
this.Ki=h;this.gr={};this.qE=null;this.Ow=null;this.iW=null;this.Ac=null;this.tl=null;this.El=[];this.Fz=-1;
this.PZ=e.X("div","form hbar");this.body.appendChild(this.PZ);this.TE=new bW;this.TE.parent=this;this.TE.A(e.E.l,this.MZ,this);
this.PZ.appendChild(this.TE.M);var R=h==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"],d=h==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.cA=new bi(null,R,d,28);this.PZ.appendChild(this.cA.M);this.NV=new WB([7,9],0,50,null);this.NV.parent=this;
this.NV.A(e.E.l,[this.zhR,this.Ux][h],this);this.PZ.appendChild(this.NV.M);var L=this.zkA=new uA([2,2],!1,null,!0);
L.A("click",this.cI,this);this.PZ.appendChild(L.M);var $=this.zkO=new uA([12,90],!1,null,!0);$.A("click",function(x){alert(h==0?uP.get([15,7,1]):"Mark the object with Green, background with Red.",5e3)},this);
this.PZ.appendChild($.M);var W=e.X("span","form");this.PZ.appendChild(W);W.setAttribute("style","position:absolute;  right:0px");
this.uy=new bi([12,46],["checker","white","black"]);this.uy.A(e.E.l,this.zFC,this);W.appendChild(this.uy.M);
this.cO=new ur(null,[[6,13],[6,2],[17,2]]);W.appendChild(this.cO.M);this.zY=new uA("OK",!1,null,!0);
this.zY.A("click",this.Hm,this);W.appendChild(this.zY.M);var M=e.X("div","flexrow");this.body.appendChild(M);
this.PJ=new WS(!0);this.ci=new WS;this.PJ.Qz(this.ci);this.ci.Qz(this.PJ);this.PJ.A("mousedown",this.sn,this);
this.PJ.A("mousemove",this.xT,this);this.PJ.A("mouseup",this.GL,this);this.PJ.A("zoom",this.MZ,this);
this.ci.A("zoom",this.MZ,this);M.appendChild(this.PJ.M);M.appendChild(this.ci.M)}WZ.prototype=new uK;
WZ.prototype.XU=function(h,R){var d=h!=null&&!h._[h.f[0]].rect.dp();if(!d)alert("The layer is empty.");
return d};WZ.prototype.hQ=function(){return!0};WZ.prototype.ya=function(){return new kY(0,0)};WZ.prototype.TZ=function(){return!0};
WZ.prototype.Bk=function(h,R){R=R-26-33;h=Math.floor((h-28)/2);this.PJ.Bk(h,R);this.ci.Bk(h,R)};WZ.prototype.o=function(){uK.prototype.o.call(this);
this.TE.o();this.NV.o();this.zY.o();this.uy.o();this.cO.o();this.zkA.o();this.zkO.o()};WZ.prototype.Nk=function(h,R){this.Ow=h;
if(R==uh.xZ||R==uh.QU){this.TE.Gk(h.KL);this.TE.b(Wm.db(),h.KL.WU,h.KL.kR)}};WZ.prototype.LT=function(h,R,d,L){this.Ac=L;
var $=s.kq.jm(this.TE.q(),L);if($!=null){this.TE.b($);this.MZ()}else if(L.u(m.Is)&&L.u(m.HN)){var W=this.El,M=0;
if(L.u(m.ka)){if(this.Fz+1<W.length)M=1}else if(this.Fz>0)M=-1;if(M!=0){this.Fz+=M;var x=this.Fz,t=this.gr;
if(M==1)z.bt(W[x][2],W[x][0],t.gs,t.rect);else z.bt(W[x+1][1],W[x+1][0],t.gs,t.rect);t.AV=t.rect;this.Ux()}}else this.PJ.LT(L)};
WZ.prototype.$e=function(h){var R=this.gr,d=this.El,L=z.h(h.s()*4);z.bt(R.uf,R.rect,L,h);R.uf=null;var $=z.h(h.s()*4);
z.bt(R.gs,R.rect,$,h);this.Fz++;d[this.Fz]=[h.clone(),L,$];while(d.length>this.Fz+1)d.pop();while(d.length>50){d=d.slice(1);
this.Fz--}};WZ.prototype.MZ=function(){var h=this.Ow,R=uf.pl(this.TE.q(),h.KL.WU,this.PJ.yi().P);this.PJ.EZ(R)};
WZ.prototype.sn=function(h){var R=this.Ow,d=this.gr,L=this.Ac,$=this.TE.q(),W=this.PJ.ET(),M=[16777215,8421504,0][this.cA.q()];
this.qE=new uf($,R.KL.list[0].WU,R.KL.list[0].kR,{kP:1,TX:!0},M,R._W,d.rect);d.uf=d.gs.slice(0);if(L!=null&&L.u(m.ka)&&this.tl){this.qE.moveTo(this.tl.x,this.tl.y);
this.qE.lineTo(W.x,W.y)}else this.qE.moveTo(W.x,W.y);this.zWl()};WZ.prototype.xT=function(h){var R=this.gr,d=this.PJ.ET();
this.qE.lineTo(d.x,d.y);this.zWl()};WZ.prototype.GL=function(h){this.tl=this.PJ.ET();this.$e(this.qE.ZV());
this.Ux()};WZ.prototype.zWl=function(){var h=this.gr,R=this.qE,d=R.pH();if(d.dp())return;h.AV=d;z.K.Uu("norm",R.kE(),R.OG(),h.gs,h.rect,d,1);
this.zqX()};WZ.prototype.cI=function(h){var R=this.gr;R.uf=R.gs.slice(0);R.AV=R.rect;z._M(R.gs,[4278190080,4292730333][this.Ki]);
this.$e(R.rect);this.Ux()};WZ.prototype.GA=function(h,R){this.iW=h;var d=h._[h.f[0]],L=d.rect.clone(),$=L.k,W=L.$;
this.NV.b(this.Ki==0?3:$*W<3e6?3:0);this.cA.b(h.z==null?0:1);this.NV.pF();if(this.Ki==0&&h.z!=null||this.Ki==1)this.NV.GS();
var M=this.Ki,x=z.h(L.s()),t=new Float32Array(L.s());if(M==0&&h.z){z.mF(h.z.channel,h.z.rect,x,L);var g=z.h(L.s());
for(var r=0;r<W;r++)for(var l=0;l<$;l++){var H=r*$+l,y=x[H];if(l>0&&x[H-1]!=y||l<$-1&&x[H+1]!=y||r>0&&x[H-$]!=y||r<W-1&&x[H+$]!=y)g[H]=255}z.style.Gb(g,t,$,W)}else t.fill(1e9);
L.x=L.y=0;this.gr={rect:L,tP:d.buffer,mN:x,g_:t,hO:z.h(L.s()*4),$Y:z.h(L.s()*4),gs:z.h(L.s()*4),uf:null,cw:null,AV:L,zzr:{}};
if(M==0)this.zhR();else{this.gr.zzr=s.Po.ztR(h);var f=this.gr.gs;z._M(f,4287137928);var b=z.tp.getSelection(d.buffer,$,W),K=Math.round($/60),Z=Math.round(.7*W);
for(var r=0;r<W;r++)for(var l=0;l<$;l++){var J=(r*$+l)*4,u=b[J>>>2];u=u>128?255:128;if(r<K||r<Z&&(l<K||l>$-1-K))u=0;
f[J]=f[J+1]=f[J+2]=u}this.Ux()}this.El=[1];this.Fz=0;this.PJ.zQQ();var C=this.TE.q();C.Brsh.v.Dmtr.v.val=Math.round(L.k/(M==0?10:20));
this.TE.b(C);this.MZ()};WZ.prototype.zhR=function(){var h=this.gr,R=h.rect.s(),d=this.NV.q(),L=h.mN.slice(0);
for(var $=0;$<R;$++)if(h.g_[$]<d)L[$]=128;z._M(h.gs,4294967295);z.Gn(L,h.gs,0);z.Gn(L,h.gs,1);z.Gn(L,h.gs,2);
h.AV=h.rect;this.Ux()};WZ.prototype.Ux=function(){var h=this.gr,$,W=0,M=0,x=0;this.zqX();var R=h.rect,d=z.h(R.s()),L=h.tP;
z.nP(h.gs,d,0);for(var t=0;t<d.length;t++){var g=d[t];if(g==0)W++;else if(g==255)M++;else x++}if(W*M*x!=0){if(this.Ki==0)$=z.Pw.Pw(R,L,d);
else{var r=Date.now(),l=this.gr.zzr;z.kW(d,l.IN);s.Po.JS(l,!0);var H=Math.ceil(this.NV.q()/2);if(H==0){$=L.slice(0);
z.Gn(l.z,$,3)}else{var y=l.z.slice(0),f=l.z.slice(0),b=R.k,K=R.$;for(var Z=0;Z<H;Z++){for(var J=1;J<K-1;
J++)for(var u=1;u<b-1;u++){var t=J*R.k+u,C=y[t];if(y[t-b]!=C||y[t-1]!=C||y[t+1]!=C||y[t+b]!=C)f[t]=128;
else f[t]=C}var Q=y;y=f;f=Q}$=z.Pw.Pw(R,L,y,20,!1)}}}else{$=L.slice(0);z.Gn(d,$,3)}if(R.PC(h.rect))h.cw=$;
else z.bt($,R,h.cw,h.rect);this.zFC()};WZ.prototype.zqX=function(h){var R=this.gr,d=R.AV;z.bt(R.tP,R.rect,R.hO,R.rect,d,!0);
var L=R.gs;if(this.Ki==1){var $=new Uint32Array(256);$[0]=4278190335;$[255]=4278255360;var W=R.rect.s();
L=L.slice(0);var M=new Uint32Array(L.buffer);for(var x=0;x<W;x+=2){M[x]=$[M[x]&255];M[x+1]=$[M[x+1]&255]}}z.K.Uu("norm",L,R.rect,R.hO,R.rect,d,.3);
this.PJ.b([{FK:R.rect,data:R.hO.buffer}])};WZ.prototype.zFC=function(h){var R=this.gr;z._M(R.$Y,[0,4294967295,4278190080][this.uy.q()]);
z.K.Uu("norm",R.cw,R.rect,R.$Y,R.rect,R.rect,1);this.ci.b([{FK:R.rect,data:R.$Y.buffer}])};WZ.prototype.Hm=function(h){var R=this.iW,d=this.gr,L=this.cO.q(),$=R._[R.f[0]],W=new X(e.E.Q,!0);
W.iU=!0;var M=$.rect.clone();if(L==0&&$.rl()||L!=0&&!$.rl()){W.L=s.br;W.data={c:S.OF,J:R.f[0]};this.R(W)}if(R.z!=null){W.L=s.GD;
W.data={c:"fromAction",Tm:s.dS.HY()};this.R(W)}if(L==0){var x=R._.slice(0),t=R.mS();t.AI($.getName());
x.splice(R.f[0]+1,0,t);t.rect=M;t.buffer=d.cw;t.I();W.L=s.br;W.data={c:S.mY,eq:x,Qn:[R.f[0]+1],zv:[7,11]};
this.R(W)}if(L==1){var g=$.rc();W.L=s.br;W.data={c:S.ed,zCa:!0};this.R(W);var r=$.rc();r.channel=z.h(M.s());
r.rect=M;r.color=0;r.RT=!0;z.nP(d.cw,r.channel,3);if(g){var l=r.wq(g);r.rect=l.rect;r.channel=l.channel;
r.color=l.color}r.tn();$.eG()}if(L==2){var H={rect:M,channel:z.h(M.s())};z.nP(d.cw,H.channel,3);W.L=s.GD;
W.data={c:"setsel",z:H,zv:this.kL};this.R(W)}this.close()};function tF(){uK.call(this,[1,13],"locstor");
this.Nt=null;this.gu=[];var h=this.body,R=e.X("p");R.textContent="These files are loaded every time you start Photopea.";
h.appendChild(R);this.ztc=0;this.cg=e.X("span");h.appendChild(this.cg);this.cg.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
this.eE=new uA([5,4],!1,null,!0);this.eE.A("click",this.ztn,this);h.appendChild(this.eE.M);this.Hp=new zy(!0);
this.Hp.parent=this;this.Hp.Ck(1);this.Hp.A(e.E.l,this.ztN,this);h.appendChild(this.Hp.M);this.Hp.M.setAttribute("style","width: 40em; height: 25em")}tF.prototype=new uK;
tF.prototype.o=function(){uK.prototype.o.call(this);this.cg.textContent=uP.get([13,2])+": "+bs.u$(this.ztc);
this.eE.o()};tF.prototype.Nk=function(h,R){this.Nt=h;if(R==uh.bJ)this.GA()};tF.prototype.GA=function(h,R){var d=this.Nt.Tl.ij,t=0;
this.gu=[];for(var L in d)this.gu.push(L);this.gu.sort(function(l,H){l=l.split(".");H=H.split(".");return l[1]==H[1]?l[0]<H[0]?-1:1:l[1]<H[1]?-1:1});
var $=Math.floor(100*e.p()),W=Math.floor(16*e.p()),M=[],x=[];for(var g=0;g<this.gu.length;g++){var L=this.gu[g],r=tF.cv(L,d[L],$,W);
M.push(r);x.push(L);t+=d[L].byteLength}this.Hp.Ul(M,x,$,W);this.ztc=t;this.o()};tF.prototype.ztN=function(h){this.Hp.up(this.Hp.q())};
tF.prototype.ztn=function(h){var R=this.Hp.q();if(R==-1){alert("Select a file first.");return}this.Hp.b(-1);
var d=this.Nt.Tl.ij;delete d[this.gu[R]];var L=new X(e.E.Z,!0);L.data={c:e.j.nY,Ns:uh.bJ};this.R(L)};
tF.cv=function(h,R,d,L){var $=e.X("canvas"),x=0;$.width=d;$.height=L;var W=$.getContext("2d"),M=h.split(".").pop().toLowerCase();
for(var t=0;t<M.length;t++)x+=M.charCodeAt(t)*613<<8*t;W.fillStyle="#"+z.zJ(x&16777215);W.fillRect(0,0,20,L);
var g=Math.floor(14*e.p());W.fillStyle="#000000";W.font="bold "+g+"px sans-serif";var r=(L-g)/2,l=bs.u$(R.byteLength),H=W.measureText(l);
W.fillText(l,d-12-H.width,L-r);return $.toDataURL()};function MF(h,R,d){uK.call(this,R,"cwindow");this.zkT=new kY(d[0],d[1]-33);
this.PZ=e.X("div","form");this.PZ.setAttribute("style","width:"+(d[2]-d[0])+"px; height:"+(d[3]-d[1])+"px");
this.body.appendChild(this.PZ)}MF.prototype=new uK;MF.prototype.ya=function(h,R){return this.zkT.clone()};
function uy(h,R,d,L){uD.call(this);this.name=h;this.zkH=d;this.RE=L;this.PY=e.X("div","");this.PY.setAttribute("draggable","true");
this.ev=e.X("div","pbody");this.$p=new uA("",!1,"");this.$p.parent=this;this.ztl=e.X("span","cross");
this.bO=e.X("span","label");var $=this.zMe.bind(this);this.PY.addEventListener("mousedown",this.zME.bind(this),!1);
this.PY.addEventListener("contextmenu",$,!1);this.$p.M.addEventListener("contextmenu",$,!1);this.ztl.addEventListener("mousedown",this.eF.bind(this),!1);
this.PY.appendChild(this.bO);if(R)this.PY.appendChild(this.ztl);this.ip=!1;this.cQ=new MQ([{name:[1,12]}]);
this.cQ.A("select",this.eF,this);this.bO.textContent=h}uy.prototype=new uD;uy.prototype.Zd=function(){return null};
uy.prototype.fF=function(){return new kY(0,0)};uy.prototype.o=function(){var h=uP.get(this.name),R=this.Hl==0?22:Math.round(2+this.Hl/50),d=h.length>R;
this.bO.textContent=d?h.slice(0,R-2):h;if(d)for(var L=0;L<2;L++){var $=e.X("span");$.textContent=h.charAt(R-2+L);
$.setAttribute("style","opacity:"+(.6-L*.4));this.bO.appendChild($)}var W=h.split(" "),M=W.length==2?W[0].substring(0,2)+W[1][0]:h.substring(0,3);
if(M.charCodeAt(0)>=11776)M=M.substring(0,1);var x=this.zkH;if(x==null)this.$p.UI(M,h);else{if(x.indexOf("\"")==-1)this.$p.UI("<img src=\""+x+"\" alt=\""+h+"\" height=\"20\" />",h)}};
uy.prototype.enable=function(){this.ev.setAttribute("class","pbody")};uy.prototype.disable=function(){this.ev.setAttribute("class","pbody disabled")};
uy.prototype.Nk=function(h,R){};uy.prototype.GA=function(h,R,d){};uy.prototype.Bk=function(h,R){};uy.prototype.Ln=function(h){this.name=h;
this.o()};uy.prototype.Kh=function(){};uy.prototype.zME=function(h){if(h.button==0)this.R(new X("select",!1))};
uy.prototype.zMe=function(h){e.dy(h);if(this.RE!=null&&isNaN(this.RE))return;var R=e.sA(h,document.body),d=this.cQ;
d.update(null);d.o();d.parent=this;var L=new X(e.E.Z,!0);L.data={c:e.j.eN,_z:d,x:R.x+1,y:R.y+1};this.R(L)};
uy.prototype.Zj=function(){this.eF({})};uy.prototype.eF=function(h){if(h.stopPropagation)h.stopPropagation();
if(this.RE!=null&&!isNaN(this.RE)){var R=new X(e.E.Z,!0);R.data={c:e.j.Et,_z:this.cQ};this.R(R);R.data={c:e.j.nY,Ns:uh.gH,a:parseFloat(this.RE),nU:"del"};
this.R(R)}else if(this.zEh())this.R(new X(e.E.uu,!1))};uy.prototype.zEh=function(h){return!0};uy.prototype.pf=function(h,R,d,L,$){};
uy.prototype.yn=function(h,R,d,L,$){};uy.prototype.WL=function(h,R,d,L,$){};uy.uT=function(h,R){if(h.childElementCount!=0)return;
var d=h.textContent;this.fy=this.zMG.bind(this);this.zMS=this.zkd.bind(this);this.ht=R;this.CB=h;this.zkU=d;
var L=e.X("input","");L.setAttribute("type","text");L.setAttribute("size","10");L.setAttribute("value",d);
e.dM(h);h.appendChild(L);L.select();L.focus();h.addEventListener("keyup",this.fy,!1);document.body.addEventListener("mousedown",this.zMS,!1)};
uy.uT.prototype.zMG=function(h){var R=m.Zt,d=R(h.code,m.FA);if(R(h.code,m.$j)||d)this.zEc(d)};uy.uT.prototype.zkd=function(h){var R=h.target;
if(R.tagName&&R.tagName.toLowerCase()=="input")return;this.zEc(!0)};uy.uT.prototype.zEc=function(h){var R=this.CB;
R.removeEventListener("keyup",this.fy);document.body.removeEventListener("mousedown",this.zMS);if(h){var d=R.firstChild.value;
this.ht(d)}else{e.dM(R);R.textContent=this.zkU}};uy.co={HX:"0",zki:"1",br:"2",zkP:"3",zkG:"4",fe:"5",CSS:"6",xZ:"7",zkm:"8",zeL:"9",zkr:"10",zkX:"11",zky:"12",Pf:"13",sb:"14",zut:"15",zuA:"16",IW:"17",zuQ:"18"};
function hT(){uy.call(this,[9,9],!1,null,uy.co.zkX);this.Nt=null;this.vp=[0,0];this.sG=e.X("div","padded scrollable");
this.sG.setAttribute("style","width:260px;  height:260px");this.ev.appendChild(this.sG);this.A(e.E.l,this.Qq,this);
this.Gm=e.X("div","lpfoot");this.ev.appendChild(this.Gm);this.Qm=[];var h="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",R="</svg>",d=h+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+R,L=h+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+R;
this.zMx=h+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+R;this.zks=h+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+R;
var $=[this.zMx,L,"lrs/folder","lrs/newlayer","lrs/bin",d],W=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var M=0;M<$.length;M++){var x=$[M];if(1<M&&M!=$.length-1)x="<img src=\""+PIMG[$[M]]+"\" class=\"gsicon\" />";
var t=new uA(x,!1,W[M]);t.A("click",this.zjH,this);this.Gm.appendChild(t.M);this.Qm.push(t)}}hT.prototype=new uy("");
hT.prototype.o=function(){uy.prototype.o.call(this);for(var h=0;h<this.Qm.length;h++)this.Qm[h].o()};
hT.prototype.zjH=function(h){var R=this.Qm.indexOf(h.currentTarget),d=this.vp,L=this.Nt,$=L.jF;if(R==0){var W,M=L.uV;
if($.length==0){alert("Create an Action Set first.");return}if(d.length<2){alert("Select a target action first.");
return}if(M==null){W=this.zks;M=this.vp}else{W=this.zMx;M=null}this.Qm[0].UI(W);L.uV=M}else if(R==1)this.zuc();
else if(R==2||R==3){var x={zv:"Action Set "+$.length,C:[],exp:!0};if(R==2||$.length==0){d=[$.length];
$.push(x)}if(R==3){var t=$[d[0]].C;d=[d[0],t.length];t.push({zv:"Action "+t.length,color:0,C:[],zqG:!1,shift:!1,exp:!0,KW:t.length})}this.vp=d;
this.VN()}else if(R==4){var g;if(d.length==1)g=$;else if(d.length==2)g=$[d[0]].C;else g=$[d[0]].C[d[1]].C;
var r=d.length-1;g.splice(d[r],1);if(g.length==0)d.pop();else while(d[r]>=g.length)d[r]--;if(d.length==0)d.push(0);
this.VN()}else if(R==5){if($.length==0){alert("No Actions Present.");return}var l=new X(e.E.Z,!0);l.data={c:e.j.Af,zku:uh.Q,Pl:d[0]};
this.R(l)}};hT.prototype.Qq=function(h){var R=this.Nt.jF,d=h.data.c,L=h.data.Hn;if(d=="sel")this.vp=L;
if(d=="fold"){if(L.length==1)R[L[0]].exp=!R[L[0]].exp;else R[L[0]].C[L[1]].exp=!R[L[0]].C[L[1]].exp}if(d=="enab"){var $=R[L[0]].C[L[1]].C[L[2]];
$.n=!$.n}if(d=="nchange"){if(L.length==1)R[L[0]].zv=h.data.ko;else R[L[0]].C[L[1]].zv=h.data.ko}this.VN()};
hT.prototype.Nk=function(h,R){this.Nt=h;if(R==uh.Q||R==uh.QU)this.VN()};hT.prototype.VN=function(){if(this.Nt==null)return;
e.dM(this.sG);var h=this.Nt.jF;if(h.length==0)return;var R=JSON.stringify(this.vp);for(var d=0;d<h.length;
d++){var L=h[d],$=new hT.xJ([d],R,L.exp,L.zv.split("=").pop());$.parent=this;this.sG.appendChild($.M);
if(!L.exp)continue;for(var W=0;W<L.C.length;W++){var M=L.C[W],$=new hT.xJ([d,W],R,M.exp,M.zv.split("=").pop());
$.parent=this;this.sG.appendChild($.M);if(!M.exp)continue;for(var x=0;x<M.C.length;x++){var t=M.C[x],$=new hT.xJ([d,W,x],R,null,uP.get(tQ.zEm(t)),t.n);
$.parent=this;this.sG.appendChild($.M)}}}};hT.prototype.zuc=function(){var h=this.Nt.jF,R=this.vp;if(h.length==0){alert("No Actions Present");
return}if(R.length==1){alert("Select an Action first");return}if(this.Nt.uV!=null){alert("You can not apply actions while recording actions");
return}if(R.length==1)R.push(0);var d=h[R[0]],L=d.C[R[1]],$=new X(e.E.Z,!0);$.data={c:e.j.OR,YT:[L.zv,d.zv]};
this.R($)};hT.xJ=function(h,R,d,L,$){uD.call(this);this.Hn=h;var W=this.Hn.length-1;this.M=e.X("div","layeritem"+(JSON.stringify(h)==R?" selected":""));
this.OU=e.X("div","head");this.M.appendChild(this.OU);this.OU.setAttribute("style","height:24px");this.v_=e.X("div","headL");
this.OU.appendChild(this.v_);if(W!=0){var M=e.X("div");M.style.width=W*20+"px";this.v_.appendChild(M)}if(d!=null){var x=this.zkf=e.X("div",d?"open":"closed");
this.v_.appendChild(x)}else{var t=this.zko=e.X("div","cmark");t.setAttribute("style","background-size:12px 12px; opacity:"+($?1:.3));
this.v_.appendChild(t)}if(W==0){var g=e.X("div","folder");this.v_.appendChild(g)}var r=this.bO=e.X("div","label");
r.textContent=L;this.v_.appendChild(r);this.M.addEventListener("mouseup",this.eK.bind(this),!1)};hT.xJ.prototype=new uD;
hT.xJ.prototype.eK=function(h){if(h.detail==1&&h.target.tagName.toLowerCase()!="input"){var R="sel";
if(h.target==this.zkf)R="fold";if(h.target==this.zko)R="enab";var d=new X(e.E.l,!0);d.data={c:R,Hn:this.Hn};
this.R(d)}else if(this.Hn.length<3)var L=new uy.uT(this.bO,this.ht.bind(this))};hT.xJ.prototype.ht=function(h){var R=new X(e.E.l,!0);
R.data={c:"nchange",ko:h,Hn:this.Hn};this.R(R)};function ul(){uy.call(this,[9,3],!1,null,uy.co.xZ);this.Pe=null;
this.sr=null;this.Nt=null}ul.prototype=new uy("");ul.prototype.WM=function(){var h=e.X("div","");this.ev.appendChild(h);
this.Rg=e.X("div","bordered cell");this.Rg.setAttribute("style","width:10em; height:28.5em;");h.appendChild(this.Rg);
this.Mq=[];this.cZ=null;this.wL=[];var R=this.zuY.bind(this);this.Qh=[new ul.Nm,new ul.yR,new ul.hK,new ul.QJ];
for(var d=0;d<this.Qh.length;d++){var L=e.X("div","listitem"),$=this.Qh[d].Uv,W=null;if(d==0){this.cZ=new WY($);
L.appendChild(this.cZ.M)}else{W=new uX($,!1);W.A(e.E.l,this.zul,this);L.appendChild(W.M)}this.wL.push(W);
this.Rg.appendChild(L);this.Mq.push(L);L.addEventListener("click",R,!1)}this.KV=e.X("div","cell padded");
h.appendChild(this.KV);for(var d=0;d<this.Qh.length;d++)this.Qh[d].A("brushchange",this.zuv,this);this.setItem(0);
this.pR=e.X("canvas","");this.pR.width=Math.floor(380*e.p());this.pR.height=Math.floor(80*e.p());e.rL(this.pR,this.pR.width,this.pR.height);
h.appendChild(this.pR);this.EH=this.pR.getContext("2d");this.Ux()};ul.prototype.Kh=function(){if(this.Rg){this.Ux();
return}this.WM();this.o();this.Nk(this.Nt,uh.QU)};ul.prototype.o=function(){uy.prototype.o.call(this);
if(this.Rg==null)return;this.cZ.o();for(var h=1;h<this.wL.length;h++)this.wL[h].o();for(var h=0;h<this.Qh.length;
h++)this.Qh[h].o()};ul.prototype.zuv=function(h){var R=this.Qh.indexOf(h.currentTarget),d=JSON.parse(JSON.stringify(this.Qh[R].sr)),L=new X(e.E.Z,!0);
L.data={c:e.j.nY,Ns:uh.tA,sr:d};this.R(L)};ul.prototype.zul=function(h){this.zPd(this.wL.indexOf(h.currentTarget),h.currentTarget.RJ())};
ul.prototype.zuY=function(h){var R=this.Mq.indexOf(h.currentTarget);if(h.target.tagName.toLowerCase()=="input")return;
if(this.wL[R]&&!this.wL[R].RJ()){this.wL[R].mt();this.zPd(R,!0)}this.setItem(R)};ul.prototype.zPd=function(h,R){this.Qh[h].fG(R)};
ul.prototype.setItem=function(h){for(var R=0;R<this.Qh.length;R++)this.Mq[R].setAttribute("class","listitem");
if(this.KV.firstChild)this.KV.removeChild(this.KV.firstChild);this.Mq[h].setAttribute("class","listitem selected");
this.KV.appendChild(this.Qh[h].M)};ul.prototype.Nk=function(h,R){this.Nt=h;if(this.Rg==null)return;if(R==uh.xZ||R==uh.QU){this.Pe=h.KL;
for(var d=0;d<this.Qh.length;d++)this.Qh[d].Gk(this.Pe)}if(R==uh.tA||R==uh.QU){this.sr=h.KL.lB;this.Ux()}if(R==uh.Pf)this.Ux()};
ul.prototype.Ux=function(){if(this.sr)this.enable();else{this.disable();return}if(!e.Rn(this.ev))return;
var h=this.Nt;for(var R=0;R<this.Qh.length;R++){this.Qh[R].b(this.sr);if(this.wL[R])this.wL[R].b(this.Qh[R].RJ())}var d=JSON.parse(JSON.stringify(this.sr));
d.Brsh.v.Dmtr.v.val=Math.min(d.Brsh.v.Dmtr.v.val,50);var L=new A(0,0,this.pR.width,this.pR.height),$=new uf(d,this.Pe?this.Pe.WU:null,this.Pe?this.Pe.kR:null,{kP:1},h.Ch,h._W,L),W=40*e.p(),M=300*e.p();
$.moveTo(W,W);for(var R=0;R<=M;R+=10)$.lineTo(W+R,W+20*Math.sin(2*Math.PI*R/M));$.finish();var x=this.EH.createImageData(L.k,L.$);
z.bt($.kE(),$.OG(),x.data,L);this.EH.putImageData(x,0,0)};ul.vq=function(h){uD.call(this);this.Uv=h;
this.M=e.X("div","");this.sr=null};ul.vq.prototype=new uD;ul.vq.prototype.Gk=function(h){};ul.vq.prototype.b=function(h){this.sr=JSON.parse(JSON.stringify(h));
this.M.setAttribute("class",this.RJ()?"":"disabled");this.Ux()};ul.vq.prototype.fG=function(h){};ul.vq.prototype.RJ=function(){return!1};
ul.vq.prototype.o=function(){};ul.vq.prototype.Ux=function(){};ul.vq.prototype.Ug=function(){this.R(new X("brushchange"))};
ul.Nm=function(){ul.vq.call(this,[15,0]);this.Pe=null;this.zMT=null;this.Oa=new zy(!0);this.M.appendChild(this.Oa.M);
this.Oa.A(e.E.l,this.zuV,this);this.Oa.M.style.height="10.7em";this.OM=new uQ([12,14,0],1,1e3," px",0,!0);
this.OM.A(e.E.l,this.zWz,this);this.Oh=new uQ([12,15],0,359," \xB0");this.Oh.A(e.E.l,this.zWu,this);
this.Oq=new uQ([12,16],0,100," %");this.Oq.A(e.E.l,this.zWW,this);this.Od=new uQ([12,17],0,100," %");
this.Od.A(e.E.l,this.zWh,this);this.Oe=new uQ([12,18],1,300," %");this.Oe.A(e.E.l,this.zWb,this);this.Mq=[this.OM,this.Oh,this.Oq,this.Od,this.Oe]};
ul.Nm.prototype=new ul.vq;ul.Nm.prototype.o=function(){this.OM.o();this.Oh.o();this.Oq.o();this.Od.o();
this.Oe.o()};ul.Nm.prototype.RJ=function(){return!0};ul.Nm.prototype.Gk=function(h){this.Pe=h;var R=[],d=Math.floor(30*e.p()),L=Math.floor(40*e.p());
for(var $=0;$<h.list.length;$++){var W=h.list[$].v,M=uf.cv(W,h.WU,h.kR,d,L);R.push(M)}this.Oa.Ul(R,null,d,L)};
ul.Nm.prototype.Ux=function(){var h=this.sr.Brsh.v,R=h.classID!=this.zMT;this.zMT=h.classID;if(R)for(var d=0;
d<this.Mq.length;d++)if(this.M.contains(this.Mq[d].M))this.M.removeChild(this.Mq[d].M);this.OM.b(h.Dmtr.v.val);
if(R)this.M.appendChild(this.OM.M);this.Oh.b(h.Angl.v.val);if(R)this.M.appendChild(this.Oh.M);if(h.classID=="computedBrush"||h.classID=="sampledBrush"){this.Oq.b(h.Rndn.v.val);
if(R)this.M.appendChild(this.Oq.M)}if(h.classID=="computedBrush"){this.Od.b(h.Hrdn.v.val);if(R)this.M.appendChild(this.Od.M)}this.Oe.b(h.Spcn.v.val);
if(R)this.M.appendChild(this.Oe.M)};ul.Nm.prototype.zuV=function(h){this.sr=this.Pe.list[this.Oa.q()].v;
this.Ug()};ul.Nm.prototype.zWz=function(h){this.sr.Brsh.v.Dmtr.v.val=h.target.q();this.Ug()};ul.Nm.prototype.zWu=function(h){this.sr.Brsh.v.Angl.v.val=h.target.q();
this.Ug()};ul.Nm.prototype.zWW=function(h){this.sr.Brsh.v.Rndn.v.val=h.target.q();this.Ug()};ul.Nm.prototype.zWh=function(h){this.sr.Brsh.v.Hrdn.v.val=h.target.q();
this.Ug()};ul.Nm.prototype.zWb=function(h){this.sr.Brsh.v.Spcn.v.val=h.target.q();this.Ug()};ul.yR=function(){ul.vq.call(this,[15,1]);
this.Wt=new uQ([15,4,0],0,100," %");this.Wt.A(e.E.l,this.zWP,this);this.M.appendChild(this.Wt.M);this.WN=new uQ([15,4,1],0,100," %");
this.WN.A(e.E.l,this.zW$,this);this.M.appendChild(this.WN.M);this.WD=new uQ([15,4,2],0,100," %");this.WD.A(e.E.l,this.zWx,this);
this.M.appendChild(this.WD.M);this.WI=new uQ([15,4,3],0,100," %");this.WI.A(e.E.l,this.zWR,this);this.M.appendChild(this.WI.M);
this.WJ=new uQ([15,4,4],0,100," %");this.WJ.A(e.E.l,this.zWT,this);this.M.appendChild(this.WJ.M)};ul.yR.prototype=new ul.vq;
ul.yR.prototype.o=function(){this.Wt.o();this.WN.o();this.WD.o();this.WI.o();this.WJ.o()};ul.yR.prototype.RJ=function(){return this.sr.useTipDynamics.v};
ul.yR.prototype.fG=function(h){this.sr.useTipDynamics.v=h;Wm.eP.pn(this.sr);this.Ug()};ul.yR.prototype.Ux=function(){var h=this.sr;
if(h.useTipDynamics.v==!1)return;this.Wt.b(h.szVr.v.jitter.v.val);this.WN.b(h.minimumDiameter.v.val);
this.WD.b(h.angleDynamics.v.jitter.v.val);this.WI.b(h.roundnessDynamics.v.jitter.v.val);this.WJ.b(h.minimumRoundness.v.val)};
ul.yR.prototype.zWP=function(h){this.sr.szVr.v.jitter.v.val=h.target.q();this.Ug()};ul.yR.prototype.zW$=function(h){this.sr.minimumDiameter.v.val=h.target.q();
this.Ug()};ul.yR.prototype.zWx=function(h){this.sr.angleDynamics.v.jitter.v.val=h.target.q();this.Ug()};
ul.yR.prototype.zWR=function(h){this.sr.roundnessDynamics.v.jitter.v.val=h.target.q();this.Ug()};ul.yR.prototype.zWT=function(h){this.sr.minimumRoundness.v.val=h.target.q();
this.Ug()};ul.hK=function(){ul.vq.call(this,[15,2]);this.Wv=new uQ([15,5,0],0,1e3," %");this.Wv.A(e.E.l,this.zWr,this);
this.M.appendChild(this.Wv.M);this.Wl=new uQ([15,5,1],1,20);this.Wl.A(e.E.l,this.zWs,this);this.M.appendChild(this.Wl.M);
this.WV=new uQ([15,5,2],0,100," %");this.WV.A(e.E.l,this.zWX,this);this.M.appendChild(this.WV.M)};ul.hK.prototype=new ul.vq;
ul.hK.prototype.o=function(){this.Wv.o();this.Wl.o();this.WV.o()};ul.hK.prototype.RJ=function(){return this.sr.useScatter.v};
ul.hK.prototype.fG=function(h){this.sr.useScatter.v=h;Wm.eP.pn(this.sr);this.Ug()};ul.hK.prototype.Ux=function(){var h=this.sr;
if(h.useScatter.v==!1)return;this.Wv.b(h.scatterDynamics.v.jitter.v.val);this.Wl.b(h.Cnt.v);this.WV.b(h.countDynamics.v.jitter.v.val)};
ul.hK.prototype.zWr=function(h){this.sr.scatterDynamics.v.jitter.v.val=h.target.q();this.Ug()};ul.hK.prototype.zWs=function(h){this.sr.Cnt.v=h.target.q();
this.Ug()};ul.hK.prototype.zWX=function(h){this.sr.countDynamics.v.jitter.v.val=h.target.q();this.Ug()};
ul.QJ=function(){ul.vq.call(this,[15,3]);this.ha=new uQ([15,6,0],0,100," %");this.ha.A(e.E.l,this.zWy,this);
this.M.appendChild(this.ha.M);this.TB=new uQ([15,6,1],0,100," %");this.TB.A(e.E.l,this.zWf,this);this.M.appendChild(this.TB.M);
this.hM=new uQ([15,6,2],0,100," %");this.hM.A(e.E.l,this.zhx,this);this.M.appendChild(this.hM.M);this.hb=new uQ([15,6,3],0,100," %");
this.hb.A(e.E.l,this.zhl,this);this.M.appendChild(this.hb.M)};ul.QJ.prototype=new ul.vq;ul.QJ.prototype.o=function(){this.ha.o();
this.TB.o();this.hM.o();this.hb.o()};ul.QJ.prototype.RJ=function(){return this.sr.useColorDynamics.v};
ul.QJ.prototype.fG=function(h){this.sr.useColorDynamics.v=h;Wm.eP.pn(this.sr);this.Ug()};ul.QJ.prototype.Ux=function(){var h=this.sr;
if(h.useColorDynamics.v==!1)return;this.ha.b(h.clVr.v.jitter.v.val);this.TB.b(h.H.v.val);this.hM.b(h.Strt.v.val);
this.hb.b(h.Brgh.v.val)};ul.QJ.prototype.zWy=function(h){this.sr.clVr.v.jitter.v.val=h.target.q();this.Ug()};
ul.QJ.prototype.zWf=function(h){this.sr.H.v.val=h.target.q();this.Ug()};ul.QJ.prototype.zhx=function(h){this.sr.Strt.v.val=h.target.q();
this.Ug()};ul.QJ.prototype.zhl=function(h){this.sr.Brgh.v.val=h.target.q();this.Ug()};function tV(){uy.call(this,[9,0],!1,null,uy.co.HX);
this.ev.setAttribute("style","min-width:200px;");this.mZ=e.X("div","hpbody scrollable");this.mZ.style.height="160px";
this.ev.appendChild(this.mZ);this.zkv=-1;this.cn=[]}tV.prototype=new uy("");tV.prototype.GA=function(h){e.dM(this.mZ);
if(h==null)return;var R=0;for(var d=0;d<h.history.length;d++)if(d<=h.mB&&!h.history[d].XS)R=d;for(var d=0;
d<h.history.length;d++){var L=h.history[d];if(L.XS)continue;var $=new Mi(L,d,R);$.parent=this;this.mZ.appendChild($.M);
this.cn.push($)}if(h.mB==h.history.length-1)this.Kh()};tV.prototype.Kh=function(){this.mZ.scrollTop=this.mZ.scrollHeight};
tV.prototype.o=function(){uy.prototype.o.call(this);for(var h=0;h<this.cn.length;h++)this.cn[h].o()};
function Mi(h,R,d){uD.call(this);this.index=R;this.M=e.X("div",R==d?"listitem selected":"listitem");
this.xk=h.name;this.o();if(R>d)this.M.style.opacity=.4;this.M.addEventListener("click",this.pf.bind(this),!1)}Mi.prototype=new uD;
Mi.prototype.o=function(){this.M.textContent=uP.get(this.xk)};Mi.prototype.pf=function(h){if(this.index==this.parent.zkv)return;
this.jr({c:"h_itemchange",index:this.index})};Mi.prototype.jr=function(h){var R=new X(e.E.Q,!0);R.data=h;
R.L=s.HX;this.R(R)};function tp(){uy.call(this,[9,10],!1,null,uy.co.zkG);var h=e.X("div","padded");this.ev.appendChild(h);
this.AH=new MD(256);h.appendChild(this.AH.M);this.zkV=[];this.dI=[];var R=["Mean:","Pixels:"];for(var d=0;
d<R.length;d++){var L=new WY(R[d]);this.zkV.push(L);h.appendChild(L.M);var $=new WY("hi");this.dI.push($);
h.appendChild($.M);e.Ub(h)}this.Nf=null}tp.prototype=new uy("");tp.prototype.GA=function(h){this.Nf=h;
this.VN()};tp.prototype.VN=function(){var h=this.Nf,g=0;if(!e.Rn(this.ev))return;if(h==null||h.f.length==0){this.AH.b(z.DD(z.h(4)));
this.dI[0].b("");this.dI[1].b("");return}var R=h.DP(),d=new A(0,0,h.k,h.$),L=d.s();if(h.z){var $=h.z.rect,W=z.h($.s()*4);
z.bt(R,d,W,$);z.Yg(h.z.channel,W);R=W;d=$;var M=h.z.channel;L=0;for(var x=0;x<M.length;x++)L+=M[x];L=Math.round(L/255)}var t=z.DD(R);
this.AH.b(t);for(var x=0;x<256;x++)g+=x*(.333*t[1][x]+.333*t[2][x]+.333*t[3][x]);this.dI[0].b((g/L).toFixed(1)+"");
this.dI[1].b(L+"")};tp.prototype.Nk=function(h,R){this.AH.rt(ko.IU[h.$S]["--text-color"])};tp.prototype.o=function(){uy.prototype.o.call(this);
this.AH.o()};tp.prototype.Kh=function(){this.VN()};function MN(){uy.call(this,[9,8],!1,null,uy.co.zki);
this.sG=e.X("div","padded");this.ev.appendChild(this.sG);this.Cc=new hY(10);this.sG.appendChild(this.Cc.M);
this.sG.appendChild(e.X("hr"));this.vG=new hO;this.vG.parent=this;this.sG.appendChild(this.vG.rZ);this.Cc.A(e.E.l,this.zPP,this);
this.vG.A(e.E.l,this.zPP,this)}MN.prototype=new uy("");MN.prototype.zPP=function(h){var R;if(h.target==this.Cc)R=this.Cc.q();
else{var d=this.vG.q();R=Math.round(d.H)<<16|Math.round(d.N)<<8|Math.round(d.W)}var L=new X(e.E.Z,!0);
L.data={c:e.j.nY,Ns:uh.Pf,Ek:0,a:R};this.R(L)};MN.prototype.Nk=function(h,R){var d=h.Ch,L=R==uh.QU;if(R==uh.Pf||L){this.Cc.b(d);
this.vG.b({H:d>>>16&255,N:d>>>8&255,W:d>>>0&255,LJ:"Color #"+z.zJ(d)})}if(R==uh.g$||L){var $=h.zMr;this.vG.Gk($)}};
function zn(){uy.call(this,[12,72],!1,null,uy.co.zuA);this.hB=null;this.Uf=null;this.mZ=e.X("div","lpbody scrollable");
this.Gm=e.X("div","lpfoot");this.ev.appendChild(this.mZ);this.ev.appendChild(this.Gm);this.cC=[];this.A("click",this.ZN,this);
this.mQ=[];zn.eR([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.mQ,this.Gm,this.u_.bind(this),this.ZP.bind(this));
this.zMc=new MQ([{name:"Merge Channels",eZ:!0}]);this.zMc.A("select",this.UP,this)}zn.prototype=new uy("");
zn.prototype.UP=function(h){var R=new X(e.E.Z,!0);R.data={c:e.j.pY,DN:"mergechannels"};this.R(R)};zn.prototype.Zd=function(){return this.zMc};
zn.eR=function(h,R,d,L,$){for(var W=0;W<h.length;W++){var M=new uA("W",!1,h[W]);R.push(M);e.Xh(M.M,L);
d.appendChild(M.M);var x=M.M;x.addEventListener("drop",$,!1);x.addEventListener("dragover",function(t){t.preventDefault()},!1);
x.addEventListener("dragenter",e.dy,!1)}};zn.fI=function(h,R){for(var d=0;d<h.length;d++)if(h[d].M==R.currentTarget)return d};
zn.prototype.u_=function(h){var R=zn.fI(this.mQ,h);if(R==0)this.R(Bd.Zw(!0,null,h));else{R--;var d=new X(e.E.nN,!0),L={classID:"null"};
if(R==0)L.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(R==1)L.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else L.null=tQ.sx("Chnl",!0);d.data={Mh:["duplicate","make","delete"][R],QZ:L};this.R(d)}};zn.prototype.ZP=function(h){var R=zn.fI(this.mQ,h);
if(R==2){var d=new X(e.E.nN,!0),L={classID:"null"};L.null=tQ.sx("Chnl",!0);d.data={Mh:"duplicate",QZ:L};
this.R(d)}else this.u_(h)};zn.prototype.AN=function(h){var R=this.cC,d=R[h];if(d==null){var L=e.X("canvas");
d=L.getContext("2d");R.push(d)}return d};zn.prototype.ZN=function(h){var R=this.hB.slice(0),d=h.data.KW,L=R[0]+R[1]+R[2],$=this.Uf;
if(-5<d&&d<0){var W=-d-1;if(h.data.kZ){if(W==0)R=L==3?[0,0,0]:[1,1,1];else{if(R[W-1]==0)R[W-1]=1;else if(!0)R[W-1]=0}}else{if(W==0)R=[1,1,1];
else{R=[0,0,0];R[W-1]=1}$.rY=[]}var M=new X(e.E.Q,!0);M.L=s.OO;M.data={c:"setcls",ro:R};this.R(M);return}if(-1<d){var x=$._[d],t=x.GJ==1?x.rc():x.ez($).v;
if(h.data.kZ)t.Ar=!t.Ar;else{for(var g=0;g<$.Mk.length;g++)$.Mk[g].Ar=!1;$.rY=[]}}else{var r=-d-5,t=$.Mk[r];
if(h.data.kZ)t.Ar=!t.Ar;else{for(var g=0;g<$.Mk.length;g++)$.Mk[g].Ar=!1;t.Ar=!0;$.rY=[r]}}$.Dw=$.RL=!0};
zn.prototype.Kh=function(){this.iR()};zn.prototype.GA=function(h){this.Uf=h;this.iR()};zn.prototype.iR=function(){var h=this.Uf,R=this.mZ,x=34,t=34,f=4;
e.dM(R);if(h==null||!e.Rn(R))return;var d=h.k,L=h.$,$=new A(0,0,d,L),W=this.hB=h.F.ro.slice(0),M=W[0]+W[1]+W[2];
if(d>L)t=Math.round(t*L/d);else x=Math.round(x*d/L);var g=["RGB"].concat(uJ.HK);for(var r=0;r<4;r++){var l=this.AN(r);
z.Mz.tS(l,x,t,$,h.DP(),$,!1,r==0?null:r-1);var H=r==0?M==3:W[r-1]==1,y=new Bd(-1-r,!0,!0,l,g[r],H,H);
y.parent=this;R.appendChild(y.M)}for(var r=0;r<h.f.length;r++){var b=h._[h.f[r]],K=b.GJ;if(K!=1&&K!=3)continue;
var Z=K==1?b.rc():b.ez(h).v,l=this.AN(f+r);f++;z.Mz.te(l,x,t,$,Z);var y=new Bd(h.f[r],!0,!0,l,b.getName()+(K==1?"":" Filter")+" Mask",!0,Z.Ar);
y.parent=this;R.appendChild(y.M)}for(var r=0;r<h.Mk.length;r++){var Z=h.Mk[r],l=this.AN(f+r);z.Mz.te(l,x,t,$,Z);
var y=new Bd(-5-r,!0,Z.name=="Quick Mask",l,Z.name,h.rY.indexOf(r)!=-1,Z.Ar,s.br,{c:S.to,Ek:"rnm",KW:r});
y.parent=this;R.appendChild(y.M)}};zn.prototype.Bk=function(h,R){this.mZ.style.height=R-9-25+"px"};zn.prototype.o=function(){uy.prototype.o.call(this);
this.iR();zn.ZS(this.mQ,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};zn.ZS=function(h,R){for(var d=0;
d<h.length;d++){var L=h[d];L.UI(e.XW(R[d]))}};function Bd(h,R,d,L,$,W,M,x,t){uD.call(this);this.M=e.X("div","layeritem");
this.zua=h;this.zuM=R;this.zuk=d;this.FT=L;this.zuW=x;this.zuh=t;this.OU=e.X("div",W?"head selected":"head");
this.OU.setAttribute("style","height: "+40+"px");var g=e.X("div","headL"),r=e.X("div","headR"),l=15;
this.M.appendChild(this.OU);this.OU.appendChild(g);this.OU.appendChild(r);this.RP=e.X("div","eye");if(1<e.p()&&e.p()<1.5)l=l/e.p();
this.RP.setAttribute("style","background-size: "+l+"px "+l+"px;");this.RP.style.opacity=M?1:.2;if(R)g.appendChild(this.RP);
this.jP=e.X("div","thumb");if(L)this.jP.appendChild(L.canvas);g.appendChild(this.jP);this.gv=e.X("div","label");
if(d)this.gv.style.fontStyle="italic";this.gv.textContent=uP.get($);g.appendChild(this.gv);var H=this.OU;
H.setAttribute("draggable","true");this.OU.addEventListener("mousedown",this.zbP.bind(this),!1)}Bd.prototype=new uD;
Bd.prototype.ht=function(h){var R=new X(e.E.Q,!0);R.L=this.zuW;R.data=this.zuh;R.data.name=h;this.R(R)};
Bd.prototype.zbP=function(h){var R=h.ctrlKey||h.metaKey,d=this.zua;if(!this.zuk&&h.detail==2&&h.target==this.gv){var L=new uy.uT(this.gv,this.ht.bind(this))}else if(R&&h.target==this.FT.canvas){this.R(Bd.Zw(this.zuM,d,h))}else{var $=new X("click",!0);
$.data={KW:d,kZ:h.target==this.RP,c$:R};this.R($)}};Bd.Zw=function(h,R,d){var L=0;if(d.shiftKey)L++;
if(d.altKey)L+=2;var $=new X(e.E.Q,!0);$.L=s.GD;if(h)$.data={c:"fromchannel",YT:[R,0,L]};else $.data={c:"frompath",YT:[R,0,L]};
return $};function zJ(){uy.call(this,[8,9],!1,null,uy.co.IW);this.hB=null;this.Uf=null;this.mZ=e.X("div","lpbody scrollable");
this.Gm=e.X("div","lpfoot");this.ev.appendChild(this.mZ);this.ev.appendChild(this.Gm);this.ev.addEventListener("click",this.zbn.bind(this),!1);
this.cC=[];this.A("click",this.ZN,this);this.mQ=[];zn.eR([[17,2],"Selection to Path",[5,3],[5,4]],this.mQ,this.Gm,this.u_.bind(this),this.ZP.bind(this))}zJ.prototype=new uy("");
zJ.prototype.u_=function(h){var R=zn.fI(this.mQ,h),d;if(R==0)d=Bd.Zw(!1,null,h);else if(R==1){d=new X(e.E.nN,!0);
d.data={Mh:"make",QZ:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else{var d=new X(e.E.Q,!0);
d.L=s.VL;d.data={c:"pathedit",Ek:["new","del"][R-2]}}this.R(d)};zJ.prototype.ZP=function(h){this.u_(h)};
zJ.prototype.AN=function(h){var R=this.cC,d=R[h];if(d==null){var L=e.X("canvas");d=L.getContext("2d");
R.push(d)}return d};zJ.prototype.zbn=function(h){if(h.target==this.mZ){var R=this.Uf;R.Qg=[];R.NF=[];
R.RL=!0;R.Dw=!0}};zJ.prototype.ZN=function(h){var R=h.data.KW,d=this.Uf,L=h.data.c$,$=0,W,M;if(R<0){$=-1-R;
W=d.Qg;M=d.NF}else{var x=d.lH()[0];for(var t=0;t<x.length;t++){var g=x[t].KW;if(g==R)break;if(g>=0)$++}W=d.NF;
M=d.Qg}if(L){var r=W.indexOf($);if(r==-1)W.push($);else W.splice(r,1)}else{while(W.length!=0)W.pop();
while(M.length!=0)M.pop();W.push($)}d.RL=!0;d.Dw=!0};zJ.prototype.Kh=function(){this.iR()};zJ.prototype.GA=function(h){this.Uf=h;
this.iR()};zJ.prototype.iR=function(){var h=this.Uf,R=this.mZ,x=34,t=34;e.dM(R);if(h==null||!e.Rn(R))return;
var d=h.k,L=h.$,$=new A(0,0,d,L),W=this.hB=h.F.ro.slice(0),M=W[0]+W[1]+W[2];if(d>L)t=Math.round(t*L/d);
else x=Math.round(x*d/L);var g=h.lH(),r=g[0];for(var l=0;l<r.length;l++){var H=r[l],y=this.AN(l);z.Mz.zQZ(y,x,t,$,H.add.vmsk);
var f=new Bd(H.KW,!1,H.KW>=-1,y,H.name,g[1].indexOf(l)!=-1,!1,s.VL,{c:"pathedit",Ek:"rnm",KW:H.KW});
f.parent=this;R.appendChild(f.M)}};zJ.prototype.Bk=function(h,R){this.mZ.style.height=R-9-25+"px"};zJ.prototype.o=function(){uy.prototype.o.call(this);
this.iR();zn.ZS(this.mQ,["lrs/makesel","lrs/makepath","lrs/newlayer","lrs/bin"])};function tG(h){uy.call(this,[9,h?4:5],!1,null,h?uy.co.zeL:uy.co.zkr);
this.ev.setAttribute("style","min-width:240px;");this.zuS=h;this.wH=null;this.Nt=null}tG.prototype=new uy("");
tG.prototype.WM=function(){this.wH=new bD;var h=this.wH,R=this.ev;h.parent=this;if(this.zuS){var d=e.X("div","marged");
R.appendChild(d);d.appendChild(h.Fu.M);R.appendChild(e.X("hr"));var L=e.X("div","marged");R.appendChild(L);
L.appendChild(h.Fh.M);L.appendChild(h.FN.M);var $=e.X("div","marged");R.appendChild($);$.appendChild(h.Fi.M);
$.appendChild(h.mW.M);R.appendChild(e.X("hr"));var W=e.X("div","marged");R.appendChild(W);W.appendChild(h.se.M);
W.appendChild(h.sZ.M);var M=e.X("div","marged");R.appendChild(M);M.appendChild(h.sC.M);M.appendChild(h.FG.M);
R.appendChild(e.X("hr"));var x=e.X("div","marged");R.appendChild(x);x.appendChild(h.tD.M);x.appendChild(h.tI.M);
x.appendChild(h.tK.M);x.appendChild(h.ts.M);x.appendChild(h.MB.M);x.appendChild(h.Mt.M);x.appendChild(h.Mi.M);
x.appendChild(h.Mj.M)}else{var d=e.X("div","marged");R.appendChild(d);d.appendChild(h.yw.M);d.appendChild(h.ym.M);
d.appendChild(h.y_.M);d.appendChild(h.zFY.M);d.appendChild(h.zdD.M);d.appendChild(h.zdF.M);d.appendChild(h.zdC.M);
R.appendChild(e.X("hr"));var L=e.X("div","marged");R.appendChild(L);L.appendChild(h.mh.M);L.appendChild(h.mb.M);
L.appendChild(h.mq.M);R.appendChild(e.X("hr"));var $=e.X("div","marged");R.appendChild($);$.appendChild(h.md.M);
$.appendChild(h.me.M);$.appendChild(h.XD.M)}};tG.prototype.Kh=function(){if(!e.Rn(this.ev))return;if(this.wH==null){this.WM();
var h=this.Nt;if(h)this.wH.b(h.QS,h.UX,h.vA);this.wH.o()}};tG.prototype.o=function(){uy.prototype.o.call(this);
if(this.wH)this.wH.o()};tG.prototype.Nk=function(h,R){this.Nt=h;if(R!=uh.QU&&R!=uh.hV&&R!=uh.ze&&R!=uh.bd)return;
if(this.wH)this.wH.b(h.QS,h.UX,h.vA)};function tT(){uy.call(this,[13,0],!1,null,uy.co.Pf);this.cx=0;
this.zWZ=0;this.Nt=null;var h=e.X("div","flexrow padded");this.ev.appendChild(h);var R=e.X("div");h.appendChild(R);
this.cR=[];for(var d=0;d<2;d++){var L=new zz;this.cR.push(L);L.A("click",this.zbR,this);R.appendChild(L.M)}this.qD=new hA(192);
this.qD.A(e.E.l,this.Kd,this);h.appendChild(this.qD.M)}tT.prototype=new uy("");tT.prototype.zbR=function(h){this.cx=this.cR.indexOf(h.currentTarget);
this.VN()};tT.prototype.Kd=function(h){var R=this.qD.q();this.qD.b(R);var d=Math.round(R.H*255)<<16|Math.round(R.N*255)<<8|Math.round(R.W*255),L=new X(e.E.Z,!0);
L.data={c:e.j.nY,Ns:uh.Pf,Ek:this.cx,a:d};this.R(L);this.zWZ=Date.now()};tT.prototype.VN=function(){var h=this.Nt,R=this.cx,d=[h.Ch,h._W];
for(var L=0;L<2;L++){var $=this.cR[L],W=$.M.style;$.rt(d[L]);if(L==R)delete W.borderColor;else W.borderColor="var(--bg-color)"}var M=d[R];
if(Date.now()-this.zWZ>100)this.qD.b({H:(M>>>16)/255,N:(M>>>8&255)/255,W:(M&255)/255})};tT.prototype.Nk=function(h,R){this.Nt=h;
if(R==uh.QU||R==uh.Pf)this.VN()};tT.prototype.Kh=function(){this.VN()};function zj(){uy.call(this,"CSS",!1,null,uy.co.CSS);
this.Nf=null;var h=e.X("div","padded");this.ev.appendChild(h);this.CM=e.X("textarea");this.CM.setAttribute("rows",16);
this.CM.setAttribute("style","display:block;tab-size:4; font-family:monospace; width:98%; min-width:270px;");
h.appendChild(this.CM)}zj.prototype=new uy("");zj.prototype.GA=function(h){this.Nf=h;this.VN()};zj.prototype.Nk=function(h,R){if(R==uh.ze)this.VN()};
zj.prototype.VN=function(){var h=this.Nf;if(h==null||h.f.length==0)return;if(!e.Rn(this.ev))return;var R=h._[h.f[0]],d=CSS.z_D(R,h);
if(d.length!=0)this.CM.value=d.join(";\n")+";";else this.CM.value=""};zj.prototype.Kh=function(){this.VN()};
function zR(){uy.call(this,[9,6],!1,null,uy.co.zkP);this.ev.setAttribute("style","min-width:240px;");
this.Nf=null;this.Nt=null;var h=e.X("div","marged row");this.ev.appendChild(h);var R=e.X("div","cell");
R.setAttribute("style","width:10em");h.appendChild(R);var d=e.X("div","cell");d.setAttribute("style","width:10em");
h.appendChild(d);this.zuD=new WY("R:");this.zuK=new WY("G:");this.zuZ=new WY("B:");this.ev.appendChild(e.X("hr",""));
var L=e.X("div","marged row");this.ev.appendChild(L);var R=e.X("div","cell");R.setAttribute("style","width:10em");
var d=e.X("div","cell");d.setAttribute("style","width:10em");L.appendChild(R);L.appendChild(d);this.qo=new WY("");
R.appendChild(this.qo.M);e.Ub(R);this.Fq=new WY("");R.appendChild(this.Fq.M);this.Hd=new WY("");d.appendChild(this.Hd.M);
e.Ub(d);this.UQ=new WY("");d.appendChild(this.UQ.M);this.qo.b("X: 100 px");this.Fq.b("Y: 100 px");this.Hd.b("W: 0");
this.UQ.b("H: 0")}zR.prototype=new uy("");zR.prototype.yn=function(h,R,d,L,$){var W=h.F.Px($.x,$.y),M=new kY(Math.floor(W.x),Math.floor(W.y));
if(!1){var x=0,t=0,g=0;if(!$.Pv&&!h.zec()&&new A(0,0,h.k,h.$).hR(M)){var r=h.DP(),l=h.k*M.y+M.x<<2;x=r[l+0];
t=r[l+1];g=r[l+2]}this.zuD.b("R: "+x);this.zuK.b("G: "+t);this.zuZ.b("B: "+g)}this.qo.b("X: "+z.ru.fS(M.x,h.EY,d,h.k));
this.Fq.b("Y: "+z.ru.fS(M.y,h.EY,d,h.$));this.ZD()};zR.prototype.ZD=function(){var h=this.Nf,R=this.Nt,d=0,L=0;
if(h&&R){if(h.F.Ya){d=h.F.Ya.k;L=h.F.Ya.$}else if(h.z){d=h.z.rect.k;L=h.z.rect.$}d=z.ru.fS(Math.abs(d),h.EY,R,h.k);
L=z.ru.fS(Math.abs(L),h.EY,R,h.$)}this.Hd.b(uP.get([12,41]).charAt(0)+": "+d);this.UQ.b(uP.get([12,42]).charAt(0)+": "+L)};
zR.prototype.o=function(){uy.prototype.o.call(this);this.ZD()};zR.prototype.GA=function(h,R,d){this.Nf=h;
this.Nt=d;this.ZD()};function WO(){uy.call(this,[9,1],!1,null,uy.co.br);this.vI=null;this.C$=null;this.RM=null;
this.OU=e.X("div","lphead");this.mZ=e.X("div","lpbody scrollable");this.Gm=e.X("div","lpfoot");this.RA=new ur(null,zP.nw,!1,zP.Aa);
this.RA.A(e.E.l,this.zBM,this);this.OU.appendChild(this.RA.M);this.vX=new WB([12,0],0,100,"%",0);this.vX.A(e.E.l,this.zBF,this);
this.vX.parent=this;this.OU.appendChild(this.vX.M);this.Oj=new bN("<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />",[[12,76,2],[12,40],[7,0]]);
this.Oj.A(e.E.l,this.zBe,this);this.OU.appendChild(this.Oj.M);this.Op=new WB([12,26],0,100,"%",0);this.Op.A(e.E.l,this.zBi,this);
this.Op.parent=this;this.mQ=[];this.eR();this.ev.appendChild(this.OU);this.ev.appendChild(this.mZ);this.ev.appendChild(this.Gm);
this.ev.addEventListener("contextmenu",e.dy,!1);var h=[{name:[14,10]},{name:[14,11],OC:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],OC:!0},{name:[6,7]},{name:"New Smart Obj. via Copy",n:function(W){return{n:W._[W.f[0]].add.SoLd!=null}},OC:!0},{name:[6,8],n:function(W){var M=W._[W.f[0]];
if(M.add.TySh||M.add.SoLd||M.add.SoCo||M.add.GdFl||M.add.PtFl)return{n:!0};return{n:!1}}},{name:[6,34],n:function(W){var M=W._[W.f[0]];
return{n:M.add.lmfx!=null&&!M.If()}}},{name:[6,40],OC:!0,n:function(W){var M=W._[W.f[0]];return{n:M.add.TySh!=null}}},{name:"",OC:!0,n:function(W){var M=W._[W.f[0]],x=M.add.TySh,t=x?x.h_:null;
return{n:x!=null&&t.Curve==null,Zz:uP.get(x&&uM.NZ(t)==0?[16,3,1]:[16,3,0])}}},{name:[6,6,0],OC:!0,n:function(W){return{n:W.rJ(W.f[0]),fz:W._[W.f[0]].Dj}}},{name:[11,6],OC:!0,sub:[{name:[5,1],n:function(W){var M=W._[W.f[0]];
return{n:M.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],n:function(W){var M=W._[W.f[0]];return{n:M.add.lmfx!=null}}}]},{name:[6,10],n:function(W){return{n:W.f.length==1&&W.f[0]!=0&&!W._[W.f[0]].If()}}},{name:[6,12,0],n:function(W){return{n:W.f.length>1||W._[W.f[0]].If()}}},{name:[6,12,1],OC:!0},{name:[13,0],sub:function(){var W=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],M=[];
for(var x=0;x<W.length;x++)M.push({name:W[x]});return M}()}];this.hz=[null,{m:e.E.Q,L:s.GD,g:{c:"fromlayer",YT:[null,0,0]}},S.OP,{m:e.E.Z,g:{c:e.j.pY,DN:"duplinto"}},S.Ot,{m:e.E.nN,g:{Mh:"newPlacedLayer"}},S.DJ,{m:e.E.nN,g:{Mh:"rasterizeLayer",QZ:{classID:"rasterizeLayer",null:tQ.sx("Lyr",!0)}}},S.DU,S.zEB,{m:e.E.Q,L:s._y,g:{c:"switchPntPrgr"}},S.Mn,null,S.tN,S.Bc,S.Ds,S.Kr];
this.KV=new MQ(h);this.KV.A("select",this.UP,this);var R=[{name:[6,45],n:function(W){var M=W._[W.f[0]];
return{n:M.ez(W).v==null}}},{name:[6,47]}];this.zun=[S.rD,S.Dy];this.cJ=new MQ(R);this.cJ.A("select",this.UP,this);
var d=[{name:"enab/disab",n:function(W){return{Zz:uP.get(W._[W.f[0]].rc().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],n:function(W){return{n:W.wI(!1,!0)}}}];
this.zuH=[S.tg,S.Qe,S.DX];this.cs=new MQ(d);this.cs.A("select",this.UP,this);var L=[{name:"enab/disab",n:function(W){return{Zz:uP.get(W._[W.f[0]].ez(W).v.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}];
this.zuy=[S.qh,S.rG];this.cX=new MQ(L);this.cX.A("select",this.UP,this);var $=[{name:"enab/disab",n:function(W){return{Zz:uP.get(W._[W.f[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]}];
this.zWF=[S.QF,S.Qi];this.cy=new MQ($);this.cy.A("select",this.UP,this);this.cY=new MQ(WR.zMy(!0),WR.zMf(!0));
this.zWV=new MQ(WR.zMI(),WR.zML());this.A("rclick",this.zbT,this)}WO.prototype=new uy("");WO.prototype.fF=function(){return new kY(253,0)};
WO.prototype.UP=function(h){var R=h.target.Ir(),d=R[0],L;if(h.target==this.KV)L=this.hz;if(h.target==this.cJ)L=this.zun;
if(h.target==this.cs)L=this.zuH;if(h.target==this.cy)L=this.zWF;if(h.target==this.cX)L=this.zuy;if(h.target==this.cY)L=this.zQb;
if(h.target==this.zWV)L=this.zQB;if(L[d]==null){if(d==0){var $=new X(e.E.Z,!0);$.data={c:e.j.pY,DN:"layerstyle",J:this.C$.f[0]};
this.R($)}else{var W=new X(e.E.Q,!0);W.L=s.mm;W.data={c:["st_copy","st_paste","st_clear"][R[1]],J:this.C$.f[0]};
this.R(W)}return}if(L[d].m!=null){var M=L[d],W=new X(M.m,!0);W.L=M.L;W.data=M.g;h.target.R(W);return}var W=new X(e.E.Q,!0);
if(h.target==this.cY)W.data=L[d];else W.data={c:L[d]};if(L[d]==S.Kr)W.data.zeg=R[1];W.L=s.br;h.target.R(W)};
WO.prototype.zbT=function(h){var R=this.C$,d=h.data,$;if(R.f.indexOf(d.J)==-1){var L={c:S.MG,J:h.target.CB.index,kG:d.GJ};
this.jr(L)}if(R.f.indexOf(d.J)==-1)return;if(d.GJ==1){$=this.cs}else if(d.GJ==2){$=this.cy}else if(d.GJ==3){$=this.cX}else if(d.zWd){$=this.cJ}else{$=this.KV}$.o();
$.update(R);$.parent=this;var W=new X(e.E.Z,!0);W.data={c:e.j.eN,_z:$,x:d.wE.x+1,y:d.wE.y+1};this.R(W)};
WO.prototype.o=function(){uy.prototype.o.call(this);this.RA.o();this.vX.o();this.Oj.o();this.Op.o();
if(this.C$)this.GA(this.C$);var h="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var R=0;R<this.mQ.length;R++){var d=this.mQ[R];d.UI(e.XW(h[R]))}};WO.prototype.GA=function(h,R){if(h==null)e.qH(this.ev,"disabled");
else e.HT(this.ev,"disabled");this.C$=h;this.RM=R;if(this.vI!=null){this.mZ.removeChild(this.vI.mZ);
this.vI=null}if(h==null)return;this.vI=new hB(h.root,this,h,{lo:0});this.mZ.appendChild(this.vI.mZ);
if(h.f.length==0)e.qH(this.OU,"disabled");else{e.HT(this.OU,"disabled");if(h.f.length==1&&h.HD)this.vI.zNt(h.f);
var d=h._[h.f[0]];if(d.If()){this.RA.Ii([[15,10,27]].concat(zP.nw),[1].concat(zP.Aa));var L=zP.RS.indexOf(d.Pg);
this.RA.b(L+1)}else{this.RA.Ii(zP.nw,zP.Aa);var L=zP.RS.indexOf(d.Pg);this.RA.b(L)}this.vX.b(Math.round(100*d.opacity/255));
this.Oj.b([d.NG(1),d.NG(2),d.NG(31)]);this.Op.b(Math.round(100*(d.add.iOpa!=null?d.add.iOpa/255:1)))}};
WO.prototype.Bk=function(h,R){var d=this.OU.getBoundingClientRect().height;d=Math.max(d,52);if(d>68)d=Math.max(d,76);
var L=R-(d+35);this.mZ.style.height=L+"px"};WO.prototype.zBM=function(h){this.jr({c:S.MP,sg:this.RA.q()})};
WO.prototype.zBF=function(h){this.jr({c:S.MN,sg:Math.round(255*this.vX.q()/100)})};WO.prototype.zBe=function(h){this.jr({c:S.QD,sg:[this.Oj.q(),[1,2,31]]})};
WO.prototype.zBi=function(h){this.jr({c:S.q_,sg:Math.round(255*this.Op.q()/100)})};WO.prototype.zBR=function(h){this.zPg(h,this.cY)};
WO.prototype.zqO=function(h){this.zPg(h,this.zWV)};WO.prototype.zPg=function(h,R){var d=h.currentTarget;
if(e.Rn(R.M))return;h.stopPropagation();var L=d.getBoundingClientRect();R.o();R.update(this.C$);R.parent=this;
var $=new X(e.E.Z,!0);$.data={c:e.j.eN,_z:R,x:L.left,y:L.top,zWE:!0};this.R($)};WO.prototype.zqr=function(h){this.jr({c:S.zFi})};
WO.prototype.zFF=function(h){this.jr({c:S.rB})};WO.prototype.zFd=function(h){this.jr({c:S.O_})};WO.prototype.zF_=function(h){this.jr({c:S.Ot})};
WO.prototype.zFg=function(h){this.jr({c:S.QW})};WO.prototype.jr=function(h){var R=new X(e.E.Q,!0);R.data=h;
R.L=s.br;this.R(R)};WO.prototype.eR=function(){var h=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[6,31]],R=[this.zFg,this.zqO,this.zBR,this.zqr,this.zFF,this.zFd,this.zF_],d=this.zF$.bind(this);
for(var L=0;L<h.length;L++){var $=new uA("W",!1,h[L]);this.mQ.push($);e.Xh($.M,R[L].bind(this));this.Gm.appendChild($.M);
if(L>=h.length-3){var W=$.M;W.addEventListener("drop",d,!1);W.addEventListener("dragover",function(M){M.preventDefault()},!1);
W.addEventListener("dragenter",e.dy,!1)}}};WO.prototype.zF$=function(h){e.dy(h);var R=0,d=this.mQ;while(d[R].M!=h.currentTarget)R++;
d[R].QO();var L=h.dataTransfer.getData("Text");if(L=="")return;var L=JSON.parse(L);if(L.cP=="l"){var $={c:[S.FW,S.OP,S.Ot][R-4]};
if(this.C$.f.indexOf(L.Pl)==-1)$.J=L.Pl;this.jr($)}if(R!=6)return;if(L.cP=="sm"||L.cP=="s"){var W=new X(e.E.Q,!0);
W.L=s.mm;W.data={c:L.cP=="sm"?"st_clear":"st_delsingle",J:L.Pl,Pl:L.tx};this.R(W)}if(L.cP=="fm"||L.cP=="f"){this.jr({c:L.cP=="fm"?S.Dy:S.znL,src:L.Pl,tx:L.tx})}if(L.cP=="m"||L.cP=="vm"){this.jr({c:L.cP=="m"?S.Qe:S.Qi,J:L.Pl})}};
function hB(h,R,d,L){uD.call(this);this.parent=R;this.CB=h;this.cV=[];this.M=e.X("div","layeritem");
var $=h.J,u=15,v=!1;this.OU=e.X("div",d.f.indexOf(h.index)!=-1?"head selected":"head");if(h.J.add.artb!=null)e.qH(this.OU,"artb");
this.OU.setAttribute("style","height: "+($.zDw+10)+"px");var W=e.X("div","headL"),M=e.X("div","headR"),x=e.X("div","lpineck");
this.mZ=e.X("div","lpibody");this.M.appendChild(this.OU);this.OU.appendChild(W);this.OU.appendChild(M);
if($.HV()||$.lq())if($.Br())this.M.appendChild(x);var t=this.OU;t.setAttribute("draggable","true");t.addEventListener("dragstart",this.Zp.bind(this),!1);
t.addEventListener("drop",this.Io.bind(this),!1);t.addEventListener("dragover",this.ZI.bind(this),!1);
t.addEventListener("dragenter",e.dy,!1);t.addEventListener("dragleave",this.Z_.bind(this),!1);var g=[],r=[],l=e.X("div");
this.RP=e.X("div","eye");l.appendChild(this.RP);var H=e.X("div","space");this.gv=e.X("div","label");
this.gv.textContent=$.getName();this.va=e.X("div","lock");this.hi=e.X("div","arfx");var y=this.zdl.bind(this),f=this.zEt.bind(this);
this.OU.addEventListener("click",f,!1);this.OU.addEventListener("contextmenu",y,!1);var b=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],K=$.add.lclr==null?0:b[$.add.lclr];
if(K==0)K=L.lo;var Z=[K>>16,K>>8&255,K&255];for(var J=0;J<3;J++){Z[J]=Math.round(.5*Z[J]+.5*220)}if(1<e.p()&&e.p()<1.5)u=u/e.p();
l.setAttribute("style","background-color:rgba("+Z.join(",")+","+(K==0?0:1)+");");this.RP.setAttribute("style","background-size: "+u+"px "+u+"px;");
var C=this.zFX.bind(this);l.addEventListener("mousedown",C,!1);l.addEventListener("mouseover",C,!1);
this.gv.addEventListener("click",this.zdq.bind(this),!1);this.hi.addEventListener("click",this.zdi.bind(this),!1);
g[0]=l;g[1]=H;g[10]=this.gv;if($.If()){var Q=e.X("div","arrow"),i=e.X("div","folder");Q.addEventListener("click",this.zFy.bind(this),!1);
g[2]=Q;g[3]=i;if($.add.lsct==W_.ei){for(var J=h.children.length-1;J>=0;J--){var j=new hB(h.children[J],R,d,{lo:K});
this.cV.push(j);this.mZ.appendChild(j.M)}this.M.appendChild(this.mZ)}Q.setAttribute("class",$.add.lsct==W_.ei?"open":"closed")}else{this.jP=e.X("div","thumb");
g[5]=this.jP;this.jP.appendChild($.QL.canvas)}var V=$.rc();if(V){this.hj=e.X("div","chain");this.R$=e.X("div","thumb");
this.R$.setAttribute("draggable","true");this.R$.appendChild(h.J.zDD.canvas);this.hj.style.opacity=V._q?1:0;
this.hj.addEventListener("click",this.zdt.bind(this),!1)}var E=$.ej()&&$.add.vmsk;if($.add.vmsk&&!E){this.hP=e.X("div","chain");
this.jN=e.X("div","thumb");this.jN.setAttribute("draggable","true");this.jN.appendChild(h.J.zpP.canvas);
this.hP.style.opacity=$.add.vmsk._q?1:0;this.hP.addEventListener("click",this.zdk.bind(this),!1)}if($.lq()&&$.ez(d).v){this.vy=e.X("div","thumb");
this.vy.appendChild(h.J.zpX.canvas);this.vy.addEventListener("click",f,!1);this.vy.addEventListener("contextmenu",y,!1)}if($.HV()){x.addEventListener("contextmenu",y,!1);
var N=new WO.yH(uP.get([12,1]),"sm","layerstyle",h.depth,0,null);N.parent=this;x.appendChild(N.M);var n=$.add.lmfx,a=n.masterFXSwitch.v;
N.nr(a);for(var J=0;J<uz.order.length;J++){var I=n[uz.EN[J]].v;if(I.length==0)continue;for(var q=0;q<I.length;
q++){var N=new WO.yH(uP.get(uz.names[J]),"s","layerstyle",h.depth,1,[J,q]);N.nr(a&&I[q].v.enab.v);N.parent=this;
x.appendChild(N.M)}}}if($.lq()){var N=new WO.yH(uP.get([12,55]),"fm",null,h.depth,0,-1,$.ez(d).v?this.vy:null);
N.parent=this;x.appendChild(N.M);this.zhM=N.M;this.zhM.addEventListener("contextmenu",y,!1);var n=$.add.SoLd.filterFX.v,k=n.filterFXList.v,a=n.enab.v;
N.nr(a);for(var J=k.length-1;J>=0;J--){var F=k[J].v,o=F.filterID.v,G=T.$W(o);if(uJ.zK[G])G=uJ.zK[G];
var w=F.Nm.v;if(u$.names[G])w=uP.get(u$.names[G]);if(uJ.names[G])w=uP.get(uJ.names[G]);var U=Y[G]||u$.Kj[G]?"afw_"+G:null,N=new WO.yH(w,"f",U,h.depth,1,J);
N.nr(a&&F.enab.v);N.parent=this;x.appendChild(N.M)}}if(d._.indexOf($)==d.f[0]){var B=$.GJ,D;if(B<=0)D=this.jP;
else if(B==1)D=this.R$;else if(B==3)D=this.vy;if(D)D.setAttribute("class","thumb active");if($.iH&&this.jN)this.jN.setAttribute("class","thumb active")}l.style.opacity=$.rl()?1:.25;
H.setAttribute("style","width:"+Math.max(0,h.depth-1)*18+"px");var P=$.add.lspf!=null&&$.add.lspf!=0;
this.va.style.opacity=$.NG(31)?1:.5;g[4]=$.Dj?e.X("div","clipp"):null;g[6]=V?this.hj:null;g[7]=V?this.R$:null;
g[8]=$.add.vmsk&&!E?this.hP:null;g[9]=$.add.vmsk&&!E?this.jN:null;var O=$.zU,uk=d.f;if(O!=0)for(var J=0;
J<uk.length;J++)if(d._[uk[J]].zU==O){v=!0;break}r[0]=v?e.X("div","link"):null;r[1]=P?this.va:null;r[2]=$.HV()?e.X("div","lrfx"):null;
r[3]=$.HV()||$.lq()?this.hi:null;this.hi.setAttribute("class",$.Br()?"arfx open  gsicon":"arfx closed  gsicon");
var ut=g;for(var J=0;J<ut.length;J++)if(ut[J])W.appendChild(ut[J]);ut=r;for(var J=0;J<ut.length;J++)if(ut[J])M.appendChild(ut[J])}hB.prototype=new uD;
hB.prototype.zNt=function(h){var R=this.CB.index;if(h.indexOf(R)!=-1){if(this.M.scrollIntoView)this.M.scrollIntoView({block:"nearest"})}for(var d=0;
d<this.cV.length;d++)this.cV[d].zNt(h)};hB.xC=function(h,R){var d=R.getBoundingClientRect();return(h.clientY-d.top)/d.height};
hB.prototype.Zp=function(h){h.stopPropagation();var R=h.target==this.R$?"m":h.target==this.jN?"vm":"l";
h.dataTransfer.setData("Text",JSON.stringify({cP:R,Pl:this.CB.index}))};hB.prototype.Z_=function(h){e.dy(h);
this.Wk()};hB.prototype.Io=function(h){e.dy(h);this.Wk();var R=h.dataTransfer.getData("Text"),d=this.parent.C$,L=hB.xC(h,this.OU),$=this.CB.index;
if(L>.8){var W=!0,M=d.root.UZ($);while(M.parent!=null){var x=M.parent,t=x.children;if(t.indexOf(M)!=0)W=!1;
M=M.parent}if(W){$=0;L=1}}if(R==""){e.zuB(h,this,this.parent.RM.indexOf(d),$+(L>.5?0:1))}else if(R!="--panel"){var R=JSON.parse(R),g=R.cP;
if(g=="l")this.jr({c:S.Qc,source:R.Pl,target:$,sY:L});else if(g=="m"||g=="vm")this.jr({c:g=="m"?S.US:S.UC,src:R.Pl,TN:$,$o:h.altKey});
else hB.zNM(h,R,this)}};hB.zNM=function(h,R,d,L){var $=R.cP,W=d.CB.index,M=R.Pl;if($=="s"||$=="sm")d.jr({c:S.rq,src:M,TN:W,tx:R.tx,$o:h.altKey});
if($=="f"||$=="fm")d.jr({c:S.zAX,src:M,TN:W,tx:R.tx,VO:L==null?0:L,$o:h.altKey})};hB.prototype.ZI=function(h){e.dy(h);
var R=hB.xC(h,this.OU);this.Wk();var d="border-"+(R>.5?"bottom":"top");if(this.CB.J.If()&&.5<R&&R<.8)d="border";
this.OU.style[d]="0.2em solid rgba(0,0,0,0.5)"};hB.prototype.Wk=function(h){this.OU.style.border="none"};
hB.zNi=-1;hB.ZQ=!1;hB.zSW=function(h){hB.ZQ=!1;document.body.removeEventListener("mouseup",hB.zSW)};
hB.prototype.zFX=function(h){if(h.button!=0)return;if(h.type=="mousedown"){hB.ZQ=!0;document.body.addEventListener("mouseup",hB.zSW,!1)}if(h.type=="mouseover"&&(!hB.ZQ||hB.zNi==this.CB.index))return;
e.dy(h);this.jr({c:S.OF,J:this.CB.index});hB.zNi=this.CB.index};hB.prototype.zFy=function(h){this.jr({c:S.zFc,J:this.CB.index})};
hB.prototype.zdt=function(h){this.jr({c:S.qP,J:this.CB.index})};hB.prototype.zdk=function(h){this.jr({c:S.UJ,J:this.CB.index})};
hB.prototype.zdq=function(h){if(h.detail==1)return;this.OU.setAttribute("draggable","false");var R=new uy.uT(this.gv,this.ht.bind(this))};
hB.prototype.ht=function(h){this.jr({c:S.Kb,J:this.CB.index,name:h})};hB.prototype.zdi=function(h){this.jr({c:S.zdg,J:this.CB.index})};
hB.prototype.zdl=function(h){if(this.zSb(h,h.target,this.GJ(h)))return;var R=h.sourceCapabilities;if(R)R=R.firesTouchEvents;
if(h.button!=2&&R!=!0)return;var d=new X("rclick",!0);d.data={J:this.CB.index,GJ:this.GJ(h),wE:e.sA(h,document.body),zWd:h.currentTarget==this.zhM};
this.R(d)};hB.prototype.GJ=function(h){var R=h.target,d=R.parentNode;return d==this.jN?2:d==this.R$?1:d==this.jP?0:d==this.vy?3:-1};
hB.prototype.zEt=function(h){var R=h.target,g=0;if(R==this.RP||R==this.hi||R==this.hj||R==this.hP||R.tagName&&R.tagName.toLowerCase()=="input")return;
var d=this.GJ(h),L=this.parent.C$,$=this.CB.index,W=L._[$];if(R==this.va){this.jr({c:S.QD,J:$,sg:[[0,0,0,0,0],[0,1,2,3,31]]});
return}if(h.button==0&&h.detail==2){if(R==this.gv)return;var M=new X(e.E.Z,!0),x=new X(e.E.nN,!0);if(d==0&&(uJ.get(W.add)||W.add.SoCo||W.add.GdFl||W.add.PtFl))M.data={c:e.j.nx,DN:uy.co.fe};
else if(d!=0&&d!=-1)M.data={c:e.j.nx,DN:uy.co.fe};else if(d==0&&W.add.SoLd)x.data={Mh:"placedLayerEditContents",QZ:{classID:"placedLayerEditContents"}};
else if(d==0&&W.add.TySh)M.data={c:e.j.uA,L:s._y};else M.data={c:e.j.pY,DN:"layerstyle",J:$};this.R(x.data?x:M);
if(d==0&&W.add.TySh){var t=new X(e.E.Q,!0);t.L=s._y;t.data={c:"editCurr",bC:$};this.R(t)}return}if(this.zSb(h,R,d))return;
if(h.button!=0)return;var r={c:S.MG,J:$,kG:d};this.jr(r);if(h.altKey){if(d==1||d==3){var t=new X(e.E.Q,!0);
t.L=s.Gp;t.data={c:"mskView",a:g!=0?0:h.shiftKey?1:2};this.R(t)}else{this.jr({c:S.Mn,J:$})}return}};
hB.prototype.zSb=function(h,R,d){if((h.ctrlKey||h.metaKey)&&(d==0||d==1||d==2)){var L=0;if(h.shiftKey)L++;
if(h.altKey)L+=2;var $=new X(e.E.Q,!0);$.L=s.GD;$.data={c:"fromlayer",YT:[this.CB.index,d,L]};this.R($);
return!0}return!1};hB.prototype.jr=function(h){var R=new X(e.E.Q,!0);R.data=h;R.L=s.br;this.R(R)};WO.yH=function(h,R,d,L,$,W,M){uD.call(this);
this.zhr=R;this.hw=d;this.index=W;this.M=e.X("div","styleitem");this.OU=e.X("div","head");this.OA=e.X("div","eye gsicon");
this.gv=e.X("div","label");this.M.appendChild(this.OU);this.OU.appendChild(this.OA);if(M){this.R$=M;
this.OU.appendChild(this.R$);this.OU.setAttribute("style","height: "+(M.firstChild.height/e.p()+10)+"px")}this.gv.innerHTML=h;
this.M.setAttribute("style","margin-left: "+(24+L*16+$*22)+"px");this.OU.appendChild(this.gv);this.OA.addEventListener("click",this.zEM.bind(this),!1);
var x=this.M;x.setAttribute("draggable","true");x.addEventListener("dragstart",this.Zp.bind(this),!1);
if(!0){x.addEventListener("drop",this.Io.bind(this),!1);x.addEventListener("dragover",this.ZI.bind(this),!1);
x.addEventListener("dragenter",e.dy,!1);x.addEventListener("dragleave",this.Z_.bind(this),!1)}this.M.addEventListener("click",this.WL.bind(this),!1)};
WO.yH.prototype=new uD;WO.yH.prototype.Zp=function(h){h.stopPropagation();h.dataTransfer.setData("Text",JSON.stringify({cP:this.zhr,Pl:this.parent.CB.index,tx:this.index}))};
WO.yH.prototype.Z_=function(h){e.dy(h);this.Wk()};WO.yH.prototype.Io=function(h){e.dy(h);this.Wk();var R=h.dataTransfer.getData("Text");
if(R=="")return;var R=JSON.parse(R);hB.zNM(h,R,this.parent,this.index+(hB.xC(h,this.OU)>.5?0:1))};WO.yH.prototype.ZI=function(h){e.dy(h);
var R=hB.xC(h,this.OU)>.5;this.Wk();var d="border-"+(R?"bottom":"top");this.OU.style[d]="0.2em solid rgba(0,0,0,0.5)"};
WO.yH.prototype.Wk=function(h){this.OU.style.border="none"};WO.yH.prototype.nr=function(h){var R=15;
if(1<e.p()&&e.p()<1.5)R=R/e.p();this.OA.setAttribute("style","background-size: "+R+"px "+R+"px;");this.OA.style.opacity=h?1:.2};
WO.yH.prototype.WL=function(h){if(h.target==this.OA)return;if(h.detail!=1&&this.hw!=null){var R=this.parent.CB.index,d=new X(e.E.Z,!0);
if(this.hw.indexOf("afw_")==0)d.data=uE.BV.znn(this.hw.slice(4),{J:R,index:this.index});else d.data={c:e.j.pY,DN:this.hw,J:R,index:this.index};
this.R(d)}};WO.yH.prototype.zEM=function(h){var R={fm:S.Fw,f:S.Fg,sm:S.qr,s:S.qs}[this.zhr];this.parent.jr({c:R,J:this.parent.CB.index,index:this.index})};
function zo(){uy.call(this,"Guide Guy",!1,null,uy.co.zut);this.Nf=null;this.tY=[];var h=e.X("div","form padded");
this.ev.appendChild(h);h.setAttribute("style","width:200px");this.ev.appendChild(h);var R=e.X("canvas"),d=R.getContext("2d");
R.width=R.height=160;var L=[32,0,16,160,0,32,160,16,0,112,160,16],$="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),W=[0,0,0,0,0,0,0,0,0,0];
for(var M=0;M<10;M++){d.clearRect(0,0,160,160);d.setTransform(1,0,0,1,80,80);d.rotate((M&3)*Math.PI/2);
d.translate(-80,-80);d.fillStyle="rgba(0,0,0,0.3)";if(M<4){for(var x=0;x<12;x+=4){d.fillStyle=x==0?"#000000":"rgba(0,0,0,0.3)";
d.fillRect(L[x],L[x+1],L[x+2],L[x+3])}}else if(M<6){var t=8*6;d.fillRect(0,0,t,160);d.fillRect(8*7,0,t,160);
d.fillStyle="#000000";d.fillRect(8*14,0,t,160)}else if(M<8){d.fillRect(0,0,16,160);d.fillRect(160-16,0,16,160);
d.fillRect(32,0,160-64,160);d.fillStyle="#000000";d.fillRect(32,80-8,160-64,8*1)}else{d.fillRect(0,0,8*7,160);
d.fillRect(8*13,0,160,160);d.fillStyle="#000000";d.fillRect(8*7,80-8,8*6,8*1)}var g="<img src=\""+R.toDataURL()+"\" class=\"autoscale gsicon\" /> ",r=new WB(g,0,200,M==4||M==5?null:"px",null,null,null,4,$[M]);
r.parent=this;r.A(e.E.l,this.zEk,this);r.b(W[M]);r.o();this.tY.push(r);h.appendChild(r.M)}var l=["Add Guides","Clear Guides"];
this.Qm=[];for(var M=0;M<l.length;M++){var H=new uA(l[M],!0,null,!0);this.Qm.push(H);H.A("click",this.fC,this);
h.appendChild(H.M)}for(var M=0;M<6;M++){d.setTransform(1,0,0,1,80,80);d.rotate(Math.floor(M/3)*Math.PI/2);
d.translate(-80,-80);d.clearRect(0,0,160,160);d.fillStyle="rgba(0,0,0,0.3)";d.fillRect(0,0,160,160);
d.clearRect(16,16,128,128);d.fillStyle="#000000";var y=M%3;d.fillRect([0,9,18][y]*8,0,16,160);var g="<img src=\""+R.toDataURL()+"\" class=\"autoscale gsicon\" /> ",H=new uA(g,!1,null,!1);
this.Qm.push(H);H.A("click",this.fC,this);h.appendChild(H.M)}}zo.prototype=new uy("");zo.prototype.zEk=function(h){var R=this.tY,d=R.indexOf(h.target),L=Math.floor(d/2),$=d&1,W=[];
for(var M=0;M<4;M++)W.push(R[2*M+$].q());var x=-1;if(L==2&&W[2]!=0&&W[3]!=0&&W[4]!=0)x=4;if(L==3&&W[3]!=0&&W[2]!=0&&W[4]!=0)x=4;
if(L==4&&W[4]!=0&&W[2]!=0&&W[3]!=0)x=3;if(x!=-1)R[2*x+$].b(0)};zo.prototype.fC=function(h){var R=this.Nf,d=this.Qm.indexOf(h.target),L=[[],[]];
if(R==null)return;var $=R.z?R.z.rect:new A(0,0,R.k,R.$),W=$.k,M=$.$;if(d==0){var x=[[],[]];for(var t=0;
t<this.tY.length;t++)x[t&1].push(this.tY[t].q());L=[zo.zwN(x[0],$.x,$.x+W),zo.zwN(x[1],$.y,$.y+M)];s.Kf.PB(L,R.Py)}else if(d==1){}else{d-=2;
var g=Math.floor(d/3),L=[[],[]];L[g].push([$.x,$.x+W/2,$.x+W,$.y,$.y+M/2,$.y+M][d]);s.Kf.PB(L,R.Py)}var r=function(l,H){return l-H};
L[0].sort(r);L[1].sort(r);this.zEO(L)};zo.prototype.zC$=function(h){var R=this.zQG.indexOf(h.target)};
zo.prototype.zEO=function(h){var R=new X(e.E.Q,!0);R.L=s._h;R.data={c:"gids",RI:h};this.R(R)};zo.zwN=function(h,R,d){var L=[],$=h[2],W=h[3],M=h[4],x=0;
if($==0)x++;if(W==0)x++;if(M==0)x++;if(x>1&&$==0&&W==0){if(h[0]!=0)L.push(R+h[0]);if(h[1]!=0)L.push(d-h[1]);
return L}var t=d-R-h[0]-h[1];if($==0){if(M==0){$=Math.floor(t/W);M=(t-$*W)/($-1)}else{$=1;while(W*$+M*($-1)+W+M<=t)$++}}else if($!=0&&W!=0){if($*W>t)$=Math.floor(t/W);
M=(t-$*W)/($-1)}L.push(R+h[0],d-h[1]);var W=(t-M*($-1))/$;for(var g=1;g<$;g++){if(M==0)L.push(R+h[0]+g*W);
else L.push(R+h[0]+g*W+(g-1)*M,R+h[0]+g*W+g*M)}return L};zo.prototype.GA=function(h){this.Nf=h};function Wd(){uy.call(this,[9,2],!1,null,uy.co.fe);
this.zbk=null;this.iW=null;this.Nt=null;this.zbu=-1}Wd.prototype=new uy("");Wd.prototype.WM=function(){this.sG=e.X("div","padded");
this.sG.style.width="22em";this.ev.appendChild(this.sG);var h=e.X("span","fitem");this.sG.appendChild(h);
this.dU=[new uA([0,3]),new uA([12,73]),new uA([12,91,0])];for(var R=0;R<this.dU.length;R++){var d=this.dU[R];
d.A("click",this.zEX,this);h.appendChild(d.M)}this.sG.appendChild(e.X("hr"));this.vc=new Wd.Nn;this.vc.parent=this;
this.OH=new Wd.Wu;this.OH.parent=this;this.vz=new Wd.eL;this.vz.parent=this;this.zb$=[this.vc,this.OH,this.vz];
this.sG.appendChild(this.vc.M)};Wd.prototype.zEX=function(h){var R=this.dU.indexOf(h.currentTarget);
this.fx(R);this.z_b(R==1?this.OH.Or:-1)};Wd.prototype.fx=function(h){for(var R=0;R<3;R++){this.dU[R].QO();
var d=this.zb$[R].M;if(d.parentNode==this.sG&&R!=h)this.sG.removeChild(d);if(d.parentNode!=this.sG&&R==h)this.sG.appendChild(d)}this.dU[h].mt()};
Wd.prototype.z_b=function(h){var R=this.iW.f[0],d=this.iW._[R],L=h+1;if(h==1&&d.iH)return;var $=new X(e.E.Q,!0);
$.L=s.br;if(h!=1&&d.iH){$.data={c:S.MG,J:R,kG:2};this.R($)}$.data={c:S.MG,J:R,kG:L};this.R($)};Wd.prototype.o=function(){uy.prototype.o.call(this);
if(this.sG==null)return;this.GA(this.iW);for(var h=0;h<3;h++){this.dU[h].o();this.zb$[h].o()}};Wd.prototype.Kh=function(){if(!e.Rn(this.ev))return;
if(this.sG==null){this.WM();this.Nk(this.Nt,uh.QU);this.GA(this.zbk);this.o()}};Wd.prototype.GA=function(h){this.zbk=h;
if(this.sG==null)return;this.vc.GA(h);this.OH.GA(h);this.vz.GA(h);if(h==null||h.f.length==0){e.qH(this.ev,"disabled");
this.iW=null;return}else e.HT(this.ev,"disabled");var R=h.f[0],d=h._[R],L=h.lH(),$=L[0],W=L[1];if(W.length!=0){var M=$[W[0]],x=M.add.vogk,t=!1;
if(x)for(var g=0;g<x.length;g++){var r=x[g].v,l=r.keyShapeInvalidated;if(l&&l.v||r.keyOriginType==null)continue;
t=!0;R=M.KW}}if(h!=this.iW||this.zbu!=R){this.iW=h;this.zbu=R;if(t)this.fx(2);else if(d.GJ<1&&!d.iH)this.fx(0);
else this.fx(1)}this.dU[1].Iy(this.OH.Or!=-1);this.dU[2].Iy(t)};Wd.prototype.Nk=function(h,R){this.Nt=h;
if(this.vc)this.vc.Nk(h,R)};Wd.Nn=function(){uD.call(this);this.M=e.X("div","form");this.zbs=new WY("Hello");
this.M.appendChild(this.zbs.M);this.hp=null;this.zqF=null;this.iW=null;this.zqw=-1;this.zFa=null;this.OS=new zz(!0);
this.OS.parent=this;this.OS.A(e.E.l,this.zeu,this);this.qf=e.X("div","marged hiline");this.qf.appendChild(this.OS.M);
this.xl=new zq("GrFl",!0);this.xl.parent=this;this.xl.A(e.E.l,this.zeW,this);this.GG=e.X("div","marged hiline");
var h="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var R=0;R<h.length;R++){var d=this.xl.Gs[h[R]].M;
this.GG.appendChild(d)}this.RF=new zq("patternFill",!0);this.RF.parent=this;this.RF.A(e.E.l,this.zeS,this);
this.GQ=e.X("div","marged hiline");var h=["Ptrn","Scl","Algn","phase"];for(var R=0;R<h.length;R++){var d=this.RF.Gs[h[R]].M;
this.GQ.appendChild(d)}this.$C={};for(var L in uJ.names){if(Y[L]==null)continue;this.$C[L]=new Y[L];
this.$C[L].A(e.E.l,this.zeQ,this);this.$C[L].parent=this}var $=this.zWe=e.X("div","marged hiline");this.vt=Wd.Zs(["W","H","X","Y"],null,$,this.ZJ,this);
this.uK=new ur([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.uK.A(e.E.l,this.ZJ,this);$.appendChild(this.uK.M);
this.OX=new zz(!1);this.OX.parent=this;this.OX.A(e.E.l,this.ZJ,this);$.appendChild(this.OX.M)};Wd.Nn.prototype=new uD;
Wd.Nn.prototype.o=function(){for(var h in this.$C)this.$C[h].o();this.xl.o();this.RF.o();this.uK.o();
for(var R=0;R<4;R++)this.vt[R].o()};Wd.Nn.prototype.ZJ=function(h){var R=Wd.nk(this.vt),d=S.zSZ(new A(R[2],R[3],R[0],R[1])),L=this.uK.q(),$={classID:"artboard",artboardRect:{t:"Objc",v:d},Clr:{t:"Objc",v:this.OX.q()},artboardBackgroundType:{t:"long",v:L+1}},W=new X(e.E.Q,!0);
W.L=s.br;W.data={c:S.UY,pq:$};this.R(W)};Wd.Nn.prototype.zeu=function(h){var R=this.iW,d=R.f[0];if(R._[d].add.SoCo==null)return;
var L=JSON.parse(JSON.stringify(R._[d].add.SoCo));L.Clr.v=this.OS.q();this.ZH({sS:1,ke:L})};Wd.Nn.prototype.zeW=function(h){var R=this.iW,d=R.f[0];
if(R._[d].add.GdFl==null)return;this.ZH({sS:2,ke:this.xl.q()})};Wd.Nn.prototype.zeS=function(h){this.ZH({sS:3,ke:this.RF.q()})};
Wd.Nn.prototype.ZH=function(h){this.z_N(s.br,{c:S.Kl,TP:[this.iW.f[0]],Q_:!0,a:h})};Wd.Nn.prototype.zeQ=function(h){this.z_N(s.Vl,{c:"edit_layer",a:this.zqF.q()})};
Wd.Nn.prototype.z_N=function(h,R){var d=new X(e.E.Q,!0);d.L=h;d.data=R;this.R(d)};Wd.Nn.prototype.GA=function(h){var R=uP.get([0,3]),d=null;
this.iW=h;if(h&&h._.length>0&&h.f.length!=0){var L=h._[h.f[0]],$=uJ.get(L.add);if($!=null&&this.$C[$]!=null){d=this.$C[$].M;
this.zqF=this.$C[$];this.$C[$].b(L.add[$]);if(h.f[0]!=this.zqw){var W=h.DP(h.f[0]-1);this.zFa=z.DD(W)}this.$C[$].Ce(this.zFa);
R=uP.get(uJ.names[$])}if(L.add.SoCo){d=this.qf;this.OS.b(L.add.SoCo.Clr.v);R=uP.get([6,48,0,0])}if(L.add.GdFl){d=this.GG;
this.xl.update(h,L.add.GdFl);R=uP.get([6,48,0,1])}if(L.add.PtFl){d=this.GQ;this.RF.update(h,L.add.PtFl);
R=uP.get([6,48,0,2])}if(L.add.artb){var M=L.add.artb,x=L.Al();d=this.zWe;this.uK.b(M.artboardBackgroundType.v-1);
if(M.Clr)this.OX.b(M.Clr.v);Wd._C(this.vt,[x.k,x.$,x.x,x.y]);R="Artboard"}this.zqw=h.f[0]}if(d!=this.hp){if(this.hp)this.M.removeChild(this.hp);
if(d!=null)this.M.appendChild(d);this.hp=d}this.zbs.b(R)};Wd.Nn.prototype.Nk=function(h,R){this.xl.Nk(h,R);
this.RF.Nk(h,R);for(var d in this.$C)this.$C[d].Nk(h,R)};Wd.Wu=function(){uD.call(this);this.M=e.X("div","form");
this.iW=null;this.Or=0;var h=e.X("span","fitem");this.M.appendChild(h);this.dU=[new uA([6,2]),new uA([6,3]),new uA([6,50])];
for(var R=0;R<this.dU.length;R++){var d=this.dU[R];d.A("click",this.zex,this);h.appendChild(d.M)}this.zQ=new uQ([12,74],0,255);
this.zQ.A(e.E.l,this.rx,this);this.M.appendChild(this.zQ.M);this.zc=new uQ([7,6],0,500,"px",2,!0);this.zc.A(e.E.l,this.rx,this);
this.M.appendChild(this.zc.M)};Wd.Wu.prototype=new uD;Wd.Wu.prototype.rx=function(h){var R=this.zQ.q(),d=this.zc.q(),L=new X(e.E.Q,!0);
L.L=s.br;L.data={c:S.rI,XM:this.iW.f[0],TO:{rz:this.Or,zQ:R,zc:d}};this.R(L)};Wd.Wu.prototype.o=function(){for(var h=0;
h<this.dU.length;h++)this.dU[h].o();this.zQ.o();this.zc.o()};Wd.Wu.prototype.GA=function(h){this.iW=h;
this.iR()};Wd.Wu.prototype.zex=function(h){this.iR(this.dU.indexOf(h.currentTarget));this.parent.z_b(this.Or)};
Wd.Wu.prototype.iR=function(h){var R=this.iW,d=this.dU;for(var L=0;L<3;L++){var $=d[L];$.QO();$.pF()}if(R==null||R._.length==0||R.f.length==0)return;
var W=-1,M=R._[R.f[0]];if(M.lq()&&M.ez(R).v!=null){d[2].GS();W=2}if(M.add.vmsk){d[1].GS();W=1}if(M.rc()){d[0].GS();
W=0}if(h!=null)W=h;else if(M.iH)W=1;else if(M.GJ==3)W=2;else if(M.GJ==1)W=0;this.Or=W;if(W==-1){this.zQ.pF();
this.zc.pF();return}var x=M.zhw(W);this.zQ.GS();this.zc.GS();this.zQ.b(x.zQ);this.zc.b(x.zc);d[W].mt()};
Wd.eL=function(){uD.call(this);this.M=e.X("div","form");this.vM=1;this.h$=e.X("div");this.TE=Wd.Zs(["W","H","X","Y"],[12,51],this.h$,this.zgB,this);
this.hH=e.X("div");var h=["\u250F","\u2513","\u2517","\u251B"];this.Oy=Wd.Zs(h,[12,91,2],this.hH,this.zgB,this)};
Wd.eL.prototype=new uD;Wd.eL.prototype.o=function(){e.XY(this.TE[0],this.TE[1]);for(var h=2;h<5;h++){this.TE[h].o()}this.Oy[4].o()};
Wd.Zs=function(h,R,d,L,$){var W=e.X("div","numlist");d.appendChild(W);var M=[];for(var x=0;x<4;x++){var t=new WB(h[x],0,0,null,1,!1,!0);
t.A(e.E.l,L,$);W.appendChild(t.M);M.push(t);if(x==1||x==3)e.Ub(W)}if(R){M[4]=new uX(R);M[4].b(!0);d.appendChild(M[4].M)}return M};
Wd._C=function(h,R){for(var d=0;d<4;d++)h[d].b(R[d])};Wd.nk=function(h){var R=[];for(var d=0;d<4;d++)R[d]=h[d].q();
return R};Wd.eL.prototype.zgB=function(h){var R=this.TE.indexOf(h.currentTarget),d=this.Oy.indexOf(h.currentTarget),L=[null,null,null,null],$=[null,null,null,null];
if(R!=-1){var W=Wd.nk(this.TE),M=this.TE[4].q();W[0]=Math.max(1,W[0]);W[1]=Math.max(1,W[1]);if(M&&R==0)W[1]=W[0]/this.vM;
if(M&&R==1)W[0]=W[1]*this.vM;L[0]=W[2];L[1]=W[3];L[2]=L[0]+W[0];L[3]=L[1]+W[1]}if(d!=-1){var W=Wd.nk(this.Oy);
$[d]=Math.max(0,W[d]);if(this.Oy[4].q())for(var x=0;x<4;x++)$[x]=$[d];var t=$[3];$[3]=$[2];$[2]=t}var g=new X(e.E.Q,!0);
g.L=s.br;g.data={c:S.Uy,Re:L,znX:$};this.R(g)};Wd.eL.prototype.GA=function(h){if(h==null)return;var R=this.h$.parentNode!=null,d=this.hH.parentNode!=null,L=z.qK.wy(h),$=L[0],W=L[1];
if($){if(!R)this.M.appendChild(this.h$);this.vM=($[2]-$[0])/($[3]-$[1]);Wd._C(this.TE,[$[2]-$[0],$[3]-$[1],$[0],$[1]])}else if(R)this.M.removeChild(this.h$);
if(W){if(!d)this.M.appendChild(this.hH);var M=W[2];W[2]=W[3];W[3]=M;Wd._C(this.Oy,W)}else if(d)this.M.removeChild(this.hH)};
function zN(h){uy.call(this,h.name,!0);this.C$=h;this.Ow=null;this.wU=[];this.vu=!1;this.PG={x:0,y:0,Pv:!1};
this.hv=!0;this.Ol=document.createElement("canvas");this.OY=this.Ol.getContext("2d");this.Ou=document.createElement("canvas");
this.C=this.Ou.getContext("2d");var R=16,d=z.h(16*16*4);z.VG(d,R,R,8,0,0);this.cG=z.scale.fY(d,R,R);
this.zWi=this.sn.bind(this);this.ga=this.xT.bind(this);this.zFt=this.GL.bind(this);var L=this.ev;e.Xh(L,this.zWi);
e.rh(L,this.ga);L.addEventListener("wheel",this.Ew.bind(this),!1);L.addEventListener("contextmenu",this.zev.bind(this),!1);
this.zX=0;this.vW="";this.iP=4;L.addEventListener("touchmove",e.uz,!1)}zN.prototype=new uy;zN.prototype.zEh=function(){if(this.C$.sI())return window.confirm(uP.get([22,6,3])+" "+this.C$.name+". "+uP.get([22,6,4]));
return!0};zN.prototype.uz=function(h){h.preventDefault()};zN.prototype.zgT=function(h){var R=-1,d=this.wU;
for(var L=0;L<d.length;L++)if(d[L].pointerId==h.pointerId)R=L;return R};zN.prototype.sn=function(h){this.wU.push(h);
if(this.wU.length==1){var R=h.button!=null&&h.button!=0?"rdown":"down",d=new X("mouse",!0);d.action=R;
this.eJ(h,d);this.R(d);e.yK(this.ev,this.ga);e.rh(window,this.ga);e.rw(window,this.zFt)}if(this.wU.length==2){this.zQL("multidown");
this.vu=!0}};zN.prototype.xT=function(h){var R=this.zgT(h);if(R!=-1)this.wU[R]=h;if(this.wU.length>1){this.zQL("multimove")}if(this.vu)return;
var d=new X("mouse",!0);d.action="move";this.eJ(h,d);this.R(d)};zN.prototype.GL=function(h){var R=this.wU,d=this.zgT(h);
R.splice(d,1);if(R.length==0){var L=h.button!=null&&h.button!=0?"rup":"up",$=new X("mouse",!0);$.action=L;
this.eJ(h,$);this.R($);e.yK(window,this.ga);e.fO(window,this.zFt);e.rh(this.ev,this.ga);this.vu=!1}};
zN.prototype.Ew=function(h){this.uz(h);if(h.deltaX==0&&h.deltaY==0)return;var R=new X("mouse",!0);R.action="scroll";
R.c$=h.ctrlKey;this.eJ(h,R);this.R(R)};zN.prototype.zev=function(h){e.dy(h);var R=h.sourceCapabilities;
if(R)R=R.firesTouchEvents;if(R){var d=new X("mouse",!0);this.eJ(h,d);d.action="rdown";this.R(d);d.action="rup";
this.R(d)}};zN.prototype.zQL=function(h){var R=this.wU,d=e.p(),L=[];for(var $=0;$<R.length;$++){var W=L[$]=e.sA(R[$],this.ev);
W.x*=d;W.y*=d}var M=new X("mouse",!0);M.action=h;M.HZ=L;this.R(M)};zN.prototype.eJ=function(h,R,d){var L=this.wU.length!=0;
if(R.action!="up"){var $=e.p();if(d==null)d=e.sA(h,this.ev);this.PG=R.Un={x:$*d.x,y:$*d.y,Pv:L};var W=e.sA(h,document.body);
R.Un.lV=W.x;R.Un.ZE=W.y}else this.PG=R.Un={x:this.PG.x,y:this.PG.y,Pv:L};R.Un.we=1;if(h.pressure!=null&&h.pressure!=0)R.Un.we=h.pressure*2;
if(h.deltaX!=null){var M=h.deltaMode==0?1:40;R.bQ=new kY(h.deltaX*M,h.deltaY*M)}};zN.prototype.Nk=function(h,R){this.Ow=h};
zN.prototype.GA=function(h){this.Kh();this.VN()};zN.prototype.Bk=function(h,R){if(h<=0||R<=0)return;
this.Hl=h;this.om=R;var d=this.C$,L=e.p();d.F.C.k=Math.floor(h*L);d.F.C.$=Math.floor(R*L);e.PH(this.Ou,h,R);
e.PH(this.Ol,h,R);e.PH(c.Me(),h,R);if(d.F.P==0)d.F.P=s.en.Pn(d.k,d.$,h*L,R*L);this.hv=!0;this.VN()};
zN.prototype.Kh=function(){var h=this.ev.firstChild;if(!c.BG&&h==c.Me()||c.BG&&h==this.Ou)this.ev.removeChild(h);
this.ev.appendChild(c.BG?c.Me():this.Ou)};zN.prototype.VN=function(){if(c.BG!=this.iP){this.zX=0;this.vW="";
this.hv=!0}this.iP=c.BG;if(this.Ow==null)return;if(c.BG)this.ziB();else this.nQ();var h=this.C$;this.zX=h.F.P;
this.vW=JSON.stringify(h.F.ro);this.hv=!1};zN.prototype.ziB=function(){if(c.BG&&zN.zFj==null)zN.zFj=new zN.Gh(!1);
if(c.BG&&zN.zFn==null)zN.zFn=new zN.Gh(!0);var h=this.C$,x;if(h.wJ==null)return;var R=h.F,d=R.C.k,L=R.C.$,$=c.FT;
this.C.clearRect(0,0,R.C.k,R.C.$);var W=this.zKF(h);if(R.pE==null)R.pE=new c.Zb(R.C.k,R.C.$);if(W)R.pE.set(this.Ou);
else{c.Cq(R.pE);c.DW(0)}var M=new A(0,0,h.k*R.P,h.$*R.P);M.x=Math.round((d-h.k*R.P)/2+R.T.x);M.y=Math.round((L-h.$*R.P)/2+R.T.y);
var t=[0,0,0,0],g=[];if(h.add.artd){t=zN.nB(h);var r=h.k,l=h.$;x=zN.zFn;for(var H=0;H<h._.length;H++){var y=h._[H],f=y.add.artb;
if(f==null||!y.rl())continue;var b=y.Al();g.push(b.x/r,b.y/l,b.k/r,b.$/l)}if(g.length>32*4){g=g.slice(0,32*4)}while(g.length<32*4){g.push(0,0,0,0)}}else x=zN.zFj;
c.ey(d,L);c.DW(0);c.ey(d,L);x.GV();x.GR(R.pE.zH,h.wJ.zH,new Float32Array([M.x/d,M.y/L,M.k/d,M.$/L]),new Float32Array([8/d,8/L]),h.k,h.$,1/h.F.P,d,L,new Float32Array(g),new Float32Array(t),new Float32Array(z.lh.i_(z.lh.Fs(R.ro))));
$.drawArrays($.TRIANGLES,0,6)};zN.nB=function(h){var R=h.add.artd.canvasColor;if(R==null)return[0,0,0,0];
return zN.zii(R)};zN.zii=function(h){var R=z.i.IZ(h.v),d=[R.H/255,R.N/255,R.W/255,1];for(var L=0;L<4;
L++)d[L]=Math.min(1,d[L]);return d};zN.sD=function(h,R){var d=h[2]*255;if(c.BG)d=R?0:Math.max(1,d);return"rgba("+h[0]*255+","+h[1]*255+","+d+","+h[3]+")"};
zN.np=function(h){if(c.BG)for(var R=0;R<h.length;R+=4){if(h[R+2]==0)h[R+2]++}};zN.prototype.nQ=function(){var h=this.C$;
if(h.buffer==null)return;var R=h.F,d=R.C.k,L=R.C.$;this.OY.clearRect(0,0,R.C.k,R.C.$);this.C.clearRect(0,0,R.C.k,R.C.$);
if(h.add.artd==null){}else{this.C.fillStyle=zN.sD(zN.nB(h));this.C.fillRect(0,0,R.C.k,R.C.$)}var $=R.ZL(),W=R.C.hc($);
this.C.save();this.C.translate($.x,$.y);if(h.add.artd==null){this.C.fillStyle=this.cG;this.C.fillRect(0,0,$.k,$.$)}this.C.restore();
var M=h.k!=R.XL.k||h.$!=R.XL.$;if(M)R.XL.qC(0,0,h.k,h.$);var x=JSON.stringify(R.ro);if(R.P<=1){if(R.P!=this.zX||x!=this.vW||h.Uq){if(R.P!=this.zX||R.Gu==null||M)R.Gu=this.C.createImageData(Math.max(1,$.k),Math.max(1,$.$));
if(R.P<1){var t=z.qG(h.buffer,new A(0,0,h.k,h.$),R.P,new Uint8Array(R.Gu.data.buffer))}else z.kW(h.buffer,R.Gu.data);
z.lh.FJ(R.Gu.data,R.Gu.data,z.lh.Fs(R.ro))}this.OY.putImageData(R.Gu,$.x,$.y);this.C.drawImage(this.Ol,W.x,W.y,W.k,W.$,W.x,W.y,W.k,W.$)}else{var g=R.sL(),r=new A(0,0,g.k*R.P,g.$*R.P);
r.x=g.x*R.P+$.x;r.y=g.y*R.P+$.y;if(R.P!=this.zX||this.hv){R.xt=z.h(g.s()*4);R.Gu=this.C.createImageData(r.k,r.$)}z.set(R.xt,0);
z.bt(this.C$.buffer,new A(0,0,h.k,h.$),R.xt,g);z.scale._$(R.xt,g.k,g.$,R.Gu.data,r.k,r.$,R.P);z.lh.FJ(R.Gu.data,R.Gu.data,z.lh.Fs(R.ro));
this.OY.putImageData(R.Gu,r.x,r.y);this.C.drawImage(this.Ol,0,0)}this.zKF(h)};zN.prototype.zKF=function(h){var R=h.F,d=R.ro[0]+R.ro[1]+R.ro[2],L=!1,$=[];
for(var W=0;W<h.f.length;W++){var M=h._[h.f[W]],x=M.GJ;if(x!=1&&x!=3)continue;var t=x==1?M.rc():M.ez(h).v;
if(t.Ar)$.push(t)}for(var W=0;W<h.Mk.length;W++)if(h.Mk[W].Ar)$.push(h.Mk[W]);for(var W=0;W<$.length;
W++){var t=$[W];this.zCr(t.channel,t.rect,R,$.length==1&&d==0?2:1,t.color,t.lo);L=!0}var g=this.Ow;L=this.ziP(h,this.C,R)||L;
if(h.z&&g.gl&&g.UU.bj){this.zCr(h.z.channel,h.z.rect,R,0,0,null);L=!0}return L};zN.prototype.zCr=function(h,R,d,L,$,W){var M=d.ZL(),x,t,g,r=0;
if(W)r=Math.round(W.W)<<16|Math.round(W.N)<<8|Math.round(W.H);if(d.P<=1){x=R.clone();x.x=Math.round(x.x*d.P);
x.y=Math.round(x.y*d.P);x.k=Math.floor(x.k*d.P);x.$=Math.floor(x.$*d.P);t=h;if(d.P<1){if(d.qd==null||d.qd.length<R.s()>>>1){console.log("here");
d.qd=z.h(R.s()>>>1)}t=d.qd;var l=z.YD(h,R,d.P,t);x.k=l.rect.k;x.$=l.rect.$}if(d.ng==null||d.ng.length!=x.s()*4)d.ng=z.h(x.s()*4);
else z._M(d.ng,0);var H=d.C.clone();H.offset(-M.x,-M.y);g=x.hc(H)}else{var y=d.sL();x=new A(y.x*d.P,y.y*d.P,y.k*d.P,y.$*d.P);
if(d.ng==null||d.ng.length!=x.s()*4){d.qd=z.h(x.s());d.ng=z.h(x.s()*4)}var f=z.h(y.s());z.set(f,$);z.mF(h,R,f,y);
z.scale.nh(f,y.k,y.$,d.qd,x.k,x.$,d.P);z._M(d.ng,0);t=d.qd}if(L==0)z.z.zOj(t,d.ng,x,g);else{var b=M.x,K=M.y,Z=M.k,J=M.$;
g=x.hc(new A(0,0,Z,J));if(d.P<=1){this.C.fillStyle=L==2?zN.sD([$/255,$/255,$/255,1]):zN.sD([W.H/255,W.N/255,W.W/255,.5*(1-$/255)]);
var u=b,C=u+g.x,Q=C+g.k,i=u+Z,j=K,V=j+g.y,E=V+g.$,N=j+J;this.C.fillRect(b,j,Z,V-j);this.C.fillRect(b,V,C-u,E-V);
this.C.fillRect(Q,V,i-Q,E-V);this.C.fillRect(b,E,Z,N-E)}z.z.zOP(t,d.ng,x,g,L,r)}zN.np(d.ng);if(d.P<=1)this.OY.clearRect(0,0,d.C.k,d.C.$);
if(x.s()!=0){var n=new ImageData(new Uint8ClampedArray(d.ng.buffer),x.k,x.$);this.OY.putImageData(n,M.x+x.x,M.y+x.y);
this.C.drawImage(this.Ol,0,0)}};zN.prototype.ziP=function(h,R,d){var L=h.d.Wa||h.d.Gw||h.d.Nq||h.d.Ti.length!=0||h.d.jc.length!=0,$=this.Ow,W=$.UU,M=d.ZL(),x=new um(d.P,0,0,d.P,M.x+.5,M.y+.5),t=ko.IU[$.$S],g=Math.round(12*e.p());
if(h.add.artd){var r=zN.nB(h)[0];r=r<.5?r+.5:r-.5;r=""+Math.round(r*255).toString(16);while(r.length<2)r="0"+r;
R.fillStyle="#"+r+r+r;R.font=g+"px sans-serif";for(var l=0;l<h._.length;l++){var H=h._[l];if(H.add.artb==null||!H.rl())continue;
var y=H.Al(),f=new kY(y.x,y.y);f=x.Ny(f);R.fillText(H.getName(),Math.round(f.x),Math.round(f.y-6));L=!0}}var b=zN.sD([.1,.5,1,1]),K=zN.sD([1,1,1,1]);
if($.gl&&W.bs){R.fillStyle=R.strokeStyle=b;R.lineWidth=1.5;var Z=h.lH(),J=Z[0],u=Z[1];for(var C=0;C<u.length;
C++){var H=J[u[C]],Q=H.add.vmsk,i=Q.r,j=z.G.yJ(i);this.xs(j,x,R);R.stroke();L=!0;var V=Math.round(3*e.p()),E=i.length-3;
for(var l=0;l<Q.nD.length;l++){var N=z.t.kg(i,Q.nD[l]);if(N==null)continue;var n=M.x+N.x*d.P,a=M.y+N.y*d.P;
R.beginPath();var I=l==0;if(Q.qv)I=!I;if(I){R.moveTo(n-V,a-V);R.lineTo(n+V,a+V);R.moveTo(n-V,a+V);R.lineTo(n+V,a-V);
R.stroke()}else{R.arc(n,a,V*1,0,2*Math.PI);R.fill()}L=!0}if(h.f.length!=1)continue;var q=-1;for(var l=0;
l<i.length;l++){if(i[l].type>5)continue;if(i[l].type==0||i[l].type==3){if(i[l].uH!=-1)q++;continue}if(Q.f.indexOf(q)!=-1){var n=M.x+i[l].O.x*d.P,a=M.y+i[l].O.y*d.P;
R.fillRect(Math.round(n-V+.5),Math.round(a-V+.5),2*V-1,2*V-1)}if(Q.ih.indexOf(l)!=-1){var k=[i[l].O];
R.beginPath();R.moveTo(M.x+i[l].MW.x*d.P,M.y+i[l].MW.y*d.P);R.lineTo(M.x+i[l].O.x*d.P,M.y+i[l].O.y*d.P);
R.lineTo(M.x+i[l].dD.x*d.P,M.y+i[l].dD.y*d.P);R.stroke();if(!i[l].O.PC(i[l].MW))k.push(i[l].MW);if(!i[l].O.PC(i[l].dD))k.push(i[l].dD);
for(var F=0;F<k.length;F++){var N=k[F],n=M.x+N.x*d.P,a=M.y+N.y*d.P;if(F==0&&(i[l].type==2||i[l].type==5))R.fillRect(Math.round(n-1.2*V),Math.round(a-1.2*V),Math.round(2.4*V),Math.round(2.4*V));
else{R.beginPath();R.arc(n,a,V*1.2,0,2*Math.PI);R.fill();if(F!=0)R.fillStyle=K;R.beginPath();R.arc(n,a,V*.8,0,2*Math.PI);
R.fill();R.fillStyle=b}}}L=!0}}}R.fillStyle=R.strokeStyle=zN.sD([0,0,0,1],!0);R.lineWidth=1;if(h.d.Wa){this.xs(h.d.Wa,x,R);
R.fill()}if(h.d.Gw){this.xs(h.d.Gw,x,R);R.stroke()}for(var o in h.d.Uh)if(h.d.Uh[o].Gw){this.xs(h.d.Uh[o].Gw,x,R);
R.stroke()}R.beginPath();var V=4*e.p(),G=h.d.CI;for(var l=0;l<G.length;l+=2){L=!0;var n=M.x+G[l]*d.P,a=M.y+G[l+1]*d.P;
R.rect(n-V+.5,a-V+.5,2*V-1,2*V-1)}R.stroke();var G=h.d.zCm;R.beginPath();var V=4*e.p();for(var l=0;l<G.length;
l+=2){L=!0;var n=M.x+G[l]*d.P,a=M.y+G[l+1]*d.P;R.moveTo(n+V-.5,a);R.arc(n,a,V-.5,0,2*Math.PI)}R.fill();
var G=h.d.$r;R.fillStyle=zN.sD([1,1,1,1]);R.beginPath();var V=6*e.p();for(var l=0;l<G.length;l+=2){L=!0;
var n=M.x+G[l]*d.P,a=M.y+G[l+1]*d.P;R.moveTo(n+V-.5,a);R.arc(n,a,V-.5,0,2*Math.PI)}R.fill();var V=4*e.p();
for(var l=0;l<G.length;l+=2){L=!0;var n=M.x+G[l]*d.P,a=M.y+G[l+1]*d.P;R.fillStyle=zN.sD(h.d.ph.indexOf(l>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);
R.beginPath();R.moveTo(n+V-.5,a);R.arc(n,a,V-.5,0,2*Math.PI);R.fill()}if(h.d.Ti.length!=0){for(var l=0;
l<h.d.Ti.length;l++){var w=h.d.Ti[l],U=w[1];R.putImageData(new ImageData(new Uint8ClampedArray(w[0].buffer),U.k,U.$),U.x,U.y)}}if(h.d.g_){L=!0;
var B=h.d.g_,D=B.vV,j={D:[],B:[]};for(var l=0;l<B.vl.length;l++)z.G.concat(j,z.G.ii(B.vl[l]));j.B=j.B.concat(D);
for(var l=0;l<D.length;l+=4)j.D.push("M","L");R.strokeStyle=zN.sD([.9,.2,.2,1]);this.xs(j,x,R);R.stroke();
var P=e.p();for(var l=0;l<D.length;l+=4){var n=D[l],a=D[l+1],v=D[l+2],O=D[l+3],uk=Math.sqrt((O-a)*(O-a)+(v-n)*(v-n));
uk=z.ru.fS(uk,h.EY,$,a==O?h.k:h.$);var ut=new kY((n+v)/2,(a+O)/2);ut=x.Ny(ut);R.fillStyle=zN.sD([.9,.2,.2,1]);
var ua=R.measureText(uk),uu=ua.width;R.fillRect(ut.x-uu/2-2.5*P,ut.y-7.5*P,uu+5*P,15*P);R.fillStyle=zN.sD([1,1,1,1]);
R.fillText(uk,ut.x-uu/2,ut.y+4*P)}}if($.gl){R.lineWidth=1;if(W.dT){var uW=z.ru.tv(W.nt,h,W.nq),kV=uW;
if(W.nq==4)kV*=h.$/h.k;this.qF(h,M,R,uW,kV,1,W.BK);L=!0}if(W.vY&&h.F.P>7){this.qF(h,M,R,1,1,.5,W.BK);
L=!0}if(W.Py){R.beginPath();R.strokeStyle=zN.sD([0,1,1,1]);for(var l=0;l<h.Py[0].length;l++){var p=Math.round(h.F.Ia(h.Py[0][l],0).x)+.5;
R.moveTo(p,0);R.lineTo(p,h.F.C.$)}for(var l=0;l<h.Py[1].length;l++){var _=Math.round(h.F.Ia(0,h.Py[1][l]).y)+.5;
R.moveTo(0,_);R.lineTo(h.F.C.k,_)}R.closePath();R.stroke()}var uB=h.tj;if(W.tj&&uB.length!=0){var ub=R.font;
R.font=Math.round(g*.8)+"px sans-serif";var uq=[],uF=[];for(var l=0;l<uB.length;l++){var ue=s.B$.Bo(uB,l);
uq.push(ue);if(h.Cy.indexOf(l)!=-1)uF.push(ue)}uq.reverse();var up=Date.now();uq=z.rect.ty([0,0,h.k,h.$],uq);
R.translate(.5,.5);for(var F=0;F<2;F++)for(var l=0;l<uq.length;l++){var ui=uq[l],q=ui[4],zd=q!=null?uB[q]:null;
if(zd&&F==0||zd==null&&F==1)continue;var uN=h.F.Ia(ui[0],ui[1]),u_=h.F.Ia(ui[2],ui[3]),n=Math.round(uN.x),a=Math.round(uN.y),v=Math.round(u_.x),O=Math.round(u_.y);
R.strokeStyle=R.fillStyle=zN.sD(zd?[0,.7,.7,1]:[.8,.8,.8,1]);R.beginPath();R.moveTo(n,a);R.lineTo(v,a);
R.lineTo(v,O);R.lineTo(n,O);R.closePath();R.stroke();var za=l+1,ua=R.measureText(za),uu=ua.width;R.fillRect(n-.5,a-.5,Math.round(uu+g/2),g);
R.fillStyle=zN.sD([1,1,1,1]);R.fillText(za,n+g/4,Math.round(a+g*.8)-.5)}for(var l=0;l<uF.length;l++){var ui=uF[l],uN=h.F.Ia(ui[0],ui[1]),u_=h.F.Ia(ui[2],ui[3]),n=Math.round(uN.x),a=Math.round(uN.y),v=Math.round(u_.x),O=Math.round(u_.y);
R.strokeStyle=R.fillStyle=zN.sD([0,.7,.7,1]);R.beginPath();R.moveTo(n,a);R.lineTo(v,a);R.lineTo(v,O);
R.lineTo(n,O);R.closePath();R.stroke();var uZ=[n,a,v,a,v,O,n,O];for(var uj=0;uj<uZ.length;uj+=2){var p=uZ[uj],_=uZ[uj+1],uw=uZ[uj+2&7],tI=uZ[uj+3&7];
R.fillRect(p-2.5,_-2.5,4,4);R.fillRect(Math.round((p+uw)/2)-2.5,Math.round((_+tI)/2)-2.5,4,4)}}R.translate(-.5,-.5);
R.font=ub;L=!0}}R.strokeStyle=zN.sD([1,0,0,1]);if(h.d.Nq){this.xs(h.d.Nq,x,R);R.stroke()}if($.Qj){if(h.F.Lx==null||h.F.Lx.width!=h.F.C.k||h.F.jJ.height!=h.F.C.$){h.F.Lx=R.createImageData(h.F.C.k,z.ru.Tx);
h.F.jJ=R.createImageData(z.ru.Tx,h.F.C.$)}var t=ko.IU[$.$S],d=h.F,ug=d.P*h.k/2,uO=d.P*h.$/2,uC=[1,h.EY,h.EY/2.54,h.EY/25.4,h.k/100][W.CQ],ux=d.P,zu=d.T.clone();
d.P*=uC;d.T.x+=ug*uC-ug;d.T.y+=uO*uC-uO;z.ru.zAq(d,t["--text-color"],t["--bg-input"]);d.P=ux;d.T=zu;
var uL=WS.zwZ(d.P,zN.sD([1,1,1,1]));zN.np(h.F.jJ.data);zN.np(h.F.Lx.data);R.putImageData(h.F.jJ,0,0);
R.putImageData(h.F.Lx,0,0);R.putImageData(uL,0,h.F.C.$-uL.height)}if(h.d.jc.length!=0){for(var l=0;l<h.d.jc.length;
l++){var w=h.d.jc[l],U=w[1];R.putImageData(new ImageData(new Uint8ClampedArray(w[0].buffer),U.k,U.$),U.x,U.y)}}return L||$.Qj||h.Py[0].length+h.Py[1].length>0};
zN.prototype.qF=function(h,R,d,L,$,W,M){while(L*h.F.P<4){L*=2;$*=2}var x=R.x,t=x+R.k,g=R.y,r=g+R.$;d.beginPath();
d.strokeStyle=zN.sD([.5,.5,.5,W],!0);for(var l=0;l<=h.k;l+=L){var H=Math.round(h.F.Ia(l,0).x)+.5;d.moveTo(H,g);
d.lineTo(H,r)}if(M==0){for(var y=0;y<=h.$;y+=$){var f=Math.round(h.F.Ia(0,y).y)+.5;d.moveTo(x,f);d.lineTo(t,f)}}else{$*=Math.sqrt(4/3);
var b=(t-x)*($/(2*L)),K=$*Math.floor(h.k/$);for(var y=-K;y<=h.$+K;y+=$){var f=Math.round(h.F.Ia(0,y).y)+.5,Z=f-b,J=f+b;
this.za_(d,x,g,t,r,f,Z);this.za_(d,x,g,t,r,f,J)}}d.closePath();d.stroke()};zN.prototype.za_=function(h,R,d,L,$,W,M){var x=R,t=L,g=W,r=M,l=0,H=1,y=t-x,f=r-g,b,K,Z;
for(var J=0;J<4;J++){if(J==0){b=-y;K=-(R-x)}if(J==1){b=y;K=L-x}if(J==2){b=-f;K=-(d-g)}if(J==3){b=f;K=$-g}Z=K/b;
if(b==0&&K<0)return!1;if(b<0){if(Z>H)return!1;else if(Z>l)l=Z}else if(b>0){if(Z<l)return!1;else if(Z<H)H=Z}}var u=x+l*y,C=g+l*f,Q=x+H*y,i=g+H*f;
h.moveTo(u,C);h.lineTo(Q,i)};zN.prototype.xs=function(h,R,d){d.beginPath();var L=z.G.clone(h);z.G.V(L.B,R,L.B);
Typr.U.pathToContext({cmds:L.D,crds:L.B},d)};zN.Gh=function(h){c.WF.call(this);this.zWj=h;var R="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 imgSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(h?"uniform vec4 bgClr;  uniform vec4 ars[32];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+c.NR.PF+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); "+(h?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<32; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=vec4(0.0,0.0,0.0,0.0); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),imgSizeZoom.xy, sCoord*imgSizeZoom.xy+vec2(0.0,-6.0*imgSizeZoom.z) , 10.0*imgSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",d="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec2 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgCoord = (sCoord * srct.zw) / gsize ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.Wf(R,d)};zN.Gh.prototype=new c.WF;zN.Gh.prototype.GR=function(h,R,d,L,$,W,M,x,t,g,r,l){this.Nu("srct gsize source target imgSizeZoom cnvSize ars bgClr ctrn".split(" "));
var H=c.FT,y=this.tq;H.uniform4fv(y.srct,d);H.uniform2fv(y.gsize,L);H.uniform3f(y.imgSizeZoom,$,W,M);
H.uniform2f(y.cnvSize,x,t);H.uniformMatrix4fv(y.ctrn,!1,l);if(this.zWj){H.uniform4fv(y.ars,g);H.uniform4fv(y.bgClr,r)}H.uniform1i(y.source,0);
H.uniform1i(y.target,1);H.activeTexture(H.TEXTURE0);H.bindTexture(H.TEXTURE_2D,h);H.activeTexture(H.TEXTURE1);
H.bindTexture(H.TEXTURE_2D,R);H.activeTexture(H.TEXTURE0)};function tX(){uy.call(this,[9,7],!1,null,uy.co.zkm);
this.ev.setAttribute("style","min-width:240px;");this.iW=null;this.gk=-1;this.zhQ=[];this.mZ=e.X("div","scrollable");
this.mZ.style.height="160px";this.ev.appendChild(this.mZ);this.Gm=e.X("div","lpfoot");this.ev.appendChild(this.Gm);
this.Qm=[];var h=["reload","lrs/newlayer","lrs/bin"],R=[[5,10],[5,3],[5,4]];for(var d=0;d<h.length;d++){var L=new uA("<img src=\""+PIMG[h[d]]+"\" class=\"gsicon\" />",!1,R[d]);
L.A("click",this.ziA,this);this.Gm.appendChild(L.M);this.Qm.push(L)}}tX.prototype=new uy("");tX.prototype.jr=function(h){var R=new X(e.E.Q,!0);
R.data=h;R.L=s.RR;this.R(R)};tX.prototype.ziA=function(h){var R=this.Qm.indexOf(h.currentTarget);if(R!=1)if(this.gk==-1)return;
this.jr({c:["updLC","addLC","delLC"][R],KW:this.gk});if(R==2)this.gk=-1};tX.prototype.o=function(){uy.prototype.o.call(this);
for(var h=0;h<this.Qm.length;h++)this.Qm[h].o()};tX.prototype.GA=function(h){if(h==null)e.qH(this.ev,"disabled");
else e.HT(this.ev,"disabled");this.iW=h;e.dM(this.mZ);if(h==null)return;var R=h.__.lastAppliedComp?h.__.lastAppliedComp.v:0,d=h.__.list.v.slice(0);
d.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var L=0;L<d.length;
L++){var $=d[L].v,W=new MP($.Nm.v,$.compID.v,$.capturedInfo.v,R,this.gk);W.A("activate",this.eK,this);
W.parent=this;this.mZ.appendChild(W.M);this.zhQ.push(W)}};tX.prototype.eK=function(h){this.gk=h.currentTarget.KW;
this.GA(this.iW)};function MP(h,R,d,L,$){uD.call(this);this.KW=R;this.M=e.X("div","head listitem"+(R==$?" selected":""));
var W=R==L,M=new uA("<b>"+(W?"\u2713":"\u2014")+"</b>");if(W)M.mt();this.M.appendChild(M.M);M.A("click",this.Tb,this);
var x=this.bO=e.X("span");x.textContent=h;this.M.appendChild(x);this.Qm=[];if(R!=0){this.M.addEventListener("mouseup",this.eK.bind(this),!1);
this.zdP=e.X("span","headR");this.M.appendChild(this.zdP);var t=["lrs/eye","pos","lrs/fx"],g=["Visibility","Position","Appearance"];
for(var r=0;r<t.length;r++){var l=new uA("<img src=\""+PIMG[t[r]]+"\" class=\"autoscale gsicon\" />",!1,g[r]);
if((d>>r&1)==0)l.M.setAttribute("style","opacity:0.3");l.A("click",this.ziO,this);this.zdP.appendChild(l.M);
this.Qm.push(l)}}}MP.prototype=new uD;MP.prototype.eK=function(h){if(h.target!=this.bO&&h.target!=this.M)return;
if(h.detail==1)this.R(new X("activate",!1));else{var R=new uy.uT(this.bO,this.ht.bind(this))}};MP.prototype.ziO=function(h){var R=this.Qm.indexOf(h.currentTarget);
this.jr({c:"editLC",zwb:R,KW:this.KW})};MP.prototype.ht=function(h){this.jr({c:"editLC",ko:h,KW:this.KW})};
MP.prototype.Tb=function(h){this.jr({c:"setLC",KW:this.KW})};MP.prototype.jr=function(h){var R=new X(e.E.Q,!0);
R.data=h;R.L=s.RR;this.R(R)};function b_(){uy.call(this,[9,11],!1,null,uy.co.zky);var h=e.X("div","padded");
h.setAttribute("style","min-width:15em");this.ev.appendChild(h);var R=e.X("div");h.appendChild(R);R.setAttribute("style","cursor:grab;");
this.Bv=e.X("canvas");this.Bv.width=100;R.appendChild(this.Bv);e.kX(this.Bv);e.Xh(this.Bv,this.es.bind(this));
this.hY=new Ww(null,0,s.en.GC.length-1);this.hY.A(e.E.l,this.zig,this);h.appendChild(this.hY.M);this.zdO=this.Wh.bind(this);
this.zdo=this.Wi.bind(this);this.Nf=null}b_.prototype=new uy("");b_.prototype.Bk=function(h,R){this.VN()};
b_.prototype.zig=function(h){var R=this.hY.q(),d=this.Nf,L=s.en.GC[s.en.GC.length-1-R],$=new X(e.E.Q,!0);
$.L=s.Gp;$.data={c:"zoom",P:L};this.R($)};b_.prototype.es=function(h){if(this.Nf==null)return;e.rh(window,this.zdO);
e.rw(window,this.zdo)};b_.prototype.Wh=function(h){var R=e.sA(h,this.Bv),d=this.Nf,L=this.Bv.width,$=this.Bv.height,W=(R.x*e.p()-L/2)/L,M=(R.y*e.p()-$/2)/$,x=e.p()*d.F.P,t=Math.round(-d.F.P*d.k*W),g=Math.round(-d.F.P*d.$*M);
s.UT.Lf(d,t,g)};b_.prototype.Wi=function(h){e.yK(window,this.zdO);e.fO(window,this.zdo)};b_.prototype.GA=function(h){if(h==null&&this.Nf!=null)this.Bv.width=100;
this.Nf=h;this.VN()};b_.prototype.VN=function(){var h=this.Nf,d=0;if(h==null||h.F.P==0)return;if(!e.Rn(this.ev))return;
this.hY.b(s.en.GC.length-1-s.en.PR(h.F.P));var R=300*e.p(),L=[h.DP(),new A(0,0,h.k,h.$)];z.Qd(L);while(Math.max(L[d+1].k,L[d+1].$)>R){d+=2}var $=L[d],W=L[d+1],M=W.k,x=W.$,t=this.Bv;
t.width=M;t.height=x;e.rL(t,M,x);var g=t.getContext("2d"),r=g.createImageData(M,x);z.kW($,r.data);g.putImageData(r,0,0);
var l=h.F.sL(),H=M/h.k;g.scale(H,H);g.lineWidth=4/H;g.strokeStyle="#ff0000";g.strokeRect(l.x,l.y,l.k,l.$)};
b_.prototype.Nk=function(h,R){};b_.prototype.Kh=function(){this.VN()};function MC(h){if(h==null){uy.call(this);
return}var R=h.id;if(R==null)R="plg_"+h.name;uy.call(this,h.name,!1,h.icon,R);var d=e.X("iframe","padded");
d.setAttribute("src",h.url);d.setAttribute("style","width:"+h.width+"px; height:"+h.height+"px");this.ev.appendChild(d)}MC.prototype=new uy("");
function M$(){MC.call(this,{id:uy.co.zuQ,name:"Gallery",url:"plugins/gallery.html",width:400,height:400,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADxQTFRFAAAA////////////////////////////////////////////////////////////////////////////2EloEwAAABR0Uk5TAP8GD/MW0yBZ54Z4wEcvqbaVbqOHZj16AAACiklEQVR4nO2a2YKDIAwAixeeVdv//9fVrlWQgIAQHpp53LVmqomJlMeDIAiCIAjioGyrgkWnqNoSjl8jRN8cajA+VvgVwKBE+/4rhXoXWsz4jLWKQIUrUCkCqHdguQeKAG58xvQCuioNAW+vBdTsCMp8KRDx+688LwXixn+UJEACWAK86xvGmr7jSQT4eDzyRkkhRxGQRxtp/EAR6NiJDlcAGK2Oa4AgwIHGXux5gCAwqvGXTMQT4FB8xr6XIL6AkoH/fPMwvkAPC0xoAg0s0KAJwPH38/6AQPJbkDwJk5dh8gdR8kcxRjPKM+O/I7fjvF0KrapNDlEHEr6tI4wmg4gjWb6vY7xNBtGG0mw6Tjwbj+TdtI7l03ksvykgLSR1xkM13BM45fcLW+B5rnBwvTGeAFcb3eAskPkL5MBCXvHEE8jAZ7yzgb+AZiW14boPBBbQLmVX6qpWaVjo8hVQCkAwyOVDhyVXKm12egqUmknvQy89lF//f9QZ+Alk5pXs6TDIvguRhcbATwAsAIG9MeVHr9DUh5eAZs4U2BoTF69UAxr4CNj8lvNeM7GWMwWsUA8BQwEIFOOsJApQoR4CxgK44FyhPgKZ5k3Hjl4Zm5wF3nfiSxXqJ3BdABecR0dHgeFufGV0dBOwK4AL5N+AnATuFICANDq6CNwrAIHaU2CGT+fB4CXwChZfbI32AgEKQDB4OgtAb/k32FujrQA0g98z4E4C4ktoILbWaCkQrgAEg9xeIGABCHxao5VA0AIQWFujjUDgAhAYMxuB4AUgMFsIRCgAgfZaIPJ2nj2/tQJYkAAJkAAJkAAJKALJt3Qm39SafFtv8o3Nybd2p9/cnn57P0EQBEEQP8of0kskEgrfunYAAAAASUVORK5CYII="})}M$.prototype=new MC;
function Ma(){uy.call(this,[9,12],!1,null,uy.co.sb);this.Nt=null;this.$v=new kf(s.xZ);this.$v.parent=this;
var h=e.X("div","padded");h.setAttribute("style","width:20em");this.ev.appendChild(h);h.appendChild(this.$v.rZ)}Ma.prototype=new uy("");
Ma.prototype.Kh=function(){this.$v.Gk(this.Nt.bk)};Ma.prototype.Nk=function(h,R){this.Nt=h;if(R==uh.QU||R==uh.sb)this.$v.Gk(h.bk)};
Ma.prototype.Bk=function(h,R){this.$v.zAj(this.Nt.KJ)};Ma.prototype.o=function(){uy.prototype.o.call(this);
this.$v.o()};function th(){uD.call(this);this.L=0;this.$t=null;this.M=e.X("div","toolconf");this.$v=null;
this.vh=null;this.body=new e.X("div","body")}th.prototype=new uD;th.prototype.ziZ=function(h,R){this.L=h;
this.$t=R;if(s.zz[h]){var d=this.$v=new kf(h);this.M.appendChild(d.M);d.parent=this}else{this.vh=e.X("div");
this.M.appendChild(this.vh)}this.M.appendChild(this.body);this.o()};th.prototype.zzG=function(h,R){};
th.prototype.ztb=function(h){};th.prototype.Nk=function(h,R){if(R==uh.QU||R==uh.sb)if(this.$v)this.$v.Gk(h.bk)};
th.prototype.oa=function(h){};th.prototype.o=function(){if(this.$v)this.$v.o();else this.vh.innerHTML=e.XW(this.$t,null,"toolicon");
this.cl()};th.prototype.cl=function(){};function zB(h){th.call(this);if(h==null)return;this.Nt=null;
this.tY={};for(var R=0;R<h.length;R++){var d=h[R],L=null;if(d=="brush"){L=new bW}if(d=="bmode"){L=new ur([12,19,0],zP.nw,!1,zP.Aa)}if(d=="bmode0"){L=new ur([12,19,0],zP.nw.slice(23),!1)}if(d=="emode"){L=new ur([12,36],[[9,3],[10,38]])}if(d=="opacity"){L=new WB([12,0],0,100,"%");
L.b(100)}if(d=="flow"){L=new WB([12,63],0,100,"%");L.b(100)}if(d=="smth"){L=new WB([19,3,0],0,100,"%");
L.b(0)}if(d=="samp"){L=new ur("Sampling",["Brush Center","Start of Stroke","Background Color"])}if(d=="wconf"){L=new BV;
L.b([40,!0,!0])}if(d=="strn"){L=new WB([12,64],1,100,"%");L.b(50)}if(d=="smode"){L=new ur([12,36],[[19,7,0],[19,7,1]]);
L.b(1)}if(d=="pdetail"){L=new uX([12,65]);L.mt()}if(d=="rng"){L=new ur([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
L.b(1)}if(d=="expo"){L=new WB([12,5],0,100,"%");L.b(50)}if(d=="algnd"){L=new uX([12,75]);L.b(!1)}if(d=="sfrom"){L=new ur([12,70],[[17,1],[17,3],[17,0]])}if(d=="alt"){L=new bN(null,["Alt"],!0,["Select Source"])}if(d=="qsmode"){L=new kH([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(d=="redge"){L=new uA([7,11],!1,null,!0)}if(d=="setop"){L=new Ba}if(d=="patch"){L=new kH(null,[[12,70],[12,71]])}if(d=="prsr"){L=new bN(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
L.b([!1,!0])}L.parent=this;this.body.appendChild(L.M);this.tY[d]=L;if(d=="brush")L.A(e.E.l,this.zte,this);
else if(d=="redge")L.A("click",this.nK,this);else L.A(e.E.l,this.N$,this)}}zB.prototype=new th;zB.prototype.zzG=function(h,R){h=h[1];
var d=this.tY;if(h.Md)d.bmode.b(zP.wc.indexOf(h.Md.v.BlnM));if(h.Opct)d.opacity.b(h.Opct.v);if(h.flow)d.flow.b(h.flow.v);
if(h.Brsh)d.brush.b(h,R.KL.WU,R.KL.kR);if(h.FrgC){var L=z.i.IZ(h.FrgC.v),$=new X(e.E.Z,!0);$.data={c:e.j.nY,Ns:uh.Pf,Ek:0,a:L.H<<16|L.N<<8|L.W};
this.R($)}this.zte();this.N$()};zB.prototype.ztb=function(){if(s.zz[this.L]==null)return null;var h=this.tY,R=JSON.parse(JSON.stringify(h.brush.q()));
R.classID=s.zz[this.L][1][0];if(h.bmode)R.Md={t:"enum",v:{BlnM:zP.wc[h.bmode.q()]}};if(h.opacity)R.Opct={t:"long",v:h.opacity.q()};
if(h.flow)R.flow={t:"long",v:h.flow.q()};var d=this.Nt.Ch;d={H:d>>>16,N:d>>>8&255,W:d&255};R.FrgC={t:"Objc",v:z.i.ZR(d)};
return["Brush Preset "+R.Brsh.v.Dmtr.v.val,R]};zB.prototype.nK=function(){var h=new X(e.E.Z,!0);h.data={c:e.j.pY,DN:"redge"};
this.R(h)};zB.prototype.cl=function(){for(var h in this.tY)this.tY[h].o()};zB.prototype.oa=function(h){if(h.zKZ=="showBrushOpts"){this.tY.brush.zSg(h.wE.x,h.wE.y)}for(var R in h.bb){var d=h.bb[R];
if(R!="qsmode")d*=100;if(this.tY[R])this.tY[R].b(d)}};zB.prototype.Nk=function(h,R){th.prototype.Nk.call(this,h,R);
this.Nt=h;var d=this.tY.brush;if(d==null)return;if(R==uh.QU||R==uh.xZ)d.Gk(h.KL);if(R==uh.tA){d.b(h.KL.lB,h.KL.WU,h.KL.kR)}};
zB.prototype.zte=function(){var h=new X(e.E.Z,!0);h.data={c:e.j.nY,Ns:uh.tA,sr:this.tY.brush.q()};this.R(h)};
zB.prototype.N$=function(){var h=new X(e.E.Z,!0);h.data={c:e.j.yg,L:this.L};for(var R in this.tY){if(R=="brush"||R=="redge")continue;
var d=this.tY[R].q();if(["opacity","flow","smth","strn","expo"].indexOf(R)!=-1)h.data[R]=d/100;else if(R=="bmode")h.data.bmode=zP.RS[d];
else if(R=="bmode0")h.data.bmode=zP.RS[23+d];else h.data[R]=d}this.R(h)};function ze(h){th.call(this);
if(h)return;this.data={c:e.j.yg,Zc:"front",EI:0,Ty:[10,!0,!0],_G:{BA:0,x:1,y:1}};this.gi=new Ba;this.body.appendChild(this.gi.M);
this.gi.A(e.E.l,this.kk,this);this.lD=new WB([7,6],0,100," px");this.lD.parent=this;this.lD.b(0);this.body.appendChild(this.lD.M);
this.lD.A(e.E.l,this.kk,this);this.vb=new uA([7,11],!1,null,!0);this.body.appendChild(this.vb.M);this.vb.A("click",this.nK,this)}ze.prototype=new th;
ze.prototype.oa=function(h){if(h.Zc!=null)this.gi.b(h.Zc);else{var R=ze.gP;if(R==null){var d=WJ.zdb(!0);
R=ze.gP=new MQ(d.items,d.hz)}R.o();R.parent=this;R.update(h.pe,h.Ow);var L=new X(e.E.Z,!0);L.data={c:e.j.eN,_z:R,x:h.qM.lV+2,y:h.qM.ZE+1};
this.R(L)}};ze.prototype.cl=function(){this.lD.o();this.gi.o();this.vb.o()};ze.prototype.nK=function(){var h=new X(e.E.Z,!0);
h.data={c:e.j.pY,DN:"redge"};this.R(h)};ze.prototype.kk=function(){var h=new X(e.E.Z,!0);this.data.L=this.L;
this.data.Zc=this.gi.q();this.data.EI=this.lD.q();h.data=this.data;this.R(h)};function MT(){zB.call(this,["brush","strn"])}MT.prototype=new zB;
function MH(){zB.call(this,"brush bmode opacity flow smth prsr".split(" "))}MH.prototype=new zB;function MU(){zB.call(this,["brush","bmode0","samp","wconf"])}MU.prototype=new zB;
function Mr(){zB.call(this,["brush"])}Mr.prototype=new zB;function Ms(){zB.call(this,"brush bmode opacity flow smth prsr".split(" "))}Ms.prototype=new zB;
function MX(){zB.call(this,["brush","rng","expo"])}MX.prototype=new zB;function My(){zB.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}My.prototype=new zB;
function tt(h){th.call(this);if(h==null)return;var R=e.X("span","fitem");this.body.appendChild(R);var d=[[17,0],[17,1],[11,12,0],[17,2]];
this.dU=[];for(var L=0;L<d.length;L++){var $=new uA(d[L],!1,null,!0);this.dU.push($);$.A("click",this.ziC,this);
if(!h||L==1)R.appendChild($.M)}this._G=new bg;this._G.A(e.E.l,this.ziR,this);if(!h)this.body.appendChild(this._G.M);
this.eu=new bt;this.eu.A("click",this.QR,this)}tt.prototype=new th;tt.prototype.cl=function(){this.eu.o();
for(var h=0;h<this.dU.length;h++)this.dU[h].o();this._G.o()};tt.prototype.oa=function(h){var R=this.eu.M;
if(h.w_)this.body.appendChild(R);else if(this.body.contains(R))this.body.removeChild(R);if(h._G)this._G.b(h._G)};
tt.prototype.QR=function(h){var R={c:e.j.yg,L:this.L,PU:this.eu.q()?"commit":"cancel"},d=new X(e.E.Z,!0);
d.data=R;this.R(d)};tt.prototype.ziC=function(h){h.target.M.blur();var R={c:e.j.yg,L:this.L,PU:"cropby",zAF:this.dU.indexOf(h.target)},d=new X(e.E.Z,!0);
d.data=R;this.R(d)};tt.prototype.ziR=function(h){var R={c:e.j.yg,L:this.L,PU:"config",$E:{ks:this._G.q()}},d=new X(e.E.Z,!0);
d.data=R;this.R(d)};function Mo(){tt.call(this,!1)}Mo.prototype=new tt;function Mc(){tt.call(this,!0)}Mc.prototype=new tt;
function Mv(){zB.call(this,["brush","rng","expo"])}Mv.prototype=new zB;function Ml(){zB.call(this,"brush emode opacity flow smth prsr".split(" "))}Ml.prototype=new zB;
function MY(){zB.call(this,["brush","samp","wconf"])}MY.prototype=new zB;function MV(){ze.call(this);
this._G=new bg;this._G.A(e.E.l,this.nn,this);this.body.appendChild(this._G.M)}MV.prototype=new ze(!0);
MV.prototype.nn=function(h){this.data._G=this._G.q();this.kk()};MV.prototype.cl=function(){ze.prototype.cl.call(this);
this._G.o()};function ka(){th.call(this);this.bE=new ur([12,20],["1x1","3x3","5x5","11x11","31x31"]);
this.bE.A(e.E.l,this.N$,this);this.body.appendChild(this.bE.M)}ka.prototype=new th;ka.prototype.N$=function(h){var R=new X(e.E.Z,!0);
R.data={c:e.j.yg,L:this.L,lO:[1,3,5,11,31][this.bE.q()]};this.R(R)};ka.prototype.cl=function(){this.bE.o()};
function Mj(){th.call(this);this.jo=new tW(!1);this.jo.parent=this;this.jo.A(e.E.l,this.rx,this);this.body.appendChild(this.jo.M);
this.jo.b(JSON.parse(uz.sN.zuj).v);this.bg=new ur(null,uz.i.names.slice(0,5));this.bg.A(e.E.l,this.rx,this);
this.body.appendChild(this.bg.M);this.bZ=new ur([12,19,0],zP.nw,null,zP.Aa);this.bZ.A(e.E.l,this.rx,this);
this.body.appendChild(this.bZ.M);this.Pr=new WB([12,0],0,100,"%");this.Pr.parent=this;this.Pr.A(e.E.l,this.rx,this);
this.body.appendChild(this.Pr.M);this.Pr.b(100);this.bn=new uX([12,23,0]);this.bn.A(e.E.l,this.rx,this);
this.body.appendChild(this.bn.M);this.bx=new uX("Dither");this.bx.A(e.E.l,this.rx,this);this.body.appendChild(this.bx.M)}Mj.prototype=new th;
Mj.prototype.cl=function(){this.bg.o();this.bZ.o();this.Pr.o();this.bn.o();this.bx.o()};Mj.prototype.Nk=function(h,R){th.prototype.Nk.call(this,h,R);
var d=R==uh.Pf;this.jo.Ij(h.Ch,h._W);if(d||R==uh.gp||R==uh.QU)this.jo.Gk(h.kn)};Mj.prototype.rx=function(){var h=new X(e.E.Z,!0);
h.data={c:e.j.yg,L:this.L};h.data.Ns={i:this.jo.q(),rE:uz.i.types[this.bg.q()],qv:this.bn.RJ(),zOa:this.bx.RJ(),zOu:zP.RS[this.bZ.q()],kP:this.Pr.q()/100};
this.R(h)};function kt(){th.call(this)}kt.prototype=new th;function kM(){zB.call(this,["brush","algnd","sfrom","alt"])}kM.prototype=new zB;
function Mp(){th.call(this);this.wr=new bD;this.wr.parent=this;this.body.appendChild(this.wr.Fu.M);this.body.appendChild(this.wr.Fh.M);
this.body.appendChild(this.wr.FG.M);var h=e.X("span","fitem");this.body.appendChild(h);h.appendChild(this.wr.yw.M);
h.appendChild(this.wr.ym.M);h.appendChild(this.wr.y_.M);this.wl=new uA([11,9],!1,null,!0);this.wl.A("click",this.ziT,this);
this.body.appendChild(this.wl.M);this.eu=new bt;this.eu.A("click",this.QR,this)}Mp.prototype=new th;
Mp.prototype.cl=function(){this.eu.o();this.wr.o();this.wl.o()};Mp.prototype.ziT=function(h){var R={c:e.j.yg,L:this.L,PU:"showwarp"},d=new X(e.E.Z,!0);
d.data=R;this.R(d)};Mp.prototype.oa=function(h){if(h.PU=="showactive")this.body.appendChild(this.eu.M);
if(h.PU=="hideactive")this.body.removeChild(this.eu.M)};Mp.prototype.Nk=function(h,R){th.prototype.Nk.call(this,h,R);
if(R!=uh.QU&&R!=uh.hV&&R!=uh.ze&&R!=uh.bd)return;this.wr.b(h.QS,h.UX,h.vA)};Mp.prototype.QR=function(h){var R={c:e.j.yg,L:this.L,PU:this.eu.q()?"commit":"cancel"},d=new X(e.E.Z,!0);
d.data=R;this.R(d)};function ku(){ze.call(this)}ku.prototype=new ze(!0);function MG(){th.call(this);
var h=[],d="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.gS=new uX([12,85]);this.gS.A(e.E.l,this.N$,this);h.push(this.gS.M);this.gm=new uX([20,1]);this.gm.A(e.E.l,this.N$,this);
h.push(this.gm.M);this.gQ=new uX([12,83]);this.gQ.A(e.E.l,this.N$,this);h.push(this.gQ.M);var R=e.X("span","fitem");
h.push(R);this.zdc=new ur("Scale for exported files",["1x","2x","3x","4x"],!0);R.appendChild(this.zdc.M);
this.vB=new uA(d+" PNG",!1,null,!0);R.appendChild(this.vB.M);this.vB.A("click",this.nl,this);this.zEu=new uA(d+" SVG",!1,null,!0);
R.appendChild(this.zEu.M);this.zEu.A("click",this.nl,this);var L=e.X("span","fitem");h.push(L);var $=e.X("span","fitem");
h.push($);this.Qm=[];for(var W=0;W<8;W++){var M=W==3||W==7?[20,4,6]:[20,4,W<3?W:W-1],x=new uA("Hi",!1,M);
(W<4?L:$).appendChild(x.M);x.A("click",this.nl,this);this.Qm.push(x)}for(var W=0;W<h.length;W++)this.body.appendChild(h[W]);
this.zeV=h}MG.prototype=new th;MG.prototype.oa=function(h){var R=h.Dt,d=h.zKv;this.gS.b(R.HL);this.gm.b(R.Hy);
this.gQ.b(R.g_);if(d){e.dM(this.body);for(var L=0;L<d.length;L++)if(d[L]==1&&this.zeV[L])this.body.appendChild(this.zeV[L])}};
MG.prototype.nl=function(h){var R=this.Qm.indexOf(h.target),d;if(R==-1){d=new X(e.E.Z,!0);d.data={c:e.j.yg,L:this.L,Ek:h.target==this.vB?"getPNG":"getSVG",zQy:this.zdc.q()+1}}else{d=new X(e.E.Q,!0);
d.L=s._h;d.data={c:"algn",a:R}}this.R(d)};MG.prototype.N$=function(h){var R=new X(e.E.Z,!0);R.data={c:e.j.yg,L:this.L,Ek:"prms",HL:this.gS.RJ(),Hy:this.gm.RJ(),g_:this.gQ.RJ()};
this.R(R)};MG.prototype.cl=function(){this.gS.o();this.gm.o();this.gQ.o();var h="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var R=0;R<8;R++){this.Qm[R].UI(e.XW("align/"+h[R],null,"autoscale"))}};function kh(){ze.call(this);
var h=this.DH=new BV;h.parent=this;h.A(e.E.l,this.ziX,this);this.body.appendChild(h.M)}kh.prototype=new ze(!0);
kh.prototype.ziX=function(h){this.data.Ty=this.DH.q();this.kk()};kh.prototype.cl=function(){ze.prototype.cl.call(this);
this.DH.o()};function kb(){zB.call(this,["setop","patch"])}kb.prototype=new zB;function kB(){zB.call(this,["bmode","opacity","wconf"])}kB.prototype=new zB;
function kq(){ze.call(this)}kq.prototype=new ze(!0);function kF(){ze.call(this)}kF.prototype=new ze(!0);
function kd(){ze.call(this);this._G=new bg;this._G.A(e.E.l,this.nn,this);this.body.appendChild(this._G.M)}kd.prototype=new ze(!0);
kd.prototype.nn=function(h){this.data._G=this._G.q();this.kk()};kd.prototype.cl=function(){ze.prototype.cl.call(this);
this._G.o()};function kz(){th.call(this);this.$x=[new WU("X",null,3),new WU("Y",null,3),new WU("W",null,3),new WU("H",null,3),new WU([12,15],null,4),new WU([12,80,0],null,4),new uA([15,7,6],!1,null,!0)];
for(var h=0;h<this.$x.length;h++){var R=this.$x[h];this.body.appendChild(R.M)}this.$x[6].A("click",this.ziy,this);
this.bT=0}kz.prototype=new th;kz.prototype.ziy=function(h){if(this.bT==0){return}var R=new X(e.E.Q,!0);
R.L=s.ON;R.data={c:"rot",zv:[2,5],a:-this.bT};this.R(R)};kz.prototype.oa=function(h){var R=h.zZW,d=h.ji,L=d.x-R.x,$=d.y-R.y,W=this.$x;
this.bT=-Math.atan2($,L);W[0].b(R.x);W[1].b(R.y);W[2].b(L);W[3].b($);W[4].b((this.bT*180/Math.PI).toFixed(2));
W[5].b(Math.sqrt(L*L+$*$).toFixed(2))};kz.prototype.cl=function(){var h=this.$x;for(var R=0;R<h.length;
R++)h[R].o();e.XY(h[2],h[3])};function ke(){zB.call(this,["brush","strn","pdetail"])}ke.prototype=new zB;
function ki(){zB.call(this,["brush"]);this.zit=[];var h=[[7,12]];for(var R=0;R<h.length;R++){var d=new uA(h[R],!1,null,!0);
this.zit.push(d);d.parent=this;this.body.appendChild(d.M);d.A("click",this.zjW,this)}}ki.prototype=new zB;
ki.prototype.zjW=function(h){var R=this.zit.indexOf(h.currentTarget),d=new X(e.E.nN,!0);d.data=s.kq._v("contentAware");
this.R(d)};function kj(){zB.call(this,["brush","strn"])}kj.prototype=new zB;function kP(){zB.call(this,["brush","flow","smode"])}kP.prototype=new zB;
function Mm(){th.call(this);this.Gv=!1;var h=e.X("span","fitem");this.body.appendChild(h);this.gK=new kH(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
h.appendChild(this.gK.M);this.gK.A(e.E.l,this.N$,this);this.bU=new uA([20,2]);this.body.appendChild(this.bU.M);
this.bU.A("click",this.zhu,this);this.vF=new uA([20,3]);this.body.appendChild(this.vF.M);this.vF.A("click",this.zhu,this)}Mm.prototype=new th;
Mm.prototype.cl=function(){this.bU.o();this.vF.o()};Mm.prototype.N$=function(){var h={c:e.j.yg,L:this.L,oV:this.gK.q()==0},R=new X(e.E.Z,!0);
R.data=h;this.R(R)};Mm.prototype.oa=function(h){if(this.Gv!=h.Gv)this.gK.b(1-this.gK.q());this.Gv=h.Gv};
Mm.prototype.zhu=function(h){var R=new X(e.E.Q,!0);R.L=s.Gp;R.data={c:"adapt",a:h.target==this.bU?"pixel":"fitscr"};
this.R(R)};function WL(h,R){th.call(this);if(h==null)return;this.tY={};var d=[[12,76,0],[12,76,1]];if(R==null)d.push([12,76,2]);
for(var L=0;L<h.length;L++){var $=h[L],W=null;if($=="tmode"){W=new ur(null,d);W.b(1)}if($=="binop"){W=new ur(null,[[18,1],[18,2],[18,3],[18,4]]);
W.pF()}if($=="pshape")W=new ur(null,[[12,93,0],[12,93,1],"Arrow",[12,93,2]]);if($=="shape")W=new hm([12,76,1]);
if($=="crad"){W=new WB([12,94,0],0,50,"px");W.b(0)}if($=="cstr"){W=new bg}if($=="irad"){W=new WB([12,94,1],0,100,"%");
W.b(40)}if($=="length"){W=new WB([12,80,0],4,40);W.b(4)}if($=="sides"){W=new WB([12,78],3,30);W.b(5)}if($=="width"){W=new WB([12,41],1,100,"px");
W.b(5)}if($=="tsiz"){W=new WB("Tip Size",100,500,"%");W.b(300)}if($=="tolr"){W=new WB([12,24],0,100);
W.b(5)}if($=="fstyle"){W=new kT([12,26])}if($=="sstyle"){W=new br}if($=="psnap"){W=new uX([8,10])}W.parent=this;
this.body.appendChild(W.M);this.tY[$]=W;W.A(e.E.l,this.N$,this)}}WL.prototype=new th;WL.prototype.oa=function(h){var R=WL.gP;
if(R==null)R=WL.gP=new MQ([{name:"Make Selection"}],[{m:e.E.Q,L:s.GD,g:{c:"frompath",YT:[null,0,0]}}]);
R.parent=this;R.update(h.pe,h.Ow);var d=new X(e.E.Z,!0);d.data={c:e.j.eN,_z:R,x:h.qM.lV+2,y:h.qM.ZE+1};
this.R(d)};WL.prototype.zhd=function(h){return null};WL.prototype.zh_=function(){if(this.tY.pshape==null)return;
var h=this.zhd(this.tY.pshape.q());if(h==null)return;e.dM(this.body);for(var R=0;R<h.length;R++){var d=h[R];
this.body.appendChild(this.tY[d].M)}};WL.prototype.cl=function(){for(var h in this.tY){this.tY[h].o()}};
WL.prototype.N$=function(h){var R=new X(e.E.Z,!0);if(h.target==this.tY.fstyle){R.data={c:e.j.nY,Ns:uh.gc,a:this.tY.fstyle.q()};
this.R(R);return}if(h.target==this.tY.sstyle){R.data={c:e.j.nY,Ns:uh.bB,a:this.tY.sstyle.q()};this.R(R);
return}if(this.tY.tmode&&this.tY.binop){if(this.tY.tmode.q()==0)this.tY.binop.GS();else this.tY.binop.pF()}R.data={c:e.j.yg,L:this.L};
for(var d in this.tY)if(d!="sstyle")R.data[d]=this.tY[d].q();this.R(R);if(h.target==this.tY.pshape)this.zh_()};
WL.prototype.Nk=function(h,R){th.prototype.Nk.call(this,h,R);var d=this.tY.fstyle,L=this.tY.sstyle;if(d)d.Nk(h,R);
if(L)L.Nk(h,R);if(R==uh.QU||R==uh.zq)if(h.DY.length!=0&&this.tY.shape){this.tY.shape.Gk(h.DY)}if(R==uh.QU||R==uh.gc)if(d)d.b(null,h.Dc,h.zjP);
if(R==uh.QU||R==uh.bB)if(L)L.b(null,h.Do,h.zj$)};function kw(){WL.call(this,["tmode","fstyle","sstyle","binop"],!0)}kw.prototype=new WL;
function kD(){WL.call(this,["tmode","fstyle","sstyle","binop","tolr"])}kD.prototype=new WL;function kE(){WL.call(this,["fstyle","sstyle"]);
this.zKU=null;this.zPu=null;this.zPD=null;this.RX=new ur("Path",[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.HJ=new uA("\u25BC");this.HJ.mt();this.Li=new uA("\u25B2");this.Li.mt();this.vd=[this.RX,this.HJ,this.Li];
for(var h=0;h<this.vd.length;h++){var R=this.vd[h];this.body.appendChild(R.M);R.parent=this;R.A(h==0?e.E.l:"click",this.Mc,this)}}kE.prototype=new WL;
kE.prototype.oa=function(h){if(h.PU=="main"){var R=this.vd,d=h.ER;if(d&&d.f.length==1){this.zPu=d.clone();
this.zPD=JSON.stringify(h.qK);var L=d.f[0],$=z.t.iG(d.r);this.RX.GS();if(L>0)this.HJ.GS();else this.HJ.pF();
if(L<$-1)this.Li.GS();else this.Li.pF();var W=z.t._r(d.r,L),M=d.r[W];this.RX.UI("Path "+(L+1));this.RX.b([3,0,1,2][M.uH])}else{for(var x=0;
x<R.length;x++)R[x].pF()}}else WL.prototype.oa.call(this,h)};kE.prototype.cl=function(){WL.prototype.cl.call(this);
this.RX.o()};kE.prototype.Mc=function(h){if(h.target==this.RX||h.target==this.HJ||h.target==this.Li){var R={},d=this.zPu,L=d.r,$=JSON.parse(this.zPD),W=d.f[0],M=z.t._r(L,W),x=L[M];
if(h.target==this.RX){var t=this.RX.q();if(t<4)x.uH=[1,2,3,0][t];else{if(z.t.iG(L)<=1)return;d.r=z.t.dl(L);
d.f=d.r.length==2?[]:[0];d.ih=[];$=[z.qK.uv()]}}else{var g=h.target==this.HJ?-1:1,r=Math.min(W,W+g),l=Math.max(W,W+g),H=z.t._r(L,r),y=z.t._r(L,l);
if(H==-1||y==-1)return;var f=y+z.t.dY(L,l),b=$[r];$[r]=$[l];$[l]=b;var K=L.slice(0,H),Z=L.slice(H,y),J=L.slice(y,f),u=L.slice(f);
d.r=K.concat(J.concat(Z.concat(u)));d.f[0]+=g}R.ER=d;R.qK=$;var C=new X(e.E.Z,!0);C.data={c:e.j.yg,L:this.L,YT:R};
this.R(C)}};function k_(){WL.call(this,["fstyle","sstyle","psnap"])}k_.prototype=new WL;function kG(){WL.call(this,"tmode fstyle sstyle binop cstr crad".split(" "))}kG.prototype=new WL;
function km(){WL.call(this,["tmode","fstyle","sstyle","binop","cstr"])}km.prototype=new WL;function kA(){WL.call(this,"tmode fstyle sstyle binop pshape sides irad crad width tsiz length".split(" "));
this.zba=[["sides","crad"],["sides","irad","crad"],["width","tsiz"],["length"]];this.zh_()}kA.prototype=new WL;
kA.prototype.zhd=function(h){return["tmode","fstyle","sstyle","binop","pshape"].concat(this.zba[h])};
function kO(){WL.call(this,["tmode","fstyle","sstyle","binop","width"])}kO.prototype=new WL;function kg(){WL.call(this,"tmode fstyle sstyle binop cstr shape".split(" "))}kg.prototype=new WL;
function kI(){ze.call(this)}kI.prototype=new ze(!0);function kQ(){zB.call(this,["brush","qsmode","redge"])}kQ.prototype=new zB;
function kK(){th.call(this)}kK.prototype=new th;function kZ(){th.call(this);this.HJ=new uA("\u25BC");
this.HJ.mt();this.Li=new uA("\u25B2");this.Li.mt();var We=[this.HJ,this.Li];for(var h=0;h<2;h++){var R=We[h];
this.body.appendChild(R.M);R.A("click",this.Mc,this)}}kZ.prototype=new th;kZ.prototype.Mc=function(h){var R=new X(e.E.Z,!0);
R.data={c:e.j.yg,L:this.L,Ek:"reorder",dir:h.target==this.HJ?-1:1};this.R(R)};function Bz(h){th.call(this);
if(window.Typr==null||h)return;this.kV=null;this.zP$=e.X("span","");this.zPL=e.X("span","");var R=1;
this.nE={IT:new kl(null,24),qo:new WB("X",0,0,"px",0,!1,!0,4),Fq:new WB("Y",0,0,"px",0,!1,!0,4),Hd:new WB("W",0,0,["%","px"],0,!1,!0,4),zY:new uA("\u2261",null,[12,51],null),UQ:new WB("H",0,0,["%","px"],0,!1,!0,4),zbz:new WB("\u2221",0,0,"\xB0",R,!1,!0),zbW:new WB("\u25B1 X",-85,85,"\xB0",R,!1,!0),zbm:new WB("\u25B1 Y",-85,85,"\xB0",R,!1,!0),WP:new ur(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.nE.WP.b(1);for(var d in this.nE){this.zP$.appendChild(this.nE[d].M);var L=this.nE[d]==this.nE.zY?"click":e.E.l;
this.nE[d].A(L,this.zjq,this)}this.DH=new ta(!0,!0,!0);this.DH.A(e.E.l,this.zjO,this);this.DH.parent=this;
var $=this.zPL,W=this.DH;$.appendChild(W.xq.M);$.appendChild(W.Eu.M);$.appendChild(W.xF.M);$.appendChild(W.xw.M);
$.appendChild(W.xK.M);this.wl=new uA([11,9]);this.wl.A("click",this.zjg,this);this.eu=new bt;this.eu.A("click",this.QR,this)}Bz.prototype=new th;
Bz.prototype.oa=function(h){if(h.qM){var R=Bz,d=R.gP;if(d==null)d=R.gP=new MQ(R.zhy(),R.zbf());d.o();
d.parent=this;d.update(h.pe,h.Ow);var L=new X(e.E.Z,!0);L.data={c:e.j.eN,_z:d,x:h.qM.lV+2,y:h.qM.ZE+1};
this.R(L);return}e.dM(this.body);this.kV=h;if(h.nE){var $=h.nE.e,W=h.nE.lh.clone(),M=Math.atan2(-W.W,W.r$),x=new um;
x.rotate(-M);W.concat(x);var t=this.nE;t.IT.b(h.nE.sE);t.qo.b(h.nE.hs.x);t.Fq.b(h.nE.hs.y);t.Hd.b(W.r$*(t.Hd.nc()=="%"?100:$.k));
t.UQ.b(W.Cv*(t.UQ.nc()=="%"?100:$.$));t.zbz.b(-M*180/Math.PI);t.zbW.b(0*180/Math.PI);t.zbm.b(Math.atan(W.DS)*180/Math.PI);
this.body.appendChild(this.zP$);this.wl.QO()}if(h.Yn){this.DH.b(h.Yn);this.body.appendChild(this.zPL);
this.wl.mt()}this.body.appendChild(this.eu.M);if(h.zZA)this.body.appendChild(this.wl.M)};Bz.prototype.zjq=function(h){var R=this.nE,d=this.kV.nE.e;
if(h.target==R.zY)R.zY.b(!R.zY.q());if(R.zY.RJ()){var L=R.UQ,$=R.Hd,W=d.$,M=d.k;if(h.target==R.Hd){L=R.Hd;
$=R.UQ;W=d.k;M=d.$}var x=L.q()/(L.nc()=="%"?100:W);x*=$.nc()=="%"?100:M;$.b(x)}var t=[];for(var g in R)if(R[g]!=R.zY&&R[g]!=R.IT){var x=R[g].q();
if((R[g]==R.Hd||R[g]==R.UQ)&&x==0){x=.1;R[g].b(x)}if(R[g]==R.Hd&&R[g].nc()=="px")x/=d.k/100;if(R[g]==R.UQ&&R[g].nc()=="px")x/=d.$/100;
t.push(x)}var r=new kY(t[0],t[1]);if(h.target==R.IT){this.QH({PU:"ctyp",sE:R.IT.q()})}else if(h.target==R.qo||h.target==R.Fq){this.QH({PU:"cen",hs:r})}else{var l=this.kV.nE.lh.clone(),H=l.clone(),y=Math.atan2(-l.W,l.r$);
H.translate(-r.x,-r.y);H.rotate(-y);var f=new um(H.r$,H.W,H.DS,H.Cv,0,0);f.Gv();H.concat(f);H.concat(new um(t[2]/100,Math.tan(t[5]*Math.PI/180),Math.tan(t[6]*Math.PI/180),t[3]/100,0,0));
H.rotate(-t[4]*Math.PI/180);H.translate(r.x,r.y);this.kV.nE.lh=H;this.QH({PU:"trn",nE:H,HW:this.nE.WP.q()})}};
Bz.prototype.zjO=function(h){this.QH({PU:"wrp",Yn:this.DH.q()})};Bz.prototype.zjg=function(h){this.QH({PU:"switchWarp"})};
Bz.prototype.QR=function(h){this.QH({PU:this.eu.q()?"commit":"cancel"})};Bz.prototype.QH=function(h){h.c=e.j.yg;
h.L=this.L;var R=new X(e.E.Z,!0);R.data=h;this.R(R)};Bz.prototype.cl=function(){var h=this.nE;for(var R in h)h[R].o();
e.XY(h.Hd,h.UQ);this.eu.o();this.DH.o();this.wl.o()};Bz.zhy=function(){return[{name:[5,9],sv:"Shift+Alt+Ctrl + T",OC:!0},{name:[2,9]},{name:[11,9],n:function(h){if(h==null||h.f.length!=1)return{n:!1};
var R=h._[h.f[0]];return{n:R.add.TySh==null&&!R.If()}},OC:!0},{name:"90\xB0 \u21BB",n:function(h){return{Zz:uP.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",n:function(h){return{Zz:uP.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",n:function(h){return{Zz:uP.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]};
Bz.zbf=function(){return[{m:e.E.Q,L:s.ON,g:{c:"again"}},{m:e.E.Z,g:{c:e.j.uA,L:s.ON,Dt:{Km:1}}},{m:e.E.Z,g:{c:e.j.uA,L:s.ON,Dt:{Km:2}}},{m:e.E.Q,L:s.ON,g:{c:"rot",zv:[2,5],a:-Math.PI/2}},{m:e.E.Q,L:s.ON,g:{c:"rot",zv:[2,5],a:-3*Math.PI/2}},{m:e.E.Q,L:s.ON,g:{c:"rot",zv:[2,5],a:Math.PI}},{m:e.E.Q,L:s.ON,g:{c:"scl",zv:[2,6,[22,4,2]],a:new kY(-1,1)}},{m:e.E.Q,L:s.ON,g:{c:"scl",zv:[2,6,[22,4,3]],a:new kY(1,-1)}}]};
function kC(){Bz.call(this)}kC.prototype=new Bz(!0);function k$(){Bz.call(this)}k$.prototype=new Bz(!0);
function M_(){th.call(this);var h=this.OB=[new ur([12,36],["Rigid",[15,10,0],[24,4]]),new ur([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new WB([7,4],0,100,"px"),new uX("Show Mesh"),new uA("\u25BC",null,null,!0),new uA("\u25B2",null,null,!0)];
for(var R=0;R<h.length;R++){var d=h[R];d.parent=this;this.body.appendChild(d.M);d.A(R<4?e.E.l:"click",this.zjI,this)}this.eu=new bt;
this.eu.A("click",this.QR,this);this.body.appendChild(this.eu.M)}M_.prototype=new th;M_.prototype.cl=function(){var h=this.OB;
for(var R=0;R<4;R++)h[R].o();this.eu.o()};M_.prototype.oa=function(h){var h=h.Ns;for(var R=0;R<4;R++)this.OB[R].b(h[R])};
M_.prototype.zjI=function(h){var R=[];for(var d=0;d<4;d++)R[d]=this.OB[d].q();var L=this.OB.indexOf(h.target);
if(L<4)this.QH({PU:"prm",Ns:R});else this.QH({PU:"moveDepth",zZv:L==5})};M_.prototype.QR=function(h){this.QH({PU:this.eu.q()?"commit":"cancel"})};
M_.prototype.QH=function(h){h.c=e.j.yg;h.L=this.L;var R=new X(e.E.Z,!0);R.data=h;this.R(R)};function kS(){uD.call(this);
this.M=e.X("div","cmanager");this.Hl=0;this.om=0;this.PM=[];this.vE={};this.vi=e.X("div","alertcont");
this.M.appendChild(this.vi);this.zPJ=e.X("div","alertcont");this.M.appendChild(this.zPJ);this.lm=e.X("div","alertcont");
this.zSk=0;this.lK=-1;this.zSG=null;this.GX=null;var h=this.zZB=e.X("div","alertpanel");h.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.lm.appendChild(h);var R=this.XB=e.X("input");R.setAttribute("type","text");R.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
R.addEventListener("input",this.zjs.bind(this),!1);R.addEventListener("keydown",this.zjX.bind(this),!1);
h.appendChild(R);var d=this.zwu=e.X("div","contextpanel scrollable");d.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
d.addEventListener("click",this.zjy.bind(this),!1);h.appendChild(d);e.Xh(document.body,this.zPz.bind(this))}kS.prototype=new uD;
kS.prototype.Cu=function(){if(e.Rn(this.lm))this.M.removeChild(this.lm)};kS.prototype.zjR=function(h,R){var d=this.zSG=[];
for(var L=0;L<WJ.data.length;L++){var $=WJ.data[L],W=[uP.get($.name)],M=[L];kS.zqu($.items,W,M,d,h,R)}var x=zT.Kj;
for(var L=0;L<x.length;L+=3){d.push([["Tools",uP.get(x[L])],[-1,x[L+2]]])}this.M.appendChild(this.lm);
var t=this.XB;t.focus();t.select();this.VN()};kS.prototype.zjs=function(h){this.lK=-1;this.VN()};kS.prototype.VN=function(){var h=this.XB.value.toLowerCase().trim().replace(/  +/g," "),R=this.zSG,d=[],L=[],$=h.split(" ");
if(h!="")for(var W=0;W<R.length;W++){var M=R[W][0],x=[],t=0;for(var g=0;g<M.length;g++)x[g]=-1;for(var r=0;
r<$.length;r++)for(var g=0;g<M.length;g++){var l=M[g].toLowerCase().indexOf($[r]);if(l!=-1){x[g]=[l,l+$[r].length];
t++;break}}if(t==$.length){d.push(R[W]);L.push(x)}}var H=[],y=this.zwu;e.dM(y);for(var W=0;W<d.length;
W++){var f=d[W][0],l=L[W],b="enab",Z="";if(W==this.lK)b+=" active";var K=e.X("div",b);H.push(K);y.appendChild(K);
for(var g=0;g<f.length;g++){var J=l[g],u=$[g],C=f[g];if(J!=-1)C=C.slice(0,J[0])+"<span style=\"color:black\">"+C.slice(J[0],J[1])+"</span>"+C.slice(J[1]);
Z+=C;if(g<f.length-1)Z+=" \uFE65 "}K.innerHTML=Z}this.GX=[d,H]};kS.prototype.zjX=function(h){var R=m.Zt,d=h.code;
if(R(d,m.$j))this.Cu();var L=R(d,m.bc),$=R(d,m.Bq),W=R(d,m.FA);if(L||$){this.lK=Math.max(0,Math.min(this.GX[0].length-1,this.lK+(L?-1:1)));
this.VN()}if(W&&this.lK!=-1)this.zqW(this.lK)};kS.zqu=function(h,R,d,L,$,W){for(var M=0;M<h.length;M++){var x=h[M],t=R.slice(0),g=d.slice(0),r=uP.get(x.name);
if(x.n){var l=x.n($,W,M);if(l.Zz)r=l.Zz;if(l.n==!1)continue}t.push(r);g.push(M);if(x.sub)kS.zqu(x.sub,t,g,L,$,W);
else L.push([t,g])}};kS.prototype.zjy=function(h){var R=h.target;if(R.tagName.toLowerCase()=="span")R=R.parentNode;
var d=this.GX[1].indexOf(R);if(d!=-1)this.zqW(d)};kS.prototype.zqW=function(h){var R=this.GX[0][h][1];
if(R[0]==-1){var d=new X(e.E.Z,!0);d.data={c:e.j.uA,L:R[1]};this.R(d)}else{var L=WJ.data[R[0]].hz[R[1]];
for(var $=2;$<R.length;$++)L=L.sub[R[$]];var W=new X(L.m,!0);W.L=L.L;W.data=L.g;this.R(W)}this.Cu()};
kS.prototype.Bk=function(h,R){this.Hl=h;this.om=R;this.zwu.style["max-height"]=R-120+"px"};kS.prototype.zjl=function(h){var R=e.X("div","alertpanel");
R.textContent=uP.get(h);this.vi.appendChild(R);this.vE[JSON.stringify(h)]=R};kS.prototype.zPa=function(h){var R=this.vE[JSON.stringify(h)];
this.vi.removeChild(R);delete this.vE[JSON.stringify(h)]};kS.prototype.alert=function(h,R){var d=this.zPJ;
for(var L=0;L<d.children.length;L++)if(d.children[L].textContent==h)return;var $=e.X("div","alertpanel tpanel");
$.textContent=h;$.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");d.appendChild($);if(R==null)R=1500;
var W=R,M=Math.max(Date.now()+W,this.zSk+W);setTimeout(function(){$.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){d.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},M-Date.now()-30);
setTimeout(function(){d.removeChild(d.firstChild);d.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},M-Date.now());
this.zSk=M};kS.prototype.zPz=function(h){var R=this.PM;for(var d=R.length-1;d>=0;d--){var L=R[d],$=h.target;
while($!=null){if($==L.M){this.ia(L);return}$=$.parentNode}}this.ia();var W=h.target;while(W!=this.lm&&W!=document.body)W=W.parentNode;
if(W!=this.lm)this.Cu()};kS.prototype.ia=function(h){var R=this.PM;for(var d=0;d<R.length;d++){if(h&&h.zmN(R[d]))continue;
var L=R[d].M;L.style.height="auto";e.HT(L,"scrollable");this.M.removeChild(L);R.splice(d,1);d--}};kS.prototype.zPj=function(h){this.ia(h._z);
var R=h._z,d=R.M;if(this.PM.indexOf(R)!=-1)return;this.PM.push(R);this.M.appendChild(R.M);var L=this.Hl,$=this.om,W=h.x,M=h.y,x=this.M.getBoundingClientRect(),t=R instanceof MQ;
if(t||h.zue){var g=R.Os(),r=R.zgm();if(t)g=Math.min(g,200);if(M+r<$){W=Math.min(W,L-g-5)}else{if(W+g<L){M=Math.min(M,$-r-5)}else if(r<M){M=M-r-2;
W=Math.min(W,L-g-5)}else{W=W-g;M=Math.min(M,$-r-5)}}if(h.zWE)M=Math.max(2,h.y-r-2);if(h.zbc)M=h.y}M=Math.max(2,M);
var top=Math.round(M-x.y+this.M.offsetTop);d.style.position="absolute";d.style["z-index"]=10;d.style.left=Math.round(W)+"px";
d.style.top=top+"px";if(M+R.zgm()>$-3){d.style.height=$-3-M+"px";e.qH(d,"scrollable")}};kS.prototype.zqA=function(h){var R=h._z,d=this.PM.indexOf(R);
if(d==-1)return;this.PM.splice(d,1);var L=R.M;this.M.removeChild(R.M)};kS.prototype.Y_=function(){var h=this.PM;
return h.length==0?null:h[h.length-1]};kS.prototype.zPN=function(){this.zqA({_z:this.Y_()})};function kL(){uD.call(this);
this.M=e.X("div","confbar")}kL.prototype=new uD;kL.prototype.zPS=function(h){h.parent=this;e.dM(this.M);
this.M.appendChild(h.M)};function Wk(){uD.call(this);this.Nt=null;this.Pb=e.X("input","");this.Pb.setAttribute("type","file");
this.Pb.setAttribute("multiple","");this.Pb.addEventListener("change",function(h){this.CG(h.target.files,null,this.vP,null);
this.vP=null}.bind(this),!1);document.body.appendChild(this.Pb);this.Pb.setAttribute("style","display:none");
this.zwp=[];this.vj=!1;this.zwX={};this.vP=null}Wk.prototype=new uD;Wk.zPw=function(h){try{navigator.clipboard.write([new ClipboardItem(Object.defineProperty({},h.type,{value:h,enumerable:!0}))])}catch(zb){console.error(zb,zb.message)}};
Wk.C_=function(h,R){try{navigator.clipboard.read().then(function(d){for(var L=0;L<d.length;L++){try{var $=d[L];
for(var W=0;W<$.types.length;W++){var M=$.types[W];if(M!="image/png")continue;$.getType(M).then(function(x){new Response(x).arrayBuffer().then(function(t){Wk.Ws({name:"image.png"},t,h,R)})})}}catch(zb){console.error(zb,zb.message)}}})}catch(zb){console.error(zb,zb.message)}};
Wk.zP_=function(h){navigator.permissions.query({name:"clipboard-read"}).then(function(R){h(R.state)})};
Wk.prototype.iz=function(h){if(h==null)h=[23,5];var R=JSON.stringify(h),d=this.zwX;if(d[R]==null)d[R]=0;
if(d[R]==0){var L=new X(e.E.Z,!0);L.data={c:e.j.AO,Cb:h};this.R(L)}d[R]++};Wk.prototype.ib=function(h){if(h==null)h=[23,5];
var R=JSON.stringify(h),d=this.zwX;if(d[R]==null)d[R]=0;d[R]--;if(d[R]==0){var L=new X(e.E.Z,!0);L.data={c:e.j.AZ,Cb:h};
this.R(L)}};Wk.prototype.zPm=function(h,R){var d=this.Pb;if(R)d.setAttribute("accept",R);else d.removeAttribute("accept");
var L=document.createEvent("MouseEvents");L.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
d.dispatchEvent(L);this.vP=h};Wk.prototype.iD=function(h){if(h.url.indexOf("photopea.com#i")!=-1||h.url.indexOf("photopea.com/#i")!=-1){this.zeY(h.url.split("#i").pop());
return}this.zwp.push(h);this.zqY()};Wk.prototype.zqY=function(){var h=this.zwp;if(h.length==0||this.vj)return;
this.vj=!0;var R=h.shift();this.iz();if(R.nU==null)R.nU={};var d=new XMLHttpRequest;d.bo=R;var L=R.url;
if(R.zy)L="mirror.php?url="+encodeURIComponent(L);d.open("GET",L);if(R.vN)for(var $ in R.vN)d.setRequestHeader($,R.vN[$]);
d.responseType="arraybuffer";d.onload=this.zFD.bind(this);d.send()};Wk.prototype.CG=function(h,R,d,L){for(var $=0;
$<h.length;$++){this.iz();var W=h[$],M=new FileReader;M.bo=W;M.bo.xN=d;M.bo._H=L;M.zbY=R;M.onload=this.zFD.bind(this);
M.onerror=function(x){this.ib()}.bind(this);M.readAsArrayBuffer(W)}this.Pb.value=null};Wk.prototype.zNu=function(h){var R=h.nA.ct,d=Wk.fL(h,R);
Wc.Yl(function(){var L=new XMLHttpRequest,$="https://www.googleapis.com/upload/drive/v3/files/"+h.nA.file.id+"?uploadType=media"+"&"+Wc.l$();
L.open("PATCH",$,!0);L.addEventListener("load",function(W){var M=JSON.parse(W.target.response);alert(M.name+" updated")});
L.send(d);alert("Saving \""+h.nA.file.name+"\" to Google Drive ...")})};Wk.prototype.zNq=function(h,R,d){var L=h.DP(),$=R[0],W=Wk.fL(h,$,d);
if(window.parent!=window)window.parent.postMessage(W,"*")};Wk.prototype.zNG=function(h,R){this.iz("Saving ...");
this.Nt=R;setTimeout(Wk.zNQ.bind({Q$:h,caller:this}),50)};Wk.fL=function(h,R,d){var L=R.split(":"),$=L[0],W=null;
if(L.length==2){if($=="jpg"||$=="webp")W=[Math.round(100*parseFloat(L[1]))];if($=="psd")W=[!0,!0]}var M=ud.wg(h,$.toUpperCase(),null,null,W,d);
return M};Wk.zNQ=function(){var h=this.Q$,R=this.caller,d=h.nU.gZ,L=d.formats,$,W;h.DP();var M=Date.now();
if(d.version==1){var x=[],t=0,l=0;for(var g=0;g<L.length;g++){var r=Wk.fL(h,L[g],R.Nt);x.push(r);t+=r.byteLength}$=new Uint8Array(2e3+t);
var H="{ \"source\": "+JSON.stringify(h.CO)+", \"versions\": [\n";for(var g=0;g<L.length;g++){var y=new Uint8Array(x[g]);
H+="\t{\"format\": \""+L[g].split(":")[0]+"\", \"start\": "+l+", \"size\": "+y.length+" }"+(g+1<L.length?", ":"")+"\n";
$.set(y,2e3+l);l+=x[g].byteLength}H+="] }";var f=T.yh(H,$,0);for(var g=f;g<2e3;g++)$[g]=32;W="application/octet-stream"}else{var b=new hK,K=0,Z="",J=encodeURIComponent;
Z="p="+J("{ \"source\": "+JSON.stringify(h.CO)+", \"versions\": [");T._F(b,K,Z);K+=Z.length;for(var g=0;
g<L.length;g++){Z=J(" {\"format\": \""+L[g].split(":")[0]+"\", \"data\": \"");T._F(b,K,Z);K+=Z.length;
var r=Wk.fL(h,L[g],R.Nt),u=Wk.zNn(r,r.byteLength),f=u.length;b._b(K,f);for(var C=0;C<f;C++){b._b(K,3);
var Q=u[C];if(Q==43){b.data[K]=37;b.data[K+1]=50;b.data[K+2]=66;K+=3}else if(Q==47){b.data[K]=37;b.data[K+1]=50;
b.data[K+2]=70;K+=3}else if(Q==61){b.data[K]=37;b.data[K+1]=51;b.data[K+2]=68;K+=3}else{b.data[K]=Q;
K++}}Z=J("\" }"+(g+1<L.length?", ":""));T._F(b,K,Z);K+=Z.length}Z=J("] }");T._F(b,K,Z);K+=Z.length;$=b.data.slice(0,K);
W="application/x-www-form-urlencoded"}var i=new XMLHttpRequest;i.open("POST",d.url,!0);if(W)i.setRequestHeader("Content-Type",W);
i.addEventListener("load",Wk.zNK.bind(this));i.send(new Blob([$.buffer]))};Wk.zNK=function(h){this.caller.ib("Saving ...");
var R=h.target.response;if(R.charAt(0)=="{"){R=JSON.parse(R);if(R.newSource)this.Q$.CO=R.newSource;if(R.message)alert(R.message,2e3);
if(R.script){var d=new X(e.E.Z,!0);d.data={c:e.j.IH,NJ:R.script};this.caller.R(d)}}else alert("Saved. Response: "+R,1500)};
Wk.CY=function(h){var R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=new Uint8Array(h),L=d.length,$=L%3,W=L-$,M=[],x=0,t=0,g=0;
for(var r=0;r<W;r+=3){x=d[r];t=d[r+1];g=d[r+2];M.push(R[x>>2]+R[(x&3)<<4|t>>4]+R[(t&15)<<2|g>>6]+R[g&63])}if($==1){x=d[W];
M.push(R[x>>2]+R[(x&3)<<4]+"==")}if($==2){x=d[W];t=d[W+1];M.push(R[x>>2]+R[(x&3)<<4|t>>4]+R[(t&15)<<2]+"=")}var l=M.join("");
return l};Wk.zNn=function(h,R){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=new Uint8Array(64),t=0,g=0,r=0,H=0;
for(var $=0;$<64;$++)L[$]=d.charCodeAt($);var W=new Uint8Array(h),M=R%3,x=R-M,l=new Uint8Array(Math.floor(R/3)*4+(M==0?0:4));
for(var $=0;$<x;$+=3){t=W[$];g=W[$+1];r=W[$+2];l[H]=L[t>>>2];l[H+1]=L[(t&3)<<4|g>>>4];l[H+2]=L[(g&15)<<2|r>>>6];
l[H+3]=L[r&63];H+=4}if(M==1){t=W[x];l[H]=L[t>>2];l[H+1]=L[(t&3)<<4];l[H+2]=61;l[H+3]=61}if(M==2){t=W[x];
g=W[x+1];l[H]=L[t>>2];l[H+1]=L[(t&3)<<4|g>>4];l[H+2]=L[(g&15)<<2];l[H+3]=61}return l};Wk.prototype.zFD=function(h){var R,d=h.target.bo;
if(h.target instanceof XMLHttpRequest)R=h.target.response;else R=h.target.result;Wk.zdG(d,R,this,h.target.zbY);
this.ib();if(h.target instanceof XMLHttpRequest){this.vj=!1;this.zqY()}};Wk.zdG=function(h,R,d,L){if(window.location.href.indexOf("photopea.com")==-1)Wk.Ws(h,R,d,L);
else{try{Wk.Ws(h,R,d,L)}catch(zb){if(zb=="low_ram"){}else{var $="Error. Please, send your file to support@photopea.com and we will solve it.";
if(ud.qe(R)=="eps")$="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
window.zEE($,1e4)}}}};Wk.Ws=function(h,R,d,L){var $;if(h.name)$=h.name.split(".")[0];else{if(h.url.substring(0,5)=="data:"||h.url.indexOf("googleapis")!=-1)$="image";
else $=h.url.substring(h.url.lastIndexOf("/")+1).split(".")[0];$=$.slice(0,50)}var W=h.name?h.name:h.url,M=new Uint8Array(R),x=ud.qe(R),t=window.ga;
if(Math.random()<.25&&t&&x!=null&&ud.It(x))t("send","event","Formats",x);if(x==null)x=T.UK(M,0,4);if(W&&W.toLowerCase().endsWith(".raw")){var g=new X(e.E.Z,!0);
g.data={c:e.j.pY,DN:"importraw",uI:R,qZ:W.split("/").pop()};d.R(g);return}else if(x=="json"){var r="";
for(var l=0;l<M.length;l++)r+=String.fromCharCode(M[l]);r=decodeURIComponent(escape(r));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(r));return}if(x=="html"){var r=T.fh(M,0,M.length),H=new DOMParser,y=H.parseFromString(r,"text/html"),f=y.getElementsByTagName("meta");
for(var l=0;l<f.length;l++){var b=f[l],K=b.getAttribute("property"),Z=b.getAttribute("content"),J=null;
if(K=="og:image")J=Z;if(K==null&&Z&&Z.startsWith("0;url=/imgres?")){var u=Z.slice(14).split("&");for(var C=0;
C<u.length;C++)if(u[C].startsWith("imgurl"))J=decodeURIComponent(u[C].slice(7))}if(J==null)continue;
var g=new X(e.E.Z,!0);g.data={c:e.j.X_,Ns:{url:J,zy:!0,xN:h.xN}};d.R(g)}return}if(ud.It(x)){var Q,i=ud.It(x);
if(h.xN!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(x)!=-1){var g=new X(e.E.Z,!0);g.data={c:e.j.yq,target:h.xN,bC:h._H,C$:R,Uv:$};
d.R(g);return}if(i.CK){Q=new zG($+(x=="psd"?"":"-"+x)+".psd");i.CA(R,Q,!0)}else{var j=i.CA(R);if(j[0].t33421||j[0].t50706){z.raw.normalize(j[0],R);
console.log(j[0]);var g=new X(e.E.Z,!0);g.data={c:e.j.pY,DN:"rawpea",tG:j[0]};d.R(g);return}if(L){L(new Uint8Array(j[0].data),j[0].FK);
return}Q=Wk.im($,j)}Q.nU=h.nU;Q.CO=h.url;Q.Zk=h.Zk;Q.nA=h.nA;if(Q.nA)Q.nA.ct=x;if(Q._.length!=0){var g=new X(e.E.Z,!0);
g.data={c:h.xN==null?e.j.In:e.j.yq,target:h.xN,bC:h._H,C$:Q};d.R(g)}return}var V=new X(e.E.Z,!0);V.data={c:e.j.Ob,uI:R,Cr:h.name};
var E=h instanceof File&&h.zwY!=!0,g=new X(e.E.Z,!0);g.data={c:e.j.nY,nU:"add",Ns:null,_J:null,zDm:h.zwY};
if(x=="zip"){var N=Date.now(),n=UZIP.parse(R),a="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var I in n){var q=!1;for(var l=0;l<a.length;l++)if(I.toLowerCase().endsWith("."+a[l]))q=!0;if(I.startsWith("__MACOSX/")||n[I].length==0)q=!0;
if(q)continue;var k=I.split("/").pop();Wk.zdG({name:k},n[I].buffer,d,L)}}else if(x=="jsx"){var r=T.fh(new Uint8Array(R));
g.data={c:e.j.IH,NJ:r};d.R(g)}else if(x=="otf"){if(E)d.R(V);var F=Typr.parse(R);g.data.Ns=uh.ze;for(var l=0;
l<F.length;l++){g.data._J=F[l];d.R(g)}}else if(x=="asl"){if(E)d.R(V);var F=BN.iN(R);g.data.Ns=uh.zb;
g.data._J=F.cW;d.R(g);g.data.Ns=uh.ma;g.data._J=F.KZ;d.R(g)}else if(x=="tpl"){var F=Bs.iN(R);g.data.Ns=uh.xZ;
g.data._J={WU:F.WU,kR:F.kR,list:[]};d.R(g);g.data.Ns=uh.sb;g.data._J=F.list;d.R(g)}else{var o="";for(var G in uh.LM)if(uh.LM[G][0]==x)o=G;
if(o!=""){if(E)d.R(V);g.data._J=uh.LM[o][2].iN(R,W);g.data.Ns=o;d.R(g)}else alert("Unknown file format: "+JSON.stringify(x))}};
Wk.prototype.zNC=function(h){var R=new XMLHttpRequest;R.open("POST","https://api.imgur.com/3/image",!0);
R.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");R.setRequestHeader("Content-type","application/x-www-form-urlencoded");
R.setRequestHeader("Accept","application/json");R.addEventListener("load",this.zNH);R.send("type=base64&image="+encodeURIComponent(Wk.CY(h)));
alert("Saving to Imgur ...",4e3)};Wk.prototype.zNH=function(h){var R=JSON.parse(h.target.response);if(R.success)window.open(R.data.link,"Imgur")};
Wk.prototype.zeY=function(h){if(!Wk.ziW(h)){alert("File not found.");return}this.iz("Loading ...");var R=new XMLHttpRequest;
R.responseType="arraybuffer";R.open("GET","https://f000.backblazeb2.com/file/psdshared/"+h);R.onload=this.zNU.bind(this);
R.send();var d=new XMLHttpRequest;d.open("GET","/papi/img/update.php?id="+h);d.send()};Wk.prototype.zNU=function(h){var R=new Uint8Array(h.target.response);
console.log(R.length);for(var d=0;d<R.length;d++)R[d]=255-R[d];R=pako.inflateRaw(R);var L=JSON.parse(T.fh(R,0,2e3));
Wk.Ws({name:L.name},R.slice(2e3).buffer,this);this.ib("Loading ...")};Wk.prototype.zNY=function(h,R){if(!(h instanceof ArrayBuffer))throw"e";
h=new Uint8Array(h);var d=new Uint8Array(h.length+2e3),W=52e5,t="";for(var L=0;L<2e3;L++)d[L]=32;T.yh(JSON.stringify({name:R}),d,0);
d.set(h,2e3);h=d;h=pako.deflateRaw(h);for(var L=0;L<h.length;L++)h[L]=255-h[L];h=h.buffer;var $=h.byteLength;
if($>W){confirm("Your file is "+bs.u$($)+". Our limit is "+bs.u$(W)+". Delete some layers and try again.");
return}var M=sha1(h),x=[];for(var L=0;L<20;L++){var g=parseInt(M.slice(L*2,L*2+2),16);x.push(g);t+=String.fromCharCode(g)}var r=btoa(t).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);
if(Wk.ziW(r)){console.log("file already exists");window.open("https://www.photopea.com#i"+r);return}this.iz("Publishing ...");
var l=new XMLHttpRequest;l.vm=[h,M,r];l.open("GET","/papi/img/publish.php?rnd="+Math.random());l.onload=this.zSt.bind(this);
l.send()};Wk.ziW=function(h){try{var R=new XMLHttpRequest;R.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+h,!1);
R.send();if(R.status==200)return!0}catch(zb){return!1}return!1};Wk.prototype.zSt=function(h){var R=JSON.parse(h.target.response),d=h.target.vm,L=new XMLHttpRequest;
L.open("POST",R.uploadUrl);L.setRequestHeader("Authorization",R.authorizationToken);L.setRequestHeader("X-Bz-File-Name",d[2]);
L.setRequestHeader("Content-Type","b2/x-auto");L.setRequestHeader("X-Bz-Content-Sha1",d[1]);L.send(new Blob([d[0]]));
L.onload=this.zSh.bind({Ps:this,vm:d})};Wk.prototype.zSh=function(h){this.Ps.ib("Publishing ...");window.open("https://www.photopea.com#i"+this.vm[2])};
Wk.im=function(h,R){var d=R[0].oq&&R[0].oq.startsWith("_a_"),L,$=new zG(h+".psd"),W=new A(0,0,1,1);if(d){L=$.mS();
L.add.lsct=W_.ei;L.AI(h);L.Pg="pass";L.CN=24;L.nr(!0);$._.push($.Hb())}for(var M=0;M<R.length;M++){var x=R[M];
W=W.DM(x.FK);var t=$.mS();t.nr(M==0);t.AI(R.length==1?"Background":"Layer "+M);if(x.EY)$.EY=x.EY;if(x.zj)$.zj=x.zj;
if(x.oq)t.AI(x.oq);t.rect=x.FK.clone();t.buffer=new Uint8Array(x.data);z.Qw(t);$._.push(t)}if(d)$._.push(L);
$.f=[d?$._.length-1:0];$.k=W.k;$.$=W.$;$.buffer=z.h(W.s()*4);$.I();return $};Wk.save=function(h,R){var d=new Uint8Array(h),L=document.createElement("a");
if(typeof L.download=="string"){var $=new Blob([d]),W=window.URL.createObjectURL($);L.href=W;L.download=R;
document.body.appendChild(L);L.click();document.body.removeChild(L)}else{var M="data:application/octet-stream;base64,"+Wk.CY(h);
window.open(M)}};function hK(){this.size=16;this.data=z.h(16)}hK.prototype._b=function(h,R){if(h+R<=this.size)return;
var d=this.size;while(h+R>this.size)this.size*=2;var L=z.h(this.size);for(var $=0;$<d;$++)L[$]=this.data[$];
this.data=L};function Wb(h){uD.call(this);this.fJ=Wb.fJ++;this.bl=h;this.zbV=this.zSI.bind(this);this.zDr=this.zSy.bind(this);
this.zBa=this.ig.bind(this);this.zBz=this.zwq.bind(this);this.zDs=this.zwF.bind(this);this.zBt=this.zwS.bind(this);
this.gC=0;this.zDX=0;this.lZ=0;this.M=e.X("div","panelblock");this.PN=e.X("div","block");this.bY=e.X("div","collapsed");
this.M.appendChild(this.PN);this.ip=-1;this.gx=!0;this.IG=e.X("div","panelhead");this.PN.appendChild(this.IG);
this.CV(this.IG);this.vO=new uA("\u2261");this.vO.M.setAttribute("style","position:absolute; right:0;");
this.vO.A("click",this.zSe,this);this.mZ=e.X("div","");this.PN.appendChild(this.mZ);this.Mq=[];this.bV=null;
this.gR=null}Wb.fJ=0;Wb.prototype=new uD;Wb.prototype.zSe=function(h){var R=this.Mq[this.ip].Zd(),d=h.currentTarget.M.getBoundingClientRect();
R.o();R.parent=this;var L=new X(e.E.Z,!0);L.data={c:e.j.eN,_z:R,x:d.left,y:d.top+d.height+2};this.R(L)};
Wb.prototype.iO=function(h){var R=this.PN,d=this.IG,L=this.mZ;if(e.Rn(d))R.removeChild(d);if(e.Rn(L))R.removeChild(L);
if(h==0)R.appendChild(d);R.appendChild(L);this.lZ=h};Wb.dy=function(h){h.stopPropagation();h.preventDefault()};
Wb.prototype.zSI=function(h){var R=h.dataTransfer.types;if(R[1]!=null&&R[1]!=this.fJ+"")return;Wb.dy(h);
var d=h.currentTarget;if(h.target==d)e.qH(d,"highlight")};Wb.prototype.zSy=function(h){Wb.dy(h);var R=h.currentTarget;
if(h.target==R)e.HT(R,"highlight")};Wb.prototype.CV=function(h){h.addEventListener("dragenter",this.zbV,!1);
h.addEventListener("dragleave",this.zDr,!1);h.addEventListener("dragover",Wb.dy,!1);h.addEventListener("drop",this.zBa,!1);
h.addEventListener("dragstart",function(R){R.dataTransfer.setData("Text","--panel");R.dataTransfer.setData(this.fJ+"","")}.bind(this),!1)};
Wb.prototype.ig=function(h){this.zDr(h);var R=null,d=h.currentTarget,L=this.zjN(d);if(d==this.mZ&&this.ip!=-1)R=this.ip;
else if(d==this.IG)R=null;else if(L!=-1)R=L;var $=h.dataTransfer.getData("Text");if($==""||$.startsWith("http"))e.zuB(h,this,R);
else if($=="--panel"){var W=e.sA(h,d),We=this.Mq,M=We.slice(0),x=this.ip,t=L==-1?We.length:W.x<d.getBoundingClientRect().width/2?L:L+1;
if(x==t||x+1==t||d==this.mZ)return;var g=x<t?t-1:t,r=We[x];We.splice(x,1);We.splice(g,0,r);e.dM(this.IG);
for(var l=0;l<We.length;l++)this.IG.appendChild(We[l].PY);this.DO(g);var H=[];for(var x=0;x<We.length;
x++)H[x]=M.indexOf(We[x]);var y=new X("shuffleItems",!1);y.data={zBk:H};this.R(y)}else if(R!=null&&this instanceof hE){var y=new X(e.E.Z,!0);
y.data={c:e.j.zSR,zBu:R};this.R(y)}};Wb.prototype.xp=function(){return null};Wb.prototype.ziq=function(){if(this.xp()){this.gR=this.xp();
this.mZ.appendChild(this.gR)}};Wb.prototype.zSc=function(){if(this.gR){this.mZ.removeChild(this.gR);
this.gR=null}};Wb.prototype.zjN=function(h){var R=this.Mq;for(var d=0;d<R.length;d++)if(R[d].PY==h)return d;
return-1};Wb.prototype.xm=function(){for(var h=0;h<this.Mq.length;h++)this.Mq[h].$p.QO()};Wb.prototype.fF=function(){var h=new kY(0,0);
for(var R=0;R<this.Mq.length;R++){var d=this.Mq[R].fF();h.x=Math.max(h.x,d.x);h.y=Math.max(h.y,d.y)}return h};
Wb.prototype.iK=function(){return this.ip};Wb.prototype.Ur=function(){if(this.gx)return;this.gx=!0;this.M.removeChild(this.bY);
this.M.appendChild(this.PN)};Wb.prototype.collapse=function(){if(!this.gx)return;this.gx=!1;this.M.appendChild(this.bY);
this.M.removeChild(this.PN)};Wb.prototype.zSv=function(){return 26+this.mZ.getBoundingClientRect().height};
Wb.prototype.Bk=function(h,R){this.IG.setAttribute("style","max-width: "+h+"px");var d=0;if(this.lZ==0){d=this.IG.getBoundingClientRect().height;
d=Math.max(d,26)}if(this.ip!=-1)this.Mq[this.ip].Bk(h,R-d);return R-d};Wb.prototype.Nk=function(h,R){this.Mq[this.ip].Nk(h,R)};
Wb.prototype.GA=function(h,R){this.Mq[this.ip].GA(h)};Wb.prototype.i$=function(h){this.zSc();if(this.Mq.indexOf(h)!=-1){this.DO(this.Mq.indexOf(h));
return}h.parent=this;this.Mq.push(h);this.IG.appendChild(h.PY);h.PY.addEventListener("mouseover",this.zBz,!1);
this.CV(h.PY);this.bY.appendChild(h.$p.M);h.$p.A("click",this.zPn,this);h.A("select",this.zjT,this);
h.A(e.E.uu,this.zPQ,this);this.DO(this.Mq.length-1)};Wb.prototype.zwq=function(h){if(h.buttons==0)return;
var R=h.currentTarget,d=R,L=0;while((d=d.previousSibling)!=null)L++;this.zDX=L;R.addEventListener("mouseout",this.zDs,!1);
this.gC=setTimeout(this.zBt,700)};Wb.prototype.zwF=function(h){var R=h.currentTarget,d=R,L=0;while((d=d.previousSibling)!=null)L++;
R.removeEventListener("mouseout",this.zDs);clearTimeout(this.gC)};Wb.prototype.zwS=function(h){this.R(new X(e.E.zqC,!1))};
Wb.prototype.zwA=function(h){return this.zDX};Wb.prototype.iL=function(h){var R=new X(e.E.uu,!1);R.data={oe:h};
this.R(R);var d=this.Mq[h];this.Mq.splice(h,1);this.IG.removeChild(d.PY);this.bY.removeChild(d.$p.M);
d.PY.setAttribute("class","");d.$p.removeEventListener("click",this.zPn,this);d.$p.QO();d.removeEventListener("activate",this.zjT);
d.removeEventListener(e.E.uu,this.zPQ);var L=this.ip;if(h<L)L--;else if(h==L&&h==this.Mq.length)L--;
this.DO(L);if(this.Mq.length==0)this.ziq()};Wb.prototype.zwQ=function(){return this.Mq.length};Wb.prototype.Zj=function(){if(this.Mq.length!=0)this.Mq[this.ip].Zj()};
Wb.prototype.DO=function(h,R){if(R==null)R=!0;for(var d=0;d<this.Mq.length;d++)this.Mq[d].PY.setAttribute("class","");
if(this.bV)this.mZ.removeChild(this.bV);this.bV=null;this.ip=h;if(h==-1)return;var L=this.Mq[this.ip];
this.bV=L.ev;this.mZ.appendChild(L.ev);L.PY.setAttribute("class","active");if(!this.gx){this.R(new X("showFloat"));
this.Mq[h].$p.mt()}if(R)this.R(new X(e.E.l,!1));L.Kh();var $=this.vO.M;if($.parentNode)this.IG.removeChild($);
if(L.Zd())this.IG.appendChild($);var W=new X(e.E.Z,!0);W.data={c:e.j.dc};this.R(W)};Wb.prototype.zjT=function(h){if(this.bl&&!this.bl.ztH())return;
var R=this.Mq.indexOf(h.currentTarget);this.DO(R)};Wb.prototype.zPQ=function(h){if(this.bl&&!this.bl.ztH())return;
var R=this.Mq.indexOf(h.currentTarget);this.iL(R)};Wb.prototype.zPn=function(h){var R=this.Mq.indexOf(h.currentTarget.parent);
if(this.Mq[R].$p.RJ())this.R(new X("hideFloat"));else this.DO(R)};Wb.prototype.zCR=function(h){this.R(h)};
function hE(h){Wb.call(this,h);this.Hl=0;this.om=0;this.gT=null;this.gU=e.X("div");this.gU[e.kw("$y+[145/+AC7")](e.kw("$(0&\""),e.kw("(}{.%ZZXa<GmUE<PHMU$~ cny]tvt(;.r)+)X"));
e.rw(this.IG,this.zwK.bind(this));this.Ba=0;this.zpb=this.zDz.bind(this);this.CV(this.mZ);this.pz=e.X("div","intro");
this.Nh=["default;"];this.kB=new e.Xv(this.mZ);var R=e.X("ul");R.setAttribute("style","margin:0;  padding:164px 0px 0 113px; font-size:1.8em;");
this.pz.appendChild(R);this.Qm=[];var d=[[11,7],[1,6],"pea.psd","milk.sketch"],L=e.X("li");for(var $=0;
$<d.length;$++){if($==2){var W=new uA("Demo: ");L.appendChild(W.M)}var M=d[$],x=new uA(M);x.A("click",this.zwx,this);
L.appendChild(x.M);this.Qm.push(x);if($==0||$==1||$==3||$==d.length-1){R.appendChild(L);L=e.X("li")}}var t=e.X("div");
t.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");this.pz.appendChild(t);
this.zZc={};var g=["en"],r=navigator.languages;if(r)for(var $=0;$<r.length;$++){var l=r[$].split("-")[0].toLowerCase();
if(g.indexOf(l)==-1)g.push(l)}}hE.prototype=new Wb;hE.prototype.zwK=function(h){if(h.target!=this.IG)return;
var R=this.Ba;this.Ba=Date.now();if(Date.now()-R>300)return;var d=new X(e.E.Z,!0);d.data={c:e.j.pY,DN:"newproject"};
this.R(d)};hE.prototype.zjH=function(h){var R=h.currentTarget,d;if(R.zpe!=null){var L=uP.lI(R.zpe);if(L!=-1)d={c:e.j.nY,Ns:uh.Tc,lang:L};
else d={c:e.j.nR,link:"https://www.photopea.com/translate?lang="+R.zpe}}else d={c:e.j.nY,Ns:uh.bR,$S:R.zZl};
var $=new X(e.E.Z,!0);$.data=d;this.R($)};hE.prototype.EZ=function(h,R){if(R)this.Nh.push(h);else{var d=this.Nh.length-1;
if(this.Nh[d]==h)return;this.Nh[d]=h}this.nM()};hE.prototype.zwC=function(){this.Nh.pop();this.nM()};
hE.prototype.nM=function(){var h=this.Nh[this.Nh.length-1];this.kB.GA(h,this.qQ)};hE.prototype.zwx=function(h){var R=this.Qm.indexOf(h.target),d=new X(e.E.Z,!0);
if(R==0)d.data={c:e.j.pY,DN:"newproject"};if(R==1)d.data={c:e.j.kH};if(R>1)d.data={c:e.j.X_,Ns:{url:["images/pea.psd","images/milk.sketch"][R-2]}};
this.R(d)};hE.prototype.o=function(){for(var h=0;h<this.Qm.length;h++)this.Qm[h].o()};hE.prototype.GA=function(h,R){for(var d=0;
d<R.length;d++){var L=R[d];this.Mq[d].Ln(L.name+(L.sI()?" *":""))}Wb.prototype.GA.call(this,h,R)};hE.prototype.zws=function(h){this.M.appendChild(this.gU);
var R=h[0],d=h[1],L=h[2];this.gT=R;this.gU[L](R);R[L](d);this.Bk(this.Hl,this.om)};hE.prototype.zDa=function(){if(this.gT){this.M.removeChild(this.gU);
this.gU.removeChild(this.gT);this.gT=null;this.Bk(this.Hl,this.om)}};hE.prototype.xp=function(){return this.pz};
hE.prototype.Bk=function(h,R){this.Hl=h;this.om=R;if(this.gT!=null)R-=100;R=Wb.prototype.Bk.call(this,h,R);
this.qQ="height:"+R+"px; width:"+h+"px; overflow:hidden; position:relative;";this.nM();var d=512,L=410,$=1,W="";
if(h<d||R<L){if(h/d<R/L)$=h/d;else $=R/L}W+="background-image:url("+PIMG.intro+"); background-size: "+d+"px "+L+"px;";
W+="position:relative; top:"+Math.round((R-L)/2)+"px;  left: "+Math.round((h-d)/2)+"px; width:"+d+"px; height:"+L+"px;";
if($!=1)W+="transform: scale("+$+","+$+");";if(this.pz)this.pz.setAttribute("style",W)};hE.prototype.i$=function(h){Wb.prototype.i$.call(this,h);
e.rw(h.PY,this.zpb)};hE.prototype.iL=function(h){var R=this.Mq[h];e.fO(R.PY,this.zpb);Wb.prototype.iL.call(this,h)};
hE.prototype.zDz=function(h){var R=this.Ba;this.Ba=Date.now();if(Date.now()-R>300)return;var d=this.zjN(h.currentTarget),L=this.Mq[d].C$.name,$=new X(e.E.Z,!0),W={m:e.E.Q,L:s.br,g:{c:S.Fd}};
$.data={c:e.j.pY,DN:"namewindow",$c:L.slice(0,L.length-4),zMl:W};this.R($)};function Wi(){uD.call(this);
ko.zGI(1);this.M=e.X("div","flexrow photopea");this.vg=e.X("div");this.M.appendChild(this.vg);this.PG={x:0,y:0,Pv:!1};
this.Ys=!1;this.Bt=!1;this.vQ=null;this.zpN=0;this.zpm=0;this.lZ=0;this.zBb=!1;if(e.Uo(27))e.RO=window;
else e.RO=this.M;setTimeout(function(){var u=window.hideCap;if(u)u()},25e3);window.zEE=window.alert;
window.alert=function(u,C){this.QI.alert(u,C);console.log("Alert: "+u)}.bind(this);window.onmessage=function(u){if(u.data instanceof ArrayBuffer){var C=ud.qe(u.data),Q=ud.It(C);
Wk.Ws({url:"file"},u.data,this);if(Q==null)this.iT()}else if(u.data instanceof Object||u.data.startsWith("{")||u.data.startsWith("amp-")||u.data.startsWith("0=goog")||u.data.startsWith("3PCoo")){}else{var i=new X(e.E.Z,!0);
i.data={c:e.j.IH,NJ:u.data};this.R(i);this.iT()}}.bind(this);window.onbeforeunload=function(u){for(var $=0;
$<this.gO.length;$++)if(this.gO[$].sI())return this.gO[$].name}.bind(this);window.onblur=function(u){var C=this.QI;
C.ia()}.bind(this);var h=this,t="",g="";if(window.indexedDB&&(!tq.IL()||document.hasStorageAccess==null)){var R={_b:window.indexedDB.open("pp",1)};
R._b.onupgradeneeded=function(u){var C=u.target.result,Q=C.createObjectStore("rsrc",{keyPath:"k"})};
R._b.onsuccess=function(u){var C=h.UR.Tl.VD=u.target.result,Q=C.transaction(["rsrc"],"readwrite").objectStore("rsrc"),i=Q.get("fs0");
i.onsuccess=function(u){if(u.target.result){var j=h.UR.Tl.ij=u.target.result.fset;for(var V in j){if(!V.endsWith(".jsx"))Wk.Ws({url:V,zwY:!0},j[V],h)}}}}}var d=["rksyuzpxz8y|px|v@u\x80\x84}\x8A\x88\x88\x8EI\x7F\x8C\x8B"],L=e.RO[e.sf("YcVg^U]b",11)][e.sf("oaa_kj\\h",3)];
for(var $=0;$<d.length;$++){var W=e.sR(d[$],2);if(L.indexOf(W)!=-1){var M=e.RO[e.sR("hti|unx\x7F",4)][e.sR("esi\x7F",3)],x=e.PT("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
e.dM(M);M[e.sR("lrskyP]WW",3)]=x;return}}this.Kj={zpI:[{L:s.Gp,LL:!1,sv:[m.zbZ,m.Ap]},{L:s.OO,LL:!1,sv:[m.Ap]},{L:s.xV,LL:!0,sv:[m.Is],gY:[s.jS]},{L:s.jS,LL:!0,sv:[m.Is],gY:[s.xV]},{L:s.Rk,LL:!0,sv:[m.Is],gY:[s.VL,s.jw,s.Om]},{L:s.VL,LL:!0,sv:[m.Is],gY:[s.Rk,s.Ru,s.jD,s.Rp,s.RW,s.jp]},{L:s._h,LL:!0,sv:[m.Is]}],yf:[[{L:new s.Kf,Kp:MG}],[{L:new s.Wq,Kp:kd},{L:new s.mA,Kp:MV}],[{L:new s._l,Kp:ku},{L:new s.CZ,Kp:kq},{L:new s.xv,Kp:kF}],[{L:new s.zf,Kp:kI},{L:new s.Po,Kp:kQ},{L:new s.el,Kp:kh}],[{L:new s.zmp,Kp:Mo},{L:new s.zzp,Kp:Mc},{L:new s.B$,Kp:kK},{L:new s.mo,Kp:kZ}],[{L:new s.gj,Kp:ka},{L:new s.rM,Kp:kz}],"---",[{L:new s.WH,Kp:ki},{L:new s.jH,Kp:kM},{L:new s.zm,Kp:kb},{L:new s.LI,Kp:Mr}],[{L:new s.LG,Kp:MH},{L:new s.LQ,Kp:Ms},{L:new s.Lg,Kp:MU}],[{L:new s.zM,Kp:My}],[{L:new s.LR,Kp:Ml},{L:new s.Ly,Kp:MY}],[{L:new s.Iq,Kp:Mj},{L:new s.WA,Kp:kB}],[{L:new s.LD,Kp:MT},{L:new s.JF,Kp:ke},{L:new s.Jd,Kp:kj}],[{L:new s.LZ,Kp:Mv},{L:new s.LK,Kp:MX},{L:new s.Je,Kp:kP}],"---",[{L:new s.dg,Kp:Mp}],[{L:new s.cc,Kp:kw},{L:new s.NN,Kp:kD}],[{L:new s.mI,Kp:kE},{L:new s.Bd,Kp:k_}],[{L:new s.Rect,Kp:kG},{L:new s.Rc,Kp:km},{L:new s.GF,Kp:kO},{L:new s.NO,Kp:kA},{L:new s.Ng,Kp:kg}],"---",[{L:new s.UT,Kp:kt}],[{L:new s.en,Kp:Mm}]],vK:[],keys:[m.zGl,m.mc,m.UM,m.zBJ,m.gd,m.wG,null,m.zeo,m.zkn,m.zub,m.E,m.zuX,null,m.zzv,null,m.Y,m.IF,m.j,m.tq,null,m.zWv,m.HN],KQ:[{L:new s.zdN,Kp:kC},{L:new s.zma,Kp:k$},{L:new s.Lk,Kp:M_}],vZ:[{L:new uE._k},{L:new uE.History},{L:new uE.Ah},{L:new uE.UO},{L:new uE.Ri},{L:new uE.BV}],map:{},vn:null,NE:null,Bu:null};
for(var $=0;$<this.Kj.yf.length;$++){var r=this.Kj.yf[$];if(r=="---")continue;var l=this.Kj.keys[$];
for(var H=0;H<r.length;H++){this.Kj.map[r[H].L.id]=r[H];r[H].Nj=$;r[H].zpc=H;var y=uP.get(r[H].L.name);
g+="<li>"+r[H].L.id+": "+y+"</li>";t+="\t"+JSON.stringify(r[H].L.name)+", "+(l?"\""+l.WO+"\"":"null")+", "+r[H].L.id+", // "+y+"\n"}this.Kj.vK[$]=0}for(var $=0;
$<this.Kj.KQ.length;$++)this.Kj.map[this.Kj.KQ[$].L.id]=this.Kj.KQ[$];for(var $=0;$<this.Kj.vZ.length;
$++)this.Kj.map[this.Kj.vZ[$].L.id]=this.Kj.vZ[$];this.UR={z_M:!1,KJ:null,KL:{kR:[],WU:[],list:[],lB:null},bk:[],zmb:[],kn:[],oX:[],Wy:[],zMr:[],znj:[],znP:[],DY:[WX.hx()],Fp:[],jF:[],uV:null,Dc:{sS:1,ke:JSON.parse(JSON.stringify(uz.kM[0]))},Do:JSON.parse(JSON.stringify(uz.ri.default)),zjP:[null].concat(uz.kM),zj$:[null].concat(uz.kM),UX:new uo,QS:{lw:[],U$:null,Rx:null},vA:[],Ch:16711680,_W:0,Qj:!1,gl:!0,UU:{Py:!0,dT:!1,bj:!0,bs:!0,vY:!0,tj:!0,nt:20,nq:0,BK:0,CQ:0},Yt:!0,Bp:[!0,!0,!0,!0,!0],Qh:[0,1,2,3,5,6,7,9,10,16,17,18],$S:1,lJ:!0,NL:{},SF:!0,compact:!1,pz:!0,gV:null,Tl:{z_T:!1,z_X:!1,ij:{},VD:null},zGm:0,z_I:null,Mg:null,znm:null,lU:null};
this.zGg={e:new A,BD:new kY};this.UR.QS=uM.zpt();this.UR.UX.A(e.E.Z,this.zGH,this);var f=navigator.languages;
if(f&&f.length!=0){var b=f[0];uP.Bf(b)}this.CD=new m;this.Sd=new WJ;this.Iz=new kL;this.lr=new t_(!0);
this.ir=new bn(this.Kj,!0);this.uD=new zY;this.mP=new hE(this);this.pt=e.X("div");this.BB=!1;e.qH(this.mP.M,"mainblock");
var K=this.vg;K.addEventListener("drop",this.mP.Io,!1);K.addEventListener("dragover",hE.dy,!1);K.addEventListener("dragenter",hE.dy,!1);
K.addEventListener("dragleave",hE.dy,!1);this.lr.parent=this.Sd.parent=this.Iz.parent=this.ir.parent=this.uD.parent=this.mP.parent=this;
this.mP.A(e.E.l,this.ztU,this);this.mP.A(e.E.uu,this.zph,this);this.mP.A("shuffleItems",this.zpi,this);
this.mP.A(e.E.zqC,this.zpw,this);this.A("mouse",this.zMP,this);this.A(e.E.Q,this.ns,this);this.A(e.E.nN,this.zDx,this);
this.A(e.E.Z,this.zGH,this);document.body.addEventListener("keydown",this.gt.bind(this),!1);window.addEventListener("keyup",this.fy.bind(this),!1);
window.addEventListener("resize",this.Ak.bind(this),!1);window.addEventListener("paste",this.zDI.bind(this),!1);
window.addEventListener("copy",this.zDg.bind(this),!1);window.addEventListener("blur",function(u){this.CD.reset()}.bind(this),!1);
window.addEventListener("wheel",function(u){if(u.ctrlKey)u.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(u){if(window.innerWidth>400)u.preventDefault();
this.UR.gV=u}.bind(this));if(this.UR.SF&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(u){if(u.znr){console.log("Service worker installing")}else if(u.znU){console.log("Service worker installed")}else if(u.active){console.log("Service worker active")}}).catch(function(u){console.log("Registration failed with "+u)})}this.vC=0;
this.gO=[];this.Lq=new Wk;this.Lq.parent=this;this.yQ=new bG;this.yQ.parent=this;K.appendChild(this.yQ.M);
this.QI=new kS;this.QI.parent=this;K.appendChild(this.QI.M);K.appendChild(this.lr.M);var Z=this.Pz=e.X("div");
Z.appendChild(this.Sd.M);Z.appendChild(this.Iz.M);this.lr.z_R(Z);var J=this.zBB=e.X("div","flexrow");
K.appendChild(J);J.appendChild(this.ir.M);J.appendChild(this.mP.M);J.appendChild(this.uD.M);this.Lq.iD({url:"rsrc/basic/basic.zip"});
this.yX(s._h);uI.Wf(this.zDM.bind(this));this.zGQ=this.Ec.bind(this);window.requestAnimationFrame(this.zGQ)}Wi.prototype=new uD;
Wi.prototype.iT=function(){if(window.parent!=window)window.parent.postMessage("done","*")};Wi.prototype.zDM=function(){var h=uI.wi();
if(h!=null&&h.globals!=null)this.xx(h.globals);else this.zBb=!0;if(!tq.IL()||!this.UR.SF){this.zwo();
this.xn()}else{var R=e.sR("SIIFs",-5)+e.sR("qnQerwhwy",-3),d=e.Ib(e.RO[R]),L=e.sR(e.Uo(31)?"^bcEwgqxQoz|nxp~":"QRq8g4w=,WQW7",-3);
d[L](e.sf("vxik",-10),this.zDj.bind(this));d[e.sR("|~t~",13)](e.sR("ML\\",6),e.sf("o_me*^hej$_gb`",1));
d[e.sR("wjtk",4)]()}this.Ys=!0;this.iT()};Wi.prototype.zDj=function(h){var R=JSON.parse(h.target[e.sf("|n{wuswh",-10)]),d=e.RO[e.sR("Lj~p",8)][e.sf("ddk",10)]()/1e3,L=e.RO[e.sf("YcVg^U]b",11)][e.sf("oaa_kj\\h",3)],$=!1;
for(var W in R)if(W.indexOf(".")!=-1&&L.indexOf(W)!=-1&&parseInt(R[W])>d)$=!0;if($)this.UR.SF=!1;this.zwo();
this.xn()};Wi.prototype.xn=function(h){this.Bt=!0;if(!this.UR.pz)this.mP.pz=null;else this.mP.ziq();
this.xX(uh.QU);this.o();this.Ak();this.uD.GA(this.Pa(),this.gO,this.UR)};Wi.prototype.xx=function(h){var R=this.UR;
if(h.fcolor!=null)R.Ch=h.fcolor;if(h.bcolor!=null)R._W=h.bcolor;if(h.rulers!=null)R.Qj=h.rulers;if(h.extras!=null)R.gl=h.extras;
if(h.favFam!=null)R.vA=h.favFam;if(h.panels!=null)R.Qh=h.panels;if(h.eparams){var d=h.eparams,L=R.UU;
if(d.guides!=null)L.Py=d.guides;if(d.grid!=null)L.dT=d.grid;if(d.gsize!=null)L.nt=d.gsize;if(d.gunits!=null)L.nq=d.gunits;
if(d.gtype!=null)L.BK=d.gtype;if(d.runits!=null)L.CQ=d.runits;if(d.sels!=null)L.bj=d.sels;if(d.paths!=null)L.bs=d.paths;
if(d.pgrid!=null)L.vY=d.pgrid;if(d.slices!=null)L.tj=d.slices}if(h.lang!=null)uP.Bf(h.lang);if(h.theme!=null)R.$S=h.theme;
if(h.topt||R.v$){var $=h.topt?h.topt:{},W=R.v$?R.v$:{};for(var M in this.Kj.map){if(M>=100)continue;
var x="t"+M;this.Kj.map[M].L.zqB($[x],W[x],this)}}};Wi.prototype.zwo=function(){if(this.UR.z_M)return;
this.UR.z_M=!0;var h=null,R=window.location.href,d=R.indexOf("="),L=R.indexOf("#");if(d!=-1)h=R.substring(R.indexOf("?")+1,d);
if(L!=-1&&L!=R.length-1){h="p";d=L}if(L!=-1&&R[L+1]=="i"){this.Lq.zeY(R.slice(L+2))}else if(h=="p"||h=="state"){var $=R.substring(d+1,R.length);
$=JSON.parse(decodeURI($));if(h=="p"){if($.server)this.vQ=$.server;if($.resources)for(var W=0;W<$.resources.length;
W++)this.Lq.iD({url:$.resources[W]});if($.files)for(var W=0;W<$.files.length;W++)this.Lq.iD({url:$.files[W],nU:{gZ:$.server,zGC:$.script}});
if($.environment==null)$.environment={};var M=$.environment;if(M.plugins!=null)this.uD.z_s(M.plugins);
if(M.localsave!=null)this.UR.lJ=M.localsave;if(M.customIO!=null)this.UR.NL=M.customIO;if(M.vmode!=null){var x=M.vmode;
if(x==1)this.UR.compact=!0;if(x==2)this.iO(1)}if(M.intro!=null)this.UR.pz=M.intro;if(M.menus!=null)this.UR.zBq=M.menus;
if(M.tmnu!=null)this.UR.v$=M.tmnu;if(M.panels!=null)this.UR.Qh=M.panels;if(M.showtools!=null){var t=M.showtools,g=t.indexOf(this.UR.KJ);
this.UR.zGx=t;if(g==-1)this.yX(t[0])}if(M.phrases!=null)uP.zMR(M.phrases);if(M.autosave!=null){window.setInterval(function(){var H=new X(e.E.Z);
H.data={c:e.j.kf};this.R(H)}.bind(this),M.autosave*1e3)}if(M.icons!=null){for(var r in M.icons)if(M.icons[r].indexOf("\"")==-1){if(r=="in"+"tro"&&this.UR.SF)continue;
PIMG[r]=M.icons[r];PIMG["__"+r]=!0}}this.xx(M);if($.files==null&&$.script){zQ.mz($.script,this);this.iT()}}else if(h=="state"){var l=this.Lq;
if($.action=="create"){var H=new X(e.E.Z);H.data={c:e.j.pY,DN:"newproject",zkw:$.folderId};this.R(H)}if($.action=="open"){for(var W=0;
W<$.ids.length;W++)Wc.Yl(function(){var K="https://www.googleapis.com/drive/v3/files/"+this.zBE,Z=new XMLHttpRequest;
Z.open("GET",K);Z.setRequestHeader("Authorization",Wc.lL());Z.send();Z.onload=function(J){var u=JSON.parse(J.target.response);
l.iD({url:K+"?alt=media",name:u.name,nA:{file:u,ct:""},vN:{Authorization:Wc.lL()}})}}.bind({zBE:$.ids[W]}));
alert("Loading files from Google Drive ...")}}}else{var y=R.split("/"),f=y.pop(),b=y.pop();if(b!=null&&f!=null&&b.endsWith("photopea.com")&&f.length==2){uP.Bf(f);
this.o();this.Ak()}}};Wi.prototype.o=function(){var h=document.getElementById("cap");if(h){var R=h.getElementsByTagName("h1")[0],$=0,x=0,t=0;
R.textContent=uP.get([0,17,0]);var d=h.getElementsByTagName("p"),L=e.zAf(uP.get([0,17,1])),W=["PSD","XCF","Sketch","XD","CDR"];
for(var M=0;M<W.length;M++)L=L.replace(W[M],"<b>"+W[M]+"</b>");L+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
d[0].innerHTML=L;L=uP.get([0,17,2])+" "+uP.get([0,17,3]);for(var M=0;M<L.length;M++){var g=L[M];if(g=="<")x++;
if(g==">")t++}if(x*t==9){var r=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var M=0;M<3;M++){var l=L.indexOf("<",$),H=L.indexOf(">",$),y=L.slice(0,l)+"<a href=\""+r[M]+"\" target=\"_blank\">"+L.slice(l+1,H)+"</a>";
$=y.length;L=y+L.slice(H+1)}d[1].innerHTML=L}}var f=document.getElementById("sponsors");if(f)f.textContent=uP.get([0,17,4]);
this.lr.o();this.Sd.o();this.uD.o();this.ir.o();this.yQ.o();this.mP.o();for(var b in this.Kj.map)if(this.Kj.map[b].XF)this.Kj.map[b].XF.o()};
Wi.prototype.zDt=function(){return e.RO[e.sR("ptih|ryy",4)][e.sR("q|pr",9)].indexOf("full")!=-1};Wi.prototype.Bk=function(h,R){h=Math.floor(h);
R=Math.floor(R);var d=e.yk,L=d("WUMK&AM"),$=d("b`bRH"),W=e.RO[d("S[L[PEKN")],M=!this.Bt||this.zDt()||!this.UR.SF||uI.pp(),r=0;
if(!M&&tq.IL()){if(this.zmE==null)this.zmE=Math.random()<.5;M=this.zmE}if(this.vx==null)this.vx=h<500?0:h<1600?1:2;
var x=this.vx;if(M){if(e.RO[L]&&this.Bt)e.RO[L]()}else{if(x==0)R-=60;else h-=x==1?175:315}this.lr.zm_=this.UR.SF&&this.Bt;
if(M&&this.BB){this.M[d("aQVUYE B@@5")](this.pt);e.dM(this.pt);this.mP.zDa();this.BB=!1}if(!M&&!this.BB){var t=tq.qa();
this.zDO(h,R);var g=x==0?W[d("Q[M_")]:this.M;g.appendChild(this.pt);this.pt[d("bQ]'WTOC9IE3")]($,d("_MMJLNDgKCAh")+(x==0?10:10)+d("_d$fcOS?I:==Bb-+# ~$N"));
this.pt[$][d("_MMJLND&<:E")]=(x==0?0:20)+d("_d");this.pt[$][d("i5WJHX")]=x==0?0:1;this.BB=!0}if(e.Rn(this.Sd.M))r+=31;
if(e.Rn(this.Iz.M))r+=32;this.lr.Bk(h,r);var l=R-r,H=d("fUMZK"),y=d("WQRMKT"),f=d("_d");this.pt[$][y]=(x==0?100>>>1:R-11)+f;
this.pt[$][H]=(x==0?h:6*Math.pow(10,2))+f;this.ir.Bk(h,l);this.uD.Bk(h,l);this.mP.Bk(h-this.ir.Os()-this.uD.Os(),l);
this.QI.Bk(h,R);this.yQ.Bk(h,R)};Wi.prototype.zDO=function(h,R){var d=function(){var $=new X(e.E.Z);
$.data={c:e.j.pY,DN:"account"};this.R($)}.bind(this),L=tq.zMU(h,R,this.pt,d,this.vx);if(L)this.mP.zws(L)};
Wi.prototype.Ak=function(h){var R=window.innerWidth,d=window.innerHeight;this.Bk(R,d)};Wi.prototype.zDg=function(h){console.log("systemCopy")};
Wi.prototype.zDI=function(h){if(window.ClipboardItem)return;console.log("systemPaste");if(!h.clipboardData)return;
var R=h.target.tagName.toLowerCase();if(this.Rd.indexOf(R)!=-1)return;var d=h.clipboardData.items;if(d==null)return;
var L=this.zDK.bind(this);for(var $=0;$<d.length;$++){var W=d[$],M=W.getAsFile();if(W.type.indexOf("text")!=-1){W.getAsString(this.zDZ.bind(this))}if(W.type.indexOf("image")!=-1){if(M.size==this.UR.zGm)return;
this.UR.zGm=M.size;if(M){M.name="image.png";this.Lq.CG([M],L)}}}};Wi.prototype.zDZ=function(h){if(h.startsWith("http")){if(h==this.UR.zms)return;
this.UR.zms=h;var R=new X(e.E.Z,!0);R.data={c:e.j.X_,Ns:{url:h,zy:!0}};this.R(R)}};Wi.prototype.zDK=function(h,R){var d={buffer:h,rect:R},L=this.UR;
if(window.ClipboardItem){var $=this.zGg,W=$.e;if(W.k==R.k&&W.$==R.$){d.rect=W;d.BD=$.BD}}else{if(L.Mg){var M=new X(e.E.Q,!0);
M.L=s.HX;M.data={c:"h_stepbck"};this.R(M)}}L.Mg=d;var M=new X(e.E.Z,!0);M.data={c:e.j.n$,zBj:!0};this.R(M)};
Wi.dy=function(h){h.stopPropagation();h.preventDefault()};Wi.prototype.zpY=function(){if(Date.now()-this.zpm>1e3){if(this.yQ.Y_()!=null)alert(uP.get([15,7,8]));
else alert("Escape or Confirm the current action (in the top menu).");this.zpm=Date.now()}};Wi.prototype.ns=function(h){var R=this.Pa();
if(R==null){alert(uP.get([15,7,7]));return}if(this.yQ.TZ()&&h.iU!=!0){this.zpY();return}var d=this.Kj,L=this.UR.KJ;
if(L!=h.L&&d.map[L].L.TZ()&&h.L!=s.OO&&h.L!=s.Gp&&!(L==s.j_&&h.L==s.nj)){console.log("disabling",L);
d.map[L].L.disable(R,this,this.UR,this.CD)}var $=this.Kj.map[h.L].L;$.ns(h.data,this,R,this.CD,this.UR);
R.RL=!0};Wi.prototype.zDx=function(h){var R=this.UR;if(h.data.SX!=!0)tQ.zEA({Mh:h.data.Mh,QZ:h.data.QZ},this,R,this.Pa());
var d=R.uV,L=R.jF;if(d==null)return;var $={zFP:!1,cb:"Step",zFH:0,n:!0,exp:!1,Mh:h.data.Mh};if(d[2]==null)d[2]=L[d[0]].C[d[1]].C.length-1;
if(h.data.QZ)$.QZ=JSON.parse(JSON.stringify(h.data.QZ));L[d[0]].C[d[1]].C.splice(d[2]+1,0,$);d[2]++;
this.xX(uh.Q)};Wi.prototype.zGH=function(h){var R=h.data.c;if(R==e.j.OR)tQ.zds(this.Pa(),this.UR.jF,h.data.YT[0],h.data.YT[1],this);
if(R==e.j.zSR){this.ztf(h.data.zBu)}if(R==e.j.ziD){this.o();this.Ak()}if(R==e.j.dc)this.Ak();if(R==e.j.ziH)if(this.UR.gV){this.UR.gV.prompt();
this.UR.gV=null}if(R==e.j.eN)this.QI.zPj(h.data);if(R==e.j.Et)this.QI.zqA(h.data);if(R==e.j.AO)this.QI.zjl(h.data.Cb);
if(R==e.j.AZ)this.QI.zPa(h.data.Cb);if(R==e.j.AM)this.QI.ia();if(R==e.j.sm)this.mP.EZ(h.data._u,h.data.push);
if(R==e.j.zdw)this.mP.zwC();if(R==e.j.AL)this.mP.iL(this.gO.indexOf(h.data.Q$));if(R==e.j.EB){var d=this.Pa(),L=z.clone(d.DP()),$=d._[d.f[0]],W=new A(0,0,d.k,d.$),M=zG.jO()+"-d71c-11e5-b1ae-a548a96e5f9f",x=new X(e.E.Z,!0);
if(h.data.Ns==0){var t={e:W,name:d.name.split(".")[0],tP:L,id:M};x.data={c:e.j.nY,nU:"add",Ns:uh.zb,_J:[t]};
this.R(x)}if(h.data.Ns==1){var g=z.h(W.s()*4);z._M(g,4294967295);z.K.Uu("norm",L,W,g,W,W,1);var r=z.h(W.s());
z.sz(g,r);z.Gv(r);var l=z.Xb(r,W);if(l.dp())l=W;var H=z.h(l.s());z.mF(r,W,H,l);var y={e:l,id:M,channel:H},f=Wm.db(M),b=f.Brsh.v;
b.Dmtr.v.val=l.k;b.Spcn.v.val=10;x.data={c:e.j.nY,nU:"add",Ns:uh.xZ,_J:{list:[{t:"Objc",v:f}],WU:[y],kR:[]}};
this.R(x);x.data={c:e.j.nY,Ns:uh.tA,sr:f};this.R(x)}if(h.data.Ns==2){var K={Kn:$.getName(),gN:M,Re:new A(0,0,d.k,d.$),r:$.add.vmsk.clone().r};
z.t._B(K.r,new um(1/d.k,0,0,1/d.$,0,0));x.data={c:e.j.nY,nU:"add",Ns:uh.zq,_J:[K]};this.R(x)}}if(R==e.j.X_)this.Lq.iD(h.data.Ns);
if(R==e.j.kH){var Z=this.UR.NL.open,J=h.data.zG_;if(Z&&J!=!0){var x=new X(e.E.Z,!0);x.data={c:e.j.IH,NJ:Z};
this.R(x)}else this.Lq.zPm(J?this.mP.iK():null,h.data.zaf)}if(R==e.j.Af){var u=h.data.zku,C=this.fH(u);
if(u==uh.ma){var W=new zG;for(var Q=0;Q<C.length;Q++){var i=C[Q].rE.Lefx;if(i)uS.zdH(i,W,this.UR.Wy)}C={cW:W.add.Patt?W.add.Patt:[],KZ:C}}if(u==uh.sb){var j=this.UR.KL;
C={WU:[],kR:[],list:C};console.log(C)}if(u==uh.Q)C=C[h.data.Pl];var V=uh.LM[u],L=V[2].FI(C);Wk.save(L,V[1]+"."+V[0])}if(R==e.j.Ob){var E=this.UR.Tl,N=h.data.zkS;
if(E.VD&&!E.z_T&&!N){E.z_X=window.confirm("Load \""+h.data.Cr+"\" also next time you use Photopea?\nManage it in Edit - Local Storage.");
E.z_T=!0}if((E.z_X||N)&&E.VD){E.ij[h.data.Cr]=h.data.uI;var x=new X(e.E.Z);x.data={c:e.j.nY,Ns:uh.bJ};
this.R(x)}}if(R==e.j.zdZ){var d=this.Pa(),I="<!DOCTYPE HTML>";if(d==null)return;var n=ud.Vk(d.DP().buffer,d.k,d.$),a=window.open();
I+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";I+="<body><img src=\""+n+"\" /></body>";
I+="</html>";a.document.write(I)}if(R==e.j.AE){var q=this.UR.NL.publish;if(q){var x=new X(e.E.Z,!0);
x.data={c:e.j.IH,NJ:q};this.R(x);return}var k=h.data.f_=="png",F=confirm("Your picture will be published at "+(k?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?");
if(F){var d=this.Pa();if(d==null)return;if(d.Uq){d.UL()}var o=k?ud.wg(d,"png"):ud.wg(d,"psd",0,0,[!0,!0]);
if(k)this.Lq.zNC(o);else this.Lq.zNY(o,d.name)}}if(R==e.j.kf){var G=this.UR.NL.save,d=this.Pa(),w=!1;
if(d==null)return;if(d.Uq){d.UL()}if(d.Zk){if(this.gO.indexOf(d.Zk.ek)!=-1){var L=new Uint8Array(ud.PSD.Az(d)),x=new X(e.E.Q,!0);
x.data={c:S.BX,C$:d.Zk.ek,data:L,id:d.Zk.zAW};x.L=s.br;this.R(x);alert("Smart Object updated")}w=!0}else if(d.nA){this.Lq.zNu(d);
w=!0}else if(d.nU&&d.nU.gZ){this.Lq.zNG(d,this.UR);w=!0}else if(h.data.zQj){this.Lq.zNq(d,h.data.zQj,this.UR);
w=!0}else if(G){var x=new X(e.E.Z,!0);x.data={c:e.j.IH,NJ:G};this.R(x);w=!0}if(w){d.pd=d.mB;d.Dw=!0}else{var x=new X(e.E.Z,!0);
x.data={c:e.j.yb};this.R(x)}}if(R==e.j.yb){if(!this.UR.lJ){alert("function is disabled");return}var G=this.UR.NL.saveAs;
if(G){var x=new X(e.E.Z,!0);x.data={c:e.j.IH,NJ:G};this.R(x);return}var x=new X(e.E.Q,!0);x.data={c:S.Df};
x.L=s.br;this.R(x);var d=this.Pa();if(d.Uq){d.UL()}if(d._.length>8e3&&!confirm("Your document has "+d._.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var U=d.zBl()||d.Zk&&d.Zk.ek.zBl();if(this.zDt())U=!1;var B=new e.RO[(e.sf("Gc"+(e.Uo(31)?"ue":"ve"),-3))]()[e.sR("edtNkqyykz",-2)]();
if(U&&!uI.pp()&&B>2*15){e.RO[e.mr("clh]]c[",3)](e.mr("Ty4\x85\x8D\xA6\\\xB3\xBF\xC8\xC9\xE7\x98\xE8\xFB\b\xC0\x19)0\xE86A\\Ufs~\x85\x87\x9A\xAAlj\xA7\xC9\xCD\xE6\xDF\xEE\xB0\x0E\x13\xCE\b\x15\x10\xF6CYbtm\x84\x8F\x8F\x9F\xA8d\xB1\xB9\xD0\x8C\xD8\xE5\xAA\t\x11\r\x16\xDC5>F]\x0E\\w~\x7F\x8E\x91T\xB2\xB0\xB7|\xCC\xD9\xEC\xF7\x02\xB8\xD5\xDC\xD6-3BS\\Wo&\x7F\x80D\x93\x99\xA5\xB4v\xC8\xD9\xE9\xF0\xB6\x9C\xA6\xED\x15.\xE4/\xF82^[ms\x89\x8BH\x93\x9F\xA9\xBF\xCF\xD2\xE2\x98\xAA\xF2\x05\x12\xCA(&-\xF2QT\\cqw\x8C\x87\x90V\xA1\xAD\xB7\xC3\xDB\xE5\xA5\xB2\xB0\t\x16\xCE/#5J\0",-10)+(-B+4*15)+e.mr(" rs}\x89\x8D\x83\x96V",-5));
return}var L=ud.PSD.Az(d);Wk.save(L,d.name);d.pd=d.mB;d.Dw=!0}if(R==e.j.nR)window.open(h.data.link,"_blank");
if(R==e.j.zdT){if(this.yQ.TZ()){this.zpY();return}var d=this.Pa(),$=d._[d.f[0]],D=d.On($.add.SoLd.Idnt.v);
for(var Q=0;Q<this.gO.length;Q++){var P=this.gO[Q].Zk;if(P!=null&&P.zAW==D.uo&&P.ek==d){this.mP.DO(Q);
return}}Wk.Ws({name:D.qZ,Zk:{zAW:$.add.SoLd.Idnt.v,ek:d}},D.raw.buffer,this)}if(R==e.j.Aj){this.zpk()}if(R==e.j.ub){this.zmd(h.data.Rl,h.data.Ft)}if(R==e.j.n$){this.zpu(h.data.zBj)}if(R==e.j.IH){zQ.mz(h.data.NJ,this)}if(R==e.j.nx){var v=parseFloat(h.data.DN);
if(this.UR.Qh.indexOf(v)==-1){var x=new X(e.E.Z,!0);x.data={c:e.j.nY,Ns:uh.gH,a:v,nU:"add"};this.R(x)}this.uD.z_f(h.data.DN)}if(R==e.j.OI){this.QI.zjR(this.Pa(),this.UR)}if(R==e.j.pY){var G=this.UR.NL.takePic;
if(h.data.DN=="camera"&&G){var x=new X(e.E.Z,!0);x.data={c:e.j.IH,NJ:G};this.R(x);return}if(!this.UR.lJ&&h.data.window=="saveforweb"){alert("function is disabled");
return}this.yQ.zGG(h.data.DN,this.Pa(),h.data,this.gO,this.CD)}if(R==e.j.Eb)Wk.save(h.data.data,h.data.name);
if(R==e.j.In){if(!this.yQ.TZ()||h.iU)this.zpW(h.data.C$)}if(R==e.j.yq){this.mP.DO(h.data.target);var x=new X(e.E.Q,!0);
x.data={c:S.zhO,C$:h.data.C$,Uv:h.data.Uv,bC:h.data.bC};x.L=s.br;this.R(x);this.yX(s.ON)}if(R==e.j.zeM){c.BG=!c.BG;
if(this.gO.length>0)this.Pa().I()}if(R==e.j.ztZ){var O=uI.wi();if(O!=null&&O.globals!=null)this.xx(O.globals);
this.xn()}if(R==e.j.zep){this.Lq.CG(h.data.data,null,h.data.xN,h.data._H)}if(R==e.j.uA){if(!this.yQ.Y_()!=null)this.yX(h.data.L,h.data.Dt)}if(R==e.j.AA){if(this.Kj.vn)this.yX(this.Kj.vn)}if(R==e.j.yg){var uk=this.Kj.map[h.data.L].L,d=this.Pa();
uk.e$(h.data,this,d,this.CD,this.UR);if(d)d.RL=!0;this.zAE()}if(R==e.j.Ui){var ut=this.Kj.map[h.data.L];
this.zAG(ut);ut.XF.oa(h.data)}if(R==e.j.nY){var d=this.Pa(),ua=h.data.Ns,uu=h.data._J,uW=this.UR;if(h.data.nU=="set"){var kV=s.ztJ(uu);
if(uW.KJ!=kV)this.yX(kV);this.Kj.map[kV].XF.zzG(uu,uW)}if(h.data.nU=="add"){var V=uh.LM[ua];if(ua==uh.gH){uW.Qh.push(h.data.a);
uW.Qh.sort(function(uj,uw){return uj-uw})}else if(V==null){if(uu)uW.UX.zQS(uu,h.data.zDm)}else{var p=this.fH(ua);
if(ua==uh.xZ){p.WU=p.WU.concat(uu.WU);p.kR=p.kR.concat(uu.kR);p=p.list;uu=uu.list}if(ua==uh.ma&&d){for(var Q=0;
Q<uu.length;Q++){var i=uu[Q].rE.Lefx;if(i)uS.zjx(i,d,uW.Wy)}}if(ua==uh.sb&&uu==null){var W=this.Kj.map[uW.KJ].XF.ztb();
if(W==null)return;uu=[W]}for(var Q=0;Q<uu.length;Q++)p.push(uu[Q]);if(h.data.zDm!=!0)if(p.length!=uu.length||ua==uh.g$||ua==uh.ma||ua==uh.Q)alert(uP.get(V[3])+" "+uP.get([23,1])+".")}}if(h.data.nU=="del"){if(ua==uh.gH){uW.Qh.splice(uW.Qh.indexOf(h.data.a),1)}else{var V=uh.LM[ua],_=h.data.eV,p=this.fH(ua);
if(ua==uh.xZ)p=p.list;for(var Q=0;Q<_.length;Q++)p[_[Q]]=null;for(var Q=0;Q<p.length;Q++)if(p[Q]==null){p.splice(Q,1);
Q--}alert(uP.get(V[3])+" deleted.")}}if(h.data.nU=="rnm"){var V=uh.LM[ua],p=this.fH(ua);if(ua==uh.xZ)p=p.list;
if(p[h.data.eV[0]]==null)return;V[2].Ln(p[h.data.eV[0]],h.data.a)}if(ua==uh.gc){var uB=h.data.a;uW.Dc=uB;
uW.zjP[uB.sS]=uB.ke}if(ua==uh.bB){var uB=h.data.a;uW.Do=uB;var ub=uB.strokeEnabled.v,uq=uB.strokeStyleContent.v,uF=ub?{sS:1+uz.ri.Wp.indexOf(uq.classID),ke:uq}:{sS:0};
uW.zj$[uF.sS]=uF.ke}if(ua==uh.hV){uW.QS=h.data.QS}if(ua==uh.tA){uW.KL.lB=h.data.sr}if(ua==uh.bd){uW.vA=h.data.sg}if(ua==uh.Pf){var ue,up="Clrs";
if(h.data.Ek<2){var ui=h.data.a,zd=h.data.Ek==0,uN=z.i.ZR({H:ui>>>16,N:ui>>>8&255,W:ui&255});if(zd)uW.Ch=ui;
else uW._W=ui;up=zd?"FrgC":"BckC";ue={Mh:"set",QZ:{__name:"Set",classID:"setd",T:{t:"Objc",v:uN}}}}if(h.data.Ek==2){var u_=uW.Ch;
uW.Ch=uW._W;uW._W=u_;ue={Mh:"exchange",QZ:{__name:"Exchange",classID:"Exch"}}}if(h.data.Ek==3){uW.Ch=0;
uW._W=16777215;if(d!=null&&d.f.length!=0&&d._[d.f[0]].GJ==1){var u_=uW.Ch;uW.Ch=uW._W;uW._W=u_}ue={Mh:"reset",QZ:{__name:"Reset",classID:"Rset"}}}if(ue){ue.QZ.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:up}}]};
var ut=this.Ic();ut.Ps=this;ut.track(ue)}}if(ua==uh.Tg){uW.Qj=!uW.Qj;this.Ak()}if(ua==uh.zw){uW.gl=!uW.gl;
this.Ak()}var za=uW.UU;if(ua==uh.TT){za.bj=!za.bj;this.Ak()}if(ua==uh.IW){za.bs=!za.bs;this.Ak()}if(ua==uh.b_){za.Py=!za.Py;
this.Ak()}if(ua==uh.T$){za.dT=!za.dT;this.Ak()}if(ua==uh.wP){za.vY=!za.vY;this.Ak()}if(ua==uh.TL){za.tj=!za.tj;
this.Ak()}if(ua==uh.bi){uW.UU=h.data.sg;this.Ak()}if(ua==uh.zWw){uW.Yt=!uW.Yt;this.Ak()}if(ua==uh.b$){uW.Bp[h.data.cp]=!uW.Bp[h.data.cp];
this.Ak()}if(ua==uh.Tc){uP.zMF(h.data.lang);this.o();this.Ak()}if(ua==uh.bR){uW.$S=h.data.$S;this.o()}if(ua==uh.bJ&&uW.Tl.VD){var uZ=uW.Tl.VD.transaction(["rsrc"],"readwrite").objectStore("rsrc");
uZ.put({k:"fs0",fset:uW.Tl.ij})}this.xX(ua)}};Wi.prototype.fH=function(h){var R=this.UR,d=[uh.xZ,uh.gp,uh.ho,uh.zb,uh.zq,uh.ma,uh.g$,uh.Q,uh.sb,uh.zF],L=[R.KL,R.kn,R.oX,R.Wy,R.DY,R.Fp,R.zMr,R.jF,R.bk,R.zmb];
return L[d.indexOf(h)]};Wi.prototype.zpk=function(){var h=this.zmd(),R=this.Pa();if(R==null||R.f.length==0)return;
var d=R._[R.f[0]],L=new X(e.E.Q);if(h==1){L.L=s.VL;L.data={c:"remove",zv:"Cut Paths"}}else{L=new X(e.E.nN);
L.data={Mh:"delete"}}this.R(L)};Wi.prototype.zmd=function(h,R){if(h==null)h=!1;var d=this.UR;console.log("doCopy",h,R);
var L=this.Pa();if(L==null||L.f.length==0)return;var $=L._[R==null?L.f[0]:R],W=L.lH(),M=W[0],x=W[1],t=M[x[0]];
if(!h&&t!=null&&t.add.vmsk.f.length!=0){d.lU=s.rf.zEW(t.add.vmsk,t.add.vogk);return 1}else{if(L.z==null)return;
var g,r;if(h){var l=new A(0,0,L.k,L.$);r=l.hc(L.z.rect);g=z.h(r.s()*4);z.bt(L.DP(),l,g,r);z.eo(L.z.channel,L.z.rect,g,r)}else{var H=$.zEo(L,L.z);
if(H==null){alert("Copied area is empty");return}g=H.Ry;r=H.rect}var y=L.F.ro,f=y[0]+y[1]+y[2];if(f==1){var b=y.indexOf(1);
for(var K=0;K<g.length;K+=4)g[K]=g[K+1]=g[K+2]=g[K+b]}var Z=new kY(L.k,L.$);if(window.ClipboardItem){var J=ud.PNG.zug(g.buffer,r.k,r.$);
Wk.zPw(new Blob([new Uint8Array(J)],{type:"image/png"}));this.zGg={e:r,BD:Z}}else d.Mg={buffer:g,rect:r,BD:Z};
d.z_I=r.clone();d.lU=null}};Wi.prototype.zpu=function(h){console.log("doPaste");var R=this.UR,d=R.Mg,M;
if(this.gO.length==0){if(!h&&window.ClipboardItem){Wk.C_(this,null);return}if(d){var L=Wk.im("image.psd",[{data:d.buffer.buffer,FK:d.rect}]),$=new X(e.E.Z);
$.data={c:e.j.In,C$:L};this.R($)}return}var L=this.Pa(),W=L._[L.f.length==0?L._.length-1:L.f[0]];if(R.lU){var x=L.lH(!0),t=x[0],g=x[1];
M=t[g[0]]}var $=new X(e.E.Q,!0);if(R.lU!=null&&M!=null){$.L=s.VL;$.data={c:"append",zv:"Paste Paths",zZq:R.lU}}else if(!h&&window.ClipboardItem){Wk.C_(this,this.zDK.bind(this));
return}else{if(d==null)return;if(L.wI(!1)&&(W.GJ>0||W.rect.dp())){$.L=s.xZ;$.data={c:"draw",zSj:!0,zv:[5,2]}}else{$.L=s.br;
$.data={c:S.Fk}}$.data.Mg=d}this.R($)};Wi.prototype.zAa=function(){for(var h=0;h<this.gO.length;h++){var R=this.gO[h],d=!0;
for(var L=0;L<R._.length;L++){var $=R._[L],W=$.add.TySh;if(W!=null&&!Wg.na(W,this.UR.UX))d=!1}if(!d)continue;
if(R.hX)for(var L=0;L<R._.length;L++){var $=R._[L],W=$.add.TySh;if(W!=null&&Wg.na(W,this.UR.UX)){var M=new zH(W.h_,this.UR.UX),x=Wg.sj(M,W);
$.rect=x.e;$.buffer=x.tP;$.I();R.I()}}if(R.z_i)continue;R.z_i=!0;if(R.nU&&R.nU.zGC)zQ.mz(R.nU.zGC,this);
this.iT();var t=new X(e.E.Q);t.L=s.nj;t.data={c:"start",jY:"\0\0\x03\x82"};var g=new X(e.E.Z);g.data={c:e.j.nx,DN:uy.co.zeL}}};
Wi.prototype.xX=function(h){var R=this.UR.KJ;if(h==uh.tA){if(this.Kj.map[R].XF)this.Kj.map[R].XF.Nk(this.UR,h)}else for(var d in this.Kj.map)if(this.Kj.map[d].XF)this.Kj.map[d].XF.Nk(this.UR,h);
if(h==uh.ze){if(R!=s._y)this.Kj.map[s._y].L.Nk(this.UR,h);this.zAa()}this.ir.Nk(this.UR,h);this.yQ.Nk(this.UR,h);
this.Ic().Nk(this.UR,h);this.uD.Nk(this.UR,h);this.Sd.Nk(this.UR,h);if(h==uh.bR||h==uh.QU){ko.zGI(this.UR.$S);
this.update(!0)}if([uh.gH,uh.bd,uh.Pf,uh.Tg,uh.zw,uh.bi,uh.b_,uh.T$,uh.TT,uh.IW,uh.wP,uh.TL,uh.Tc,uh.bR].indexOf(h)!=-1)this.zAE()};
Wi.prototype.zAE=function(){if(!this.Ys)return;var h={},R=this.Kj.map;for(var d in R){var L=R[d].L;if(L.xc&&L.xc()!=null)h["t"+d]=L.xc()}var $=this.UR,W=$.UU,M={fcolor:$.Ch,bcolor:$._W,rulers:$.Qj,extras:$.gl,favFam:$.vA,panels:$.Qh,eparams:{guides:W.Py,grid:W.dT,sels:W.bj,paths:W.bs,pgrid:W.vY,slices:W.tj,gsize:W.nt,gunits:W.nq,gtype:W.BK,runits:W.CQ},lang:uP.lA(),theme:$.$S,topt:h},x=uI.wi();
if(x==null)x={};x.globals=M;uI.BL(x)};Wi.prototype.zA_=function(){var h=this.CD,R=this.PG,d=this.UR.KJ,L=this.Kj.map[d].L,$=null,W=!1;
for(var M=0;M<this.Kj.zpI.length;M++){var x=this.Kj.zpI[M],t=!0;for(var g=0;g<x.sv.length;g++){var r=x.sv[g];
if(!h.u(r))t=!1}if(t&&(!x.LL||!L.TZ())&&(x.gY==null||x.gY.indexOf(d)!=-1)){$=x.L;W=x.LL;break}}if(!R.Pv&&this.Kj.NE!=$&&($!=d||!W)){var l=this.Pa();
if(this.Kj.NE!=null&&$==null)this.Ic().disable(l,this,this.UR,h,!0);this.Kj.NE=$;this.Ic().enable(l,this,this.UR,h,$!=null&&$!=d)}};
Wi.prototype.xf=function(h){var R=this.UR.KJ,d=this.Pa();if(R!=null){this.Kj.map[R].L.disable(d,this,this.UR,this.CD)}};
Wi.prototype.zAG=function(h){if(h.XF==null){h.XF=new h.Kp;h.XF.ziZ(h.L.id,h.L.$t);h.XF.Nk(this.UR,uh.QU);
h.XF.o()}};Wi.prototype.yX=function(h,R){if(h==s.ON&&this.yQ.Y_())return;var d=this.Pa(),L=this.UR;if(this.Kj.map[h].L.xo(d,L)){this.xf();
var $=[s.jw,s.Om,s.Ru,s.jD,s.RW,s.Rp,s.jp,s.VL,s.Rk].indexOf(L.KJ)!=-1;this.Kj.vn=L.KJ;L.KJ=h;this.ir.GA(this.Kj,this.UR);
var W=this.Kj.map[h];this.Kj.vK[W.Nj]=W.zpc;this.zAG(W);this.Iz.zPS(W.XF);var M=W.L;M.enable(d,this,this.UR,this.CD,!1,R,$);
if(d)d.RL=!0;this.Ak()}};Wi.prototype.Ic=function(h){var R=this.Kj,d=R.Bu,L=R.NE,W=this.UR.KJ;if(d)W=d;
else if(L&&h==null)W=L;return R.map[W].L};Wi.prototype.zpW=function(h){var R=this.gO.indexOf(h);if(R!=-1){this.mP.DO(R);
return}if(this.vQ&&(h.nU==null||h.nU.gZ==null)){h.nU={gZ:this.vQ}}if(h.CO==null){h.CO="local,"+this.zpN+","+h.name;
this.zpN++}for(var d=0;d<h._.length;d++){var L=h._[d];if(L.add.TySh!=null)Wg.na(h._[d].add.TySh,this.UR.UX)}var $=e.RO[e.sf("Hd"+(e.Uo(26)?"vf":"uf"),-4)];
$=$[e.sf("uu"+(!e.Uo(28)?"-":"|"),-7)];var W=Math.floor($()/1e3),M=Math.PI*(7361<<13)+(e.Uo(31)?20:10)*7e7;
if(W>M){var x=h._.length;h._=[];return x}if(c.BG)c.ziu(Math.max(h.k,h.$));h.Ov();h.s$();h.I();this.gO.push(h);
this.mP.i$(new zN(h));h.RL=!0;h.Dw=!0;this.zAa();var t=new X(e.E.Q);t.L=s.Vl;t.data={c:"auto",Xj:2}};
Wi.prototype.Pa=function(){return this.gO[this.vC]};Wi.prototype.ztH=function(){return this.yQ.Y_()==null};
Wi.prototype.ztU=function(h){this.xf();this.vC=this.mP.iK();var R=this.Pa();this.Sd.zGe(R,this.UR);this.uD.GA(R,this.gO,this.UR);
this.Ak();if(R)R.RL=!0};Wi.prototype.zph=function(h){this.xf();this.gO.splice(h.data.oe,1);if(this.gO.length==0){this.ztU(h);
if(c.BG)c.Me().parentNode.removeChild(c.Me())}};Wi.prototype.zpi=function(h){var R=[],d=h.data.zBk;for(var L=0;
L<d.length;L++)R[L]=this.gO[d[L]];this.gO=R;this.vC=this.mP.iK()};Wi.prototype.zpw=function(h){var R=this.mP,d=R.zwA(),L=this.Ic(),$=this.Pa();
if(d==R.iK()||!L.ztG())return;this.ztf(d,L)};Wi.prototype.ztf=function(h,R){var d=this.UR,L=this.mP,$=this.Pa(),W=this.gO[h],M=new X(e.E.Q,!0);
M.L=s.br;M.data={c:S.qX,_:$.Fr(null,!0),ek:$,VH:W};this.R(M);var x=this.PG,t=d.Qj;d.Qj=!1;x=$.F.Px(x.x,x.y);
if(R)R.zzP($,this,d,this.CD);L.DO(h);x=W.F.Ia(x.x,x.y);x.x+=49;x.y+=112;if(R)R.pf(W,this,d,this.CD,x);
d.Qj=t};Wi.prototype.zMP=function(h){var R=this.Pa(),d=this.CD,L=this.UR,$=h.Un;if($)this.PG=$;if(h.action.startsWith("multi")){var W=new X(e.E.Q,!0);
W.data={c:h.action,HZ:h.HZ};W.L=s.Gp;this.R(W);return}var M=this.Kj.map[s._h].L;if((h.action=="down"||h.action=="rdown")&&L.KJ!=s._h&&this.Kj.NE!=s._h&&M.ztm(R,this,L,d,$)){this.Kj.Bu=s._h;
M.enable(R,this,L,d,!0)}var x=this.yQ.Y_(),t=x!=null&&x.Wx()&&this.Kj.NE==null?x:this.Ic();if(x!=null&&t!=x&&this.yQ.TZ()&&t.id!=s.OO&&t.id!=s.Gp)return;
if(this.QI.Y_())return;if(h.action=="down")t.pf(R,this,L,d,$);if(h.action=="rdown")t.xH(R,this,L,d,$);
if(h.action=="move")t.yn(R,this,L,d,$);if(h.action=="up")t.WL(R,this,L,d,$);if(h.action=="rup")t.VK(R,this,L,d,$);
var g=this.uD;if(h.action=="down")g.pf(R,this,L,d,$);if(h.action=="move")g.yn(R,this,L,d,$);if(h.action=="up")g.WL(R,this,L,d,$);
if(h.action=="down"||h.action=="up"){this.zA_()}if(h.action=="down"||h.action=="up"||h.action=="ctx"){R.RL=!0}if((h.action=="up"||h.action=="rup")&&this.Kj.Bu){this.Kj.Bu=null;
M.disable(R,this,L,d)}if(h.action=="scroll"){var r=!d.u(m.Is)&&h.c$,W=new X(e.E.Q,!0);W.data={c:"scroll",bQ:h.bQ.clone(),Un:$};
W.L=d.u(m.tw)||r?s.Gp:s.OO;this.R(W)}};Wi.prototype.Ec=function(h){var R=this.Pa(),d=this.PG;if(R&&this.Ic().pZ(d,this.CD)){var L=R.F,$=L.C.k,W=L.C.$,M=0,x=0,t=16;
if(d.x<t)M=t-d.x;if(d.x>$-t)M=d.x-($-t);if(d.y<t)x=t-d.y;if(d.y>W-t)x=d.y-(W-t);if((M!=0||x!=0)&&(R.k*L.P>$||R.$*L.P>W)){M=Math.min(5,M*.5);
x=Math.min(5,x*.5);if(!(d.x<t||d.y<t)){M=-M;x=-x}L.T.x+=M;L.T.y+=x;this.zMP({Un:this.PG,action:"move"});
R.tf=!0}}this.update();window.requestAnimationFrame(this.zGQ)};Wi.prototype.update=function(h){var R=this.Pa();
if(R==null)return;if(R.RL){var d=this.Kj.map;for(var L in d){if(d[L].L.mG)d[L].L.mG(R,this,this.UR,this.CD)}}if(R.Uq){R.UL()}if(R.Uq||R.td||R.Dw||R.tf||h){this.mP.Nk(this.UR,null);
this.mP.GA(R,this.gO)}if((R.Uq||R.tf||R.RL)&&(!this.PG.Pv||R.lX)){R.s$();this.uD.GA(R,this.gO,this.UR);
this.ir.z_o(R,this.CD);R.HD=!1}R.lX=!1;R.RL=!1;R.Uq=null;R.td=R.Dw=R.tf=!1};Wi.prototype.Rd=["input","textarea","select"];
Wi.prototype.zMN=function(h){var R=h.code,d=m.Zt;return!d(R,m.$j)&&!d(R,m.Is)&&!d(R,m.tw)};Wi.prototype.gt=function(h){var R=h.target.tagName.toLowerCase(),d=h.target.getAttribute("type"),L=m.Zt(h.code,m.FA);
if(this.Rd.indexOf(R)!=-1&&this.zMN(h)&&!(L&&R=="input"&&d=="range")&&!(R=="input"&&d=="checkbox")||R=="button"&&(L||m.Zt(h.code,m.Ha)))return;
if(m.zbX(h)){h.preventDefault()}this.CD.zbt(m.zFN(h));this.LT("down")};Wi.prototype.fy=function(h){if(m.Zt(h.code,m.zNa))this.CD.reset();
this.CD.zbM(m.zFN(h));var R=h.target.tagName.toLowerCase();if(this.Rd.indexOf(R)!=-1&&this.zMN(h))return;
if(m.zbX(h)){h.preventDefault()}this.LT("up")};Wi.prototype.LT=function(h){var R=this.CD,d=this.Pa(),L=d!=null&&d.f.length!=0;
if(this.QI.Y_()!=null){if(R.u(m.$j)){this.QI.zPN()}return}this.zA_();var $=this.iy(m.Is),W=R.u(m.tw),M=R.u(m.ka);
if($&&R.u(m.HN)&&h=="down"){var x=new X(e.E.Q),t=new X(e.E.Z);x.L=s.HX;if(M){x.data={c:"h_stepfwd"}}else{x.data={c:"h_stepbck"}}if(this.yQ.Y_()!=null&&this.yQ.Y_().TZ()){}else this.R(x)}if($){var x=new X(e.E.Q),g=new X(e.E.nN),t=new X(e.E.Z);
if(!W)for(var r in uJ.keys){var l=uJ.keys[r],H=!0;for(var y=0;y<l.length;y++)if(!R.u(l[y]))H=!1;if(H){x.L=s.Vl;
if(r=="hue2"&&M)x.data={c:"auto",Xj:3};else x.data={c:"start",tC:r}}}if(R.u(m.j)){g.data=s.dS.HY(!0)}if(R.u(m.gd)){if(W)t.data={c:e.j.pY,DN:"csize"};
else t.data={c:e.j.ub,Rl:M}}if(R.u(m._t)){g.data=s.dS.HY()}if(R.u(m.E)&&h=="down"){x.L=s.br;if(M)x.data={c:S.qk};
else{if(d.f.length==1&&d.f[0]!=0&&!d._[d.f[0]].If())x.data={c:S.tN};else x.data={c:S.Bc}}}if(R.u(m.eC)){if(M&&this.UR.KJ!=s.ON)t.data={c:e.j.pY,DN:"afw_fade"};
else if(W){x.L=s.nj;x.data={c:"applylast"}}else t.data={c:e.j.OI}}if(R.u(m.zuX)){if(W&&d.rJ(d.f[0])){x.L=s.br;
x.data={c:S.Mn}}else{x.L=s.br;x.data={c:S.FW}}}if(R.u(m.zWv)){t.data={c:e.j.nY,Ns:uh.zw}}if(R.u(m.wG)){if(M){x.data=null;
if(W)t.data={c:e.j.pY,DN:"finfo"};else g.data={Mh:"inverse"}}else if(W)t.data={c:e.j.pY,DN:"isize"}}if(R.u(m.zeo)){x.L=s.br;
x.data={c:S.M$}}if(R.u(m.mT)){t.data={c:e.j.pY,DN:"preferences"}}if(R.u(m.$m)){if(M){x.L=s.br;x.data={c:S.O_}}else t.data={c:e.j.pY,DN:"newproject"}}if(R.u(m.zzv)){t.data={c:e.j.kH};
R.reset()}if(R.u(m.IF)){t.data={c:e.j.zdZ};R.reset()}if(R.u(m.co)){t.data={c:e.j.nY,Ns:uh.Tg}}if(R.u(m.zub)&&h=="down"){if(M){if(W)t.data={c:e.j.pY,DN:"saveforweb"};
else t.data={c:e.j.yb}}else t.data={c:e.j.kf}}if(R.u(m.Y)){if(M){x.L=s.ON;x.data={c:"again"}}else t.data={c:e.j.uA,L:s.ON}}if(R.u(m.zGl)){t.data={c:e.j.n$}}if(R.u(m.zBJ)){this.mP.Zj()}if(R.u(m.HF)){t.data={c:e.j.Aj}}if(R.u(m.Hq)||R.u(m.wS)){x.L=s.br;
x.data={c:S.MO,Ek:0};if(R.u(m.Hq))x.data.Ek=M?3:2;else x.data.Ek=M?0:1}if(R.u(m.FA)&&d){x.L=s.GD;x.data={c:"frompath",YT:[null,0,0]}}if(R.u(m.zqt)){g.data=s.hu.jK(0)}if(R.u(m.Ha)){var f=this.gO.length;
if(f>1)this.mP.DO((this.mP.iK()+1)%f)}if(R.u(m.zbo)){t.data={c:e.j.nY,Ns:uh.b_}}if(R.u(m.zq$)){t.data={c:e.j.nY,Ns:uh.T$}}if(R.u(m.BH)||R.u(m.zbv)){x.L=s.Gp;
x.data={c:"zoom",oV:!0}}if(R.u(m.HB)){x.L=s.Gp;x.data={c:"zoom",oV:!1}}if(R.u(m.zEd)){x.L=s.Gp;x.data={c:"adapt",a:"fitscr"}}if(R.u(m.zSO)){x.L=s.Gp;
x.data={c:"adapt",a:"pixel"}}if(this.yQ.Y_()!=null&&this.yQ.Y_().TZ()){}else{if(x.data)this.R(x);if(g.data)this.R(g);
if(t.data)this.R(t)}}if(!R.u(m.Is)&&!W&&!M&&h=="down"){var x=new X(e.E.Q),t=new X(e.E.Z),b=this.Kj.map[this.UR.KJ],K=-1;
for(var y=0;y<this.Kj.keys.length;y++)if(this.Kj.keys[y]&&this.iy(this.Kj.keys[y]))K=y;if(K!=-1){var Z;
if(b.Nj!=K)Z=this.Kj.vK[K];if(b.Nj==K)Z=(b.zpc+1)%this.Kj.yf[K].length;var J=this.Kj.yf[K][Z].L.id,u=this.UR.zGx;
if((u==null||u.indexOf(parseInt(J))!=-1)&&!this.PG.Pv)t.data={c:e.j.uA,L:J}}if(R.u(m.HF))t.data={c:e.j.nY,Ns:uh.Pf,Ek:2};
if(R.u(m._t))t.data={c:e.j.nY,Ns:uh.Pf,Ek:3};if(t.data)this.R(t);if(d&&d.f.length!=0){var C=d._[d.f[0]],Q=C.GJ;
if(Q==1||Q==3){var i=Q==3?C.ez(d).v:C.rc(),j=i.Ar?d.F.ro.join("")=="111"?1:2:0;x.L=s.Gp;if(i&&R.u(m.$j)&&j!=0){x.data={c:"mskView",a:0}}if(i&&R.u(m.zbl)){x.data={c:"mskView",a:j==1?0:1}}if(i&&R.u(m.zBh)){x.data={c:"mskView",a:j==2?0:2}}if(x.data)this.R(x)}}var V=R.wN();
if(L&&V!=-1&&this.iy(m.H_[V])){var E=d.f[0],C=d._[E],N=e.zzV(Math.round(100*C.opacity/255),V);x.L=s.br;
x.data={c:S.MN,J:E,sg:Math.round(255*N/100)};this.R(x)}if(R.u(m.Ha))this.iO(this.lZ==0?1:0);if(R.u(m.eC))this.iO(this.lZ==0?2:0);
if(R.u(m.zqR)&&!this.PG.Pv){x.L=s.GD;x.data={c:"qmask"};this.R(x)}}if(!R.u(m.Is)&&!W&&M){var x=new X(e.E.Q),t=new X(e.E.Z);
if(R.u(m.zqM))t.data={c:e.j.pY,DN:"shortcuts"};if(R.u(m.zd_))t.data={c:e.j.pY,DN:"fill"};if(R.u(m.zdm))t.data={c:e.j.pY,DN:"sel_feather"};
if(L&&(R.u(m.BH)||R.u(m.HB))){var E=d.f[0],C=d._[E],n=zP.RS,a=n.length,I=n.indexOf(C.Pg);x.L=s.br;x.data={c:S.MP,sg:(I+a+(R.u(m.BH)?1:-1))%a};
this.R(x)}if(t.data)this.R(t)}var x=new X(e.E.Q),q=h=="down"&&(this.iy(m.rT)||this.iy(m.rQ));if(($||W)&&q){x=new X(e.E.nN);
x.data=s.kq._v($?"BckC":"FrgC");this.R(x)}else if(d&&q&&!this.PG.Pv){if(d.z!=null){x=new X(e.E.nN);x.data={Mh:"delete"}}else{x.L=s.br;
x.data={c:S.Ot}}this.R(x)}if(this.yQ.Y_()!=null){if(R.u(m.$j)){this.yQ.Y_().zIx()}else{this.yQ.Y_().LT(d,this,this.UR,R)}}if(this.UR.KJ==null)return;
var b=this.Ic();if(this.yQ.Y_()==null||this.Kj.NE)b.LT(d,this,this.UR,R)};Wi.prototype.iy=function(h){var R=this.CD,d=this.Kj.map[this.UR.KJ].L,top=this.yQ.Y_(),L=this.Pa();
return R.u(h)&&!d.J$(h,L)&&(top==null||!top.J$(h,L))};Wi.zaL=function(){if(!document.mozFullScreen&&!document.zCz){var h=document.body;
if(h.mozRequestFullScreen){h.mozRequestFullScreen()}else{h.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{document.webkitCancelFullScreen()}}};
Wi.prototype.iO=function(h){var R=this.zBB,d=this.vg;this.lZ=h;var L=e.Rn,$=this.Sd.M;if(L($))this.Pz.removeChild($);
var W=this.Iz.M;if(L(W))this.Pz.removeChild(W);var M=this.ir.M;if(L(M))R.removeChild(M);var x=this.mP.M;
if(L(x))R.removeChild(x);var t=this.uD.M;if(L(t))R.removeChild(t);if(h==0){this.Pz.appendChild($);this.Pz.appendChild(W);
d.appendChild(R);R.appendChild(M);R.appendChild(x);R.appendChild(t)}if(h==1){this.Pz.appendChild($);
R.appendChild(x)}if(h==2){R.appendChild(x)}this.mP.iO(h==2?1:0);if(document.fullscreenEnabled){if(h==2)document.body.requestFullscreen();
else if(document.fullscreenElement)document.exitFullscreen()}this.Ak()};function zc(h){uD.call(this);
if(h==null)return;this.Hl=null;this.om=null;this.M=e.X("div","sbar"+" "+h);this.BE=new e.X("div","top");
this.BE.innerHTML="> <";this.M.appendChild(this.BE);this.IM=1;this.BE.addEventListener("click",this.zpJ.bind(this),!1)}zc.prototype=new uD;
zc.prototype.zpJ=function(h){if(this.Hl!=null&&this.Hl<500&&this.IM==0)return;if(this.IM==0)this.Ur(!0);
else this.collapse(!0)};zc.prototype.zWm=function(h){this.IM=h;this.BE.innerHTML=this.IM==0?"< >":"> <"};
zc.prototype.zWg=function(){var h=new X(e.E.Z,!0);h.data={c:e.j.dc};this.R(h)};zc.prototype.Ur=function(h){this.zWm(1);
if(h)this.zWg()};zc.prototype.collapse=function(h){this.zWm(0);if(h)this.zWg()};zc.prototype.RK=function(){return this.IM==1};
function hd(h){zc.call(this,"vcolumn");this.Be=h;this.Ro();this.BR=e.X("div");this.BR.setAttribute("style","cursor:default;");
this.zBP=this.zpU.bind(this);this.zAN=this.z_z.bind(this);this.zAl=this.z_h.bind(this);e.Xh(this.M,this.zBP);
this.M.appendChild(this.BR);this.vL=e.X("div","");this.BR.appendChild(this.vL);this.Iu=null;this.Ih=e.X("div","float");
this.ep=[];this.zOE=null;this.zOD=0}hd.prototype=new zc;hd.prototype.zpU=function(h){if(h.target!=this.M)return;
if(!this.RK())return;this.zOE=e.sA(h,document.body);this.zOD=this.Be;e.rh(document,this.zAN);e.rw(document,this.zAl)};
hd.prototype.z_z=function(h){var R=e.sA(h,document.body);this.Be=this.zOD+this.zOE.x-R.x;this.Ro();var d=new X(e.E.Z,!0);
d.data={c:e.j.dc};this.R(d)};hd.prototype.z_h=function(h){e.yK(document,this.zAN);e.fO(document,this.zAl)};
hd.prototype.z_q=function(h){h.A("showFloat",this.zWn,this);h.A("hideFloat",this.fv,this);this.ep.push(h);
h.parent=this;this.BR.appendChild(h.M)};hd.prototype.z_p=function(h){var R=this.ep[h];R.removeEventListener("showFloat",this.zWn,this);
R.removeEventListener("hideFloat",this.fv,this);this.ep.splice(h,1);R.parent=null;this.BR.removeChild(R.M)};
hd.prototype.z__=function(){return this.ep.length};hd.prototype.xm=function(){for(var h=0;h<this.ep.length;
h++)this.ep[h].xm()};hd.prototype.zWn=function(h){this.fv(h);this.vL.appendChild(this.Ih);this.Iu=h.currentTarget.PN;
this.Ih.appendChild(this.Iu);var R=h.currentTarget.fF(),d="";if(R.x!=0)d+="width : "+R.x+"px;";if(R.y!=0)d+="height: "+R.y+"px;";
this.Ih.setAttribute("style",d);this.Bk(this.Hl,this.om)};hd.prototype.fv=function(h){this.xm();if(this.Iu){this.vL.removeChild(this.Ih);
this.Ih.removeChild(this.Iu);this.Iu=null}};hd.prototype.Ro=function(){this.M.setAttribute("style","width: "+this.Be+"px; padding-left:3px; cursor:ew-resize;")};
hd.prototype.Ur=function(h){this.Ro();this.fv();for(var R=0;R<this.ep.length;R++)this.ep[R].Ur();zc.prototype.Ur.call(this,h)};
hd.prototype.collapse=function(h){this.M.removeAttribute("style");for(var R=0;R<this.ep.length;R++)this.ep[R].collapse();
zc.prototype.collapse.call(this,h)};hd.prototype.Bk=function(h,R){this.Hl=h;this.om=R;var d=this.ep.length,L=this.RK();
R-=6;if(d==0)return;h=this.Be;var $=R;for(var W=0;W<d-1;W++){var M=this.ep[W],x=M.zSv();M.Bk(h,L?x:R);
$-=x}this.ep[d-1].Bk(h,L?$:R)};function t_(h){uD.call(this);this.M=e.X("div");this.BR=null;this.L$=0;
this.Lv=0;this.zOG=h;this.zBS=this.sn.bind(this);this.zOx=this.xT.bind(this);this.zOR=this.GL.bind(this);
this.uZ=null;this.IB=null;this.vJ=null;e.Xh(this.M,this.zBS);var R=this.M,L="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
R.addEventListener("touchmove",e.uz,!1);this.zm_=!0;this.Qm=[];var d=this.zgA=e.X("div");d.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.M.appendChild(d);var $=["<img style=\"height:22px; cursor:pointer;\" title=\"Try Cartoon Animator!\" src=\"img/cta.png\" />",[0,13,3],[0,13,4],[0,13,5],"Blog","API",L+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",L+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var W=0;W<$.length;W++){var M=new uA($[W]);this.Qm.push(M);M.M.setAttribute("style","margin-left:4px;cursor:pointer;");
M.A("click",this.fC,this)}}t_.prototype=new uD;t_.prototype.o=function(){var h=this.zgA;e.dM(h);for(var R=0;
R<this.Qm.length;R++){var d=this.Qm[R];d.o();var L=Date.now()<1580658412982&&!uI.pp();if(R!=0||L)h.appendChild(d.M)}};
t_.prototype.fC=function(h){var R=this.Qm.indexOf(h.currentTarget);if(R==1){if(window.showCap)window.showCap();
return}var d="CTA  issues learn blog api twitter facebook".split(" "),L="//bit.ly/34sCf9r  //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //twitter.com/photopeacom //www.facebook.com/photopea/".split(" "),$=window.ga;
if($)$("send","event","Links",d[R]);var W=new X(e.E.Z,!0);W.data={c:e.j.nR,link:L[R]};this.R(W)};t_.prototype.sn=function(h){if(h.zqj){h.preventDefault();
h.stopPropagation()}var R=window;e.rh(R,this.zOx);e.rw(R,this.zOR);R=this.BR;this.uZ=new kY(parseInt(R.style.left),parseInt(R.style.top));
this.IB=e.sA(h,this.M);this.vJ=R.getBoundingClientRect()};t_.prototype.xT=function(h){var R=e.sA(h,this.M),d=this.uZ.x+R.x-this.IB.x,L=this.uZ.y+R.y-this.IB.y,$=this.L$-this.vJ.width,W=this.Lv-this.vJ.height;
if(this.zOG)this.BR.style.left=Math.min(0,Math.max($,d))+"px";else this.BR.style.top=Math.min(0,Math.max(W,L))+"px";
if(d-10>0){this.IB.x=R.x-10;this.uZ.x=0}if(d+10<$){this.IB.x=R.x+10;this.uZ.x=$}};t_.prototype.GL=function(h){var R=window;
e.yK(R,this.zOx);e.fO(R,this.zOR)};t_.prototype.z_R=function(h){if(this.BR){this.M.removeChild(this.BR)}this.BR=h;
this.M.appendChild(h);h.style.position="absolute";if(this.zOG)h.style.left=0;else h.style.top=0};t_.prototype.Bk=function(h,R){this.L$=h;
this.Lv=R;this.M.setAttribute("style","width: "+h+"px; height: "+R+"px; overflow:hidden; white-space: nowrap;");
var d=this.BR.firstChild,L=this.zgA,$=d?d.firstChild.getBoundingClientRect().width+80:1e9,W=450,M=this.zm_&&h>$+W,x=e.yk,t=x("b`bRH"),g=x("SU\\VOAV");
L[t][g]=M?"":x("][WK")};function zY(){uD.call(this);this.Nt=null;this.Ho=zY.IF;this.zgQ="";this.M=e.X("div","rightbar");
this.pD=[new hd(380),new hd(265)];this.ep=[new Wb,new Wb,new Wb,new Wb,new Wb];this.zgy=[]}zY.prototype=new uD;
zY.prototype.o=function(){var h=this.Ho;for(var R=0;R<h.length;R++)h[R]._z.o()};zY.IF=[{_z:new hT,HI:2},{_z:new ul,HI:3},{_z:new zn,HI:1},{_z:new tG(!0),HI:4},{_z:new tT,HI:0},{_z:new zj,HI:2},{_z:new M$,HI:4},{_z:new zo,HI:4},{_z:new tp,HI:2},{_z:new tV,HI:0},{_z:new zR,HI:2},{_z:new WO,HI:1},{_z:new tX,HI:3},{_z:new b_,HI:2},{_z:new tG(!1),HI:4},{_z:new zJ,HI:1},{_z:new Ma,HI:4},{_z:new Wd,HI:2},{_z:new MN,HI:0}];
zY.prototype.z_s=function(h){for(var R=0;R<h.length;R++){var d=h[R],L=new MC(d);this.Ho.push({_z:L,HI:2});
this.zgy.push(L.RE)}this.VN()};zY.prototype.Nk=function(h,R){this.Nt=h;var d=this.Ho;for(var L=0;L<d.length;
L++)d[L]._z.Nk(h,R);if(R==uh.gH||R==uh.QU)this.VN()};zY.prototype.Bk=function(h,R){this.Hl=h;this.om=R;
this.pD[0].Bk(h,R);this.pD[1].Bk(h,R)};zY.prototype.VN=function(){var h=this.Nt,R=this.Hl;if(h==null||R==0)return;
var d=h.Qh.concat(this.zgy);if(JSON.stringify(d)!=this.zgQ){this.zgQ=JSON.stringify(d);e.dM(this.M);
var L=[];for(var $=0;$<this.pD.length;$++){var W=this.pD[$];L[$]=W.RK();while(W.z__()!=0)W.z_p(0);W.Ur()}var M=[];
for(var $=0;$<this.ep.length;$++){var x=this.ep[$];x.Ur();while(x.zwQ()!=0)x.iL(0);M.push(0)}for(var $=0;
$<d.length;$++){var t=this.zhV(d[$].toString());this.ep[t.HI].i$(t._z);this.ep[t.HI].DO(0);M[t.HI]++}var g=[];
for(var $=0;$<M.length;$++){if(M[$]==0)continue;var r=$<2||R<500?1:0,W=this.pD[r];W.parent=this;W.z_q(this.ep[$]);
g[r]=!0}for(var $=0;$<this.pD.length;$++)if(g[$])this.M.appendChild(this.pD[$].M);this.pD[0].collapse();
if(R<500||this.Nt.compact||!L[1]){this.pD[1].collapse()}var l=new X(e.E.Z,!0);l.data={c:e.j.dc};this.R(l)}};
zY.prototype.zhV=function(h){for(var R=0;R<this.Ho.length;R++)if(this.Ho[R]._z.RE==h)return this.Ho[R]};
zY.prototype.z_f=function(h){var R=this.zhV(h);this.ep[R.HI].i$(R._z)};zY.prototype.GA=function(h,R,d){var L=this.Ho;
for(var $=0;$<L.length;$++)L[$]._z.GA(h,R,d)};zY.prototype.pf=function(h,R,d,L,$){var W=this.Ho;for(var M=0;
M<W.length;M++)W[M]._z.pf(h,R,d,L,$)};zY.prototype.yn=function(h,R,d,L,$){var W=this.Ho;for(var M=0;
M<W.length;M++)W[M]._z.yn(h,R,d,L,$)};zY.prototype.WL=function(h,R,d,L,$){var W=this.Ho;for(var M=0;
M<W.length;M++)W[M]._z.WL(h,R,d,L,$)};function bn(h,R){zc.call(this,"toolbar");this.zgY=null;this.UH=e.X("div","tools");
this.M.appendChild(this.UH);this.uO=null;this.zqm=R;this.Ac=null;this.Kj=null;this.Mq=null;this.YW=null;
this.LH=null;this.zbH(h);this.Ch=new zz;this.Ch.A(e.E.l,this.ye,this);this.Ch.parent=this;this._W=new zz;
this._W.A(e.E.l,this.ye,this);this._W.parent=this;this.ew=new uA(e.XW("lrs/mask"),!1,[6,6,1]);this.ew.M.style.marginTop="6px";
this.ew.A("click",function(L){var $=new X(e.E.Q,!0);$.L=s.GD;$.data={c:"qmask"};this.R($)},this);this.vT=e.X("span","scont");
this.ID=e.X("button","switch");this.ID.textContent="\u21F5";this.Bi=e.X("button","switch");this.Bi.textContent="D";
var d=this.zGt.bind(this);this.ID.addEventListener("click",d,!1);this.Bi.addEventListener("click",d,!1);
this.vT.appendChild(this.ID);this.vT.appendChild(this.Bi)}bn.prototype=new zc;bn.prototype.z_o=function(h,R){this.Ac=R;
if(h==null||h.f.length==0)return;var d=h.ew()!=null,L=h.F.ro,$=h._[h.f[0]].GJ,W=$==1||$==3||d||L[0]+L[1]+L[2]==1;
this.Ch.zdU(W);this._W.zdU(W);this.ew.b(d)};bn.prototype.zbH=function(h){this.zgY=h;this.Mq=[];this.YW=[];
this.LH=[];this.Kj=[];var R=h.yf;if(this.uO){var d=[],L=this.uO.zGx;for(var $=0;$<R.length;$++){if(R[$]=="---"){d.push("---");
continue}var W=[];for(var M=0;M<R[$].length;M++){var x=R[$][M];if(L==null||L.indexOf(parseInt(x.L.id))!=-1)W.push(x)}if(W.length>0)d.push(W)}R=d}for(var $=0;
$<R.length;$++){if(R[$]=="---"){this.LH.push(null);this.YW.push("---");continue}var t=[],g=this.Mq.length;
for(var M=0;M<R[$].length;M++){var x=R[$][M].L;this.Kj.push(x);var r=new tO(x.name,h.keys[$],x.$t,this.Mq.length,$,R[$].length>1);
this.Mq.push(r);if(M==0)this.YW.push(r);r.A(e.E.l,this.kk,this);r.A("mover",this.OV,this);t.push({name:x.name,Mz:x.$t,sv:h.keys[$]?h.keys[$].WO:""})}if(t.length==1)this.LH.push(null);
else{var l=new MQ(t);l.zqQ=g;l.Nj=$;this.LH.push(l);l.A("select",this.z_v,this);l.parent=this}}};bn.prototype.Bk=function(h,R){var d=R-11,L=32;
if(1<e.p()&&e.p()<1.5)L=18+14*(1/e.p());var $=(this.YW.length-3)*L+3*5+61+18,W=Math.min(1,d/$);if(.75<=W){this.UH.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+W+","+W+");");
this.M.setAttribute("style","height:"+(R-2)+"px; overflow:hidden")}else{d-=4;this.UH.setAttribute("style","height: "+d+"px;  width:"+Math.ceil($/d)*34+"px");
this.M.setAttribute("style","")}};bn.prototype.o=function(){for(var h=0;h<this.Mq.length;h++)this.Mq[h].o();
for(var h=0;h<this.LH.length;h++)if(this.LH[h])this.LH[h].o();this.ID.setAttribute("title",uP.get([22,7,0])+" (X)");
this.Bi.setAttribute("title",uP.get([22,7,1])+" (D)")};bn.prototype.kk=function(h){var R=new X(e.E.Z,!0);
R.data={c:e.j.uA,L:this.Kj[h.id].id};this.R(R)};bn.prototype.z_v=function(h){var R=h.target.zqQ+h.target.Ir()[0];
this.Mq[R].GL(null)};bn.prototype.OV=function(h){var R=this.Ac,d=new X(e.E.Z,!0);d.data={c:e.j.AM};this.R(d);
var L=h.target,$=this.LH[L.Nj];if($==null)return;var W=L.M.getBoundingClientRect(),d=new X(e.E.Z,!0);
d.data={c:e.j.eN,_z:$,x:W.left+W.width+8,y:W.top};if(R==null||!(R.u(m.Ap)||R.u(m.Is)))this.R(d)};bn.prototype.ye=function(h){var R=new X(e.E.Z,!0);
R.data={c:e.j.nY,Ns:uh.Pf,Ek:h.target==this.Ch?0:1,a:h.target.gy()};this.R(R)};bn.prototype.zGt=function(h){var R=new X(e.E.Z,!0);
R.data={c:e.j.nY,Ns:uh.Pf,Ek:h.currentTarget==this.ID?2:3};this.R(R)};bn.prototype.yX=function(h){var R=-1;
for(var d=0;d<this.Kj.length;d++)if(this.Kj[d].id==h)R=d;for(var d=0;d<this.Mq.length;d++){var L=this.Mq[d];
L.zGE(R==d)}if(R==-1)return;this.YW[this.Mq[R].Nj]=this.Mq[R];e.dM(this.UH);var $=this.YW;for(var d=0;
d<$.length;d++){if($[d]=="---")this.UH.appendChild(e.X("hr"));else this.UH.appendChild($[d].M)}if(!this.zqm)return;
this.UH.appendChild(this.Ch.M);this.UH.appendChild(this.vT);this.UH.appendChild(this._W.M);this.UH.appendChild(this.ew.M)};
bn.prototype.GA=function(h,R){this.yX(R.KJ)};bn.prototype.Nk=function(h,R){this.uO=h;if(R==uh.QU){this.zbH(this.zgY);
this.yX(h.KJ)}this.Ch.rt(h.Ch);this._W.rt(h._W)};function tO(h,R,d,L,$,W){uD.call(this);this.gC=0;this.zqK=this.zGh.bind(this);
this.Nj=$;this.Hn=L;this.xk=h;this.zIG=R;this.zqn=W;this.$t=d;this.M=e.X("button","");this.M.innerHTML=e.XW(this.$t);
if(this.zqn){var M=e.X("img","gsicon");M.setAttribute("src",PIMG["tools/corner"]);M.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.M.appendChild(M)}this.o();e.Xh(this.M,this.sn.bind(this));this.M.addEventListener("click",this.GL.bind(this),!1);
this.M.addEventListener("contextmenu",tO.dy,!1)}tO.prototype=new uD;tO.dy=function(h){h.stopPropagation();
h.preventDefault();return!1};tO.prototype.o=function(){var h=this.zIG?" ("+this.zIG.WO+")":"";this.M.setAttribute("title",uP.get(this.xk)+h)};
tO.prototype.sn=function(h){this.gC=setTimeout(this.zqK,160)};tO.prototype.GL=function(h){clearTimeout(this.gC);
var R=new X(e.E.l,!1);R.target=this;R.id=this.Hn;this.R(R)};tO.prototype.zGh=function(h){var R=new X("mover",!1);
R.target=this;R.id=this.Hn;this.R(R)};tO.prototype.zGE=function(h){this.M.setAttribute("class",h?"toolbtn active":"toolbtn")};
function WJ(){uD.call(this);this.M=e.X("div","topbar");this.Bj=e.X("span","");this.zIT=0;this.M.appendChild(this.Bj);
this.Uf=null;this.vH=null;this.rF=[];this.Qh=[];var h=this.sn.bind(this);for(var R=0;R<WJ.data.length;
R++){var d=e.X("button");this.rF.push(d);this.Bj.appendChild(d);d.addEventListener("mouseover",h,!1);
e.Xh(d,h)}this.SI=new uA([0,13,0],!1,null,!0);this.SI.A("click",this.zFz,this);this.M.appendChild(this.SI.M);
this.Ip=new uA(e.XW("tools/zoom",null,"autoscale"),!1,[12,86]);this.Ip.A("click",this.zFz,this);this.M.appendChild(this.Ip.M)}WJ.prototype=new uD;
WJ.prototype.zqI=function(){if(this.Qh.length!=0)return;for(var h=0;h<WJ.data.length;h++){var R=WJ.data[h],d=new MQ(R.items,R.hz);
d.parent=this;this.Qh.push(d)}this.o()};WJ.prototype.o=function(){this.SI.o();this.Ip.o();for(var h=0;
h<this.rF.length;h++)this.rF[h].textContent=uP.get(WJ.data[h].name);this.zFw();for(var h=0;h<this.Qh.length;
h++)this.Qh[h].o()};WJ.prototype.zFz=function(h){var R=new X(e.E.Z,!0);if(h.target==this.SI)R.data={c:e.j.pY,DN:"account"};
else R.data={c:e.j.OI};this.R(R)};WJ.prototype.zGe=function(h,R){this.Uf=h;this.vH=R};WJ.prototype.Nk=function(h,R){this.vH=h;
if(R==uh.QU){var d=h.zBq;e.dM(this.Bj);for(var L=0;L<this.rF.length;L++){if(d==null||d[L]==1||d[L]instanceof Array)this.Bj.appendChild(this.rF[L]);
if(d!=null&&d[L]instanceof Array){this.zqI();this.Qh[L].zgL(d[L])}}this.M.removeChild(this.SI.M);this.M.removeChild(this.Ip.M);
if(h.SF)this.M.appendChild(this.SI.M);this.M.appendChild(this.Ip.M)}this.zFw()};WJ.prototype.zFw=function(h,R){var d=this.SI,L=12255232;
if(uI.LU())L=uI.pp()?43520:16755200;d.M.setAttribute("style","color:#ffffff; background-color:#"+z.zJ(L))};
WJ.prototype.sn=function(h){this.zqI();var R=this.rF.indexOf(h.currentTarget),d=this.Qh[R];if(h.type=="mouseover"&&!e.Rn(this.Qh[this.zIT].M))return;
if(e.Rn(d.M))return;h.zqj=!0;this.zIT=R;for(var R=0;R<WJ.data.length;R++)this.Qh[R].update(this.Uf,this.vH);
var L=h.target.getBoundingClientRect(),$=new X(e.E.Z,!0);$.data={c:e.j.eN,_z:d,x:L.left,y:L.top+L.height+2,zbc:!0};
this.R($)};WJ.zdb=function(h){var R={name:[0,5],items:[{name:[7,0],sv:"Ctrl+A"},{name:[7,1],sv:"Ctrl+D",n:function(L){return{n:L!=null&&L.z!=null}}},{name:[7,2],sv:"Shift+Ctrl+I",n:function(L){return{n:L!=null&&L.z!=null}},OC:!0},{name:[7,11],eZ:!0,n:function(L){return{n:L!=null&&L.f.length!=0&&!L._[L.f[0]].rect.dp()}}},{name:"Magic Cut",eZ:!0,n:function(L){return{n:L!=null&&L.f.length!=0&&!L._[L.f[0]].rect.dp()}},OC:!0},{name:[7,8],eZ:!0},{name:[7,3],OC:!0,sub:[{name:[7,9],eZ:!0,n:function(L){return{n:L!=null&&L.z!=null}}},{name:[19,3,0],eZ:!0,n:function(L){return{n:L!=null&&L.z!=null}}},{name:[7,4],eZ:!0,n:function(L){return{n:L!=null&&L.z!=null}}},{name:[7,5],eZ:!0,n:function(L){return{n:L!=null&&L.z!=null}}},{name:[7,6],eZ:!0,n:function(L){return{n:L!=null&&L.z!=null}},sv:"Shift+F6"}]},{name:[7,10],n:function(L){return{n:L!=null&&L.z!=null}}}],hz:[{m:e.E.nN,g:s.dS.HY(!0)},{m:e.E.nN,g:s.dS.HY()},{m:e.E.nN,g:{Mh:"inverse"}},{m:e.E.Z,g:{c:e.j.pY,DN:"redge"}},{m:e.E.Z,g:{c:e.j.pY,DN:"magiccut"}},{m:e.E.Z,g:{c:e.j.pY,DN:"crange"}},{sub:[{m:e.E.Z,g:{c:e.j.pY,DN:"sel_border"}},{m:e.E.Z,g:{c:e.j.pY,DN:"sel_smoothness"}},{m:e.E.Z,g:{c:e.j.pY,DN:"sel_expand"}},{m:e.E.Z,g:{c:e.j.pY,DN:"sel_contract"}},{m:e.E.Z,g:{c:e.j.pY,DN:"sel_feather"}}]},{m:e.E.Z,g:{c:e.j.uA,L:s.R_}}]};
if(h){var d=R.items.length-1;R.items.splice(d,0,{name:[10,16],sv:"Alt+Ctrl + T"});R.hz.splice(d,0,{m:e.E.Z,g:{c:e.j.uA,L:s.ON}})}return R};
WJ.data=[{name:[0,0],items:[{name:[5,3],sv:"Alt+Ctrl+N",title:[11,7],eZ:!0},{name:[1,0],sv:"Ctrl+O",eZ:!0},{name:[1,11],eZ:!0,n:function(h,R){return{n:h!=null}}},{name:[1,5],eZ:!0,OC:!0},{name:[11,0]},{name:[1,1],OC:!0,sub:[{name:"PNG",sv:"Imgur.com",n:function(h,R){return{n:h!=null&&R.lJ}}},{name:"PSD",sv:"Photopea.com",n:function(h,R){return{n:h!=null&&R.lJ}}}]},{name:"Save ...",sv:"Ctrl+S",n:function(h,R){var d=uP.get([1,2])+(h==null?"":h.Zk?" (Smart Object)":h.nA?" (Google Drive)":"");
return{n:h!=null&&(h.Zk!=null||h.nU!=null&&h.nU.gZ!=null||h.nA!=null||R.NL.save!=null),Zz:d}}},{name:[1,3],n:function(h,R){return{n:h!=null&&R.lJ}}},{name:[1,8],sub:function(){var h=ud.rW(0),R=[];
for(var d=0;d<h.length;d++)R.push({name:h[d],sv:"."+h[d].toLowerCase()});R.push({name:[0,14],sub:function(){var h=ud.rW(1),R=[];
for(var d=0;d<h.length;d++)R.push({name:h[d],sv:"."+h[d].toLowerCase()});return R}()});return R}()},{name:[1,9],eZ:!0,n:function(h,R){return{n:h!=null}},OC:!0},{name:"File Info",eZ:!0,n:function(h,R){return{n:h!=null}},OC:!0,sv:"Alt+Shift+Ctrl+I"},{name:[1,10]}],hz:[{m:e.E.Z,g:{c:e.j.pY,DN:"newproject"}},{m:e.E.Z,g:{c:e.j.kH}},{m:e.E.Z,g:{c:e.j.kH,zG_:!0}},{m:e.E.Z,g:{c:e.j.pY,DN:"open_from_url"}},{m:e.E.Z,g:{c:e.j.pY,DN:"camera"}},{sub:[{m:e.E.Z,g:{c:e.j.AE,f_:"png"}},{m:e.E.Z,g:{c:e.j.AE,f_:"psd"}}]},{m:e.E.Z,g:{c:e.j.kf}},{m:e.E.Z,g:{c:e.j.yb}},{sub:function(){var h=ud.rW(0),R=[];
for(var d=0;d<h.length;d++)R.push({m:e.E.Z,g:{c:e.j.pY,DN:"saveforweb",f_:d}});R.push({sub:function(){var L=ud.rW(0).length,h=ud.rW(1),R=[];
for(var d=0;d<h.length;d++)R.push({m:e.E.Z,g:{c:e.j.pY,DN:"saveforweb",f_:L+d}});return R}()});return R}()},{m:e.E.Z,g:{c:e.j.pY,DN:"eassets"}},{m:e.E.Z,g:{c:e.j.pY,DN:"finfo"}},{m:e.E.Z,g:{c:e.j.pY,DN:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],sv:"Shift+Ctrl + Z"},{name:[2,1],sv:"Ctrl + Z",OC:!0},{name:[2,11],sv:"Shift+Ctrl + F",OC:!0,eZ:!0,n:function(h,R){return{n:he.zzX(h)&&R.KJ!=s.ON}}},{name:[5,0],sv:"Ctrl + X"},{name:[5,1],sv:"Ctrl + C"},{name:[5,7],sv:"Shift + Ctrl + C"},{name:[5,2],sv:"Ctrl + V",n:function(h,R){return{n:window.ClipboardItem||R.Mg!=null||R.lU!=null||R.zms!=null}}},{name:[2,2],n:function(h){return{n:h!=null&&h.z!=null}},sv:"Delete",OC:!0},{name:[2,3],n:function(h){return{n:h!=null}},eZ:!0,sv:"Shift + F5"},{name:[14,9],n:function(h){return{n:h!=null}},eZ:!0,OC:!0},{name:[10,46],n:function(h){return{n:s.Lk.ztu(h)}}},{name:[10,16],sv:"Alt+Ctrl + T"},{name:[2,4],sub:Bz.zhy()},{name:[2,10],OC:!0},{name:[12,87],sub:[{name:[12,62],n:function(h){return{n:h!=null}}},{name:[9,3],n:function(h){return{n:h!=null}}},{name:[10,31],n:function(h){return{n:h!=null&&h.f.length!=0&&h._[h.f[0]].add.vmsk!=null}}}]},{name:[12,79],eZ:!0,sv:"Ctrl + K"},{name:[1,13],eZ:!0}],hz:[{m:e.E.Q,L:s.HX,g:{c:"h_undoredo"}},{m:e.E.Q,L:s.HX,g:{c:"h_stepfwd"}},{m:e.E.Q,L:s.HX,g:{c:"h_stepbck"}},{m:e.E.Z,g:{c:e.j.pY,DN:"afw_fade"}},{m:e.E.Z,g:{c:e.j.Aj}},{m:e.E.Z,g:{c:e.j.ub}},{m:e.E.Z,g:{c:e.j.ub,Rl:!0}},{m:e.E.Z,g:{c:e.j.n$}},{m:e.E.nN,g:{Mh:"delete"}},{m:e.E.Z,g:{c:e.j.pY,DN:"fill"}},{m:e.E.Z,g:{c:e.j.pY,DN:"stroke"}},{m:e.E.Q,L:s.nj,g:{c:"start",jY:"\0\0\x03\x82"}},{m:e.E.Z,g:{c:e.j.uA,L:s.ON}},{sub:Bz.zbf()},{m:e.E.Q,L:s.br,g:{c:S.zSs}},{sub:[{m:e.E.Z,g:{c:e.j.EB,Ns:0}},{m:e.E.Z,g:{c:e.j.EB,Ns:1}},{m:e.E.Z,g:{c:e.j.EB,Ns:2}}]},{m:e.E.Z,g:{c:e.j.pY,DN:"preferences"}},{m:e.E.Z,g:{c:e.j.pY,DN:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var h=[];
for(var R in uJ.names){h.push({name:uJ.names[R],eZ:Y[R]!=null,sv:m.zbB(uJ.keys[R]),OC:uJ.zWQ.indexOf(R)!=-1});
if(R=="selc")h.push({name:[19,7,0],sv:"Ctrl+Shift + U"})}return h}()},{name:[4,16,0],n:function(h){return{n:h!=null&&h.wI(!1)}}},{name:[4,16,1],n:function(h){return{n:h!=null&&h.wI(!1)}}},{name:[4,16,2],n:function(h){return{n:h!=null&&h.wI(!1)}},OC:!0},{name:[11,11],n:function(h){return{n:h!=null&&h.wI(!1)}},OC:!0},{name:[11,3],eZ:!0,sv:"Alt+Ctrl+C"},{name:[11,10],eZ:!0,sv:"Alt+Ctrl+I"},{name:[2,4],sub:[{name:"90\xB0 \u21BB",n:function(h){return{Zz:uP.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",n:function(h){return{Zz:uP.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",n:function(h){return{Zz:uP.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]},{name:[11,12,1],n:function(h){return{n:h!=null&&h.z!=null}}},{name:[11,12,0],n:function(h){return{n:h!=null}},sv:"Ctrl + ."},{name:[11,12,2],n:function(h){return{n:h!=null}}}],hz:[{sub:function(){var h=[];
for(var R in uJ.names){h.push({m:e.E.Q,L:s.Vl,g:{c:"start",tC:R}});if(R=="selc")h.push({m:e.E.nN,g:{Mh:"desaturate"}})}return h}()},{m:e.E.nN,g:{Mh:"levels",QZ:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{m:e.E.nN,g:{Mh:"levels",QZ:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{m:e.E.nN,g:{Mh:"levels",QZ:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{m:e.E.Z,g:{c:e.j.pY,DN:"vbitmap"}},{m:e.E.Z,g:{c:e.j.pY,DN:"csize"}},{m:e.E.Z,g:{c:e.j.pY,DN:"isize"}},{sub:[{m:e.E.nN,g:s.w.OT(!0,90)},{m:e.E.nN,g:s.w.OT(!0,-90)},{m:e.E.nN,g:s.w.OT(!0,-180)},{m:e.E.nN,g:s.w.OT(!1,"Hrzn")},{m:e.E.nN,g:s.w.OT(!1,"Vrtc")}]},{m:e.E.Q,L:s.AX,g:{c:"cropbysel",zdr:0}},{m:e.E.nN,g:s.hu.jK(0)},{m:e.E.nN,g:{Mh:"revealAll",QZ:{classID:"RvlA"}}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],sv:"Ctrl + J"}]},{name:[6,0],sv:"Ctrl + J"},{name:[11,4],n:function(h){return{n:h!=null}}},{name:[5,4],OC:!0},{name:[11,6],OC:!0,n:function(h){return{n:h!=null&&h.f.length!=0}},sub:WR.zMI(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],OC:!0,sub:WR.zMy()},{name:[6,2],sub:[{name:[6,4],n:function(h){return{n:h!=null&&h.f.length!=0&&h._[h.f[0]].rc()==null}}},{name:[6,5,0],n:function(h){return{n:h!=null&&h.f.length!=0&&h._[h.f[0]].rc()==null}}},{name:[6,5,1],n:function(h){return{n:h!=null&&h.f.length!=0&&h._[h.f[0]].rc()==null&&h.z!=null}}},{name:[6,5,2],n:function(h){return{n:h!=null&&h.f.length!=0&&h._[h.f[0]].rc()==null&&h.z!=null}}},{name:[6,5,3],n:function(h){return{n:h!=null&&h.f.length!=0&&h._[h.f[0]].rc()==null}},OC:!0},{name:[5,4],n:function(h){return{n:h!=null&&h.f.length!=0&&h._[h.f[0]].rc()!=null}}},{name:[5,8],n:function(h){return{n:h!=null&&h.f.length!=0&&h._[h.f[0]].rc()!=null&&h.wI(!1,!0)}}},{name:"Enable/Disable",n:function(h){return{Zz:uP.get([5,5])+"/"+uP.get([5,6]),n:h!=null&&h.f.length!=0&&h._[h.f[0]].rc()!=null}}}]},{name:[6,3],sub:[{name:[6,4],n:function(h){return{n:h!=null&&h.f.length!=0&&h._[h.f[0]].add.vmsk==null}}},{name:[6,5,0],n:function(h){return{n:h!=null&&h.f.length!=0&&h._[h.f[0]].add.vmsk==null}}},{name:[5,4],n:function(h){return{n:h!=null&&h.f.length!=0&&h._[h.f[0]].add.vmsk!=null}}},{name:"Enable/Disable",n:function(h){return{Zz:uP.get([5,5])+"/"+uP.get([5,6]),n:h!=null&&h.f.length!=0&&h._[h.f[0]].add.vmsk!=null}}}]},{name:[6,6,0],sv:"Alt+Ctrl+G",OC:!0,n:function(h){return{fz:h!=null&&h.f.length!=0&&h._[h.f[0]].Dj,n:h!=null&&h.rJ(h.f[0])}}},{name:"Smart Object",OC:!0,sub:[{name:[6,7]},{name:[1,0],n:function(h){return{n:h!=null&&h.f.length!=0&&h._[h.f[0]].add.SoLd!=null}}}]},{name:[6,8],n:function(h){if(h==null||h.f.length==0)return{n:!1};
var R=h._[h.f[0]];if(R.add.TySh||R.add.SoLd||R.add.SoCo||R.add.GdFl||R.add.PtFl)return{n:!0};return{n:!1}}},{name:[6,34],OC:!0,n:function(h){if(h==null||h.f.length==0)return{n:!1};
var R=h._[h.f[0]];return{n:R.add.lmfx!=null&&!R.If()}}},{name:[6,9],OC:!0,sv:"Ctrl+G"},{name:[6,55],OC:!0,sub:[{name:[6,56,0],sv:"Shift+Ctrl+]"},{name:[6,56,1],sv:"Ctrl+]"},{name:[6,56,2],sv:"Ctrl+["},{name:[6,56,3],sv:"Shift+Ctrl+["}]},{name:"Animation",sub:[{name:[18,5]}]},{name:[6,10],n:function(h){return{n:h!=null&&h.f.length==1&&h.f[0]!=0&&!h._[h.f[0]].If()}},sv:"Ctrl+E"},{name:[6,12,0],n:function(h){return{n:h!=null&&h.f.length!=0&&(h.f.length>1||h._[h.f[0]].If())}}},{name:[6,12,1]}],hz:[{sub:[{m:e.E.Q,L:s.br,g:{c:S.O_}},{m:e.E.Q,L:s.br,g:{c:S.rB}},{m:e.E.Q,L:s.br,g:{c:S.M$}}]},{m:e.E.Q,L:s.br,g:{c:S.OP}},{m:e.E.Z,g:{c:e.j.pY,DN:"duplinto"}},{m:e.E.Q,L:s.br,g:{c:S.Ot}},{sub:WR.zML(!0)},{sub:[{m:e.E.Q,L:s.Ru,g:{c:"newfill",cP:0}},{m:e.E.nN,g:s.gn._v(1)},{m:e.E.nN,g:s.gn._v(2)}]},{sub:WR.zMf()},{sub:[{m:e.E.Q,L:s.br,g:{c:S.ed,Km:"RvlA"}},{m:e.E.Q,L:s.br,g:{c:S.ed,Km:"HdAl"}},{m:e.E.Q,L:s.br,g:{c:S.ed,Km:"RvlS"}},{m:e.E.Q,L:s.br,g:{c:S.ed,Km:"HdSl"}},{m:e.E.Q,L:s.br,g:{c:S.ed,Km:"Trns"}},{m:e.E.Q,L:s.br,g:{c:S.Qe}},{m:e.E.Q,L:s.br,g:{c:S.DX}},{m:e.E.Q,L:s.br,g:{c:S.tg}}]},{sub:[{m:e.E.Q,L:s.br,g:{c:S.tR,zEe:!1}},{m:e.E.Q,L:s.br,g:{c:S.tR,zEe:!0}},{m:e.E.Q,L:s.br,g:{c:S.Qi}},{m:e.E.Q,L:s.br,g:{c:S.QF}}]},{m:e.E.Q,L:s.br,g:{c:S.Mn}},{sub:[{m:e.E.nN,g:{Mh:"newPlacedLayer"}},{m:e.E.nN,g:{Mh:"placedLayerEditContents",QZ:{classID:"placedLayerEditContents"}}}]},{m:e.E.nN,g:{Mh:"rasterizeLayer",QZ:{classID:"rasterizeLayer",null:tQ.sx("Lyr",!0)}}},{m:e.E.Q,L:s.br,g:{c:S.DU}},{m:e.E.Q,L:s.br,g:{c:S.FW}},{sub:[{m:e.E.Q,L:s.br,g:{c:S.MO,Ek:0}},{m:e.E.Q,L:s.br,g:{c:S.MO,Ek:1}},{m:e.E.Q,L:s.br,g:{c:S.MO,Ek:2}},{m:e.E.Q,L:s.br,g:{c:S.MO,Ek:3}}]},{sub:[{m:e.E.Q,L:s.br,g:{c:S.zqy}}]},{m:e.E.Q,L:s.br,g:{c:S.tN}},{m:e.E.Q,L:s.br,g:{c:S.Bc}},{m:e.E.nN,g:{Mh:"flattenImage"}}]},WJ.zdb(!1),function(){var h={name:[0,6],items:[{name:[24,18,4],sv:"Alt + Ctrl + F",OC:!0}],hz:[{m:e.E.Q,L:s.nj,g:{c:"applylast"}}]};
for(var R=0;R<u$.zr.length;R++){var d=u$.zr[R];if(d.ke!=null){h.items.push({name:u$.names[d.ke],eZ:!0,OC:d.OC});
h.hz.push({m:e.E.Q,L:s.nj,g:{c:"start",jY:d.ke}});continue}var L={name:d.LJ,sub:[]};h.items.push(L);
var $={sub:[]};h.hz.push($);for(var W=0;W<d.$Q.length;W++){var M={name:u$.names[d.$Q[W]],eZ:u$.hx(d.$Q[W])!=null};
L.sub.push(M);var x={m:e.E.Q,L:s.nj,g:{c:"start",jY:d.$Q[W]}};$.sub.push(x)}}return h}(),{name:[0,7],items:[{name:[8,0],sv:"Ctrl + +"},{name:[8,1],sv:"Ctrl + -"},{name:[20,3],sv:"Ctrl + 0"},{name:[20,2],sv:"Ctrl + 1",OC:!0},{name:"Extras",sv:"Ctrl + H",n:function(h,R){return{fz:R.gl}}},{name:[8,12],OC:!0,sub:[{name:[17,2],n:function(h,R){return{n:R.gl,fz:R.UU.bj}}},{name:[8,9],n:function(h,R){return{n:R.gl,fz:R.UU.bs}}},{name:[8,2],n:function(h,R){return{n:R.gl,fz:R.UU.Py}},sv:"Ctrl + ;"},{name:[8,4],n:function(h,R){return{n:R.gl,fz:R.UU.dT}},sv:"Ctrl + '"},{name:[8,8],n:function(h,R){return{n:R.gl,fz:R.UU.vY}}},{name:[8,11,0],n:function(h,R){return{n:R.gl,fz:R.UU.tj}}}]},{name:[8,3],n:function(h,R){return{fz:R.Qj}},sv:"Ctrl + R",OC:!0},{name:[8,5],n:function(h,R){return{fz:R.Yt}}},{name:[8,6],OC:!0,sub:[{name:[8,2],n:function(h,R){return{fz:R.Bp[0]}}},{name:[8,4],n:function(h,R){return{fz:R.Bp[1]}}},{name:[8,11,0],n:function(h,R){return{fz:R.Bp[3]}}},{name:[8,7],n:function(h,R){return{fz:R.Bp[4]}}}]},{name:[11,15,0],n:function(h,R){return{n:h!=null}}},{name:[11,14],n:function(h,R){return{n:h!=null}},eZ:!0},{name:[11,15,1],n:function(h,R){return{n:h!=null&&h.f.length!=0}}}],hz:[{m:e.E.Q,L:s.Gp,g:{c:"zoom",oV:!0}},{m:e.E.Q,L:s.Gp,g:{c:"zoom",oV:!1}},{m:e.E.Q,L:s.Gp,g:{c:"adapt",a:"fitscr"}},{m:e.E.Q,L:s.Gp,g:{c:"adapt",a:"pixel"}},{m:e.E.Z,g:{c:e.j.nY,Ns:uh.zw}},{sub:[{m:e.E.Z,g:{c:e.j.nY,Ns:uh.TT}},{m:e.E.Z,g:{c:e.j.nY,Ns:uh.IW}},{m:e.E.Z,g:{c:e.j.nY,Ns:uh.b_}},{m:e.E.Z,g:{c:e.j.nY,Ns:uh.T$}},{m:e.E.Z,g:{c:e.j.nY,Ns:uh.wP}},{m:e.E.Z,g:{c:e.j.nY,Ns:uh.TL}}]},{m:e.E.Z,g:{c:e.j.nY,Ns:uh.Tg}},{m:e.E.Z,g:{c:e.j.nY,Ns:uh.zWw}},{sub:[{m:e.E.Z,g:{c:e.j.nY,Ns:uh.b$,cp:0}},{m:e.E.Z,g:{c:e.j.nY,Ns:uh.b$,cp:1}},{m:e.E.Z,g:{c:e.j.nY,Ns:uh.b$,cp:3}},{m:e.E.Z,g:{c:e.j.nY,Ns:uh.b$,cp:4}}]},{m:e.E.Q,L:s._h,g:{c:"gids",RI:[[],[]]}},{m:e.E.Z,g:{c:e.j.pY,DN:"addguides"}},{m:e.E.Q,L:s._h,g:{c:"gidsFromLayer"}}]},function(){var h={name:[0,8],items:[],hz:[]};
for(var R=0;R<zY.IF.length;R++){var d=zY.IF[R];h.items.push({name:d._z.name});h.hz.push({m:e.E.Z,g:{c:e.j.nx,DN:d._z.RE}})}return h}(),function(){var h={name:[0,14],items:[],hz:[]},R={name:[0,9],sub:[]};
h.items.push(R);var d={sub:[]};h.hz.push(d);var L=uP.zMB();for(var $=0;$<L.length;$++){var W=L[$],M=W.code,x=uP.lI(M);
R.sub.push({name:W.name,sv:M,n:function(t,g){return{fz:this.sv==uP.lA()}}});d.sub.push({m:e.E.Z,g:{c:e.j.nY,Ns:uh.Tc,lang:x}})}R.sub.push({name:[0,12]});
d.sub.push({m:e.E.Z,g:{c:e.j.nR,link:"https://www.photopea.com/translate/"}});var R={name:[0,15],sub:[]};
h.items.push(R);var d={sub:[]};h.hz.push(d);for(var $=0;$<ko.IU.length;$++){R.sub.push({name:ko.IU[$].name,n:function(t,g){return{fz:this.name==ko.IU[g.$S].name}}});
d.sub.push({m:e.E.Z,g:{c:e.j.nY,Ns:uh.bR,$S:$}})}h.items.push({name:"Install Photopea",n:function(t,g){return{n:g.gV!=null}}});
h.hz.push({m:e.E.Z,g:{c:e.j.ziH}});h.items.push({name:[11,13]});h.hz.push({m:e.E.Z,g:{c:e.j.pY,DN:"shortcuts"}});
h.items.push({name:[0,16],n:function(t){return{fz:c.BG,n:c.eW}}});h.hz.push({m:e.E.Z,g:{c:e.j.zeM}});
return h}()];function bG(){uD.call(this);this.M=e.X("div","");this.L$=0;this.Lv=0;this.Nt=null;this.HI=e.X("div","");
this.HI.setAttribute("style","width:200em; height:100em; position:absolute;");this.xz=[];this.QQ=[]}bG.prototype=new uD;
bG.prototype.WM=function(){this.QQ=[new hy,new Mh,new hF,new tx,new bs,new MM,new hk,new tY,new Wo,new Mz,new BW,new zT,new tf,new Ws,new bL,new WR,new bl,new Bg,new tS,new tN,new tb,new be,new hQ,new zX,new zU,new hl,new WZ(0),new WZ(1),new Bi,new zw,new tF,new zL("border",[7,9],"px"),new zL("smoothness",[19,3,0],"px"),new zL("expand",[7,4],"px"),new zL("contract",[7,5],"px"),new zL("feather",[7,6],"px"),new to("namewindow",[12,48])];
for(var h in Y)this.QQ.push(new he(h));for(var R=0;R<this.QQ.length;R++){var d=this.QQ[R];d.A(e.E.uu,this.La,this);
d.parent=this}};bG.prototype.Bk=function(h,R){this.L$=h;this.Lv=R;for(var d=0;d<this.QQ.length;d++)this.zeP(this.QQ[d])};
bG.prototype.o=function(){for(var h=0;h<this.QQ.length;h++)this.QQ[h].o()};bG.prototype.Y_=function(){return this.xz.length==0?null:this.xz[this.xz.length-1]};
bG.prototype.TZ=function(){for(var h=0;h<this.xz.length;h++)if(this.xz[h].TZ())return!0;return!1};bG.prototype.zGG=function(h,R,d,L,$){if(this.QQ.length==0){this.WM();
this.Bk(this.L$,this.Lv);this.o();if(this.Nt)this.Nk(this.Nt,uh.QU)}var W=null;if(typeof h=="object"){W=h;
if(!W.vr(e.E.uu,this.La))W.A(e.E.uu,this.La,this);W.parent=this}else for(var M=0;M<this.QQ.length;M++)if(this.QQ[M].id==h)W=this.QQ[M];
if(this.TZ()&&W.TZ()){alert("Finish the current action first");return}if(!W.XU(R))return;if(this.xz.indexOf(W)!=-1){if(h=="colorpicker")W.GA(R,d,L,$);
return}this.zeP(W);var x=this.xz.length-1;if(x>=0)e.qH(this.xz[x].M,"wdisabled");this.M.appendChild(W.M);
this.xz.push(W);W.GA(R,d,L,$)};bG.prototype.zeP=function(h){var R=this.L$,d=this.Lv,L=h.ya(R,d);h.M.style.left=L.x+"px";
h.M.style.top=this.M.offsetTop+L.y+"px";h.Bk(this.L$-L.x*2,this.Lv-L.y*2-34)};bG.prototype.Nk=function(h,R){this.Nt=h;
for(var d=0;d<this.QQ.length;d++)this.QQ[d].Nk(h,R)};bG.prototype.La=function(h){var R=this.xz.pop();
this.M.removeChild(R.M);var d=this.xz.length-1;if(d>=0)e.HT(this.xz[d].M,"wdisabled");if(this.HI.parentNode==this.M)this.M.removeChild(this.HI)};
window.onload=function(){var h=new Wi;document.body.appendChild(h.M)}}())